/**
 * eqShow - v2.0.5.0 - 2016-01-14
 *
 *
 * Copyright (c) 2016
 * Licensed MIT <>
 */
!
function(window, angular, undefined) {
	function fallingObject(a, b) {
		function c(a) {
			a.clearRect(0, 0, k, l);
			for (var b = 0; b < o.length; b++) a.save(), a.translate(o[b].x, o[b].y), a.scale(o[b].scale, o[b].scale), a.rotate(o[b].rotate), a.fillRect(0, 0, p, p), a.restore()
		}
		function d() {
			Math.random() < .02 * h.density && f(), e()
		}
		function e() {
			for (var a = 0; a < o.length; a++) o[a].x += o[a].vx, o[a].y += o[a].vy, o[a].vy += o[a].g;
			for (var b = 0, a = 0; a < o.length; a++) o[a].y < l - p && o[a].x > -p && o[a].x < k && (o[b++] = o[a]);
			for (; o.length > b;) o.pop();
			o.length > q && (o.length = q)
		}
		function f() {
			var a = .5 * Math.random() + .3,
				b = {
					x: Math.ceil(Math.random() * k),
					y: -p,
					g: .02 * a * h.src.vy,
					vx: .05 * Math.pow(-1, Math.ceil(1e3 * Math.random())),
					vy: .01 * a * h.src.vy,
					color: "yellow",
					scale: a,
					rotate: Math.pow(-1, Math.ceil(1e3 * Math.random())) * Math.random() * (h.src.rotate || 0) * Math.PI / 180
				};
			o.push(b)
		}
		var g = a[b - 1];
		if (g.properties) {
			var h = g.properties.fallingObject || {};
			renderPage(eqShow, b, a);
			for (var i = 0; i < a[b - 1].elements.length; i++) {
				var j = eqShow.selectElement(a[b - 1].elements[i].id);
				eqxCommon.bindTrigger(j, a[b - 1].elements[i])
			}
			var k = $(".m-img").width(),
				l = $(".m-img").height(),
				m = document.createElement("canvas");
			m.width = k, m.height = l, $(m).prependTo("#page" + b + " .edit_wrapper").attr("class", "cas page_effect").attr("id", "can" + b).attr("style", "z-index: 0");
			var n = m.getContext("2d"),
				o = [],
				p = 60,
				q = 20,
				r = new Image;
			r.src = h.src.path, r.onload = function() {
				n.beginPath(), pattern = n.createPattern(r, "repeat"), n.fillStyle = pattern, n.closePath(), eqShow.stopFallingObject = setInterval(function() {
					c(n), d()
				}, 20)
			}
		}
	}
	function QR8bitByte(a) {
		this.mode = QRMode.MODE_8BIT_BYTE, this.data = a
	}
	function QRCode(a, b) {
		this.typeNumber = a, this.errorCorrectLevel = b, this.modules = null, this.moduleCount = 0, this.dataCache = null, this.dataList = new Array
	}
	function QRPolynomial(a, b) {
		if (a.length == undefined) throw new Error(a.length + "/" + b);
		for (var c = 0; c < a.length && 0 == a[c];) c++;
		this.num = new Array(a.length - c + b);
		for (var d = 0; d < a.length - c; d++) this.num[d] = a[d + c]
	}
	function QRRSBlock(a, b) {
		this.totalCount = a, this.dataCount = b
	}
	function QRBitBuffer() {
		this.buffer = new Array, this.length = 0
	}
	function RainyDay(a, b) {
		if (this === window) return new RainyDay(a, b);
		this.img = a.image;
		var c = {
			opacity: 1,
			blur: 10,
			crop: [0, 0, this.img.naturalWidth, this.img.naturalHeight],
			enableSizeChange: !0,
			parentElement: document.getElementsByTagName("body")[0],
			fps: 30,
			fillStyle: "#8ED6FF",
			enableCollisions: !0,
			gravityThreshold: 3,
			gravityAngle: Math.PI / 2,
			gravityAngleVariance: 0,
			reflectionScaledownFactor: 5,
			reflectionDropMappingWidth: 200,
			reflectionDropMappingHeight: 200,
			width: this.img.clientWidth,
			height: this.img.clientHeight,
			position: "absolute",
			top: 0,
			left: 0
		};
		for (var d in c)"undefined" == typeof a[d] && (a[d] = c[d]);
		this.options = a, this.drops = [], this.canvas = b || this.prepareCanvas(), this.prepareBackground(), this.prepareGlass(), this.reflection = this.REFLECTION_MINIATURE, this.trail = this.TRAIL_DROPS, this.gravity = this.GRAVITY_NON_LINEAR, this.collision = this.COLLISION_SIMPLE, this.setRequestAnimFrame()
	}
	function Drop(a, b, c, d, e) {
		this.x = Math.floor(b), this.y = Math.floor(c), this.r = Math.random() * e + d, this.rainyday = a, this.context = a.context, this.reflection = a.reflected
	}
	function BlurStack() {
		this.r = 0, this.g = 0, this.b = 0, this.next = null
	}
	function CollisionMatrix(a, b, c) {
		this.resolution = c, this.xc = a, this.yc = b, this.matrix = new Array(a);
		for (var d = 0; a + 5 >= d; d++) {
			this.matrix[d] = new Array(b);
			for (var e = 0; b + 5 >= e; ++e) this.matrix[d][e] = new DropItem(null)
		}
	}
	function DropItem(a) {
		this.drop = a, this.next = null
	}
	function randomRange(a, b) {
		return Math.random() * (b - a) + a
	}
	function checkBrower() {
		var a = !0;
		return navigator.userAgent.indexOf("Safari") > 0 && navigator.userAgent.indexOf("Chrome") <= 0 ? a : void 0
	}
	function mobilecheck() {
		var a = !1;
		return function(b) {
			(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0, 4))) && (a = !0)
		}(navigator.userAgent || navigator.vendor || window.opera), a
	}
	function isWeixin() {
		var a = navigator.userAgent.toLowerCase();
		return "micromessenger" == a.match(/MicroMessenger/i) ? !0 : !1
	}
	function isAndroid() {
		var a = navigator.userAgent,
			b = (navigator.appVersion, a.indexOf("Android") > -1 || a.indexOf("Linux") > -1);
		return b
	}
	function tabletCheck() {
		var a = /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());
		return a
	}
	function countCharacters(a) {
		var b = 0;
		if (!a) return 0;
		for (var c = 0; c < a.length; c++) {
			var d = a.charCodeAt(c);
			d >= 1 && 126 >= d || d >= 65376 && 65439 >= d ? b++ : b += 2
		}
		return b
	}
	function renderPage(a, b, c) {
		function d(a, b) {
			var c, d, e, f, g, h = window.scene ? scene.pageMode : 0,
				i = 0,
				j = {
					touchPos: 0,
					pLen: -486 * (b - 1),
					contain: $("#page" + a),
					cH: mobilecheck() ? $(document).height() : 486,
					stopInertiaMove: !1
				};
			0 == h || 1 == h || 2 == h || 6 == h || 7 == h || 8 == h || 11 == h || 12 == h ? h = "NS" : (h = "WE", $('<section class="u-arrow-bottom"><div class="pre-wrap"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>').appendTo("#page" + a));
			var k = 0,
				l = 0;
			j.contain.on("mousedown touchstart", function(a) {
				return "button" == a.target.tagName.toLowerCase() || a.target.getAttribute("data") || a.target.getAttribute("href") || "8" == a.target.getAttribute("ctype") ? void a.stopPropagation() : (a.stopPropagation(), a.preventDefault(), void(j.touchPos < j.pLen || j.touchPos > 0 || (c = !0, e = 0, j.stopInertiaMove = !0, d = a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientY : a.clientY, "WE" == h && (f = a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientX : a.clientX), l = j.touchPos, k = Date.now())))
			}), j.contain.on("mousemove touchmove", function(a) {
				if (a.stopPropagation(), c) {
					if (e = j.touchPos + (a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientY : a.clientY) - d, "WE" == h && (g = (a.originalEvent.touches ? a.originalEvent.touches[0].clientX : a.clientX) - f, Math.abs(g) > Math.abs(e - j.touchPos) && !scene.property.forbidHandFlip)) {
						if (g > 0) {
							if (5 > g) return;
							eqxiu.prePage()
						} else eqxiu.nextPage();
						return void(c = !1)
					}
					if (e < j.pLen || e > 5) return c = !1, e > 0 && "NS" == h && (scene.property.forbidHandFlip ? j.touchPos = 0 : eqxiu.prePage()), void(0 > e && "NS" == h && (scene.property.forbidHandFlip ? j.touchPos = j.pLen : eqxiu.nextPage()));
					if (e > 0) return;
					j.stopInertiaMove = !0, $(this).find(".edit_area").css("transform", "translate3d(0," + (e - i) + "px,0)"), $(this).find(".edit_area").css("-webkit-transform", "translate3d(" + (e - i) + "px,0)");
					var b = Date.now();
					$(document).trigger("pageScrollPos", [e - j.cH]), b - k > 300 && (k = b, l = e), j.stopInertiaMove = !1
				}
			}), j.contain.on("mouseup touchend mouseleave", function(a) {
				if (a.stopPropagation(), c) {
					if (c = !1, mobilecheck() && 0 === e) return void $(a.target).trigger("click");
					if (!(0 > e && e > j.pLen)) return e >= 0 ? void(j.touchPos = 0) : void(j.touchPos = j.pLen);
					j.touchPos = e, "WE" == h && j.contain.find(".u-arrow-bottom").hide();
					var b = Date.now(),
						d = (e - l) / (b - k);
					!
					function(a, b, c, d) {
						function e() {
							if (!d.stopInertiaMove) {
								var h = Date.now(),
									j = h - b,
									k = a + j * g;
								if (!(0 > f * k)) {
									var l = (a + k) / 2 * j,
										m = c + l;
									m > 0 || m < d.pLen || (d.timmer = null, d.contain.find(".edit_area").css("transform", "translate3d(0," + (m - i) + "px,0)"), d.contain.find(".edit_area").css("-webkit-transform", "translate3d(0," + (m - i) + "px,0)"), d.touchPos = m, $(document).trigger("pageScrollPos", [m - d.cH]), setTimeout(e, 10))
								}
							}
						}
						var f = 0 > a ? -1 : 1,
							g = f * -6e-4;
						e()
					}(d, b, e, j)
				}
			}), $(document).on("clearTouchPos", function() {
				j.touchPos = 0
			})
		}
		a.templateParser("jsonParser").parse({
			def: c[b - 1],
			appendTo: "#page" + b,
			mode: "view"
		});
		var e, f, g = 1,
			h = $(".z-current").width(),
			i = $(".z-current").height();
		imageWidth = $(".m-img").width(), imageHeight = $(".m-img").height(), h / i >= 320 / 486 ? (g = i / 486, e = (h / g - 320) / 2) : (g = h / 320, f = (i / g - 486) / 2), window != window.top && $(".phoneBox .nr").css({
			width: "100%",
			height: "100%",
			overflow: "hidden",
			"transform-origin": "top left",
			transform: "scale(" + g + ")"
		}), f && $(".edit_area").css({
			marginTop: f
		}), e && $(".edit_area").css({
			marginLeft: e
		}), tplCount == c.length && $("#eqMobileViewport").attr("content", "width=320, initial-scale=" + g + ", maximum-scale=" + g + ", user-scalable=no"), c[b - 1].properties && c[b - 1].properties.longPage && d(b, c[b - 1].properties.longPage)
	}!
	function(a) {
		function b(b) {
			return b.classList ? b.classList : a(b).attr("class").match(/\S+/gi)
		}
		a.fn.ShareLink = function(c) {
			function d(a) {
				var b = g[a];
				return b = b.replace("{url}", encodeURIComponent(c.url)), b = b.replace("{title}", encodeURIComponent(c.title)), b = b.replace("{text}", encodeURIComponent(c.text)), b = b.replace("{image}", encodeURIComponent(c.image))
			}
			var e = {
				title: "",
				text: "",
				image: "",
				url: window.location.href,
				class_prefix: "s_"
			},
				c = a.extend({}, e, c),
				f = c.class_prefix.length,
				g = {
					twitter: "https://twitter.com/intent/tweet?url={url}&text={text}",
					pinterest: "https://www.pinterest.com/pin/create/button/?media={image}&url={url}&description={text}",
					facebook: "https://www.facebook.com/sharer.php?u={url}",
					vk: "https://vkontakte.ru/share.php?url={url}&title={title}&description={text}&image={image}&noparse=true",
					linkedin: "https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={text}&source={url}",
					myworld: "https://connect.mail.ru/share?url={url}&title={title}&description={text}&imageurl={image}",
					odnoklassniki: "http://odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl={url}&st.comments={text}",
					tumblr: "https://tumblr.com/share?s=&v=3&t={title}&u={url}",
					blogger: "https://blogger.com/blog-this.g?t={text}&n={title}&u={url}",
					delicious: "https://delicious.com/save?url={url}&title={title}",
					plus: "https://plus.google.com/share?url={url}",
					digg: "https://digg.com/submit?url={url}&title={title}",
					reddit: "http://reddit.com/submit?url={url}&title={title}",
					stumbleupon: "https://www.stumbleupon.com/submit?url={url}&title={title}",
					pocket: "https://getpocket.com/edit?url={url}&title={title}",
					chiq: "http://www.chiq.com/create/bookmarklet?u={url}&i={image}&d={title}&c={url}",
					qrifier: "http://qrifier.com/q?inc=qr&type=url&size=350&string={url}",
					qrsrc: "http://www.qrsrc.com/default.aspx?shareurl={url}",
					qzone: "http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}",
					tulinq: "http://www.tulinq.com/enviar?url={url}&title={title}",
					misterwong: "http://www.mister-wong.com/index.php?action=addurl&bm_url={url}&bm_description={title}&bm_notice=",
					sto_zakladok: "http://www.100zakladok.ru/save/?bmurl={url}&bmtitle={title}",
					two_linkme: "http://www.2linkme.com/?collegamento={url}&id=2lbar",
					adifni: "http://www.adifni.com/account/bookmark/?bookmark_url={url}",
					amazonwishlist: "http://www.amazon.com/gp/wishlist/static-add?u={url}&t={title}",
					amenme: "http://www.amenme.com/AmenMe/Amens/AmenToThis.aspx?url={url}&title={title}",
					aim: "http://lifestream.aol.com/share/?url={url}&title={title}&description={text} ",
					aolmail: "http://webmail.aol.com/25045/aol/en-us/Mail/compose-message.aspx?to=&subject={title}&body={{content}}",
					arto: "http://www.arto.com/section/linkshare/?lu={url}&ln={title}",
					baidu: "http://cang.baidu.com/do/add?it={title}&iu={url}&fr=ien&dc={text}",
					bitly: "https://bitly.com/a/bitmarklet?u={url}",
					bizsugar: "http://www.bizsugar.com/bizsugarthis.php?url={url}",
					blinklist: "http://www.blinklist.com/blink?u={url}&t={title}&d={text}",
					blip: "http://blip.pl/dashboard?body={title}%3A%20{url}",
					blogmarks: "http://blogmarks.net/my/new.php?mini=1&simple=1&url={url}&title={title}&content={text}",
					blurpalicious: "http://www.blurpalicious.com/submit/?url={url}&title={title}&desc={text}",
					bobrdobr: "http://bobrdobr.ru/addext.html?url={url}&title={title}&desc={text}",
					bonzobox: "http://bonzobox.com/toolbar/add?u={url}&t={title}&desc={text}",
					bookmerkende: "http://www.bookmerken.de/?url={url}&title={title}",
					box: "https://www.box.net/api/1.0/import?import_as=link&url={url}&name={title}&description={text}",
					bryderi: "http://bryderi.se/add.html?u={url}",
					buddymarks: "http://buddymarks.com/add_bookmark.php?bookmark_title={title}&bookmark_url={url}&bookmark_desc={text}",
					camyoo: "http://www.camyoo.com/note.html?url={url}",
					care2: "http://www.care2.com/news/compose?sharehint=news&share[share_type]news&bookmarklet=Y&share[title]={title}&share[link_url]={url}&share[content]={text}",
					citeulike: "http://www.citeulike.org/posturl?url={url}&title={title}",
					classicalplace: "http://www.classicalplace.com/?u={url}&t={title}&c={text}",
					cosmiq: "http://www.cosmiq.de/lili/my/add?url={url}",
					diggita: "http://www.diggita.it/submit.php?url={url}&title={title}",
					diigo: "http://www.diigo.com/post?url={url}&title={title}&desc={text}",
					domelhor: "http://domelhor.net/submit.php?url={url}&title={title}",
					dotnetshoutout: "http://dotnetshoutout.com/Submit?url={url}&title={title}",
					douban: "http://www.douban.com/recommend/?url={url}&title={title}",
					dropjack: "http://www.dropjack.com/submit.php?url={url}",
					edelight: "http://www.edelight.de/geschenk/neu?purl={url}",
					ekudos: "http://www.ekudos.nl/artikel/nieuw?url={url}&title={title}&desc={text}",
					elefantapl: "http://elefanta.pl/member/bookmarkNewPage.action?url={url}&title={title}&bookmarkVO.notes=",
					embarkons: "http://www.embarkons.com/sharer.php?u={url}&t={title}",
					evernote: "http://www.evernote.com/clip.action?url={url}&title={title}",
					extraplay: "http://www.extraplay.com/members/share.php?url={url}&title={title}&desc={text}",
					ezyspot: "http://www.ezyspot.com/submit?url={url}&title={title}",
					fabulously40: "http://fabulously40.com/writeblog?subject={title}&body={url}",
					informazione: "http://fai.informazione.it/submit.aspx?url={url}&title={title}&desc={text}",
					fark: "http://www.fark.com/cgi/farkit.pl?u={url}&h={title}",
					farkinda: "http://www.farkinda.com/submit?url={url}",
					favable: "http://www.favable.com/oexchange?url={url}&title={title}&desc={text}",
					favlogde: "http://www.favlog.de/submit.php?url={url}",
					flaker: "http://flaker.pl/add2flaker.php?title={title}&url={url}",
					folkd: "http://www.folkd.com/submit/{url}",
					fresqui: "http://fresqui.com/enviar?url={url}",
					friendfeed: "http://friendfeed.com/share?url={url}&title={title}",
					funp: "http://funp.com/push/submit/?url={url}",
					fwisp: "http://fwisp.com/submit.php?url={url}",
					givealink: "http://givealink.org/bookmark/add?url={url}&title={title}",
					gmail: "http://mail.google.com/mail/?view=cm&fs=1&to=&su={title}&body={text}&ui=1",
					goodnoows: "http://goodnoows.com/add/?url={url}",
					google: "http://www.google.com/bookmarks/mark?op=add&bkmk={url}&title={title}&annotation={text}",
					googletranslate: "http://translate.google.com/translate?hl=en&u={url}&tl=en&sl=auto",
					greaterdebater: "http://greaterdebater.com/submit/?url={url}&title={title}",
					hackernews: "http://news.ycombinator.com/submitlink?u={url}&t={title}",
					hatena: "http://b.hatena.ne.jp/bookmarklet?url={url}&btitle={title}",
					hedgehogs: "http://www.hedgehogs.net/mod/bookmarks/add.php?address={url}&title={title}",
					hotmail: "http://www.hotmail.msn.com/secure/start?action=compose&to=&subject={title}&body={{content}}",
					w3validator: "http://validator.w3.org/check?uri={url}&charset=%28detect+automatically%29&doctype=Inline&group=0",
					ihavegot: "http://www.ihavegot.com/share/?url={url}&title={title}&desc={text}",
					instapaper: "http://www.instapaper.com/edit?url={url}&title={title}&summary={text}",
					isociety: "http://isociety.be/share/?url={url}&title={title}&desc={text}",
					iwiw: "http://iwiw.hu/pages/share/share.jsp?v=1&u={url}&t={title}",
					jamespot: "http://www.jamespot.com/?action=spotit&u={url}&t={title}",
					jumptags: "http://www.jumptags.com/add/?url={url}&title={title}",
					kaboodle: "http://www.kaboodle.com/grab/addItemWithUrl?url={url}&pidOrRid=pid=&redirectToKPage=true",
					kaevur: "http://kaevur.com/submit.php?url={url}",
					kledy: "http://www.kledy.de/submit.php?url={url}&title={title}",
					librerio: "http://www.librerio.com/inbox?u={url}&t={title}",
					linkuj: "http://linkuj.cz?id=linkuj&url={url}&title={title}&description={text}&imgsrc=",
					livejournal: "http://www.livejournal.com/update.bml?subject={title}&event={url}",
					logger24: "http://logger24.com/?url={url}",
					mashbord: "http://mashbord.com/plugin-add-bookmark?url={url}",
					meinvz: "http://www.meinvz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com",
					mekusharim: "http://mekusharim.walla.co.il/share/share.aspx?url={url}&title={title}",
					memori: "http://memori.ru/link/?sm=1&u_data[url]={url}",
					meneame: "http://www.meneame.net/submit.php?url={url}",
					mixi: "http://mixi.jp/share.pl?u={url}",
					moemesto: "http://moemesto.ru/post.php?url={url}&title={title}",
					myspace: "http://www.myspace.com/Modules/PostTo/Pages/?u={url}&t={title}&c=",
					n4g: "http://www.n4g.com/tips.aspx?url={url}&title={title}",
					netlog: "http://www.netlog.com/go/manage/links/?view=save&origin=external&url={url}&title={title}&description={text}",
					netvouz: "http://netvouz.com/action/submitBookmark?url={url}&title={title}&popup=no&description={text}",
					newstrust: "http://newstrust.net/submit?url={url}&title={title}&ref=addthis",
					newsvine: "http://www.newsvine.com/_tools/seed&save?u={url}&h={title}&s={text}",
					nujij: "http://nujij.nl/jij.lynkx?u={url}&t={title}&b={text}",
					oknotizie: "http://oknotizie.virgilio.it/post?title={title}&url={url}",
					oyyla: "http://www.oyyla.com/gonder?phase=2&url={url}",
					pdfonline: "http://savepageaspdf.pdfonline.com/pdfonline/pdfonline.asp?cURL={url}",
					pdfmyurl: "http://pdfmyurl.com?url={url}",
					phonefavs: "http://phonefavs.com/bookmarks?action=add&address={url}&title={title}",
					plaxo: "http://www.plaxo.com/events?share_link={url}&desc={text}",
					plurk: "http://www.plurk.com/m?content={url}+({title})&qualifier=shares ",
					posteezy: "http://posteezy.com/node/add/story?title={title}&body={url}",
					pusha: "http://www.pusha.se/posta?url={url}&title={title}&description={text}",
					rediff: "http://share.rediff.com/bookmark/addbookmark?title={title}&bookmarkurl={url}",
					redkum: "http://www.redkum.com/add?url={url}&step=1&title={title}",
					scoopat: "http://scoop.at/submit?url={url}&title={title}&body={text}",
					sekoman: "http://sekoman.lv/home?status={title}&url={url}",
					shaveh: "http://shaveh.co.il/submit.php?url={url}&title={title}",
					shetoldme: "http://shetoldme.com/publish?url={url}&title={title}&body={text}",
					sinaweibo: "http://v.t.sina.com.cn/share/share.php?url={url}&title={title}",
					sodahead: "http://www.sodahead.com/news/submit/?url={url}&title={title}",
					sonico: "http://www.sonico.com/share.php?url={url}&title={title}",
					springpad: "http://springpadit.com/s?type=lifemanagr.Bookmark&url={url}&name={title}",
					startaid: "http://www.startaid.com/index.php?st=AddBrowserLink&type=Detail&v=3&urlname={url}&urltitle={title}&urldesc={text}",
					startlap: "http://www.startlap.hu/sajat_linkek/addlink.php?url={url}&title={title}",
					studivz: "http://www.studivz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com",
					stuffpit: "http://www.stuffpit.com/add.php?produrl={url}",
					stumpedia: "http://www.stumpedia.com/submit?url={url}",
					svejo: "http://svejo.net/story/submit_by_url?url={url}&title={title}&summary={text}",
					symbaloo: "http://www.symbaloo.com/en/add/?url={url}&title={title}",
					thewebblend: "http://thewebblend.com/submit?url={url}&title={title}",
					thinkfinity: "http://www.thinkfinity.org/favorite-bookmarklet.jspa?url={url}&subject={title}",
					thisnext: "http://www.thisnext.com/pick/new/submit/url/?description={text}&name={title}&url={url}",
					tuenti: "http://www.tuenti.com/share?url={url}",
					typepad: "http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={title}&qp_href={url}&qp_text={text}",
					viadeo: "http://www.viadeo.com/shareit/share/?url={url}&title={title}&urlaffiliate=32005&encoding=UTF-8",
					virb: "http://virb.com/share?external&v=2&url={url}&title={title}",
					visitezmonsite: "http://www.visitezmonsite.com/publier?url={url}&title={title}&body={text}",
					vybralisme: "http://vybrali.sme.sk/sub.php?url={url}",
					webnews: "http://www.webnews.de/einstellen?url={url}&title={title}",
					wirefan: "http://www.wirefan.com/grpost.php?d=&u={url}&h={title}&d={text}",
					wordpress: "http://wordpress.com/wp-admin/press-this.php?u={url}&t={title}&s={text}&v=2",
					wowbored: "http://www.wowbored.com/submit.php?url={url}",
					wykop: "http://www.wykop.pl/dodaj?url={url}&title={title}&desc={text}",
					yahoobkm: "http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u={url}&t={title}&d={text}",
					yahoomail: "http://compose.mail.yahoo.com/?To=&Subject={title}&body={{content}}",
					yammer: "https://www.yammer.com/home/bookmarklet?bookmarklet_pop=1&u={url}&t={title}",
					yardbarker: "http://www.yardbarker.com/author/new/?pUrl={url}&pHead={title}",
					yigg: "http://www.yigg.de/neu?exturl={url}&exttitle={title}&extdesc={text}",
					yoolink: "http://go.yoolink.to/addorshare?url_value={url}&title={title}",
					yorumcuyum: "http://www.yorumcuyum.com/?baslik={title}&link={url}",
					youmob: "http://youmob.com/mobit.aspx?title={title}&mob={url}",
					zakladoknet: "http://zakladok.net/link/?u={url}&t={title}",
					ziczac: "http://ziczac.it/a/segnala/?gurl={url}&gtit={title}"
				};
			this.each(function(e, h) {
				for (var i = b(h), e = 0; e < i.length; e++) {
					var j = i[e];
					if (j.substr(0, f) == c.class_prefix && g[j.substr(f)]) {
						var k = d(j.substr(f));
						a(h).attr("href", k).click(function() {
							var b = screen.width,
								d = screen.height,
								e = c.width ? c.width : b - .2 * b,
								f = c.height ? c.height : d - .2 * d,
								g = b / 2 - e / 2,
								h = d / 2 - f / 2,
								i = "toolbar=0,status=0,width=" + e + ",height=" + f + ",top=" + h + ",left=" + g;
							return window.open(a(this).attr("href"), "", i) && !1
						})
					}
				}
			})
		}
	}(jQuery), function(a, b) {
		a.completeEffect = function(a) {
			return a.find(".lock").get(0) ? !1 : !0
		}
	}(window, jQuery), function() {
		var a = "ontouchstart" in window ? !0 : !1,
			b = a ? "touchstart" : "mousedown",
			c = a ? "touchmove" : "mousemove",
			d = a ? "touchend" : "mouseup";
		window.money = {
			doEffect: function(e, f, g, h) {
				function i() {
					A = 9, B = 0, C = 0, E.onload = function() {
						K = E.width, M = E.height, I.drawImage(E, H.width / 2 - K / 2, 250)
					}, E.width || (K = 200, M = 408), F.onload = function() {
						if (I.drawImage(F, 0, 0, H.width, H.height), !D) {
							h(eqShow, f, g);
							for (var a = 0; a < g[f - 1].elements.length; a++) {
								var b = eqShow.selectElement(g[f - 1].elements[a].id);
								eqxCommon.bindTrigger(b, g[f - 1].elements[a])
							}
						}
						p("开始"), q(0), l(), k(), j(g[f - 1].properties.effect.tip)
					}
				}
				function j(a) {
					I.font = "20px Arial", I.textAlign = "center", I.fillStyle = "#FDE528", I.fillText(a, H.width / 2, 50)
				}
				function k() {
					I.fillStyle = "rgba(0, 0, 0, 0.8)", I.fillRect(H.width / 2 - K / 2 + 5, H.height - 85, K - 10, 80), I.stroke(), I.font = "16px Arial", I.textAlign = "center", I.fillStyle = "#FDE528", I.fillText("点击屏幕，开始数钱", H.width / 2, H.height - 35)
				}
				function l() {
					H.addEventListener(b, function(b) {
						C++, 1 == C && m(), v && (clearInterval(v), u.y - L < -320 && (L = 0)), J = !0;
						var c = a ? b.targetTouches[0].pageX : b.pageX,
							d = a ? b.targetTouches[0].pageY : b.pageY;
						u = n(H, c, d), w = u.x, x = u.y
					}), H.addEventListener(c, function(b) {
						var c = a ? b.targetTouches[0].pageX : b.pageX,
							d = a ? b.targetTouches[0].pageY : b.pageY;
						u = n(H, c, d), y = u.x - w, z = u.y - x, J && (I.drawImage(G, H.width / 2 - K / 2, u.y), -20 > z ? (v = setInterval(o, 40), B += 100, J = !1) : (I.clearRect(0, 0, H.width, H.height), I.drawImage(F, 0, 0, H.width, H.height), I.drawImage(E, H.width / 2 - K / 2, 250), G.onload = function() {
							I.drawImage(G, H.width / 2 - K / 2, u.y), p(A), q(B)
						}))
					}), H.addEventListener(d, function(a) {
						w = 0, x = 0, J && (J = !1, v && (clearInterval(v), L = 0, fy = 0), -20 > z || (I.clearRect(0, 0, H.width, H.height), I.drawImage(F, 0, 0, H.width, H.height), I.drawImage(E, H.width / 2 - K / 2, 250), p(A), q(B)))
					})
				}
				function m() {
					var a = setInterval(function() {
						A--, p(A), 0 >= A && (clearInterval(a), $(H).unbind(b), t())
					}, 1e3)
				}
				function n(a, b, c) {
					var d = a.getBoundingClientRect();
					return {
						x: b - d.left,
						y: c - d.top
					}
				}
				function o() {
					I.clearRect(0, 0, H.width, H.height), I.drawImage(F, 0, 0, H.width, H.height), I.drawImage(E, H.width / 2 - K / 2, 250), I.drawImage(G, H.width / 2 - K / 2, u.y - L), p(A), q(B), L += 150
				}
				function p(a) {
					var b = I.createLinearGradient(H.width / 2 - 90, 50, H.width / 2 - 90, 120);
					b.addColorStop(0, "#F3AE28"), b.addColorStop(.5, "#FDE528"), b.addColorStop(1, "#F3AE28"), I.fillStyle = b, I.fillRect(H.width / 2 - 80, 90, 160, 40), I.stroke(), I.font = "30px Arial", I.textAlign = "center", I.fillStyle = "#ff0000", isNaN(a) ? I.fillText(a, H.width / 2, 120) : I.fillText(a + "秒", H.width / 2, 120)
				}
				function q(a) {
					I.fillStyle = "#FFF", I.roundRect(H.width / 2 - 120, 160, 240, 60, 10).stroke(), I.font = "30px Arial", I.textAlign = "center", I.fillStyle = "#FDE528", I.fillText("?? " + a, H.width / 2, 205)
				}
				function r() {
					$("#mask_" + f).remove(), $("#alert_" + f).remove(), D = !0, i()
				}
				function s() {
					$("#mask_" + f).remove(), $("#alert_" + f).remove(), $("#money_" + f).removeClass("lock").addClass("unlock").css("display", "none"), $("#page" + f).empty(), h(eqShow, f, g), $("#audio_btn").css("opacity", 1), 1 == f && eqShow.playVideo(e);
					for (var a = 0; a < g[f - 1].elements.length; a++) {
						var b = eqShow.selectElement(g[f - 1].elements[a].id);
						eqxCommon.bindTrigger(b, g[f - 1].elements[a])
					}
				}
				function t() {
					$('<div class="money_mask"></div>').appendTo($("#page" + f)).attr("id", "mask_" + f), $('<div class="money_modal"></div>').appendTo($("#page" + f)).attr("id", "alert_" + f), $('<div class="money_img"></div>').appendTo($("#alert_" + f)).attr("id", "img_" + f), $('<div class="money_text">恭喜你！<br>2016年每天赚' + B + "元！</div>").appendTo($("#alert_" + f)).attr("id", "text_" + f), $('<a class="button tryOnce">再来一次</a>').appendTo($("#alert_" + f)).attr("id", "try_" + f), $('<a class="button enterScene">进入场景</a>').appendTo($("#alert_" + f)).attr("id", "enter_" + f);
					var a = "标准屌丝";
					B >= 5500 && 12e3 >= B ? a = "初级土豪" : B > 12e3 && (a = "高级土豪"), $('<div class="level_text">' + a + "</div>").appendTo("#alert_" + f), $('<div class="tip-text">仅供娱乐</div>').appendTo("#alert_" + f), $("#try_" + f).on("click", function() {
						r()
					}), $("#enter_" + f).on("click", function() {
						s()
					})
				}
				$('<canvas class="money page_effect lock"></canvas>').prependTo($("#page" + f)).attr("id", "money_" + f);
				var u, v, w, x, y, z, A, B, C, D, E, F, G, H = document.getElementById("money_" + f),
					I = H.getContext("2d"),
					J = !1,
					K = 0,
					L = 0,
					M = 0;
				return H.width = $(".z-current").width(), H.height = $(".z-current").height(), E = new Image, E.src = CLIENT_CDN + "assets/images/money/moremoney.png", F = new Image, F.src = CLIENT_CDN + "assets/images/money/moneybg.png", G = new Image, G.src = CLIENT_CDN + "assets/images/money/flymoney.png", i(), window.money
			}
		}, CanvasRenderingContext2D.prototype.roundRect = function(a, b, c, d, e) {
			return 2 * e > c && (e = c / 2), 2 * e > d && (e = d / 2), this.beginPath(), this.moveTo(a + e, b), this.strokeStyle = "#FDE528", this.arcTo(a + c, b, a + c, b + d, e), this.arcTo(a + c, b + d, a, b + d, e), this.arcTo(a, b + d, a, b, e), this.arcTo(a, b, a + c, b, e), this.closePath(), this.fillStyle = "#FDE528", this
		}
	}(), function() {
		window.eqx = {}, window.eqx.money = {
			config: {
				mode: 3,
				effectCallback: "editMoney",
				imageCallback: "countMoney",
				resources: [{
					url: CLIENT_CDN + "view/js/countMoney.js",
					type: "js"
				}, {
					url: CLIENT_CDN + "assets/images/money/moneybg.png",
					type: "image"
				}, {
					url: CLIENT_CDN + "assets/images/money/moremoney.png",
					type: "image"
				}, {
					url: CLIENT_CDN + "assets/images/money/flymoney.png",
					type: "image"
				}, {
					url: CLIENT_CDN + "assets/images/money/float.png",
					type: "image"
				}, {
					url: CLIENT_CDN + "assets/images/money/float2.png",
					type: "image"
				}, {
					url: CLIENT_CDN + "assets/images/money/float3.png",
					type: "image"
				}]
			}
		}, window.eqx.snowFly = {
			config: {
				mode: 4,
				effectCallback: "flyAction",
				resources: [{
					url: CLIENT_CDN + "view/js/effect/snoweffect.js",
					type: "js"
				}, {
					url: CLIENT_CDN + "view/js/effect/threecanvas.js",
					type: "js"
				}]
			}
		}, window.eqx.rainyDay = {
			config: {
				mode: 4,
				effectCallback: "rainyEffect",
				resources: [{
					url: CLIENT_CDN + "view/js/effect/rainyday.js",
					type: "js"
				}, {
					url: CLIENT_CDN + "view/js/effect/rainyeffect.js",
					type: "js"
				}]
			}
		}, window.eqx.fireWorks = {
			config: {
				mode: 4,
				effectCallback: "fireWorks",
				resources: [{
					url: CLIENT_CDN + "view/js/effect/fireworks.js",
					type: "js"
				}]
			}
		}
	}(), function() {
		function a(a) {
			resources.loaded = !0, a instanceof Array ? a.forEach(function(a) {
				b(a)
			}) : b(a)
		}
		function b(a) {
			if ("loading" != f[a.url]) {
				if (f[a.url]) return f[a.url];
				if (f[a.url] = !1, "image" == a.type) {
					var b = new Image;
					f[a.url] = "loading", b.onload = function() {
						f[a.url] = b, d() && g.forEach(function(a) {
							a()
						})
					}, b.src = a.url
				} else "js" == a.type && (f[a.url] = "loading", $.getScript(a.url, function(b, c, e) {
					f[a.url] = !0, d() && g.forEach(function(a) {
						a()
					})
				}))
			}
		}
		function c(a) {
			return f[a]
		}
		function d() {
			var a = !0;
			for (var b in f) if (f.hasOwnProperty(b) && (!f[b] || "loading" == f[b])) return !1;
			return a
		}
		function e(a) {
			g.push(a)
		}
		var f = {},
			g = [];
		window.resources = {
			load: a,
			get: c,
			onReady: e,
			isReady: d
		}
	}(), function(a, b) {
		function c(a) {
			function b(a, b, c) {
				return a[b] || (a[b] = c())
			}
			var c = b(a, "eqShow", Object);
			return b(c, "templateParser", function() {
				var a = {};
				return function(c, d) {
					if ("hasOwnProperty" === c) throw new Error("hasOwnProperty is not a valid name");
					return d && a.hasOwnProperty(c) && (a[c] = null), b(a, c, d)
				}
			})
		}
		function d(b) {
			templateParser = c(a)
		}
		var e = a.eqShow || (a.eqShow = {});
		d(e)
	}(window, document), function() {
		window.requestAnimFrame = function() {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame ||
			function(a) {
				window.setTimeout(a, 5e3)
			}
		}();
		var a;
		eqShow.stopFireworkEffect = function() {
			a = !0
		}, window.fireWorks = {
			doEffect: function(b, c, d, e) {
				function f() {
					if (!a) {
						requestAnimFrame(f), t = g(0, 1e3), m.globalCompositeOperation = "destination-out", m.fillStyle = "rgba(0, 0, 0, 0.5)", m.fillRect(0, 0, p, q), m.globalCompositeOperation = "lighter";
						for (var b = r.length; b--;) r[b].draw(), r[b].update(b);
						for (var b = s.length; b--;) s[b].draw(), s[b].update(b);
						x >= w ? y || (r.push(new i(p / 2, q, g(0, p), g(0, q / 2))), x = 0) : x++, v >= u ? y && (r.push(new i(p / 2, q, n, o)), v = 0) : v++
					}
				}
				function g(a, b) {
					return Math.random() * (b - a) + a
				}
				function h(a, b, c, d) {
					var e = a - c,
						f = b - d;
					return Math.sqrt(Math.pow(e, 2) + Math.pow(f, 2))
				}
				function i(a, b, c, d) {
					for (this.x = a, this.y = b, this.sx = a, this.sy = b, this.tx = c, this.ty = d, this.distanceToTarget = h(a, b, c, d), this.distanceTraveled = 0, this.coordinates = [], this.coordinateCount = 3; this.coordinateCount--;) this.coordinates.push([this.x, this.y]);
					this.angle = Math.atan2(d - b, c - a), this.speed = 10, this.acceleration = 1.05, this.brightness = g(50, 120)
				}
				function j(a, b) {
					for (this.x = a, this.y = b, this.coordinates = [], this.coordinateCount = 5; this.coordinateCount--;) this.coordinates.push([this.x, this.y]);
					this.angle = g(0, 2 * Math.PI), this.speed = g(1, 10), this.friction = .95, this.gravity = 1, this.hue = g(t - 100, t + 100), this.brightness = g(20, 80), this.alpha = 1, this.decay = g(.01, .015)
				}
				function k(a, b) {
					for (var c = 100; c--;) s.push(new j(a, b))
				}
				var l, m, n, o, p = window.innerWidth,
					q = window.innerHeight,
					r = [],
					s = [],
					t = 200,
					u = 7,
					v = 0,
					w = 20,
					x = 0,
					y = !1;
				a = !1, e(eqShow, c, d);
				for (var z = 0; z < d[c - 1].elements.length; z++) {
					var A = eqShow.selectElement(d[c - 1].elements[z].id);
					eqxCommon.bindTrigger(A, d[c - 1].elements[z])
				}
				1 == c && eqShow.playVideo(b), $('<canvas id="fireworks' + c + '"></canvas>').prependTo("#page" + c).css({
					position: "absolute",
					zIndex: 0
				}), l = document.getElementById("fireworks" + c), m = l.getContext("2d"), l.width = p, l.height = q, f(), i.prototype.update = function(a) {
					this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;
					var b = Math.cos(this.angle) * this.speed,
						c = Math.sin(this.angle) * this.speed;
					this.distanceTraveled = h(this.sx, this.sy, this.x + b, this.y + c), this.distanceTraveled >= this.distanceToTarget ? (k(this.tx, this.ty), r.splice(a, 1)) : (this.x += b, this.y += c)
				}, i.prototype.draw = function() {
					m.beginPath(), m.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]), m.lineTo(this.x, this.y), m.strokeStyle = "hsl(" + t + ", 100%, " + this.brightness + "%)", m.stroke(), m.beginPath(), m.arc(this.tx, this.ty, 0, 0, 2 * Math.PI), m.stroke()
				}, j.prototype.update = function(a) {
					this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay, this.alpha <= this.decay && s.splice(a, 1)
				}, j.prototype.draw = function() {
					m.beginPath(), m.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]), m.lineTo(this.x, this.y), m.strokeStyle = "hsla(" + this.hue + ", 100%, " + this.brightness + "%, " + this.alpha + ")", m.stroke()
				}
			}
		}
	}(), window.flux = {
		version: "1.4.4"
	}, function(a) {
		flux.slider = function(b, c) {
			flux.browser.init(), flux.browser.supportsTransitions || window.console && window.console.error && console.error("Flux Slider requires a browser that supports CSS3 transitions");
			var d = this;
			this.element = a(b), this.transitions = [];
			for (var e in flux.transitions) this.transitions.push(e);
			this.options = a.extend({
				autoplay: !0,
				transitions: this.transitions,
				delay: 4e3,
				pagination: !0,
				controls: !1,
				captions: !1,
				width: null,
				height: null,
				onTransitionEnd: null,
				onStartEnd: null,
				bgColor: ""
			}, c), this.height = this.options.height ? this.options.height : null, this.width = this.options.width ? this.options.width : null;
			var f = [];
			a(this.options.transitions).each(function(a, b) {
				var c = new flux.transitions[b](this),
					d = !0;
				c.options.requires3d && !flux.browser.supports3d && (d = !1), c.options.compatibilityCheck && (d = c.options.compatibilityCheck()), d && f.push(b)
			}), this.options.transitions = f, this.images = new Array, this.imageLoadedCount = 0, this.currentImageIndex = 0, this.nextImageIndex = 1, this.playing = !1, this.container = a('<div class="fluxslider"></div>').appendTo(this.element), this.surface = a('<div class="surface" style="position: relative"></div>').appendTo(this.container), this.container.bind("click", function(b) {
				a(b.target).hasClass("hasLink") && (window.location = a(b.target).data("href"))
			}), this.imageContainer = a('<div class="images loading1"></div>').css({
				position: "relative",
				overflow: "hidden"
			}).appendTo(this.surface), this.width && this.height && this.imageContainer.css({
				width: this.width + "px",
				height: this.height + "px"
			}), this.image1 = a('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer), this.image2 = a('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer), a(this.image1).add(this.image2).css({
				position: "absolute",
				top: "0px",
				left: "0px"
			}), this.element.find("img, a img").each(function(b, c) {
				var e = c.cloneNode(!1),
					f = a(c).parent();
				f.is("a") && a(e).data("href", f.attr("href")), d.images.push(e), a(c).remove()
			});
			for (var g = 0; g < this.images.length; g++) {
				var h = new Image;
				h.onload = function() {
					d.imageLoadedCount++, d.width = d.width ? d.width : this.width, d.height = d.height ? d.height : this.height, d.imageLoadedCount >= d.images.length && (d.finishedLoading(), d.setupImages())
				}, h.src = this.images[g].src
			}
			this.element.bind("fluxTransitionEnd", function(a, b) {
				d.options.onTransitionEnd && (a.preventDefault(), d.options.onTransitionEnd(b))
			}), this.options.autoplay && this.start();
			var i = {},
				j = {},
				k = 20;
			this.element.bind("mousedown touchstart", function(a) {
				"touchstart" == a.type ? i.left = a.originalEvent.touches[0].pageX : "mousedown" == a.type && (i.left = a.pageX)
			}).bind("mouseup touchend", function(a) {
				"touchend" == a.type ? j.left = a.originalEvent.changedTouches[0].pageX : "mouseup" == a.type && (j.left = a.pageX), j.left - i.left > k ? d.prev(null, {
					direction: "right"
				}) : i.left - j.left > k && d.next(null, {
					direction: "left"
				}), d.options.autoplay && (d.stop(), d.start())
			}), setTimeout(function() {
				a(window).focus(function() {
					d.isPlaying() && d.next()
				})
			}, 100)
		}, flux.slider.prototype = {
			constructor: flux.slider,
			playing: !1,
			start: function() {
				var a = this;
				this.playing = !0, this.interval = setInterval(function() {
					a.transition()
				}, this.options.delay), "function" == typeof this.options.onStartEnd && this.options.onStartEnd(this.interval)
			},
			stop: function() {
				this.playing = !1, clearInterval(this.interval), this.interval = null
			},
			isPlaying: function() {
				return this.playing
			},
			next: function(a, b) {
				b = b || {}, b.direction = "left", this.showImage(this.currentImageIndex + 1, a, b)
			},
			prev: function(a, b) {
				b = b || {}, b.direction = "right", this.showImage(this.currentImageIndex - 1, a, b)
			},
			showImage: function(a, b, c) {
				this.setNextIndex(a), this.setupImages(), this.transition(b, c)
			},
			finishedLoading: function() {
				var b = this;
				if (this.container.css({
					width: this.width + "px",
					height: this.height + "px"
				}), this.imageContainer.removeClass("loading1"), this.options.pagination && (this.pagination = a('<ul class="pagination"></ul>').css({
					margin: "0px",
					padding: "0px",
					"text-align": "center"
				}), this.pagination.bind("click", function(c) {
					c.preventDefault(), b.showImage(a(c.target).data("index"))
				}), a(this.images).each(function(c, d) {
					var e = a('<li data-index="' + c + '">' + (c + 1) + "</li>").css({
						display: "inline-block",
						"margin-left": "0.5em",
						cursor: "pointer"
					}).appendTo(b.pagination);
					0 == c && e.css("margin-left", 0).addClass("current")
				}), this.container.append(this.pagination)), a(this.imageContainer).css({
					width: this.width + "px",
					height: this.height + "px"
				}), a(this.image1).css({
					width: this.width + "px",
					height: this.height + "px"
				}), a(this.image2).css({
					width: this.width + "px",
					height: this.height + "px"
				}), this.container.css({
					width: this.width + "px",
					height: this.height + (this.options.pagination ? this.pagination.height() : 0) + "px"
				}), this.options.controls) {
					var c = {
						padding: "4px 10px 10px",
						"font-size": "60px",
						"font-family": "arial, sans-serif",
						"line-height": "1em",
						"font-weight": "bold",
						color: "#FFF",
						"text-decoration": "none",
						background: "rgba(0,0,0,0.5)",
						position: "absolute",
						"z-index": 2e3
					};
					this.nextButton = a('<a href="#">??</a>').css(c).css3({
						"border-radius": "4px"
					}).appendTo(this.surface).bind("click", function(a) {
						a.preventDefault(), b.next()
					}), this.prevButton = a('<a href="#">??</a>').css(c).css3({
						"border-radius": "4px"
					}).appendTo(this.surface).bind("click", function(a) {
						a.preventDefault(), b.prev()
					});
					var d = (this.height - this.nextButton.height()) / 2;
					this.nextButton.css({
						top: d + "px",
						right: "10px"
					}), this.prevButton.css({
						top: d + "px",
						left: "10px"
					})
				}
				this.options.captions && (this.captionBar = a('<div class="caption"></div>').css({
					background: "rgba(0,0,0,0.6)",
					color: "#FFF",
					"font-size": "16px",
					"font-family": "helvetica, arial, sans-serif",
					"text-decoration": "none",
					"font-weight": "bold",
					padding: "1.5em 1em",
					opacity: 0,
					position: "absolute",
					"z-index": 110,
					width: "100%",
					bottom: 0
				}).css3({
					"transition-property": "opacity",
					"transition-duration": "800ms",
					"box-sizing": "border-box"
				}).prependTo(this.surface)), this.updateCaption()
			},
			setupImages: function() {
				var b = this.getImage(this.currentImageIndex),
					c = {
						background: 'url("' + b.src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
						zIndex: 101,
						cursor: "auto"
					};
				a(b).data("href") ? (c.cursor = "pointer", this.image1.addClass("hasLink"), this.image1.data("href", a(b).data("href"))) : (this.image1.removeClass("hasLink"), this.image1.data("href", null)), this.image1.css(c).children().remove(), this.image2.css({
					background: 'url("' + this.getImage(this.nextImageIndex).src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
					zIndex: 100,
					display: "none"
				}), this.options.pagination && this.pagination && (this.pagination.find("li.current").removeClass("current"), a(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))
			},
			transition: function(b, c) {
				if (b == undefined || !flux.transitions[b]) {
					var d = Math.floor(Math.random() * this.options.transitions.length);
					b = this.options.transitions[d]
				}
				var e = null;
				try {
					e = new flux.transitions[b](this, a.extend(this.options[b] ? this.options[b] : {}, c))
				} catch (f) {
					e = new flux.transition(this, {
						fallback: !0
					})
				}
				e.run(), this.currentImageIndex = this.nextImageIndex, this.setNextIndex(this.currentImageIndex + 1), this.updateCaption()
			},
			updateCaption: function() {
				var b = a(this.getImage(this.currentImageIndex)).attr("title");
				this.options.captions && this.captionBar && ("" !== b && this.captionBar.html(b), this.captionBar.css("opacity", "" === b ? 0 : 1))
			},
			getImage: function(a) {
				return a %= this.images.length, this.images[a]
			},
			setNextIndex: function(a) {
				a == undefined && (a = this.currentImageIndex + 1), this.nextImageIndex = a, this.nextImageIndex > this.images.length - 1 && (this.nextImageIndex = 0), this.nextImageIndex < 0 && (this.nextImageIndex = this.images.length - 1)
			},
			increment: function() {
				this.currentImageIndex++, this.currentImageIndex > this.images.length - 1 && (this.currentImageIndex = 0)
			}
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.browser = {
			init: function() {
				if (flux.browser.supportsTransitions === undefined) {
					var b = (document.createElement("div"), ["-webkit", "-moz", "-o", "-ms"]);
					if (window.Modernizr && Modernizr.csstransitions !== undefined ? flux.browser.supportsTransitions = Modernizr.csstransitions : flux.browser.supportsTransitions = this.supportsCSSProperty("Transition"), window.Modernizr && Modernizr.csstransforms3d !== undefined) flux.browser.supports3d = Modernizr.csstransforms3d;
					else if (flux.browser.supports3d = this.supportsCSSProperty("Perspective"), flux.browser.supports3d && "webkitPerspective" in a("body").get(0).style) {
						var c = a('<div id="csstransform3d"></div>'),
							d = a('<style media="(transform-3d), (' + b.join("-transform-3d),(") + '-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');
						a("body").append(c), a("head").append(d), flux.browser.supports3d = 9 == c.get(0).offsetLeft, c.remove(), d.remove()
					}
				}
			},
			supportsCSSProperty: function(a) {
				for (var b = document.createElement("div"), c = ["Webkit", "Moz", "O", "Ms"], d = !1, e = 0; e < c.length; e++) c[e] + a in b.style && (d = d || !0);
				return d
			},
			translate: function(a, b, c) {
				return a = a != undefined ? a : 0, b = b != undefined ? b : 0, c = c != undefined ? c : 0, "translate" + (flux.browser.supports3d ? "3d(" : "(") + a + "px," + b + (flux.browser.supports3d ? "px," + c + "px)" : "px)")
			},
			rotateX: function(a) {
				return flux.browser.rotate("x", a)
			},
			rotateY: function(a) {
				return flux.browser.rotate("y", a)
			},
			rotateZ: function(a) {
				return flux.browser.rotate("z", a)
			},
			rotate: function(a, b) {
				return !a in {
					x: "",
					y: "",
					z: ""
				} && (a = "z"), b = b != undefined ? b : 0, flux.browser.supports3d ? "rotate3d(" + ("x" == a ? "1" : "0") + ", " + ("y" == a ? "1" : "0") + ", " + ("z" == a ? "1" : "0") + ", " + b + "deg)" : "z" == a ? "rotate(" + b + "deg)" : ""
			}
		}, a(function() {
			flux.browser.init()
		})
	}(window.jQuery || window.Zepto), function(a) {
		a.fn.css3 = function(a) {
			var b = {},
				c = ["webkit", "moz", "ms", "o"];
			for (var d in a) {
				for (var e = 0; e < c.length; e++) b["-" + c[e] + "-" + d] = a[d];
				b[d] = a[d]
			}
			return this.css(b), this
		}, a.fn.transitionEnd = function(b) {
			for (var c = ["webkitTransitionEnd", "transitionend", "oTransitionEnd"], d = 0; d < c.length; d++) this.bind(c[d], function(d) {
				for (var e = 0; e < c.length; e++) a(this).unbind(c[e]);
				b && b.call(this, d)
			});
			return this
		}, flux.transition = function(b, c) {
			if (this.options = a.extend({
				requires3d: !1,
				after: function() {}
			}, c), this.slider = b, this.options.requires3d && !flux.browser.supports3d || !flux.browser.supportsTransitions || this.options.fallback === !0) {
				var d = this;
				this.options.after = undefined, this.options.setup = function() {
					d.fallbackSetup()
				}, this.options.execute = function() {
					d.fallbackExecute()
				}
			}
		}, flux.transition.prototype = {
			constructor: flux.transition,
			hasFinished: !1,
			run: function() {
				var a = this;
				this.options.setup !== undefined && this.options.setup.call(this), this.slider.image1.css({
					"background-image": "none"
				}), this.slider.imageContainer.css("overflow", this.options.requires3d ? "visible" : "hidden"), setTimeout(function() {
					a.options.execute !== undefined && a.slider.image1.css("background-color", ""), a.options.execute.call(a)
				}, 5)
			},
			finished: function() {
				this.hasFinished || (this.hasFinished = !0, this.options.after && this.options.after.call(this), this.slider.imageContainer.css("overflow", "hidden"), this.slider.setupImages(), this.slider.element.trigger("fluxTransitionEnd", {
					currentImage: this.slider.getImage(this.slider.currentImageIndex)
				}))
			},
			fallbackSetup: function() {},
			fallbackExecute: function() {
				this.finished()
			}
		}, flux.transitions = {}, flux.transition_grid = function(b, c) {
			return new flux.transition(b, a.extend({
				columns: 6,
				rows: 6,
				forceSquare: !1,
				setup: function() {
					var b = this.slider.image1.width(),
						c = this.slider.image1.height(),
						d = Math.floor(b / this.options.columns),
						e = Math.floor(c / this.options.rows);
					this.options.forceSquare && (e = d, this.options.rows = Math.floor(c / e));
					for (var f = b - this.options.columns * d, g = Math.ceil(f / this.options.columns), h = c - this.options.rows * e, i = Math.ceil(h / this.options.rows), j = (this.slider.image1.height(), 0), k = 0, l = document.createDocumentFragment(), m = 0; m < this.options.columns; m++) {
						var n = d,
							k = 0;
						if (f > 0) {
							var o = f >= g ? g : f;
							n += o, f -= o
						}
						for (var p = 0; p < this.options.rows; p++) {
							var q = e,
								r = h;
							if (r > 0) {
								var o = r >= i ? i : r;
								q += o, r -= o
							}
							var s = a('<div class="tile tile-' + m + "-" + p + '"></div>').css({
								width: n + "px",
								height: q + "px",
								position: "absolute",
								top: k + "px",
								left: j + "px"
							});
							this.options.renderTile.call(this, s, m, p, n, q, j, k), l.appendChild(s.get(0)), k += q
						}
						j += n
					}
					this.slider.image1.get(0).appendChild(l)
				},
				execute: function() {
					var a = this,
						b = this.slider.image1.height(),
						c = this.slider.image1.find("div.barcontainer");
					this.slider.image2.hide(), c.last().transitionEnd(function(b) {
						a.slider.image2.show(), a.finished()
					}), c.css3({
						transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, b / 2, b / 2)
					})
				},
				renderTile: function(a, b, c, d, e, f, g) {}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.bars = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				columns: 10,
				rows: 1,
				delayBetweenBars: 40,
				renderTile: function(b, c, d, e, f, g, h) {
					a(b).css({
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px 0px"
					}).css3({
						"transition-duration": "400ms",
						"transition-timing-function": "ease-in",
						"transition-property": "all",
						"transition-delay": c * this.options.delayBetweenBars + "ms"
					})
				},
				execute: function() {
					var b = this,
						c = this.slider.image1.height(),
						d = this.slider.image1.find("div.tile");
					a(d[d.length - 1]).transitionEnd(function() {
						b.finished()
					}), setTimeout(function() {
						d.css({
							opacity: "0.5"
						}).css3({
							transform: flux.browser.translate(0, c)
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.bars3d = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				requires3d: !0,
				columns: 7,
				rows: 1,
				delayBetweenBars: 150,
				perspective: 1e3,
				renderTile: function(b, c, d, e, f, g, h) {
					var i = a('<div class="bar-' + c + '"></div>').css({
						width: e + "px",
						height: "100%",
						position: "absolute",
						top: "0px",
						left: "0px",
						"z-index": 200,
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px 0px",
						"background-repeat": "no-repeat"
					}).css3({
						"backface-visibility": "hidden"
					}),
						j = a(i.get(0).cloneNode(!1)).css({
							"background-image": this.slider.image2.css("background-image")
						}).css3({
							transform: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -f / 2, f / 2)
						}),
						k = a('<div class="side bar-' + c + '"></div>').css({
							width: f + "px",
							height: f + "px",
							position: "absolute",
							top: "0px",
							left: "0px",
							background: "#222",
							"z-index": 190
						}).css3({
							transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, -f / 2) + " " + flux.browser.rotateY(180),
							"backface-visibility": "hidden"
						}),
						l = a(k.get(0).cloneNode(!1)).css3({
							transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, e - f / 2)
						});
					a(b).css({
						width: e + "px",
						height: "100%",
						position: "absolute",
						top: "0px",
						left: g + "px",
						"z-index": c > this.options.columns / 2 ? 1e3 - c : 1e3
					}).css3({
						"transition-duration": "800ms",
						"transition-timing-function": "linear",
						"transition-property": "all",
						"transition-delay": c * this.options.delayBetweenBars + "ms",
						"transform-style": "preserve-3d"
					}).append(i).append(j).append(k).append(l)
				},
				execute: function() {
					this.slider.image1.css3({
						perspective: this.options.perspective,
						"perspective-origin": "50% 50%"
					}).css({
						"-moz-transform": "perspective(" + this.options.perspective + "px)",
						"-moz-perspective": "none",
						"-moz-transform-style": "preserve-3d"
					});
					var a = this,
						b = this.slider.image1.height(),
						c = this.slider.image1.find("div.tile");
					this.slider.image2.hide(), c.last().transitionEnd(function(b) {
						a.slider.image1.css3({
							"transform-style": "flat"
						}), a.slider.image2.show(), a.finished()
					}), setTimeout(function() {
						c.css3({
							transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, b / 2, b / 2)
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.blinds = function(b, c) {
			return new flux.transitions.bars(b, a.extend({
				execute: function() {
					var b = this,
						c = (this.slider.image1.height(), this.slider.image1.find("div.tile"));
					a(c[c.length - 1]).transitionEnd(function() {
						b.finished()
					}), setTimeout(function() {
						c.css({
							opacity: "0.5"
						}).css3({
							transform: "scalex(0.0001)"
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.zip = function(b, c) {
			return new flux.transitions.bars(b, a.extend({
				execute: function() {
					var b = this,
						c = this.slider.image1.height(),
						d = this.slider.image1.find("div.tile");
					a(d[d.length - 1]).transitionEnd(function() {
						b.finished()
					}), setTimeout(function() {
						d.each(function(b, d) {
							a(d).css({
								opacity: "0.3"
							}).css3({
								transform: flux.browser.translate(0, b % 2 ? "-" + 2 * c : c)
							})
						})
					}, 20)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.blocks = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				forceSquare: !0,
				delayBetweenBars: 100,
				renderTile: function(b, c, d, e, f, g, h) {
					var i = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
					a(b).css({
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px -" + h + "px"
					}).css3({
						"transition-duration": "350ms",
						"transition-timing-function": "ease-in",
						"transition-property": "all",
						"transition-delay": i + "ms"
					}), this.maxDelay === undefined && (this.maxDelay = 0), i > this.maxDelay && (this.maxDelay = i, this.maxDelayTile = b)
				},
				execute: function() {
					var b = this,
						c = this.slider.image1.find("div.tile");
					this.maxDelayTile.transitionEnd(function() {
						b.finished()
					}), setTimeout(function() {
						c.each(function(b, c) {
							a(c).css({
								opacity: "0"
							}).css3({
								transform: "scale(0.8)"
							})
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.blocks2 = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				cols: 12,
				forceSquare: !0,
				delayBetweenDiagnols: 150,
				renderTile: function(b, c, d, e, f, g, h) {
					Math.floor(10 * Math.random() * this.options.delayBetweenBars);
					a(b).css({
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px -" + h + "px"
					}).css3({
						"transition-duration": "350ms",
						"transition-timing-function": "ease-in",
						"transition-property": "all",
						"transition-delay": (c + d) * this.options.delayBetweenDiagnols + "ms",
						"backface-visibility": "hidden"
					})
				},
				execute: function() {
					var b = this,
						c = this.slider.image1.find("div.tile");
					c.last().transitionEnd(function() {
						b.finished()
					}), setTimeout(function() {
						c.each(function(b, c) {
							a(c).css({
								opacity: "0"
							}).css3({
								transform: "scale(0.8)"
							})
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.cube = function(b, c) {
			return new flux.transition(b, a.extend({
				requires3d: !0,
				barWidth: 100,
				direction: "left",
				perspective: 1e3,
				setup: function() {
					var b = this.slider.image1.width(),
						c = this.slider.image1.height();
					this.slider.image1.css3({
						perspective: this.options.perspective,
						"perspective-origin": "50% 50%"
					}), this.cubeContainer = a('<div class="cube"></div>').css({
						width: b + "px",
						height: c + "px",
						position: "relative"
					}).css3({
						"transition-duration": "800ms",
						"transition-timing-function": "linear",
						"transition-property": "all",
						"transform-style": "preserve-3d"
					});
					var d = {
						height: "100%",
						width: "100%",
						position: "absolute",
						top: "0px",
						left: "0px"
					},
						e = a('<div class="face current"></div>').css(a.extend(d, {
							background: this.slider.image1.css("background"),
							"background-size": this.slider.width + "px " + this.slider.height + "px"
						})).css3({
							"backface-visibility": "hidden"
						});
					this.cubeContainer.append(e);
					var f = a('<div class="face next"></div>').css(a.extend(d, {
						background: this.slider.image2.css("background-image")
					})).css3({
						transform: this.options.transitionStrings.call(this, this.options.direction, "nextFace"),
						"backface-visibility": "hidden"
					});
					this.cubeContainer.append(f), this.slider.image1.append(this.cubeContainer)
				},
				execute: function() {
					var a = this;
					this.slider.image1.width(), this.slider.image1.height();
					this.slider.image2.hide(), this.cubeContainer.transitionEnd(function() {
						a.slider.image2.show(), a.finished()
					}), setTimeout(function() {
						a.cubeContainer.css3({
							transform: a.options.transitionStrings.call(a, a.options.direction, "container")
						})
					}, 50)
				},
				transitionStrings: function(a, b) {
					var c = this.slider.image1.width(),
						d = this.slider.image1.height(),
						e = {
							up: {
								nextFace: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, d / 2, d / 2),
								container: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2)
							},
							down: {
								nextFace: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2),
								container: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, d / 2, d / 2)
							},
							left: {
								nextFace: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2),
								container: flux.browser.rotateY(-90) + " " + flux.browser.translate(-c / 2, 0, c / 2)
							},
							right: {
								nextFace: flux.browser.rotateY(-90) + " " + flux.browser.translate(-c / 2, 0, c / 2),
								container: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2)
							}
						};
					return e[a] && e[a][b] ? e[a][b] : !1
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.tiles3d = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				requires3d: !0,
				forceSquare: !0,
				columns: 5,
				perspective: 600,
				delayBetweenBarsX: 200,
				delayBetweenBarsY: 150,
				renderTile: function(b, c, d, e, f, g, h) {
					var i = a("<div></div>").css({
						width: e + "px",
						height: f + "px",
						position: "absolute",
						top: "0px",
						left: "0px",
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px -" + h + "px",
						"background-repeat": "no-repeat",
						"-moz-transform": "translateZ(1px)"
					}).css3({
						"backface-visibility": "hidden"
					}),
						j = a(i.get(0).cloneNode(!1)).css({
							"background-image": this.slider.image2.css("background-image")
						}).css3({
							transform: flux.browser.rotateY(180),
							"backface-visibility": "hidden"
						});
					a(b).css({
						"z-index": (c > this.options.columns / 2 ? 500 - c : 500) + (d > this.options.rows / 2 ? 500 - d : 500)
					}).css3({
						"transition-duration": "800ms",
						"transition-timing-function": "ease-out",
						"transition-property": "all",
						"transition-delay": c * this.options.delayBetweenBarsX + d * this.options.delayBetweenBarsY + "ms",
						"transform-style": "preserve-3d"
					}).append(i).append(j)
				},
				execute: function() {
					this.slider.image1.css3({
						perspective: this.options.perspective,
						"perspective-origin": "50% 50%"
					});
					var a = this,
						b = this.slider.image1.find("div.tile");
					this.slider.image2.hide(), b.last().transitionEnd(function(b) {
						a.slider.image2.show(), a.finished()
					}), setTimeout(function() {
						b.css3({
							transform: flux.browser.rotateY(180)
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.turn = function(b, c) {
			return new flux.transition(b, a.extend({
				requires3d: !0,
				perspective: 1300,
				direction: "left",
				setup: function() {
					var b = a('<div class="tab"></div>').css({
						width: "50%",
						height: "100%",
						position: "absolute",
						top: "0px",
						left: "left" == this.options.direction ? "50%" : "0%",
						"z-index": 101
					}).css3({
						"transform-style": "preserve-3d",
						"transition-duration": "1000ms",
						"transition-timing-function": "ease-out",
						"transition-property": "all",
						"transform-origin": "left" == this.options.direction ? "left center" : "right center"
					}),
						c = (a("<div></div>").appendTo(b).css({
							background: this.slider.image1.css("background"),
							"background-size": this.slider.width + "px " + this.slider.height + "px",
							"background-position": ("left" == this.options.direction ? "-" + this.slider.image1.width() / 2 : 0) + "px 0",
							width: "100%",
							height: "100%",
							position: "absolute",
							top: "0",
							left: "0",
							"-moz-transform": "translateZ(1px)"
						}).css3({
							"backface-visibility": "hidden"
						}), a("<div></div>").appendTo(b).css({
							background: this.slider.image2.css("background"),
							"background-size": this.slider.width + "px " + this.slider.height + "px",
							"background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
							width: "100%",
							height: "100%",
							position: "absolute",
							top: "0",
							left: "0"
						}).css3({
							transform: flux.browser.rotateY(180),
							"backface-visibility": "hidden"
						}), a("<div></div>").css({
							position: "absolute",
							top: "0",
							left: "left" == this.options.direction ? "0" : "50%",
							width: "50%",
							height: "100%",
							background: this.slider.image1.css("background"),
							"background-size": this.slider.width + "px " + this.slider.height + "px",
							"background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
							"z-index": 100
						})),
						d = a('<div class="overlay"></div>').css({
							position: "absolute",
							top: "0",
							left: "left" == this.options.direction ? "50%" : "0",
							width: "50%",
							height: "100%",
							background: "#000",
							opacity: 1
						}).css3({
							"transition-duration": "800ms",
							"transition-timing-function": "linear",
							"transition-property": "opacity"
						}),
						e = a("<div></div>").css3({
							width: "100%",
							height: "100%"
						}).css3({
							perspective: this.options.perspective,
							"perspective-origin": "50% 50%"
						}).append(b).append(c).append(d);
					this.slider.image1.append(e)
				},
				execute: function() {
					var a = this;
					this.slider.image1.find("div.tab").first().transitionEnd(function() {
						a.finished()
					}), setTimeout(function() {
						a.slider.image1.find("div.tab").css3({
							transform: flux.browser.rotateY("left" == a.options.direction ? -179 : 179)
						}), a.slider.image1.find("div.overlay").css({
							opacity: 0
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.slide = function(b, c) {
			return new flux.transition(b, a.extend({
				direction: "left",
				setup: function() {
					var b = this.slider.image1.width(),
						c = this.slider.image1.height(),
						d = a('<div class="current"></div>').css({
							height: c + "px",
							width: b + "px",
							position: "absolute",
							top: "0px",
							left: "0px",
							background: this.slider["left" == this.options.direction ? "image1" : "image2"].css("background")
						}).css3({
							"backface-visibility": "hidden"
						}),
						e = a('<div class="next"></div>').css({
							height: c + "px",
							width: b + "px",
							position: "absolute",
							top: "0px",
							left: b + "px",
							background: this.slider["left" == this.options.direction ? "image2" : "image1"].css("background")
						}).css3({
							"backface-visibility": "hidden"
						});
					this.slideContainer = a('<div class="slide"></div>').css({
						width: 2 * b + "px",
						height: c + "px",
						position: "relative",
						left: "left" == this.options.direction ? "0px" : -b + "px",
						"z-index": 101
					}).css3({
						"transition-duration": "600ms",
						"transition-timing-function": "ease-in",
						"transition-property": "all"
					}), this.slideContainer.append(d).append(e), this.slider.image1.append(this.slideContainer)
				},
				execute: function() {
					var a = this,
						b = this.slider.image1.width();
					"left" == this.options.direction && (b = -b), this.slideContainer.transitionEnd(function() {
						a.finished()
					}), setTimeout(function() {
						a.slideContainer.css3({
							transform: flux.browser.translate(b)
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		flux.transitions.explode = function(b, c) {
			return new flux.transition_grid(b, a.extend({
				columns: 6,
				forceSquare: !0,
				delayBetweenBars: 30,
				perspective: 800,
				requires3d: !0,
				renderTile: function(b, c, d, e, f, g, h) {
					var i = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
					a(b).css({
						background: this.slider.image1.css("background"),
						"background-size": this.slider.width + "px " + this.slider.height + "px",
						"background-position": "-" + g + "px -" + h + "px"
					}).css3({
						"transition-duration": "500ms",
						"transition-timing-function": "ease-in",
						"transition-property": "all",
						"transition-delay": i + "ms"
					}), this.maxDelay === undefined && (this.maxDelay = 0), i > this.maxDelay && (this.maxDelay = i, this.maxDelayTile = b)
				},
				execute: function() {
					this.slider.image1.css3({
						perspective: this.options.perspective,
						"perspective-origin": "50% 50%"
					}).css({
						"-moz-transform": "perspective(" + this.options.perspective + "px)",
						"-moz-perspective": "none",
						"-moz-transform-style": "preserve-3d"
					});
					var b = this,
						c = this.slider.image1.find("div.tile");
					this.maxDelayTile.transitionEnd(function() {
						b.slider.image1.css3({
							"transform-style": "flat"
						}), b.finished()
					}), setTimeout(function() {
						c.each(function(b, c) {
							a(c).css({
								opacity: "0"
							}).css3({
								transform: flux.browser.translate(0, 0, 700) + " rotate3d(" + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", 90deg) "
							})
						})
					}, 50)
				}
			}, c))
		}
	}(window.jQuery || window.Zepto), function(a) {
		a.fn.qrcode = function(b) {
			"string" == typeof b && (b = {
				text: b
			}), b = a.extend({}, {
				render: "canvas",
				width: 256,
				height: 256,
				typeNumber: -1,
				correctLevel: QRErrorCorrectLevel.H,
				background: "#ffffff",
				foreground: "#000000"
			}, b);
			var c = function() {
					var a = new QRCode(b.typeNumber, b.correctLevel);
					a.addData(b.text), a.make();
					var c = document.createElement("canvas");
					c.width = b.width, c.height = b.height;
					for (var d = c.getContext("2d"), e = b.width / a.getModuleCount(), f = b.height / a.getModuleCount(), g = 0; g < a.getModuleCount(); g++) for (var h = 0; h < a.getModuleCount(); h++) {
						d.fillStyle = a.isDark(g, h) ? b.foreground : b.background;
						var i = Math.ceil((h + 1) * e) - Math.floor(h * e),
							j = Math.ceil((g + 1) * e) - Math.floor(g * e);
						d.fillRect(Math.round(h * e), Math.round(g * f), i, j)
					}
					return c
				},
				d = function() {
					var c = new QRCode(b.typeNumber, b.correctLevel);
					c.addData(b.text), c.make();
					for (var d = a("<table></table>").css("width", b.width + "px").css("height", b.height + "px").css("border", "0px").css("border-collapse", "collapse").css("background-color", b.background), e = b.width / c.getModuleCount(), f = b.height / c.getModuleCount(), g = 0; g < c.getModuleCount(); g++) for (var h = a("<tr></tr>").css("height", f + "px").appendTo(d), i = 0; i < c.getModuleCount(); i++) a("<td></td>").css("width", e + "px").css("background-color", c.isDark(g, i) ? b.foreground : b.background).appendTo(h);
					return d
				};
			return this.each(function() {
				var e = "canvas" == b.render ? c() : d();
				a(e).appendTo(this)
			})
		}
	}(jQuery), function() {
		function a(a) {
			$("#finger_div" + a).on(d, function() {
				$("#page" + a).find(".u-arrow-bottom").attr("style", "display: none;"), $("#page" + a).find(".edit_wrapper").attr("style", "display: none;"), $("#finger_line" + a).show(), $("#finger_info" + a).html("扫描中..."), $("#finger_line" + a).stop(!0, !1).animate({
					top: "50%",
					marginTop: "-87px"
				}, 1e3, function() {
					$("#finger_div" + a).unbind(), $("#finger_info" + a).hide().html("扫描成功").fadeIn(300, function() {
						$("#finger_line" + a).fadeOut(), $("#finger_zw" + a).fadeOut(), $("#finger_div" + a).fadeOut(), $("#finger_info" + a).fadeOut(200, function() {
							setTimeout(function() {
								$("#finger_background" + a).removeClass("lock").addClass("unlock")
							}, 500), $("#finger_background" + a).addClass("noFinger").fadeOut(500, function() {
								$("#page" + a).empty(), renderPage(eqShow, a, b);
								for (var c = 0; c < b[a - 1].elements.length; c++) {
									var d = eqShow.selectElement(b[a - 1].elements[c].id);
									eqxCommon.bindTrigger(d, b[a - 1].elements[c])
								}
							}), $("#audio_btn").css("opacity", 1), 1 == a && eqShow.playVideo(audioObj)
						})
					})
				})
			})
		}
		var b;
		window.lockEffect = function(c, d, e, f, g) {
			audioObj = c, b = d;
			for (var h = 0; h < e.length; h++) {
				var i = e[h].num;
				$(".finger_background", "#page" + i).length && $(".finger_background", "#page" + i).remove(), $('<div class = "finger_background page_effect lock"></div>').prependTo($("#page" + i)).attr("id", "finger_background" + i).attr("style", "background-image: url(" + e[h].finger.bgImage.path + ");width:100%; height: 100%;"), $('<div class = "finger_div"></div>').prependTo($("#finger_background" + i)).attr("id", "finger_div" + i), $('<img class = "finger_zw"/>').appendTo($("#finger_background" + i)).attr("id", "finger_zw" + i).attr("src", e[h].finger.zwImage.path), $('<img class = "finger_line" src = "' + CLIENT_CDN + 'view/images/finger_line.png">').appendTo($("#finger_background" + e[h].num)).attr("id", "finger_line" + e[h].num), $('<p class = "finger_info"></p>').appendTo($("#finger_background" + i)).attr("id", "finger_info" + i), renderPage(eqShow, i, d), a(i)
			}
		};
		var c = "ontouchstart" in window ? !0 : !1,
			d = c ? "touchstart" : "mousedown"
	}();
	var eqxiu = function() {
			function a(a) {
				if ("10" != n._scrollMode) {
					C = !0;
					for (var d, e = 0, f = n._pageData.length; f > e; e++) a == n._pageData[e].id && (d = n._pageData[e].num);
					d || (d = a);
					var g = $(n.$currentPage).find(".m-img").attr("id").substring(4),
						h = $(n.$currentPage).siblings(".main-page").find("#page" + d);
					if (!h) return;
					n.$activePage = $(h).parent(".main-page").get(0), g > d ? b() : d > g && c()
				} else flipBookScroll(a)
			}
			function b(a) {
				if (!(w && 2 == a || x && 1 == a)) if ("10" != n._scrollMode) {
					var b = 0;
					o();
					var c = setInterval(function() {
						b += 2, "0" == n._scrollMode || "1" == n._scrollMode || "2" == n._scrollMode || "6" == n._scrollMode || "7" == n._scrollMode || "8" == n._scrollMode || "11" == n._scrollMode || "12" == n._scrollMode || "13" == n._scrollMode || "14" == n._scrollMode || "15" == n._scrollMode ? I = b : ("3" == n._scrollMode || "4" == n._scrollMode || "5" == n._scrollMode || "9" == n._scrollMode) && (H = b), p(), b >= 21 && (clearInterval(c), q())
					}, 1)
				} else $(document).trigger("bookFlipPre")
			}
			function c(a) {
				if (!(w && 2 == a || x && 1 == a)) if ("10" != n._scrollMode) {
					u = !1;
					var b = 0;
					o();
					var c = setInterval(function() {
						b -= 2, "0" == n._scrollMode || "1" == n._scrollMode || "2" == n._scrollMode || "6" == n._scrollMode || "7" == n._scrollMode || "8" == n._scrollMode || "11" == n._scrollMode || "12" == n._scrollMode || "13" == n._scrollMode || "14" == n._scrollMode || "15" == n._scrollMode ? I = b : ("3" == n._scrollMode || "4" == n._scrollMode || "5" == n._scrollMode || "9" == n._scrollMode) && (H = b), p(), -21 >= b && (clearInterval(c), q(), B || n.$activePage || clearInterval(z))
					}, 1)
				} else $(document).trigger("bookFlipNext")
			}
			function d() {
				z = setInterval(function() {
					"10" != n._scrollMode && c()
				}, v)
			}
			function e() {
				clearInterval(z)
			}
			function f() {
				n.$activePage = n._$pages.last().get(0), n._$pages.parent().find(".z-current").removeClass("z-current"), n._$pages.last().addClass("z-current")
			}
			function g(a) {
				a ? n._$pages.last().prev().remove() : n._$pages.last().remove()
			}
			function h(a) {
				n._scrollMode = a, r = a, _scrollMode = a
			}
			function i(a) {
				n._isforbidHandFlip = a
			}
			function j(a) {
				v = 1e3 * a, e(), d()
			}
			function k() {
				n._$pages = n._$app.find(".main-page")
			}
			function f(a) {
				n._$pages.parent().find(".z-current").removeClass("z-current"), a ? (n.$activePage = n._$pages.last().prev().get(0), n._$pages.last().prev().addClass("z-current")) : (n.$activePage = n._$pages.last().get(0), n._$pages.last().addClass("z-current"))
			}
			function l(a) {
				n._pageData = a
			}
			function m(a) {
				B = a
			}
			var n, o, p, q, r, s, t, u, v, w, x, y, z, A = $(window),
				B = !1,
				C = !1,
				D = mobilecheck(),
				E = tabletCheck(),
				F = 0,
				G = 0,
				H = 0,
				I = 0,
				J = !1,
				K = !1,
				L = !0,
				M = 500,
				N = .4,
				O = function(a, b, c, e) {
					function f(a, b, c) {
						for (var d = ["", "webkit", "moz"], e = 0, f = d.length; f > e; e++) {
							0 != e || mobilecheck() || (b = b.substring(0, 1).toLowerCase() + b.substring(1, b.length));
							var g = c instanceof Array ? c[e] : c,
								h = d[e] + b;
							a[h] = g
						}
					}
					function g(a, b, c) {
						for (var d = ["", "-webkit-", "-moz-"], e = 0; e < d.length; e++) a.css(d[e] + b, c)
					}
					function h(a) {
						var b;
						return b = $("#inside_" + a, ".phone-view").length ? $("#inside_" + a, ".phone-view") : $("#inside_" + a)
					}
					function i() {
						n._isDisableFlipPage = !0;
						var a;
						"0" == b || "1" == b || "2" == b || "6" == b || "9" == b || "11" == b || "12" == b ? (a = I > 0 ? -t : t, g($(n.$activePage), "transform", "translateY(" + a + "px)"), g($(n.$currentPage), "transform", "translateY(0) scale(1)")) : ("3" == b || "5" == b) && (a = H > 0 ? -s : s, g($(n.$activePage), "transform", "translateX(" + a + "px)"), g($(n.$currentPage), "transform", "translateX(0) scale(1)")), setTimeout(function() {
							$(n.$currentPage).attr("style", ""), $(n.$activePage).attr("style", ""), $(n.$activePage).removeClass("z-active z-move"), n._isDisableFlipPage = !1
						}, 500)
					}
					function j() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {
							if (n._isDisableFlipPrevPage) return;
							K || L ? (K = !1, L = !1, aa(!0), ba(!0, "bottom center", "translateY", t)) : ca(!0, "translateY", t, I, n._scrollMode)
						} else if (0 > I) {
							if (n._isDisableFlipNextPage) return;
							!K || L ? (K = !0, L = !1, aa(!1), ba(!1, "top center", "translateY", t)) : ca(!1, "translateY", t, I, n._scrollMode)
						}
					}
					function k() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (da("translateY", I, t, n._scrollMode), $(document).trigger("flipend")) : (n._isDisableFlipPage = !1, i())
					}
					function l() {
						if (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {
							if (n._isDisableFlipPrevPage) return;
							K || L ? (K = !1, L = !1, aa(!0), ba(!0, "center right", "translateX", s)) : ca(!0, "translateX", s, H, n._scrollMode)
						} else if (0 > H) {
							if (n._isDisableFlipNextPage) return;
							!K || L ? (K = !0, L = !1, aa(!1), ba(!1, "center left", "translateX", s)) : ca(!1, "translateX", s, H, n._scrollMode)
						}
					}
					function m() {
						Math.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (da("translateX", H, s, n._scrollMode), $(document).trigger("flipend")) : (n._isDisableFlipPage = !1, i())
					}
					function r() {
						if (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {
							if (n._isDisableFlipPrevPage) return;
							K || L ? (K = !1, L = !1, aa(!0), s = D ? window.innerWidth : $(".nr").width(), ba(!0, "", "translateX", s)) : ca(!0, "translateX", s, H, n._scrollMode)
						} else if (0 > H) {
							if (n._isDisableFlipNextPage) return;
							!K || L ? (K = !0, L = !1, aa(!1), s = D ? window.innerWidth : $(".nr").width(), ba(!1, "", "translateX", s)) : ca(!1, "translateX", s, H, n._scrollMode)
						}
					}
					function u() {
						Math.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (da("translateX", H, s, n._scrollMode), $(document).trigger("flipend")) : (n._isDisableFlipPage = !1, i())
					}
					function z() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {
							if (n._isDisableFlipPrevPage) return;
							K || L ? (K = !1, L = !1, aa(!0), t = D ? window.innerHeight : $(".nr").height(), ba(!0, "", "translateY", t)) : ca(!0, "translateY", t, I, n._scrollMode)
						} else if (0 > I) {
							if (n._isDisableFlipNextPage) return;
							!K || L ? (K = !0, L = !1, aa(!1), t = D ? window.innerHeight : $(".nr").height(), ba(!1, "", "translateY", t)) : ca(!1, "translateY", t, I, n._scrollMode)
						}
					}
					function O() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (da("translateY", I, t, n._scrollMode), $(document).trigger("flipend")) : (n._isDisableFlipPage = !1, i())
					}
					function P() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {
							if (n._isDisableFlipNextPage) return;
							(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass("z-move z-active"), aa(!0), f(n.$activePage.style, "Transform", "rotateX(90deg) translateY(-" + t / 2 + "px) translateZ(" + t / 2 + "px)"), f(ea.get(0).style, "Perspective", "700px"), f(ea.get(0).style, "TransformStyle", "preserve-3d")), n.$activePage && n.$activePage.classList.contains("main-page") && ($(n.$activePage).addClass("z-active z-move").trigger("active").css("zIndex", 1), f(n.$currentPage.style, "Transform", "rotateX(-" + I / t * 90 + "deg) translateY(" + I / 2 + "px) translateZ(" + I / 2 + "px)"), f(n.$activePage.style, "Transform", "rotateX(" + (90 - I / t * 90) + "deg) translateY(" + (-(t / 2) + I / 2) + "px) translateZ(" + (t / 2 - I / 2) + "px)"))
						} else if (0 > I) {
							if (n._isDisableFlipNextPage) return;
							(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass("z-move z-active"), aa(!1), f(n.$activePage.style, "Transform", "rotateX(-90deg) translateY(-" + t / 2 + "px) translateZ(-" + t / 2 + "px)"), f(ea.get(0).style, "Perspective", "700px"), f(ea.get(0).style, "TransformStyle", "preserve-3d")), n.$activePage && n.$activePage.classList.contains("main-page") ? ($(n.$activePage).addClass("z-active z-move").trigger("active").css("zIndex", 0), f(n.$currentPage.style, "Transform", "rotateX(" + -I / t * 90 + "deg) translateY(" + I / 2 + "px) translateZ(" + -I / 2 + "px)"), f(n.$activePage.style, "Transform", "rotateX(" + (-90 - I / t * 90) + "deg) translateY(" + (t / 2 + I / 2) + "px) translateZ(" + (t / 2 + I / 2) + "px)")) : (f(n.$currentPage.style, "Transform", "translateX(0px) scale(1)"), n.$activePage = null)
						}
					}
					function Q() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (I > 0 ? f(n.$currentPage.style, "Transform", "rotateX(-90deg) translateY(" + t / 2 + "px) translateZ(" + t / 2 + "px)") : f(n.$currentPage.style, "Transform", "rotateX(90deg) translateY(-" + t / 2 + "px) translateZ(" + t / 2 + "px)"), f(n.$currentPage.style, "zIndex", "0"), f(n.$activePage.style, "Transform", "rotateX(0deg) translateY(0px) translateZ(0px)"), f(n.$activePage.style, "zIndex", "2"), $(document).trigger("flipend")) : (f(n.$currentPage.style, "Transition", "none"), f(n.$activePage.style, "Transition", "none"), n._isDisableFlipPage = !1, i())
					}
					function R() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {
							if (n._isDisableFlipNextPage) return;
							(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass("z-move z-active"), aa(!0), g(ea, "perspective", "700px"), g(ea, "transform-style", "preserve-3d"), f(n.$activePage.style, "TransformOrigin", "top"), f(n.$activePage.style, "Transform", "rotateX(90deg)")), n.$activePage && n.$activePage.classList.contains("main-page") && ($(n.$activePage).addClass("z-active z-move").trigger("active"), f(n.$activePage.style, "Transform", "rotateX(" + (90 - I / t * 90) + "deg) "))
						} else if (0 > I) {
							if (n._isDisableFlipNextPage) return;
							(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass("z-move z-active"), aa(!1), f(n.$activePage.style, "TransformOrigin", "bottom"), f(n.$activePage.style, "Transform", "rotateX(-90deg)"), g(ea, "perspective", "700px"), g(ea, "transform-style", "preserve-3d")), n.$activePage && n.$activePage.classList.contains("main-page") ? ($(n.$activePage).addClass("z-active z-move").trigger("active"), f(n.$activePage.style, "Transform", "rotateX(" + (-90 - I / t * 90) + "deg) ")) : (f(n.$currentPage.style, "Transform", "translateX(0px) scale(1)"), n.$activePage = null)
						}
					}
					function S() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (I > 0 ? f(n.$activePage.style, "Transform", "rotateX(0deg)") : f(n.$activePage.style, "Transform", "rotateX(0deg)"), $(document).trigger("flipend")) : (f(n.$currentPage.style, "Transition", "none"), f(n.$activePage.style, "Transition", "none"), n._isDisableFlipPage = !1, i())
					}
					function T() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) {
							if (I > 0) {
								if (n._isDisableFlipPrevPage) return;
								(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!0), n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move")), n.$activePage.style.opacity = 0)
							} else if (0 > I) {
								if (n._isDisableFlipNextPage) return;
								(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!1), n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move")), n.$activePage.style.opacity = 0)
							}
							var a = Math.abs(I) / t * 1.3;
							n.$activePage.style.opacity = a.toFixed(1), a.toFixed(3) <= 1 && g($(n.$activePage), "transform", "scale(" + a.toFixed(3) + ")")
						}
					}
					function U() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (g($(n.$activePage), "transform", "scale(1)"), n.$activePage.style.opacity = 1, $(document).trigger("flipend")) : (f(n.$currentPage.style, "Transition", "none"), f(n.$activePage.style, "Transition", "none"), n._isDisableFlipPage = !1, i())
					}
					function V() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {
							if (n._isDisableFlipPrevPage) return;
							(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-fade-in"), n.$activePage.classList.remove("z-move")), aa(!0), n.$currentPage.style.zIndex = 1, n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-fade-in"), n.$activePage.classList.add("z-move")))
						} else if (0 > I) {
							if (n._isDisableFlipNextPage) return;
							(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-fade-in"), n.$activePage.classList.remove("z-move")), aa(!1), n.$currentPage.style.zIndex = 1, n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-fade-in"), n.$activePage.classList.add("z-move")))
						}
					}
					function W() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? setTimeout(function() {
							$(document).trigger("flipend")
						}, 1600) : (n._isDisableFlipPage = !1, i())
					}
					function X() {
						if (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {
							if (n._isDisableFlipPrevPage) return;
							K || L ? (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!0), n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move"), g($(n.$activePage), "Transform", "scale(0.3) translateX(0) translateZ(-" + t + "px) rotateY(45deg)"), n.$activePage.style.zIndex = "0"), g(ea, "perspective", "1000px"), n.$currentPage.style.zIndex = "100") : n.$activePage && (s / 4 >= H ? g($(n.$currentPage), "Transform", "translateX(" + H + "px)") : g($(n.$currentPage), "Transform", "translateX(" + 1.5 * H + "px) scale(" + ((5 * s / 4 - H) / s).toFixed(3) + ") rotateY(" + H / s * 45 + "deg) translateZ(-" + (H - s / 4) + "px)"))
						} else if (0 > H) {
							if (n._isDisableFlipNextPage) return;
							!K || L ? (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!1), n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move"), g($(n.$activePage), "Transform", "scale(0.3) translateX(" + (s + 300) + "px) translateZ(-" + t + "px) rotateY(-45deg)"), n.$activePage.style.zIndex = "0"), g(ea, "perspective", "1000px"), n.$currentPage.style.zIndex = "100") : n.$activePage && (H >= -s / 4 ? g($(n.$currentPage), "Transform", "translateX(" + H + "px)") : g($(n.$currentPage), "Transform", "translateX(" + 1.5 * H + "px) scale(" + ((5 * s / 4 + H) / s).toFixed(3) + ") rotateY(" + H / s * 45 + "deg) translateZ(" + (H + s / 4) + "px)"), g($(n.$activePage), "Transform", "scale(" + (.3 - (H + s / 4) / s).toFixed(3) + ") translateX(" + (-H - s / 4 + 200) + "px) translateZ(" + (-H - 3 * s / 4) + "px) rotateY(-" + (45 + (H + s / 4) / s * 45) + "deg)"))
						}
					}
					function Y() {
						Math.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (H > 0 ? (n.$currentPage.style.webkitTransformOrigin = "left", n.$currentPage.style.webkitTransform = "translateX(0) translateZ(-" + t + "px) rotateY(0) scale(0.2)", n.$activePage.style.webkitTransform = "translateX(0) translateZ(0) rotateY(0) scale(1)", n.$currentPage.style.zIndex = "0", n.$activePage.style.zIndex = "1") : (n.$currentPage.style.webkitTransformOrigin = "right", n.$currentPage.style.webkitTransform = "translateX(" + s + "px) translateZ(-" + t + "px) rotateY(0) scale(0.2)", n.$activePage.style.webkitTransform = "translateX(0) translateZ(0) rotateY(0) scale(1)", n.$activePage.style.zIndex = "1", n.$currentPage.style.zIndex = "0"), $(document).trigger("flipend")) : (f(n.$currentPage.style, "Transition", "none"), f(n.$activePage.style, "Transition", "none"), n._isDisableFlipPage = !1, i())
					}
					function Z() {
						if (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) {
							if (I > 0) {
								if (n._isDisableFlipPrevPage) return;
								(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!0), n.$activePage && n.$activePage.classList.contains("main-page") && ($(n.$activePage).addClass("z-active z-move"), $(n.$activePage).css({
									zIndex: 0,
									opacity: 1
								})), $(n.$currentPage).css({
									opacity: 1
								}), $(n.$activePage).css({
									zIndex: 0,
									opacity: 1
								}), g($(n.$activePage), "transform", "translateY(0)"), g($(n.$currentPage), "transform-origin", "0% 0% 0px"))
							} else if (0 > I) {
								if (n._isDisableFlipNextPage) return;
								(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), aa(!1), n.$activePage && n.$activePage.classList.contains("main-page") && (n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move"), $(n.$activePage).css({
									zIndex: 0,
									opacity: 1
								})), $(n.$currentPage).css({
									opacity: 1
								}), $(n.$activePage).css({
									zIndex: 0,
									opacity: 1
								}), g($(n.$activePage), "transform", "translateY(0)"), g($(n.$currentPage), "transform-origin", "0% 0% 0px"))
							}
							n.$activePage && (g($(n.$currentPage), "transform-origin", "0% 0% 0px"), g($(n.$currentPage), "transform", "rotate(" + Math.abs(I) / t * 90 + "deg)"), n.$currentPage.style.opacity = ((t - Math.abs(I)) / t).toFixed(1))
						}
					}
					function _() {
						Math.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (g($(n.$currentPage), "transform", "translateY(" + t + "px) rotate(" + Math.abs(I) / t * 90 + "deg)"), $(n.$currentPage).css({
							opacity: .5
						}), $(document).trigger("flipend")) : (f(n.$currentPage.style, "Transition", "none"), f(n.$activePage.style, "Transition", "none"), n._isDisableFlipPage = !1, i())
					}
					function aa(a) {
						C || (a ? n.$currentPage.previousElementSibling && n.$currentPage.previousElementSibling.classList.contains("main-page") ? n.$activePage = n.$currentPage.previousElementSibling : B ? n.$activePage = n._$pages.last().get(0) : n.$activePage = !1 : n.$currentPage.nextElementSibling && n.$currentPage.nextElementSibling.classList.contains("main-page") ? n.$activePage = n.$currentPage.nextElementSibling : B ? n.$activePage = n._$pages.first().get(0) : n.$activePage = !1)
					}
					function ba(a, b, c, d) {
						if (n.$activePage && (n.$activePage.classList.remove("z-active"), n.$activePage.classList.remove("z-move")), n.$activePage && n.$activePage.classList.contains("main-page")) {
							n.$activePage.classList.add("z-active"), n.$activePage.classList.add("z-move");
							var e = a ? "-" : "";
							n.$activePage.style.webkitTransition = "none", n.$activePage.style.webkitTransform = c + "(" + e + d + "px)", n.$activePage.style.mozTransition = "none", n.$activePage.style.mozTransform = c + "(" + e + d + "px)", n.$activePage.style.transition = "none", n.$activePage.style.transform = c + "(" + e + d + "px)", $(n.$activePage).trigger("active"), b && g($(n.$currentPage), "transform-origin", b)
						} else f(n.$currentPage.style, "Transform", c + "(0px) scale(1)")
					}
					function ca(a, b, c, d, e) {
						if (n.$activePage) {
							var f = a ? "-" : "";
							g($(n.$activePage), "transform", b + "(" + f + (c - Math.abs(d)) + "px)"), "1" == e || "3" == e ? g($(n.$currentPage), "transform", "scale(" + ((c - Math.abs(d)) / t).toFixed(3) + ")") : ("5" == e || "11" == e) && g($(n.$currentPage), "transform", b + "(" + d + "px)")
						}
					}
					function da(a, b, c, d) {
						if ("1" == d || "3" == d) g($(n.$currentPage), "transform", "scale(0.2)");
						else if ("5" == d || "11" == d) {
							var e = b > 0 ? "" : "-";
							g($(n.$currentPage), "transform", a + "(" + e + c + "px)")
						} else g($(n.$currentPage), "transform", "scale(1)");
						g($(n.$activePage), "transform", a + "(0px)")
					}
					this._$app = a, this._$pages = this._$app.find(".main-page"), this.$currentPage = this._$pages.eq(0), this.$activePage = null, this._isInitComplete = !1, this._isDisableFlipPage = !1, this._isDisableFlipPrevPage = !1, this._isDisableFlipNextPage = !1, this._scrollMode = b, this._pageData = c, this.pageData = e, b = b, this._isforbidHandFlip = e.obj.property.forbidHandFlip, n = this, s = D || E ? window.innerWidth : a.width(), t = D || E ? window.innerHeight : a.height();
					var ea = $("#con"),
						fa = !1;
					("8" == b || "9" == b) && (N = .7, M = 800), 0 == b || 1 == b || 2 == b || 6 == b || 7 == b || 8 == b || 11 == b || 12 == b ? x = !0 : (3 == b || 4 == b || 5 == b || 10 == b) && (w = !0), x ? (y = $(".ctrl_panel_dir .ctrl-down"), $nextCtrl = $(".ctrl_panel_dir .ctrl-up")) : w && (y = $(".ctrl_panel_dir .ctrl-right"), $nextCtrl = $(".ctrl_panel_dir .ctrl-left")), e.obj.property.hasOwnProperty("triggerLoop") || (e.obj.property.triggerLoop = !0), B = e.obj.property.triggerLoop, e.obj.property.autoFlip && (v = 1e3 * e.obj.property.autoFlipTime, d());
					var ga;
					if (c[0].elements && c[0].elements.length) for (var ha = 0; ha < c[0].elements.length; ha++) {
						ga || (eqShow.shakeTrigger(c, n.$currentPage), ga = !0);
						var ia = h(c[0].elements[ha].id);
						eqxCommon.bindTrigger(ia, c[0].elements[ha])
					}
					if (function() {
						A.on("scroll.elasticity", function(a) {
							a.preventDefault()
						}).on("touchmove.elasticity", function(a) {
							a.preventDefault()
						}), A.delegate("img", "mousemove", function(a) {
							a.preventDefault()
						})
					}(), "10" != b) {
						var ja = !1;
						n._$app.on("mousedown touchstart", function(a) {
							n._isforbidHandFlip || (o(a), ja = !0)
						}).on("mousemove touchmove", function(a) {
							n._isforbidHandFlip || ja && p(a)
						}).on("mouseup touchend mouseleave", function(a) {
							n._isforbidHandFlip || (q(a), ja = !1)
						})
					} else turnBook(e);
					o = function(a) {
						fa = !1, D && a && (a = event), n._isDisableFlipPage || (n.$currentPage = n._$pages.filter(".z-current").get(0), C || (n.$activePage = null), n.$currentPage && completeEffect($(n.$currentPage)) && (J = !0, K = !1, L = !0, H = 0, I = 0, a && "mousedown" == a.type ? (F = a.pageX, G = a.pageY) : a && "touchstart" == a.type && (F = a.touches ? a.touches[0].pageX : a.originalEvent.touches[0].pageX, G = a.touches ? a.touches[0].pageY : a.originalEvent.touches[0].pageY), n.$currentPage.classList.add("z-move"), f(n.$currentPage.style, "Transition", "none"), "12" == n._scrollMode && (n.$currentPage.style.zIndex = 3)))
					}, p = function(a) {
						D && a && (a = event), J && n._$pages.length > 1 && (a && "mousemove" == a.type ? (H = a.pageX - F, I = a.pageY - G) : a && "touchmove" == a.type && (H = (a.touches ? a.touches[0].pageX : a.originalEvent.touches[0].pageX) - F, I = (a.touches ? a.touches[0].pageY : a.originalEvent.touches[0].pageY) - G), !fa && (Math.abs(H) > 20 || Math.abs(I) > 20) && (fa = !0), "0" == n._scrollMode || "2" == n._scrollMode || "1" == n._scrollMode || "15" == n._scrollMode ? j() : "4" == n._scrollMode || "3" == n._scrollMode ? l() : "5" == n._scrollMode ? r() : "6" == n._scrollMode ? P() : "7" == n._scrollMode ? R() : "8" == n._scrollMode ? T() : "9" == n._scrollMode ? X() : "11" == n._scrollMode ? z() : "12" == n._scrollMode ? Z() : "13" == n._scrollMode ? V() : "14" == n._scrollMode && V())
					}, q = function(a) {
						if (J && completeEffect($(n.$currentPage))) if (J = !1, n.$activePage) {
							n._isDisableFlipPage = !0;
							var b;
							b = "6" == n._scrollMode || "7" == n._scrollMode ? "cubic-bezier(0,0,0.99,1)" : "12" == n._scrollMode ? "cubic-bezier(.17,.67,.87,.13)" : "linear", n.$currentPage.style.webkitTransition = "-webkit-transform " + N + "s " + b, n.$activePage.style.webkitTransition = "-webkit-transform " + N + "s " + b, n.$currentPage.style.mozTransition = "-moz-transform " + N + "s " + b, n.$activePage.style.mozTransition = "-moz-transform " + N + "s " + b, n.$currentPage.style.transition = "transform " + N + "s " + b, n.$activePage.style.transition = "transform " + N + "s " + b, "0" == n._scrollMode || "2" == n._scrollMode || "1" == n._scrollMode || "15" == n._scrollMode ? k() : "4" == n._scrollMode || "3" == n._scrollMode ? m() : "5" == n._scrollMode ? u() : "6" == n._scrollMode ? Q() : "7" == n._scrollMode ? S() : "8" == n._scrollMode ? U() : "9" == n._scrollMode ? Y() : "11" == n._scrollMode ? O() : "12" == n._scrollMode ? _() : "13" == n._scrollMode ? W() : "14" == n._scrollMode && W();
							var c = $(n.$activePage).find(".m-img").attr("id").replace("page", "") - 1;
							n._pageData[c].properties && n._pageData[c].properties.longPage && ($(n.$activePage).find(".edit_area").css("transform", "translateY(0px)"), $(n.$activePage).find(".edit_area").css("-webkit-transform", "translateY(0px)"), $(document).trigger("clearTouchPos")), $(n.$activePage).find("li").each(function(a) {
								for (var b = 0; b < n._pageData[c].elements.length; b++) if (n._pageData[c].elements[b].id == parseInt($(this).attr("id").substring(7), 10)) {
									eqxCommon.animation($(this), n._pageData[c].elements[b], "view", n._pageData[c].properties);
									var d = h(n._pageData[c].elements[b].id);
									eqxCommon.bindTrigger(d, n._pageData[c].elements[b])
								}
							});
							for (var d = 0; d < n._pageData.length; d++) n._pageData[d].effObj && (n._pageData[d].effObj.pause = !0);
							n._pageData[c].effObj && n._pageData[c].effObj.startPlay()
						} else n.$currentPage.classList.remove("z-move");
						C = !1
					}, $(document).on("flipend", function(a) {
						completeEffect($(n.$activePage)) || $("#audio_btn").css("opacity", 0);
						var d = $("#report0"),
							g = $(n.$activePage).find(".m-img").attr("id").substring(4);
						c = n._pageData, c[g - 1].elements && c[g - 1].elements.length && $.each(c[g - 1].elements, function(a, b) {
							"d" == b.type && eqShow.getShowCount(e.obj.id).then(function(a) {
								var c = eqShow.fixedNum(a);
								$("#" + b.id).find(".counter-number").text(c)
							})
						}), setTimeout(function() {
							f(n.$currentPage.style, "Transition", "none"), $(n.$activePage).removeClass("z-active z-move").addClass("z-current"), $(n.$currentPage).removeClass("z-current z-move"), n._isDisableFlipPage = !1, n.$currentPage = $(n.$activePage).trigger("current"), $(n.$currentPage).trigger("hide"), utilSound.pause(), d.length && d.remove(), ("8" == b || "9" == b || "12" == b) && ($(n.$currentPage).css("z-index", "1"), $(".main-page").attr("style", "")), eqShow.shakeTrigger(c, n.$currentPage), B || (1 == g ? y.removeClass("enabled") : g == n._pageData.length ? $nextCtrl.removeClass("enabled") : (y.addClass("enabled"), $nextCtrl.addClass("enabled"))), wechatUtils.stopWechatSound()
						}, M)
					}), $(document).on("startAutoFlip", function(a) {
						e.obj.property.autoFlip && d()
					}), eqShow.showProgressBar(e, n._$pages, a)
				};
			return {
				pageScroll: a,
				nextPage: c,
				prePage: b,
				lastPage: f,
				app: O,
				pauseAutoFlip: e,
				removeLastPage: g,
				changeScrollMode: h,
				startAutoFlip: j,
				changeAppPage: k,
				setTriggerLoop: m,
				forbidHandFlip: i,
				setPageData: l
			}
		}();
	!
	function(a, b) {
		function c(a, c) {
			completeEffect(b(".z-current")) && (E = "started", D.length || (D = n.find(".main-page")), c || (B ? (a = event, q = {
				x: a.touches[0].pageX - n.offset().left,
				y: a.touches[0].pageY - n.offset().top
			}) : q = {
				x: a.pageX - n.offset().left,
				y: a.pageY - n.offset().top
			}))
		}
		function d(a, c) {
			if (E = "turning", W && W.obj.property.autoFlip && W.obj.property.autoFlipTime && m(), c || (B ? (a = event, r = {
				x: a.touches[0].pageX - n.offset().left,
				y: a.touches[0].pageY - n.offset().top
			}) : r = {
				x: a.pageX - n.offset().left,
				y: a.pageY - n.offset().top
			}), s = r.x - q.x, 0 > s) {
				if (x) {
					x = !1, B && p ? v = !0 : q.y >= n.height() / 2 ? t = !0 : q.y < n.height() / 2 && (u = !0), y = b(".z-current").get(0);
					var d = b(y).find(".m-img").attr("id").substring(4);
					if (o = b("#flip" + d), Z || (z = b(y).parent(".flip-mask").get(0).nextElementSibling && b(b(y).parent(".flip-mask").get(0).nextElementSibling).find(".main-page").get(0) ? b(b(y).parent(".flip-mask").get(0).nextElementSibling).find(".main-page").get(0) : A ? D.first().get(0) : !1), z) {
						b(z).find(".m-img").attr("id").substring(4);
						b(y).parent(".flip-mask").css({
							zIndex: 100,
							display: "block"
						}), b(z).addClass("z-active").parent(".flip-mask").css({
							zIndex: 99,
							display: "block"
						}), i(z), completeEffect(b(z)) || b("#audio_btn").css("opacity", 0), t ? (b(".z-current").css({
							top: o.height() - n.height() + "px",
							left: "0"
						}), o.css({
							top: "-" + (o.height() - n.height()) + "px"
						}), b(".turning").css({
							transformOrigin: "0% 100% 0px",
							left: n.width() + "px",
							top: n.height() + "px"
						})) : u ? b(".turning").css({
							top: "0",
							left: n.width() + "px",
							transformOrigin: "0% 0% 0px"
						}) : v && (b(".z-current").css({
							top: 0,
							left: b(this).width() - n.width() + "px"
						}), o.css({
							top: 0,
							left: -(o.width() - n.width()) + "px"
						}), b(".turning").css({
							transformOrigin: "0% 100% 0px",
							left: n.width() + "px",
							top: 0
						}))
					}
				}
			} else if (s > 0 && x) {
				x = !1, w = !0, y = b(".z-current").get(0);
				var d = b(y).find(".m-img").attr("id").substr(4);
				o = b("#flip" + d), Z || (z = b(y).parent(".flip-mask").get(0).previousElementSibling && b(b(y).parent(".flip-mask").get(0).previousElementSibling).find(".main-page").get(0) ? b(b(y).parent(".flip-mask").get(0).previousElementSibling).find(".main-page").get(0) : A ? D.last().get(0) : !1), z && (i(z), completeEffect(b(z)) || b("#audio_btn").css("opacity", 0), b(y).parent(".flip-mask").css({
					display: "block"
				}), b(z).addClass("z-active").parent(".flip-mask").css({
					zIndex: 99,
					display: "block"
				}), b(".turning").css({
					top: "0",
					left: "0",
					transformOrigin: "0% 0% 0px"
				}))
			}
			z && f(r)
		}
		function e(a, b) {
			if (!z) return E = "feeling", t = !1, u = !1, v = !1, w = !1, void(x = !0);
			E = "leaving";
			var c, d, e, g;
			b ? (c = a.x, d = a.y) : B ? (c = r.x - n.offset().left, d = r.y - n.offset().top) : (c = a.pageX - n.offset().left, d = a.pageY - n.offset().top), t ? (F = 16, e = -n.width(), g = n.height(), C = setInterval(function() {
				c = F >= c - e ? c : c - F, d = F >= g - d ? d : d + F, f({
					x: c,
					y: d
				}), F >= c - e && F >= g - d && (clearInterval(C), h())
			}, 10)) : u ? (F = 16, e = -n.width(), g = 0, C = setInterval(function() {
				c = F >= c - e ? c : c - F, d = F >= d - g ? d : d - F, f({
					x: c,
					y: d
				}), F >= c - e && F >= d - g && (clearInterval(C), h())
			}, 1)) : v ? (F = 5, e = -n.width(), C = setInterval(function() {
				c = F >= c - e ? c : c - F, f({
					x: c,
					y: d
				}), F >= c - e && (clearInterval(C), h())
			}, 1)) : w && (F = 3, e = n.width(), g = 0, C = setInterval(function() {
				c = F >= e - c ? c : c + F, f({
					x: c,
					y: d
				}), F >= e - c && (clearInterval(C), h())
			}, 1))
		}
		function f(a) {
			t || u ? (H = n.width() - a.x, t ? I = Math.abs(n.height() - a.y) : u && (I = a.y), J = I / H, K = I / Math.sqrt(H * H + I * I), L = Math.sqrt(1 - K * K), M = Math.sqrt(H * H + I * I) / 2, N = M * J, O = Math.sqrt(N * N + M * M), P = O / J, G = 180 * Math.atan(J) / Math.PI > 0 ? 180 * Math.atan(J) / Math.PI : 0, Q = (n.width() - O) * L, R = (n.width() - O) * K * L, S = (n.width() - O) * (1 - K * K), Q >= 1 && (t ? (G > 1 ? b(".turning").css({
				width: O + "px",
				height: P + "px",
				backgroundColor: "#ff0000",
				background: "-webkit-linear-gradient(" + (180 - G) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
				transform: "translateX(-" + (O - 3) + "px) translateY(-" + (P - 3) + "px) rotate(" + 2 * G + "deg) scaleX(-1)"
			}) : g(a), T = "0% 100% 0px", U = "rotate(-" + (90 - G) + "deg) translateY(" + Q + "px)", V = "rotate(" + (90 - G) + "deg) translateY(-" + R + "px) translateX(-" + S + "px)") : u && (G > 1 ? b(".turning").css({
				width: O + "px",
				height: P + "px",
				backgroundColor: "#000",
				background: "-webkit-linear-gradient(-" + (180 - G) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
				transform: "translateX(-" + (O - 2) + "px) rotate(-" + 2 * G + "deg) scaleX(-1)"
			}) : g(a), T = "0% 0% 0px", U = "rotate(" + (90 - G) + "deg) translateY(-" + Q + "px)", V = "rotate(-" + (90 - G) + "deg) translateY(" + R + "px) translateX(-" + S + "px)"), o.css({
				zIndex: 100,
				transformOrigin: T,
				transform: U
			}), b(z).parent(".flip-mask").css({
				zIndex: 99,
				display: "block"
			}), b(z).css({
				zIndex: 1e3
			}), b(y).css({
				transformOrigin: T,
				transform: V
			}))) : v ? (b(".turning").css({
				width: (n.width() - a.x) / 2 + "px",
				height: n.height() + "px",
				left: a.x + "px",
				background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
			}), o.css({
				transformOrigin: "0% 50% 0px",
				left: 0,
				transform: "translateX(-" + (o.width() - a.x) + "px)"
			}), b(y).css({
				transformOrigin: "0% 50% 0px",
				transform: "translateX(" + (o.width() - a.x) + "px)"
			})) : w && (o.css({
				zIndex: 100,
				transformOrigin: "0% 50% 0px",
				transform: "translateX(" + a.x + "px)"
			}), b(y).css({
				transformOrigin: "0% 50% 0px",
				transform: "translateX(-" + a.x + "px)"
			}), b(".turning").css({
				width: n.width() - a.x + "px",
				height: n.height() + "px",
				left: -(n.width() - 2 * a.x) + "px",
				background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
			}))
		}
		function g(a) {
			b(".turning").css({
				width: (n.width() - a.x + 6) / 2 + "px",
				height: n.height() + "px",
				top: 0,
				left: a.x + 2 + "px",
				background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",
				transform: "",
				border: 0
			})
		}
		function h() {
			var a = W.list;
			W.obj.property.autoFlip && W.obj.property.autoFlipTime && l(), utilSound.pause();
			var c = b("#report0");
			c.length && c.remove(), E = "feeling", t = !1, u = !1, v = !1, w = !1, x = !0, s = 0, b(".flip-mask").css({
				transform: "",
				top: 0,
				left: 0,
				zIndex: 0
			}), b(y).removeClass("z-current").css({
				transform: "",
				top: 0,
				left: 0
			}), b(z).removeClass("z-active").addClass("z-current").css({
				transform: ""
			}), b(".turning").css({
				width: 0,
				height: 0,
				top: 0,
				left: 0,
				transform: "",
				background: "none"
			}), y = z;
			var d = b(z).find(".m-img").attr("id").substring(4);
			b("#flip" + d).css({
				zIndex: 100
			}), b("#audio_btn").css("opacity", 1), z = null;
			var e = b(y).find(".m-img").attr("id").substring(4);
			a[e - 1].elements && a[e - 1].elements.length && b.each(a[e - 1].elements, function(a, c) {
				"d" == c.type && eqShow.getShowCount(W.obj.id).then(function(a) {
					var d = eqShow.fixedNum(a);
					b("#" + c.id).find(".counter-number").text(d)
				})
			}), $ || eqShow.showProgressBar(W, b("#nr").find(".main-page")), $ = !0
		}
		function i(a) {
			if (a) {
				var c = b(a).find(".m-img").attr("id").substring(4);
				b(a).find("li").each(function(a) {
					for (var d = 0; d < W.list[c - 1].elements.length; d++) W.list[c - 1].elements[d].id == parseInt(b(this).attr("id").substring(7), 10) && eqxCommon.animation(b(this), W.list[c - 1].elements[d], "view")
				})
			}
		}
		function j() {
			"turning" != E && "leaving" != E && (q = {
				x: 0,
				y: n.height()
			}, c(q, "mock"), E = "turning", b(".main-page").css({
				width: n.width() + "px",
				height: n.height() + "px"
			}), r = {
				x: 0,
				y: n.height()
			}, w = !0, C = setInterval(function() {
				r.x++, d(r, "mock"), r.x <= 250 && (clearInterval(C), e(r, "mock"))
			}, 1))
		}
		function k() {
			"turning" != E && "leaving" != E && (q = {
				x: n.width(),
				y: n.height()
			}, c(q, "mock"), E = "turning", b(".main-page").css({
				width: n.width() + "px",
				height: n.height() + "px"
			}), r = {
				x: n.width(),
				y: n.height()
			}, B && p ? v = !0 : t = !0, Y = setInterval(function() {
				r.x -= 5, r.y -= 5, d(r, "mock"), r.x <= 200 && (clearInterval(Y), e(r, "mock"), A || z || m())
			}, 1))
		}
		function l() {
			_ = setInterval(function() {
				return completeEffect(b(".z-current")) ? void k() : void m()
			}, 1e3 * X)
		}
		function m() {
			clearInterval(_)
		}
		var n = b(".nr"),
			o = null,
			p = isAndroid(),
			q = {},
			r = {},
			s = 0,
			t = !1,
			u = !1,
			v = !1,
			w = !1,
			x = !0,
			y = null,
			z = null,
			A = !1,
			B = mobilecheck(),
			C = null,
			D = [],
			E = "feeling",
			F = 0,
			G = 0,
			H = 0,
			I = 0,
			J = 0,
			K = 0,
			L = 0,
			M = 0,
			N = 0,
			O = 0,
			P = 0,
			Q = 0,
			R = 0,
			S = 0,
			T = 0,
			U = 0,
			V = 0,
			W = null,
			X = 0,
			Y = "",
			Z = !1;
		a.turnBook = function(a) {
			W = a, W.obj.property.autoFlip && W.obj.property.autoFlipTime && (X = W.obj.property.autoFlipTime, l()), A = W.obj.property.triggerLoop, b('<div class="turning"></div>').appendTo(".nr"), b(".main-page").css({
				width: b(".nr").width() + "px",
				height: b(".nr").height() + "px"
			}), n.on(B ? "touchstart" : "mousedown", function(a) {
				W.obj.property.forbidHandFlip || "feeling" == E && (c(a), b(".main-page").css({
					width: n.width() + "px",
					height: n.height() + "px"
				}))
			}).on(B ? "touchmove" : "mousemove", function(a) {
				W.obj.property.forbidHandFlip || ("started" == E || "turning" == E) && d(a)
			}).on(B ? "touchend" : "mouseup mouseleave", function(a) {
				return !W.obj.property.forbidHandFlip && (Z = !1, b(".z-current").get(0)) ? 0 == s ? (x = !0, void(E = "feeling")) : void("turning" == E && e(a)) : void 0
			})
		};
		var $ = !1;
		a.flipBookScroll = function(a) {
			Z = !0;
			for (var c, d = 0, e = W.list.length; e > d; d++) a == W.list[d].id && (c = W.list[d].num);
			c || (c = a), y = b(".z-current").get(0);
			var f = b(y).find(".m-img").attr("id").substring(4),
				g = b(y).parent(".flip-mask").siblings(".flip-mask").find(".main-page").find("#page" + c);
			g && (z = b(g).parent(".main-page").get(0), f > c ? j() : c > f && k())
		}, b(document).on("bookFlipPre", function(a) {
			j()
		}), b(document).on("bookFlipNext", function(a) {
			k()
		});
		var _
	}(window, jQuery), QR8bitByte.prototype = {
		getLength: function(a) {
			return this.data.length
		},
		write: function(a) {
			for (var b = 0; b < this.data.length; b++) a.put(this.data.charCodeAt(b), 8)
		}
	}, QRCode.prototype = {
		addData: function(a) {
			var b = new QR8bitByte(a);
			this.dataList.push(b), this.dataCache = null
		},
		isDark: function(a, b) {
			if (0 > a || this.moduleCount <= a || 0 > b || this.moduleCount <= b) throw new Error(a + "," + b);
			return this.modules[a][b]
		},
		getModuleCount: function() {
			return this.moduleCount
		},
		make: function() {
			if (this.typeNumber < 1) {
				var a = 1;
				for (a = 1; 40 > a; a++) {
					for (var b = QRRSBlock.getRSBlocks(a, this.errorCorrectLevel), c = new QRBitBuffer, d = 0, e = 0; e < b.length; e++) d += b[e].dataCount;
					for (var e = 0; e < this.dataList.length; e++) {
						var f = this.dataList[e];
						c.put(f.mode, 4), c.put(f.getLength(), QRUtil.getLengthInBits(f.mode, a)), f.write(c)
					}
					if (c.getLengthInBits() <= 8 * d) break
				}
				this.typeNumber = a
			}
			this.makeImpl(!1, this.getBestMaskPattern())
		},
		makeImpl: function(a, b) {
			this.moduleCount = 4 * this.typeNumber + 17, this.modules = new Array(this.moduleCount);
			for (var c = 0; c < this.moduleCount; c++) {
				this.modules[c] = new Array(this.moduleCount);
				for (var d = 0; d < this.moduleCount; d++) this.modules[c][d] = null
			}
			this.setupPositionProbePattern(0, 0), this.setupPositionProbePattern(this.moduleCount - 7, 0), this.setupPositionProbePattern(0, this.moduleCount - 7), this.setupPositionAdjustPattern(), this.setupTimingPattern(), this.setupTypeInfo(a, b), this.typeNumber >= 7 && this.setupTypeNumber(a), null == this.dataCache && (this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)), this.mapData(this.dataCache, b)
		},
		setupPositionProbePattern: function(a, b) {
			for (var c = -1; 7 >= c; c++) if (!(-1 >= a + c || this.moduleCount <= a + c)) for (var d = -1; 7 >= d; d++) - 1 >= b + d || this.moduleCount <= b + d || (c >= 0 && 6 >= c && (0 == d || 6 == d) || d >= 0 && 6 >= d && (0 == c || 6 == c) || c >= 2 && 4 >= c && d >= 2 && 4 >= d ? this.modules[a + c][b + d] = !0 : this.modules[a + c][b + d] = !1)
		},
		getBestMaskPattern: function() {
			for (var a = 0, b = 0, c = 0; 8 > c; c++) {
				this.makeImpl(!0, c);
				var d = QRUtil.getLostPoint(this);
				(0 == c || a > d) && (a = d, b = c)
			}
			return b
		},
		createMovieClip: function(a, b, c) {
			var d = a.createEmptyMovieClip(b, c),
				e = 1;
			this.make();
			for (var f = 0; f < this.modules.length; f++) for (var g = f * e, h = 0; h < this.modules[f].length; h++) {
				var i = h * e,
					j = this.modules[f][h];
				j && (d.beginFill(0, 100), d.moveTo(i, g), d.lineTo(i + e, g), d.lineTo(i + e, g + e), d.lineTo(i, g + e), d.endFill())
			}
			return d
		},
		setupTimingPattern: function() {
			for (var a = 8; a < this.moduleCount - 8; a++) null == this.modules[a][6] && (this.modules[a][6] = a % 2 == 0);
			for (var b = 8; b < this.moduleCount - 8; b++) null == this.modules[6][b] && (this.modules[6][b] = b % 2 == 0)
		},
		setupPositionAdjustPattern: function() {
			for (var a = QRUtil.getPatternPosition(this.typeNumber), b = 0; b < a.length; b++) for (var c = 0; c < a.length; c++) {
				var d = a[b],
					e = a[c];
				if (null == this.modules[d][e]) for (var f = -2; 2 >= f; f++) for (var g = -2; 2 >= g; g++) - 2 == f || 2 == f || -2 == g || 2 == g || 0 == f && 0 == g ? this.modules[d + f][e + g] = !0 : this.modules[d + f][e + g] = !1
			}
		},
		setupTypeNumber: function(a) {
			for (var b = QRUtil.getBCHTypeNumber(this.typeNumber), c = 0; 18 > c; c++) {
				var d = !a && 1 == (b >> c & 1);
				this.modules[Math.floor(c / 3)][c % 3 + this.moduleCount - 8 - 3] = d
			}
			for (var c = 0; 18 > c; c++) {
				var d = !a && 1 == (b >> c & 1);
				this.modules[c % 3 + this.moduleCount - 8 - 3][Math.floor(c / 3)] = d
			}
		},
		setupTypeInfo: function(a, b) {
			for (var c = this.errorCorrectLevel << 3 | b, d = QRUtil.getBCHTypeInfo(c), e = 0; 15 > e; e++) {
				var f = !a && 1 == (d >> e & 1);
				6 > e ? this.modules[e][8] = f : 8 > e ? this.modules[e + 1][8] = f : this.modules[this.moduleCount - 15 + e][8] = f
			}
			for (var e = 0; 15 > e; e++) {
				var f = !a && 1 == (d >> e & 1);
				8 > e ? this.modules[8][this.moduleCount - e - 1] = f : 9 > e ? this.modules[8][15 - e - 1 + 1] = f : this.modules[8][15 - e - 1] = f
			}
			this.modules[this.moduleCount - 8][8] = !a
		},
		mapData: function(a, b) {
			for (var c = -1, d = this.moduleCount - 1, e = 7, f = 0, g = this.moduleCount - 1; g > 0; g -= 2) for (6 == g && g--;;) {
				for (var h = 0; 2 > h; h++) if (null == this.modules[d][g - h]) {
					var i = !1;
					f < a.length && (i = 1 == (a[f] >>> e & 1));
					var j = QRUtil.getMask(b, d, g - h);
					j && (i = !i), this.modules[d][g - h] = i, e--, -1 == e && (f++, e = 7)
				}
				if (d += c, 0 > d || this.moduleCount <= d) {
					d -= c, c = -c;
					break
				}
			}
		}
	}, QRCode.PAD0 = 236, QRCode.PAD1 = 17, QRCode.createData = function(a, b, c) {
		for (var d = QRRSBlock.getRSBlocks(a, b), e = new QRBitBuffer, f = 0; f < c.length; f++) {
			var g = c[f];
			e.put(g.mode, 4), e.put(g.getLength(), QRUtil.getLengthInBits(g.mode, a)), g.write(e)
		}
		for (var h = 0, f = 0; f < d.length; f++) h += d[f].dataCount;
		if (e.getLengthInBits() > 8 * h) throw new Error("code length overflow. (" + e.getLengthInBits() + ">" + 8 * h + ")");
		for (e.getLengthInBits() + 4 <= 8 * h && e.put(0, 4); e.getLengthInBits() % 8 != 0;) e.putBit(!1);
		for (;;) {
			if (e.getLengthInBits() >= 8 * h) break;
			if (e.put(QRCode.PAD0, 8), e.getLengthInBits() >= 8 * h) break;
			e.put(QRCode.PAD1, 8)
		}
		return QRCode.createBytes(e, d)
	}, QRCode.createBytes = function(a, b) {
		for (var c = 0, d = 0, e = 0, f = new Array(b.length), g = new Array(b.length), h = 0; h < b.length; h++) {
			var i = b[h].dataCount,
				j = b[h].totalCount - i;
			d = Math.max(d, i), e = Math.max(e, j), f[h] = new Array(i);
			for (var k = 0; k < f[h].length; k++) f[h][k] = 255 & a.buffer[k + c];
			c += i;
			var l = QRUtil.getErrorCorrectPolynomial(j),
				m = new QRPolynomial(f[h], l.getLength() - 1),
				n = m.mod(l);
			g[h] = new Array(l.getLength() - 1);
			for (var k = 0; k < g[h].length; k++) {
				var o = k + n.getLength() - g[h].length;
				g[h][k] = o >= 0 ? n.get(o) : 0
			}
		}
		for (var p = 0, k = 0; k < b.length; k++) p += b[k].totalCount;
		for (var q = new Array(p), r = 0, k = 0; d > k; k++) for (var h = 0; h < b.length; h++) k < f[h].length && (q[r++] = f[h][k]);
		for (var k = 0; e > k; k++) for (var h = 0; h < b.length; h++) k < g[h].length && (q[r++] = g[h][k]);
		return q
	};
	for (var QRMode = {
		MODE_NUMBER: 1,
		MODE_ALPHA_NUM: 2,
		MODE_8BIT_BYTE: 4,
		MODE_KANJI: 8
	}, QRErrorCorrectLevel = {
		L: 1,
		M: 0,
		Q: 3,
		H: 2
	}, QRMaskPattern = {
		PATTERN000: 0,
		PATTERN001: 1,
		PATTERN010: 2,
		PATTERN011: 3,
		PATTERN100: 4,
		PATTERN101: 5,
		PATTERN110: 6,
		PATTERN111: 7
	}, QRUtil = {
		PATTERN_POSITION_TABLE: [
			[],
			[6, 18],
			[6, 22],
			[6, 26],
			[6, 30],
			[6, 34],
			[6, 22, 38],
			[6, 24, 42],
			[6, 26, 46],
			[6, 28, 50],
			[6, 30, 54],
			[6, 32, 58],
			[6, 34, 62],
			[6, 26, 46, 66],
			[6, 26, 48, 70],
			[6, 26, 50, 74],
			[6, 30, 54, 78],
			[6, 30, 56, 82],
			[6, 30, 58, 86],
			[6, 34, 62, 90],
			[6, 28, 50, 72, 94],
			[6, 26, 50, 74, 98],
			[6, 30, 54, 78, 102],
			[6, 28, 54, 80, 106],
			[6, 32, 58, 84, 110],
			[6, 30, 58, 86, 114],
			[6, 34, 62, 90, 118],
			[6, 26, 50, 74, 98, 122],
			[6, 30, 54, 78, 102, 126],
			[6, 26, 52, 78, 104, 130],
			[6, 30, 56, 82, 108, 134],
			[6, 34, 60, 86, 112, 138],
			[6, 30, 58, 86, 114, 142],
			[6, 34, 62, 90, 118, 146],
			[6, 30, 54, 78, 102, 126, 150],
			[6, 24, 50, 76, 102, 128, 154],
			[6, 28, 54, 80, 106, 132, 158],
			[6, 32, 58, 84, 110, 136, 162],
			[6, 26, 54, 82, 110, 138, 166],
			[6, 30, 58, 86, 114, 142, 170]
		],
		G15: 1335,
		G18: 7973,
		G15_MASK: 21522,
		getBCHTypeInfo: function(a) {
			for (var b = a << 10; QRUtil.getBCHDigit(b) - QRUtil.getBCHDigit(QRUtil.G15) >= 0;) b ^= QRUtil.G15 << QRUtil.getBCHDigit(b) - QRUtil.getBCHDigit(QRUtil.G15);
			return (a << 10 | b) ^ QRUtil.G15_MASK
		},
		getBCHTypeNumber: function(a) {
			for (var b = a << 12; QRUtil.getBCHDigit(b) - QRUtil.getBCHDigit(QRUtil.G18) >= 0;) b ^= QRUtil.G18 << QRUtil.getBCHDigit(b) - QRUtil.getBCHDigit(QRUtil.G18);
			return a << 12 | b
		},
		getBCHDigit: function(a) {
			for (var b = 0; 0 != a;) b++, a >>>= 1;
			return b
		},
		getPatternPosition: function(a) {
			return QRUtil.PATTERN_POSITION_TABLE[a - 1]
		},
		getMask: function(a, b, c) {
			switch (a) {
			case QRMaskPattern.PATTERN000:
				return (b + c) % 2 == 0;
			case QRMaskPattern.PATTERN001:
				return b % 2 == 0;
			case QRMaskPattern.PATTERN010:
				return c % 3 == 0;
			case QRMaskPattern.PATTERN011:
				return (b + c) % 3 == 0;
			case QRMaskPattern.PATTERN100:
				return (Math.floor(b / 2) + Math.floor(c / 3)) % 2 == 0;
			case QRMaskPattern.PATTERN101:
				return b * c % 2 + b * c % 3 == 0;
			case QRMaskPattern.PATTERN110:
				return (b * c % 2 + b * c % 3) % 2 == 0;
			case QRMaskPattern.PATTERN111:
				return (b * c % 3 + (b + c) % 2) % 2 == 0;
			default:
				throw new Error("bad maskPattern:" + a)
			}
		},
		getErrorCorrectPolynomial: function(a) {
			for (var b = new QRPolynomial([1], 0), c = 0; a > c; c++) b = b.multiply(new QRPolynomial([1, QRMath.gexp(c)], 0));
			return b
		},
		getLengthInBits: function(a, b) {
			if (b >= 1 && 10 > b) switch (a) {
			case QRMode.MODE_NUMBER:
				return 10;
			case QRMode.MODE_ALPHA_NUM:
				return 9;
			case QRMode.MODE_8BIT_BYTE:
				return 8;
			case QRMode.MODE_KANJI:
				return 8;
			default:
				throw new Error("mode:" + a)
			} else if (27 > b) switch (a) {
			case QRMode.MODE_NUMBER:
				return 12;
			case QRMode.MODE_ALPHA_NUM:
				return 11;
			case QRMode.MODE_8BIT_BYTE:
				return 16;
			case QRMode.MODE_KANJI:
				return 10;
			default:
				throw new Error("mode:" + a)
			} else {
				if (!(41 > b)) throw new Error("type:" + b);
				switch (a) {
				case QRMode.MODE_NUMBER:
					return 14;
				case QRMode.MODE_ALPHA_NUM:
					return 13;
				case QRMode.MODE_8BIT_BYTE:
					return 16;
				case QRMode.MODE_KANJI:
					return 12;
				default:
					throw new Error("mode:" + a)
				}
			}
		},
		getLostPoint: function(a) {
			for (var b = a.getModuleCount(), c = 0, d = 0; b > d; d++) for (var e = 0; b > e; e++) {
				for (var f = 0, g = a.isDark(d, e), h = -1; 1 >= h; h++) if (!(0 > d + h || d + h >= b)) for (var i = -1; 1 >= i; i++) 0 > e + i || e + i >= b || (0 != h || 0 != i) && g == a.isDark(d + h, e + i) && f++;
				f > 5 && (c += 3 + f - 5)
			}
			for (var d = 0; b - 1 > d; d++) for (var e = 0; b - 1 > e; e++) {
				var j = 0;
				a.isDark(d, e) && j++, a.isDark(d + 1, e) && j++, a.isDark(d, e + 1) && j++, a.isDark(d + 1, e + 1) && j++, (0 == j || 4 == j) && (c += 3)
			}
			for (var d = 0; b > d; d++) for (var e = 0; b - 6 > e; e++) a.isDark(d, e) && !a.isDark(d, e + 1) && a.isDark(d, e + 2) && a.isDark(d, e + 3) && a.isDark(d, e + 4) && !a.isDark(d, e + 5) && a.isDark(d, e + 6) && (c += 40);
			for (var e = 0; b > e; e++) for (var d = 0; b - 6 > d; d++) a.isDark(d, e) && !a.isDark(d + 1, e) && a.isDark(d + 2, e) && a.isDark(d + 3, e) && a.isDark(d + 4, e) && !a.isDark(d + 5, e) && a.isDark(d + 6, e) && (c += 40);
			for (var k = 0, e = 0; b > e; e++) for (var d = 0; b > d; d++) a.isDark(d, e) && k++;
			var l = Math.abs(100 * k / b / b - 50) / 5;
			return c += 10 * l
		}
	}, QRMath = {
		glog: function(a) {
			if (1 > a) throw new Error("glog(" + a + ")");
			return QRMath.LOG_TABLE[a]
		},
		gexp: function(a) {
			for (; 0 > a;) a += 255;
			for (; a >= 256;) a -= 255;
			return QRMath.EXP_TABLE[a]
		},
		EXP_TABLE: new Array(256),
		LOG_TABLE: new Array(256)
	}, i = 0; 8 > i; i++) QRMath.EXP_TABLE[i] = 1 << i;
	for (var i = 8; 256 > i; i++) QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
	for (var i = 0; 255 > i; i++) QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
	QRPolynomial.prototype = {
		get: function(a) {
			return this.num[a]
		},
		getLength: function() {
			return this.num.length
		},
		multiply: function(a) {
			for (var b = new Array(this.getLength() + a.getLength() - 1), c = 0; c < this.getLength(); c++) for (var d = 0; d < a.getLength(); d++) b[c + d] ^= QRMath.gexp(QRMath.glog(this.get(c)) + QRMath.glog(a.get(d)));
			return new QRPolynomial(b, 0)
		},
		mod: function(a) {
			if (this.getLength() - a.getLength() < 0) return this;
			for (var b = QRMath.glog(this.get(0)) - QRMath.glog(a.get(0)), c = new Array(this.getLength()), d = 0; d < this.getLength(); d++) c[d] = this.get(d);
			for (var d = 0; d < a.getLength(); d++) c[d] ^= QRMath.gexp(QRMath.glog(a.get(d)) + b);
			return new QRPolynomial(c, 0).mod(a)
		}
	}, QRRSBlock.RS_BLOCK_TABLE = [
		[1, 26, 19],
		[1, 26, 16],
		[1, 26, 13],
		[1, 26, 9],
		[1, 44, 34],
		[1, 44, 28],
		[1, 44, 22],
		[1, 44, 16],
		[1, 70, 55],
		[1, 70, 44],
		[2, 35, 17],
		[2, 35, 13],
		[1, 100, 80],
		[2, 50, 32],
		[2, 50, 24],
		[4, 25, 9],
		[1, 134, 108],
		[2, 67, 43],
		[2, 33, 15, 2, 34, 16],
		[2, 33, 11, 2, 34, 12],
		[2, 86, 68],
		[4, 43, 27],
		[4, 43, 19],
		[4, 43, 15],
		[2, 98, 78],
		[4, 49, 31],
		[2, 32, 14, 4, 33, 15],
		[4, 39, 13, 1, 40, 14],
		[2, 121, 97],
		[2, 60, 38, 2, 61, 39],
		[4, 40, 18, 2, 41, 19],
		[4, 40, 14, 2, 41, 15],
		[2, 146, 116],
		[3, 58, 36, 2, 59, 37],
		[4, 36, 16, 4, 37, 17],
		[4, 36, 12, 4, 37, 13],
		[2, 86, 68, 2, 87, 69],
		[4, 69, 43, 1, 70, 44],
		[6, 43, 19, 2, 44, 20],
		[6, 43, 15, 2, 44, 16],
		[4, 101, 81],
		[1, 80, 50, 4, 81, 51],
		[4, 50, 22, 4, 51, 23],
		[3, 36, 12, 8, 37, 13],
		[2, 116, 92, 2, 117, 93],
		[6, 58, 36, 2, 59, 37],
		[4, 46, 20, 6, 47, 21],
		[7, 42, 14, 4, 43, 15],
		[4, 133, 107],
		[8, 59, 37, 1, 60, 38],
		[8, 44, 20, 4, 45, 21],
		[12, 33, 11, 4, 34, 12],
		[3, 145, 115, 1, 146, 116],
		[4, 64, 40, 5, 65, 41],
		[11, 36, 16, 5, 37, 17],
		[11, 36, 12, 5, 37, 13],
		[5, 109, 87, 1, 110, 88],
		[5, 65, 41, 5, 66, 42],
		[5, 54, 24, 7, 55, 25],
		[11, 36, 12],
		[5, 122, 98, 1, 123, 99],
		[7, 73, 45, 3, 74, 46],
		[15, 43, 19, 2, 44, 20],
		[3, 45, 15, 13, 46, 16],
		[1, 135, 107, 5, 136, 108],
		[10, 74, 46, 1, 75, 47],
		[1, 50, 22, 15, 51, 23],
		[2, 42, 14, 17, 43, 15],
		[5, 150, 120, 1, 151, 121],
		[9, 69, 43, 4, 70, 44],
		[17, 50, 22, 1, 51, 23],
		[2, 42, 14, 19, 43, 15],
		[3, 141, 113, 4, 142, 114],
		[3, 70, 44, 11, 71, 45],
		[17, 47, 21, 4, 48, 22],
		[9, 39, 13, 16, 40, 14],
		[3, 135, 107, 5, 136, 108],
		[3, 67, 41, 13, 68, 42],
		[15, 54, 24, 5, 55, 25],
		[15, 43, 15, 10, 44, 16],
		[4, 144, 116, 4, 145, 117],
		[17, 68, 42],
		[17, 50, 22, 6, 51, 23],
		[19, 46, 16, 6, 47, 17],
		[2, 139, 111, 7, 140, 112],
		[17, 74, 46],
		[7, 54, 24, 16, 55, 25],
		[34, 37, 13],
		[4, 151, 121, 5, 152, 122],
		[4, 75, 47, 14, 76, 48],
		[11, 54, 24, 14, 55, 25],
		[16, 45, 15, 14, 46, 16],
		[6, 147, 117, 4, 148, 118],
		[6, 73, 45, 14, 74, 46],
		[11, 54, 24, 16, 55, 25],
		[30, 46, 16, 2, 47, 17],
		[8, 132, 106, 4, 133, 107],
		[8, 75, 47, 13, 76, 48],
		[7, 54, 24, 22, 55, 25],
		[22, 45, 15, 13, 46, 16],
		[10, 142, 114, 2, 143, 115],
		[19, 74, 46, 4, 75, 47],
		[28, 50, 22, 6, 51, 23],
		[33, 46, 16, 4, 47, 17],
		[8, 152, 122, 4, 153, 123],
		[22, 73, 45, 3, 74, 46],
		[8, 53, 23, 26, 54, 24],
		[12, 45, 15, 28, 46, 16],
		[3, 147, 117, 10, 148, 118],
		[3, 73, 45, 23, 74, 46],
		[4, 54, 24, 31, 55, 25],
		[11, 45, 15, 31, 46, 16],
		[7, 146, 116, 7, 147, 117],
		[21, 73, 45, 7, 74, 46],
		[1, 53, 23, 37, 54, 24],
		[19, 45, 15, 26, 46, 16],
		[5, 145, 115, 10, 146, 116],
		[19, 75, 47, 10, 76, 48],
		[15, 54, 24, 25, 55, 25],
		[23, 45, 15, 25, 46, 16],
		[13, 145, 115, 3, 146, 116],
		[2, 74, 46, 29, 75, 47],
		[42, 54, 24, 1, 55, 25],
		[23, 45, 15, 28, 46, 16],
		[17, 145, 115],
		[10, 74, 46, 23, 75, 47],
		[10, 54, 24, 35, 55, 25],
		[19, 45, 15, 35, 46, 16],
		[17, 145, 115, 1, 146, 116],
		[14, 74, 46, 21, 75, 47],
		[29, 54, 24, 19, 55, 25],
		[11, 45, 15, 46, 46, 16],
		[13, 145, 115, 6, 146, 116],
		[14, 74, 46, 23, 75, 47],
		[44, 54, 24, 7, 55, 25],
		[59, 46, 16, 1, 47, 17],
		[12, 151, 121, 7, 152, 122],
		[12, 75, 47, 26, 76, 48],
		[39, 54, 24, 14, 55, 25],
		[22, 45, 15, 41, 46, 16],
		[6, 151, 121, 14, 152, 122],
		[6, 75, 47, 34, 76, 48],
		[46, 54, 24, 10, 55, 25],
		[2, 45, 15, 64, 46, 16],
		[17, 152, 122, 4, 153, 123],
		[29, 74, 46, 14, 75, 47],
		[49, 54, 24, 10, 55, 25],
		[24, 45, 15, 46, 46, 16],
		[4, 152, 122, 18, 153, 123],
		[13, 74, 46, 32, 75, 47],
		[48, 54, 24, 14, 55, 25],
		[42, 45, 15, 32, 46, 16],
		[20, 147, 117, 4, 148, 118],
		[40, 75, 47, 7, 76, 48],
		[43, 54, 24, 22, 55, 25],
		[10, 45, 15, 67, 46, 16],
		[19, 148, 118, 6, 149, 119],
		[18, 75, 47, 31, 76, 48],
		[34, 54, 24, 34, 55, 25],
		[20, 45, 15, 61, 46, 16]
	], QRRSBlock.getRSBlocks = function(a, b) {
		var c = QRRSBlock.getRsBlockTable(a, b);
		if (c == undefined) throw new Error("bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + b);
		for (var d = c.length / 3, e = new Array, f = 0; d > f; f++) for (var g = c[3 * f + 0], h = c[3 * f + 1], i = c[3 * f + 2], j = 0; g > j; j++) e.push(new QRRSBlock(h, i));
		return e
	}, QRRSBlock.getRsBlockTable = function(a, b) {
		switch (b) {
		case QRErrorCorrectLevel.L:
			return QRRSBlock.RS_BLOCK_TABLE[4 * (a - 1) + 0];
		case QRErrorCorrectLevel.M:
			return QRRSBlock.RS_BLOCK_TABLE[4 * (a - 1) + 1];
		case QRErrorCorrectLevel.Q:
			return QRRSBlock.RS_BLOCK_TABLE[4 * (a - 1) + 2];
		case QRErrorCorrectLevel.H:
			return QRRSBlock.RS_BLOCK_TABLE[4 * (a - 1) + 3];
		default:
			return undefined
		}
	}, QRBitBuffer.prototype = {
		get: function(a) {
			var b = Math.floor(a / 8);
			return 1 == (this.buffer[b] >>> 7 - a % 8 & 1)
		},
		put: function(a, b) {
			for (var c = 0; b > c; c++) this.putBit(1 == (a >>> b - c - 1 & 1))
		},
		getLengthInBits: function() {
			return this.length
		},
		putBit: function(a) {
			var b = Math.floor(this.length / 8);
			this.buffer.length <= b && this.buffer.push(0), a && (this.buffer[b] |= 128 >>> this.length % 8), this.length++
		}
	}, RainyDay.prototype.prepareCanvas = function() {
		var a = document.createElement("canvas");
		return a.style.position = this.options.position, a.style.top = this.options.top, a.style.left = this.options.left, a.width = this.options.width, a.height = this.options.height, this.options.parentElement.appendChild(a), this.options.enableSizeChange && this.setResizeHandler(), a
	}, RainyDay.prototype.setResizeHandler = function() {
		null !== window.onresize ? window.setInterval(this.checkSize.bind(this), 100) : (window.onresize = this.checkSize.bind(this), window.onorientationchange = this.checkSize.bind(this))
	}, RainyDay.prototype.checkSize = function() {
		var a = this.img.clientWidth,
			b = this.img.clientHeight,
			c = this.img.offsetLeft,
			d = this.img.offsetTop,
			e = this.canvas.width,
			f = this.canvas.height,
			g = this.canvas.offsetLeft,
			h = this.canvas.offsetTop;
		(e !== a || f !== b) && (this.canvas.width = a, this.canvas.height = b, this.prepareBackground(), this.glass.width = this.canvas.width, this.glass.height = this.canvas.height, this.prepareReflections()), (g !== c || h !== d) && (this.canvas.offsetLeft = c, this.canvas.offsetTop = d)
	}, RainyDay.prototype.animateDrops = function() {
		this.addDropCallback && this.addDropCallback();
		for (var a = this.drops.slice(), b = [], c = 0; c < a.length; ++c) a[c].animate() && b.push(a[c]);
		this.drops = b, window.requestAnimFrame(this.animateDrops.bind(this))
	}, RainyDay.prototype.setRequestAnimFrame = function() {
		var a = this.options.fps;
		window.requestAnimFrame = function() {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame ||
			function(b) {
				window.setTimeout(b, 1e3 / a)
			}
		}()
	}, RainyDay.prototype.prepareReflections = function() {
		this.reflected = document.createElement("canvas"), this.reflected.width = this.canvas.width / this.options.reflectionScaledownFactor, this.reflected.height = this.canvas.height / this.options.reflectionScaledownFactor;
		var a = this.reflected.getContext("2d");
		a.drawImage(this.img, this.options.crop[0], this.options.crop[1], this.options.crop[2], this.options.crop[3], 0, 0, this.reflected.width, this.reflected.height)
	}, RainyDay.prototype.prepareGlass = function() {
		this.glass = document.createElement("canvas"), this.glass.width = this.canvas.width, this.glass.height = this.canvas.height, this.context = this.glass.getContext("2d")
	}, RainyDay.prototype.rain = function(a, b) {
		if (this.reflection !== this.REFLECTION_NONE && this.prepareReflections(), this.animateDrops(), this.presets = a, this.PRIVATE_GRAVITY_FORCE_FACTOR_Y = .001 * this.options.fps / 25, this.PRIVATE_GRAVITY_FORCE_FACTOR_X = (Math.PI / 2 - this.options.gravityAngle) * (.001 * this.options.fps) / 50, this.options.enableCollisions) {
			for (var c = 0, d = 0; d < a.length; d++) a[d][0] + a[d][1] > c && (c = Math.floor(a[d][0] + a[d][1]));
			if (c > 0) {
				var e = Math.ceil(this.canvas.width / c),
					f = Math.ceil(this.canvas.height / c);
				this.matrix = new CollisionMatrix(e, f, c)
			} else this.options.enableCollisions = !1
		}
		for (var d = 0; d < a.length; d++) a[d][3] || (a[d][3] = -1);
		var g = 0;
		this.addDropCallback = function() {
			var c = (new Date).getTime();
			if (!(b > c - g)) {
				g = c;
				var d = this.canvas.getContext("2d");
				d.clearRect(0, 0, this.canvas.width, this.canvas.height), d.drawImage(this.background, 0, 0, this.canvas.width, this.canvas.height);
				for (var e, f = 0; f < a.length; f++) if (a[f][2] > 1 || -1 === a[f][3]) {
					if (0 !== a[f][3]) {
						a[f][3]--;
						for (var h = 0; h < a[f][2]; ++h) this.putDrop(new Drop(this, Math.random() * this.canvas.width, Math.random() * this.canvas.height, a[f][0], a[f][1]))
					}
				} else if (Math.random() < a[f][2]) {
					e = a[f];
					break
				}
				e && this.putDrop(new Drop(this, Math.random() * this.canvas.width, Math.random() * this.canvas.height, e[0], e[1])), d.save(), d.globalAlpha = this.options.opacity, d.drawImage(this.glass, 0, 0, this.canvas.width, this.canvas.height), d.restore()
			}
		}.bind(this)
	}, RainyDay.prototype.putDrop = function(a) {
		a.draw(), this.gravity && a.r > this.options.gravityThreshold && (this.options.enableCollisions && this.matrix.update(a), this.drops.push(a))
	}, RainyDay.prototype.clearDrop = function(a, b) {
		var c = a.clear(b);
		if (c) {
			var d = this.drops.indexOf(a);
			d >= 0 && this.drops.splice(d, 1)
		}
		return c
	}, Drop.prototype.draw = function() {
		this.context.save(), this.context.beginPath();
		var a = this.r;
		if (this.r = .95 * this.r, this.r < 3) this.context.arc(this.x, this.y, this.r, 0, 2 * Math.PI, !0), this.context.closePath();
		else if (this.colliding || this.yspeed > 2) {
			if (this.colliding) {
				var b = this.colliding;
				this.r = 1.001 * (this.r > b.r ? this.r : b.r), this.x += b.x - this.x, this.colliding = null
			}
			var c = 1 + .1 * this.yspeed;
			this.context.moveTo(this.x - this.r / c, this.y), this.context.bezierCurveTo(this.x - this.r, this.y - 2 * this.r, this.x + this.r, this.y - 2 * this.r, this.x + this.r / c, this.y), this.context.bezierCurveTo(this.x + this.r, this.y + c * this.r, this.x - this.r, this.y + c * this.r, this.x - this.r / c, this.y)
		} else this.context.arc(this.x, this.y, .9 * this.r, 0, 2 * Math.PI, !0), this.context.closePath();
		this.context.clip(), this.r = a, this.rainyday.reflection && this.rainyday.reflection(this), this.context.restore()
	}, Drop.prototype.clear = function(a) {
		return this.context.clearRect(this.x - this.r - 1, this.y - this.r - 2, 2 * this.r + 2, 2 * this.r + 2), a ? (this.terminate = !0, !0) : this.y - this.r > this.rainyday.canvas.height || this.x - this.r > this.rainyday.canvas.width || this.x + this.r < 0 ? !0 : !1
	}, Drop.prototype.animate = function() {
		if (this.terminate) return !1;
		var a = this.rainyday.gravity(this);
		if (!a && this.rainyday.trail && this.rainyday.trail(this), this.rainyday.options.enableCollisions) {
			var b = this.rainyday.matrix.update(this, a);
			b && this.rainyday.collision(this, b)
		}
		return !a || this.terminate
	}, RainyDay.prototype.TRAIL_NONE = function() {}, RainyDay.prototype.TRAIL_DROPS = function(a) {
		(!a.trailY || a.y - a.trailY >= 100 * Math.random() * a.r) && (a.trailY = a.y, this.putDrop(new Drop(this, a.x + (2 * Math.random() - 1) * Math.random(), a.y - a.r - 5, Math.ceil(a.r / 5), 0)))
	}, RainyDay.prototype.TRAIL_SMUDGE = function(a) {
		var b = a.y - a.r - 3,
			c = a.x - a.r / 2 + 2 * Math.random();
		0 > b || 0 > c || this.context.drawImage(this.clearbackground, c, b, a.r, 2, c, b, a.r, 2)
	}, RainyDay.prototype.GRAVITY_NONE = function() {
		return !0
	}, RainyDay.prototype.GRAVITY_LINEAR = function(a) {
		return this.clearDrop(a) ? !0 : (a.yspeed ? (a.yspeed += this.PRIVATE_GRAVITY_FORCE_FACTOR_Y * Math.floor(a.r), a.xspeed += this.PRIVATE_GRAVITY_FORCE_FACTOR_X * Math.floor(a.r)) : (a.yspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_Y, a.xspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_X), a.y += a.yspeed, a.draw(), !1)
	}, RainyDay.prototype.GRAVITY_NON_LINEAR = function(a) {
		return this.clearDrop(a) ? !0 : (a.collided ? (a.collided = !1, a.seed = Math.floor(a.r * Math.random() * this.options.fps), a.skipping = !1, a.slowing = !1) : (!a.seed || a.seed < 0) && (a.seed = Math.floor(a.r * Math.random() * this.options.fps), a.skipping = a.skipping === !1 ? !0 : !1, a.slowing = !0), a.seed--, a.yspeed ? a.slowing ? (a.yspeed /= 1.1, a.xspeed /= 1.1, a.yspeed < this.PRIVATE_GRAVITY_FORCE_FACTOR_Y && (a.slowing = !1)) : a.skipping ? (a.yspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_Y, a.xspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_X) : (a.yspeed += 1 * this.PRIVATE_GRAVITY_FORCE_FACTOR_Y * Math.floor(a.r), a.xspeed += 1 * this.PRIVATE_GRAVITY_FORCE_FACTOR_X * Math.floor(a.r)) : (a.yspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_Y, a.xspeed = this.PRIVATE_GRAVITY_FORCE_FACTOR_X), 0 !== this.options.gravityAngleVariance && (a.xspeed += (2 * Math.random() - 1) * a.yspeed * this.options.gravityAngleVariance), a.y += a.yspeed, a.x += a.xspeed, a.draw(), !1)
	}, RainyDay.prototype.positiveMin = function(a, b) {
		var c = 0;
		return c = b > a ? 0 >= a ? b : a : 0 >= b ? a : b, 0 >= c ? 1 : c
	}, RainyDay.prototype.REFLECTION_NONE = function() {
		this.context.fillStyle = this.options.fillStyle, this.context.fill()
	}, RainyDay.prototype.REFLECTION_MINIATURE = function(a) {
		var b = Math.max((a.x - this.options.reflectionDropMappingWidth) / this.options.reflectionScaledownFactor, 0),
			c = Math.max((a.y - this.options.reflectionDropMappingHeight) / this.options.reflectionScaledownFactor, 0),
			d = this.positiveMin(2 * this.options.reflectionDropMappingWidth / this.options.reflectionScaledownFactor, this.reflected.width - b),
			e = this.positiveMin(2 * this.options.reflectionDropMappingHeight / this.options.reflectionScaledownFactor, this.reflected.height - c),
			f = Math.max(a.x - 1.1 * a.r, 0),
			g = Math.max(a.y - 1.1 * a.r, 0);
		this.context.drawImage(this.reflected, b, c, d, e, f, g, 2 * a.r, 2 * a.r)
	}, RainyDay.prototype.COLLISION_SIMPLE = function(a, b) {
		for (var c, d = b; null != d;) {
			var e = d.drop;
			if (Math.sqrt(Math.pow(a.x - e.x, 2) + Math.pow(a.y - e.y, 2)) < a.r + e.r) {
				c = e;
				break
			}
			d = d.next
		}
		if (c) {
			var f, g;
			a.y > c.y ? (f = a, g = c) : (f = c, g = a), this.clearDrop(g), this.clearDrop(f, !0), this.matrix.remove(f), g.draw(), g.colliding = f, g.collided = !0
		}
	}, RainyDay.prototype.prepareBackground = function() {
		this.background = document.createElement("canvas"), this.background.width = this.canvas.width, this.background.height = this.canvas.height, this.clearbackground = document.createElement("canvas"), this.clearbackground.width = this.canvas.width, this.clearbackground.height = this.canvas.height;
		var a = this.background.getContext("2d");
		a.clearRect(0, 0, this.canvas.width, this.canvas.height), a.drawImage(this.img, this.options.crop[0], this.options.crop[1], this.options.crop[2], this.options.crop[3], 0, 0, this.canvas.width, this.canvas.height), a = this.clearbackground.getContext("2d"), a.clearRect(0, 0, this.canvas.width, this.canvas.height), a.drawImage(this.img, this.options.crop[0], this.options.crop[1], this.options.crop[2], this.options.crop[3], 0, 0, this.canvas.width, this.canvas.height), !isNaN(this.options.blur) && this.options.blur >= 1 && this.stackBlurCanvasRGB(this.canvas.width, this.canvas.height, this.options.blur)
	}, RainyDay.prototype.stackBlurCanvasRGB = function(a, b, c) {
		var d = [
			[0, 9],
			[1, 11],
			[2, 12],
			[3, 13],
			[5, 14],
			[7, 15],
			[11, 16],
			[15, 17],
			[22, 18],
			[31, 19],
			[45, 20],
			[63, 21],
			[90, 22],
			[127, 23],
			[181, 24]
		],
			e = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];
		c |= 0;
		var f = this.background.getContext("2d");
		console.log(a);
		var g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A = f.getImageData(0, 0, a, b),
			B = A.data,
			C = c + 1,
			D = C * (C + 1) / 2,
			E = new BlurStack,
			F = new BlurStack,
			G = E;
		for (i = 1; 2 * c + 1 > i; i++) G = G.next = new BlurStack, i === C && (F = G);
		G.next = E;
		var H = null,
			I = null;
		m = l = 0;
		for (var J, K = e[c], L = 0; L < d.length; ++L) if (c <= d[L][0]) {
			J = d[L - 1][1];
			break
		}
		for (h = 0; b > h; h++) {
			for (t = u = v = n = o = p = 0, q = C * (w = B[l]), r = C * (x = B[l + 1]), s = C * (y = B[l + 2]), n += D * w, o += D * x, p += D * y, G = E, i = 0; C > i; i++) G.r = w, G.g = x, G.b = y, G = G.next;
			for (i = 1; C > i; i++) j = l + ((i > a - 1 ? a - 1 : i) << 2), n += (G.r = w = B[j]) * (z = C - i), o += (G.g = x = B[j + 1]) * z, p += (G.b = y = B[j + 2]) * z, t += w, u += x, v += y, G = G.next;
			for (H = E, I = F, g = 0; a > g; g++) B[l] = n * K >> J, B[l + 1] = o * K >> J, B[l + 2] = p * K >> J, n -= q, o -= r, p -= s, q -= H.r, r -= H.g, s -= H.b, j = m + ((j = g + c + 1) < a - 1 ? j : a - 1) << 2, t += H.r = B[j], u += H.g = B[j + 1], v += H.b = B[j + 2], n += t, o += u, p += v, H = H.next, q += w = I.r, r += x = I.g, s += y = I.b, t -= w, u -= x, v -= y, I = I.next, l += 4;
			m += a
		}
		for (g = 0; a > g; g++) {
			for (u = v = t = o = p = n = 0, l = g << 2, q = C * (w = B[l]), r = C * (x = B[l + 1]), s = C * (y = B[l + 2]), n += D * w, o += D * x, p += D * y, G = E, i = 0; C > i; i++) G.r = w, G.g = x, G.b = y, G = G.next;
			for (k = a, i = 1; C > i; i++) l = k + g << 2, n += (G.r = w = B[l]) * (z = C - i), o += (G.g = x = B[l + 1]) * z, p += (G.b = y = B[l + 2]) * z, t += w, u += x, v += y, G = G.next, b - 1 > i && (k += a);
			for (l = g, H = E, I = F, h = 0; b > h; h++) j = l << 2, B[j] = n * K >> J, B[j + 1] = o * K >> J, B[j + 2] = p * K >> J, n -= q, o -= r, p -= s, q -= H.r, r -= H.g, s -= H.b, j = g + ((j = h + C) < b - 1 ? j : b - 1) * a << 2, n += t += H.r = B[j], o += u += H.g = B[j + 1], p += v += H.b = B[j + 2], H = H.next, q += w = I.r, r += x = I.g, s += y = I.b, t -= w, u -= x, v -= y, I = I.next, l += a
		}
		f.putImageData(A, 0, 0)
	}, CollisionMatrix.prototype.update = function(a, b) {
		if (a.gid) {
			if (!this.matrix[a.gmx] || !this.matrix[a.gmx][a.gmy]) return null;
			if (this.matrix[a.gmx][a.gmy].remove(a), b) return null;
			if (a.gmx = Math.floor(a.x / this.resolution), a.gmy = Math.floor(a.y / this.resolution), !this.matrix[a.gmx] || !this.matrix[a.gmx][a.gmy]) return null;
			this.matrix[a.gmx][a.gmy].add(a);
			var c = this.collisions(a);
			if (c && null != c.next) return c.next
		} else {
			if (a.gid = Math.random().toString(36).substr(2, 9), a.gmx = Math.floor(a.x / this.resolution), a.gmy = Math.floor(a.y / this.resolution), !this.matrix[a.gmx] || !this.matrix[a.gmx][a.gmy]) return null;
			this.matrix[a.gmx][a.gmy].add(a)
		}
		return null
	}, CollisionMatrix.prototype.collisions = function(a) {
		var b = new DropItem(null),
			c = b;
		return b = this.addAll(b, a.gmx - 1, a.gmy + 1), b = this.addAll(b, a.gmx, a.gmy + 1), b = this.addAll(b, a.gmx + 1, a.gmy + 1), c
	}, CollisionMatrix.prototype.addAll = function(a, b, c) {
		if (b > 0 && c > 0 && b < this.xc && c < this.yc) for (var d = this.matrix[b][c]; null != d.next;) d = d.next, a.next = new DropItem(d.drop), a = a.next;
		return a
	}, CollisionMatrix.prototype.remove = function(a) {
		this.matrix[a.gmx][a.gmy].remove(a)
	}, DropItem.prototype.add = function(a) {
		for (var b = this; null != b.next;) b = b.next;
		b.next = new DropItem(a)
	}, DropItem.prototype.remove = function(a) {
		for (var b = this, c = null; null != b.next;) c = b, b = b.next, b.drop.gid === a.gid && (c.next = b.next)
	}, function(a) {
		window.rainyDay = {
			doEffect: function(a, b, c, d) {
				console.log(123), d(eqShow, b, c);
				var e = document.getElementById("2755513881");
				e.onload = function() {
					var a = new RainyDay({
						image: this,
						parentElement: document.getElementById("page1")
					});
					a.rain([
						[1, 2, 8e3]
					]), a.rain([
						[3, 3, .88],
						[5, 5, .9],
						[6, 2, 1]
					], 100)
				}, e.src = src
			}
		}
	}(jQuery), function() {
		function b(b, e, f, g, h) {
			function i() {
				timeout = setTimeout(function() {
					nums >= 300 * f && ($(e).fadeOut(500, function() {
						setTimeout(function() {
							$(e).removeClass("lock").addClass("unlock")
						}, 500), $("#audio_btn").css("opacity", 1), 1 == g && playVideo(c)
					}), nums = 0)
				}, d)
			}
			var j = "ontouchstart" in window ? !0 : !1,
				k = j ? "touchstart" : "mousedown",
				l = j ? "touchmove" : "mousemove",
				m = j ? "touchend" : "mouseup";
			b.lineCap = "round", b.lineJoin = "round", b.lineWidth = 2 * a, b.globalCompositeOperation = "destination-out";
			new RegExp("assets");
			e.addEventListener(k, function(a) {
				function c(a) {
					i(), nums++, a.preventDefault(), x2 = j ? a.targetTouches[0].pageX : a.pageX - $("#can" + g).offset().left, y2 = j ? a.targetTouches[0].pageY : a.pageY - $("#can" + g).offset().top, b.moveTo(x1, y1), b.lineTo(x2, y2), b.stroke(), x1 = x2, y1 = y2
				}
				$("#tip" + g).remove(), a.preventDefault(), x1 = j ? a.targetTouches[0].pageX : a.pageX - $("#can" + g).offset().left, y1 = j ? a.targetTouches[0].pageY : a.pageY - $("#can" + g).offset().top, startX = x1, startY = y1, e.addEventListener(l, c), e.addEventListener(m, function() {
					e.removeEventListener(l, c)
				})
			})
		}
		var c, d = 200;
		window.addScratchEffect = function(d, e, f) {
			pageInfo = e, c = d, a = 20, nums = 0;
			var g, h = $(".m-img").width(),
				i = $(".m-img").height(),
				j = document.createElement("canvas");
			$(j).prependTo("#page" + f).attr("class", "cas scratch-cas page_effect lock").attr("id", "can" + f).attr("style", "z-index: 1000");
			var k = j.getContext("2d");
			j.width = h, j.height = i;
			var l = new Image;
			if (e[f - 1].properties.image) {
				if (num = f, e[f - 1].properties.tip) {
					var m = document.createElement("div");
					$(m).attr("id", "tip" + f).attr("class", "tip").prependTo("#page" + f), $(m).html(e[f - 1].properties.tip)
				}
				l.src = e[f - 1].properties.image.path, g = e[f - 1].properties.percentage.value
			} else if (e[f - 1].properties.scratch) {
				if (num = f, e[f - 1].properties.scratch.tip) {
					var m = document.createElement("div");
					$(m).attr("id", "tip" + f).attr("class", "tip").prependTo("#page" + f), $(m).html(e[f - 1].properties.scratch.tip)
				}
				l.src = e[f - 1].properties.scratch.image.path, g = e[f - 1].properties.scratch.percentage.value || e[f - 1].properties.scratch.percentage
			}!
			function(a, c, d, f, g) {
				a.onload = function() {
					e[f - 1].properties.image || !e[f - 1].properties.scratch.hasOwnProperty("opacity") ? c.globalAlpha = .8 : c.globalAlpha = 1 - parseFloat(e[f - 1].properties.scratch.opacity).toFixed(2), c.drawImage(this, 0, 0, d.width, d.height), renderPage(eqShow, f, pageInfo);
					for (var h = 0; h < pageInfo[f - 1].elements.length; h++) {
						var i = eqShow.selectElement(pageInfo[f - 1].elements[h].id);
						eqxCommon.bindTrigger(i, pageInfo[f - 1].elements[h])
					}
					b(c, d, g, f, a)
				}
			}(l, k, j, f, g)
		}
	}(), function(a) {
		a.fn.slides = function(b) {
			return b = a.extend({}, a.fn.slides.option, b), this.each(function() {
				function c() {
					clearInterval(j.data("interval"))
				}
				function d() {
					b.pause ? (clearTimeout(j.data("pause")), clearInterval(j.data("interval")), pauseTimeout = setTimeout(function() {
						clearTimeout(j.data("pause")), playInterval = setInterval(function() {
							e("next", p)
						}, b.play), j.data("interval", playInterval)
					}, b.pause), j.data("pause", pauseTimeout)) : c()
				}
				function e(c, d, e) {
					if (!g && f) {
						switch (g = !0, c) {
						case "next":
							s = u, r = u + 1, r = l === r ? 0 : r, i = 2 * m, c = 2 * -m, u = r;
							break;
						case "prev":
							s = u, r = u - 1, r = -1 === r ? l - 1 : r, i = 0, c = 0, u = r;
							break;
						case "pagination":
							r = parseInt(e, 10), s = a("." + b.paginationClass + " li.current a", j).attr("rel"), r > s ? (i = 2 * m, c = 2 * -m) : (i = 0, c = 0), u = r
						}
						"fade" === d ? (b.animationStart(), b.crossfade ? k.children(":eq(" + r + ")", j).css({
							zIndex: 10
						}).fadeIn(b.fadeSpeed, function() {
							k.children(":eq(" + s + ")", j).css({
								display: "none",
								zIndex: 0
							}), a(this).css({
								zIndex: 0
							}), b.animationComplete(r + 1), g = !1
						}) : (b.animationStart(), k.children(":eq(" + s + ")", j).fadeOut(b.fadeSpeed, function() {
							b.autoHeight ? k.animate({
								height: k.children(":eq(" + r + ")", j).outerHeight()
							}, b.autoHeightSpeed, function() {
								k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed)
							}) : k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed, function() {
								a.browser.msie && a(this).get(0).style.removeAttribute("filter")
							}), b.animationComplete(r + 1), g = !1
						}))) : (k.children(":eq(" + r + ")").css({
							left: i,
							display: "block"
						}), b.autoHeight ? (b.animationStart(), k.animate({
							left: c,
							height: k.children(":eq(" + r + ")").outerHeight()
						}, b.slideSpeed, function() {
							k.css({
								left: -m
							}), k.children(":eq(" + r + ")").css({
								left: m,
								zIndex: 5
							}), k.children(":eq(" + s + ")").css({
								left: m,
								display: "none",
								zIndex: 0
							}), b.animationComplete(r + 1), g = !1
						})) : (b.animationStart(), k.animate({
							left: c
						}, b.slideSpeed, function() {
							k.css({
								left: -m
							}), k.children(":eq(" + r + ")").css({
								left: m,
								zIndex: 5
							}), k.children(":eq(" + s + ")").css({
								left: m,
								display: "none",
								zIndex: 0
							}), b.animationComplete(r + 1), g = !1
						}))), b.pagination && (a("." + b.paginationClass + " li.current", j).removeClass("current"), a("." + b.paginationClass + " li a:eq(" + r + ")", j).parent().addClass("current"))
					}
				}
				a("." + b.container, a(this)).children().wrapAll('<div class="slides_control"/>');
				var f, g, h, i, j = a(this),
					k = a(".slides_control", j),
					l = k.children().size(),
					m = k.children().outerWidth(),
					n = k.children().outerHeight(),
					o = b.start - 1,
					p = b.effect.indexOf(",") < 0 ? b.effect : b.effect.replace(" ", "").split(",")[0],
					q = b.effect.indexOf(",") < 0 ? p : b.effect.replace(" ", "").split(",")[1],
					r = 0,
					s = 0,
					t = 0,
					u = 0;
				if (!(2 > l)) {
					if (0 > o && (o = 0), o > l && (o = l - 1), b.start && (u = o), b.randomize && k.randomize(), a("." + b.container, j).css({
						overflow: "hidden",
						position: "relative"
					}), k.css({
						position: "relative",
						width: 3 * m,
						height: n,
						left: -m
					}), k.children().css({
						position: "absolute",
						top: 0,
						left: m,
						zIndex: 0,
						display: "none"
					}), b.autoHeight && k.animate({
						height: k.children(":eq(" + o + ")").outerHeight()
					}, b.autoHeightSpeed), b.preload && "IMG" == k.children()[0].tagName) {
						j.css({
							background: "url(" + b.preloadImage + ") no-repeat 50% 50%"
						});
						var v = a("img:eq(" + o + ")", j).attr("src") + "?" + (new Date).getTime();
						a("img:eq(" + o + ")", j).attr("src", v).load(function() {
							a(this).fadeIn(b.fadeSpeed, function() {
								a(this).css({
									zIndex: 5
								}), j.css({
									background: ""
								}), f = !0
							})
						})
					} else k.children(":eq(" + o + ")").fadeIn(b.fadeSpeed, function() {
						f = !0
					});
					b.bigTarget && (k.children().css({
						cursor: "pointer"
					}), k.children().click(function() {
						return e("next", p), !1
					})), b.hoverPause && b.play && (k.children().bind("mouseover", function() {
						c()
					}), k.children().bind("mouseleave", function() {
						d()
					})), b.generateNextPrev && (a("." + b.container, j).after('<a href="#" class="' + b.prev + '">Prev</a>'), a("." + b.prev, j).after('<a href="#" class="' + b.next + '">Next</a>')), a("." + b.next, j).click(function(a) {
						a.preventDefault(), b.play && d(), e("next", p)
					}), a("." + b.prev, j).click(function(a) {
						a.preventDefault(), b.play && d(), e("prev", p)
					}), b.generatePagination ? (j.append("<ul class=" + b.paginationClass + "></ul>"), k.children().each(function() {
						a("." + b.paginationClass, j).append("<li><a rel=" + t + ' href="#">' + (t + 1) + "</a></li>"), t++
					})) : a("." + b.paginationClass + " li a", j).each(function() {
						a(this).attr("rel", t), t++
					}), a("." + b.paginationClass + " li a:eq(" + o + ")", j).parent().addClass("current"), a("." + b.paginationClass + " li a", j).click(function() {
						return b.play && d(), h = a(this).attr("rel"), u != h && e("pagination", q, h), !1
					}), b.play && (playInterval = setInterval(function() {
						e("next", p)
					}, b.play), j.data("interval", playInterval))
				}
			})
		}, a.fn.slides.option = {
			preload: !1,
			preloadImage: "/img/loading.gif",
			container: "slides_container",
			generateNextPrev: !1,
			next: "next",
			prev: "prev",
			pagination: !0,
			generatePagination: !0,
			paginationClass: "pagination",
			fadeSpeed: 350,
			slideSpeed: 350,
			start: 1,
			effect: "slide",
			crossfade: !1,
			randomize: !1,
			play: 0,
			pause: 0,
			hoverPause: !1,
			autoHeight: !1,
			autoHeightSpeed: 350,
			bigTarget: !1,
			animationStart: function() {},
			animationComplete: function() {}
		}, a.fn.randomize = function(b) {
			function c() {
				return Math.round(Math.random()) - .5
			}
			return a(this).each(function() {
				var d = a(this),
					e = d.children(),
					f = e.length;
				if (f > 1) {
					e.hide();
					var g = [];
					for (i = 0; f > i; i++) g[g.length] = i;
					g = g.sort(c), a.each(g, function(a, c) {
						var f = e.eq(c),
							g = f.clone(!0);
						g.show().appendTo(d), b !== undefined && b(f, g), f.remove()
					})
				}
			})
		}
	}(jQuery), function($) {
		window.snowFly = {
			doEffect: function(audioObj, pageNum, pages, callback) {
				callback(eqShow, pageNum, pages);
				for (var i = 0; i < pages[pageNum - 1].elements.length; i++) {
					var $elem = eqShow.selectElement(pages[pageNum - 1].elements[i].id);
					eqxCommon.bindTrigger($elem, pages[pageNum - 1].elements[i])
				}
				1 == pageNum && playVideo(audioObj);
				var container, particle, camera, scene, renderer, SCREEN_WIDTH = window.innerWidth,
					SCREEN_HEIGHT = window.innerHeight,
					mouseX = 0,
					mouseY = 0,
					particles = (window.innerWidth / 2, window.innerHeight / 2, []),
					particleImage = new Image;
				particleImage.src = CLIENT_CDN + "view/images/ParticleSmoke.png";
				var $parent = $("#page" + pageNum).parent(".main-page");
				container = $parent.get(0), camera = new THREE.PerspectiveCamera(75, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 1e4), camera.position.z = 1e3, scene = new THREE.Scene, scene.add(camera), renderer = new THREE.CanvasRenderer, renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT), renderer.num = pageNum;
				for (var material = new THREE.ParticleBasicMaterial({
					map: new THREE.Texture(particleImage)
				}), i = 0; 500 > i; i++) particle = new Particle3D(material), particle.position.x = 2e3 * Math.random() - 1e3, particle.position.y = 2e3 * Math.random() - 1e3, particle.position.z = 2e3 * Math.random() - 1e3, particle.scale.x = particle.scale.y = 1, scene.add(particle), particles.push(particle);
				var canvas = renderer.domElement;
				$(canvas).attr("id", "snowcas" + pageNum).appendTo($parent), $("#snowcas" + pageNum).css({
					position: "absolute",
					pointerEvents: "none",
					top: 0,
					width: "100%",
					height: "100%"
				}), eqShow.stopSnowFly = setInterval(function() {
					for (var i = 0; i < particles.length; i++) {
						var particle = particles[i];
						with(particle.updatePhysics(), particle.position) y < -1e3 && (y += 2e3), x > 1e3 ? x -= 2e3 : x < -1e3 && (x += 2e3), z > 1e3 ? z -= 2e3 : z < -1e3 && (z += 2e3)
					}
					camera.position.x += .05 * (mouseX - camera.position.x), camera.position.y += .05 * (-mouseY - camera.position.y), camera.lookAt(scene.position), renderer.render(scene, camera)
				}, 1e3 / 60)
			}
		}
	}(jQuery), function() {
		window.eqxiuSvg = {
			NAMESPACE: "http://www.w3.org/2000/svg",
			SYMBOLS: {},
			boundingBox: function(a) {
				var b, c = a.parentNode,
					d = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
				return d.setAttribute("width", "0"), d.setAttribute("height", "0"), d.setAttribute("style", "visibility: hidden; position: absolute; left: 0; top: 0;"), d.appendChild(a), document.body.appendChild(d), b = a.getBBox(), c ? c.appendChild(a) : d.removeChild(a), document.body.removeChild(d), b
			},
			pointsToPolygon: function(a) {
				for (var b = []; a.length >= 2;) b.push(a.shift() + "," + a.shift());
				return b.join(" ")
			},
			symbol: function(a, b, c) {
				var d = c ? c : "#555",
					e = eqxiuSvg.SYMBOLS[a],
					f = '<g fill="' + d + '" id="path_' + b + '">' + e + "</g>";
				return f
			},
			ShapeFromType: function(a, b, c, d, e) {
				return b || (b = 64), c || (c = 64), /symbols\-/.test(a) ? eqxiuSvg.symbol(a.replace(/^symbols\-/, ""), d, e) : "rect" == a ? eqxiuSvg.rect(b, c) : "circle" == a ? eqxiuSvg.ellipse(b, c) : "diamond" == a ? eqxiuSvg.polygon(b, c, 4) : "octagon" == a ? eqxiuSvg.polygon(b, c, 8) : "triangle-up" == a ? eqxiuSvg.triangleUp(b, c) : "triangle-down" == a ? eqxiuSvg.triangleDown(b, c) : "triangle-left" == a ? eqxiuSvg.triangleLeft(b, c) : "triangle-right" == a ? eqxiuSvg.triangleRight(b, c) : "arrow-up" == a ? eqxiuSvg.arrowUp(b, c) : "arrow-down" == a ? eqxiuSvg.arrowDown(b, c) : "arrow-left" == a ? eqxiuSvg.arrowLeft(b, c) : "arrow-right" == a ? eqxiuSvg.arrowRight(b, c) : void 0
			},
			rect: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "rect");
				return c.setAttribute("width", a), c.setAttribute("height", b), c
			},
			ellipse: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "ellipse");
				return c.setAttribute("rx", a / 2), c.setAttribute("ry", b / 2), c.setAttribute("cx", a / 2), c.setAttribute("cy", b / 2), c
			},
			triangleUp: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a / 2, 0, a, b, 0, b])), c
			},
			triangleDown: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, 0, a, 0, a / 2, b])), c
			},
			triangleLeft: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, b / 2, a, 0, a, b])), c
			},
			triangleRight: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, b / 2, 0, b, 0, 0])), c
			},
			arrowUp: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, 0, a, .5 * b, .7 * a, .5 * b, .7 * a, b, .3 * a, b, .3 * a, .5 * b, 0, .5 * b, .5 * a, 0])), c
			},
			arrowDown: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, b, a, .5 * b, .7 * a, .5 * b, .7 * a, 0, .3 * a, 0, .3 * a, .5 * b, 0, .5 * b, .5 * a, b])), c
			},
			arrowLeft: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, .3 * b, .5 * a, .3 * b, .5 * a, 0, 0, .5 * b, .5 * a, b, .5 * a, .7 * b, a, .7 * b, a, .3 * b])), c
			},
			arrowRight: function(a, b) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
				return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, .3 * b, .5 * a, .3 * b, .5 * a, 0, a, .5 * b, .5 * a, b, .5 * a, .7 * b, 0, .7 * b])), c
			},
			polygon: function(a, b, c) {
				var d = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon"),
					e = [];
				if (3 === c) e = [a / 2, 0, a, b, 0, b];
				else if (c > 3) for (var f = a / 2, g = b / 2, h = 0; c > h; h++) {
					var i = f + f * Math.cos(2 * Math.PI * h / c),
						j = g + g * Math.sin(2 * Math.PI * h / c);
					i = Math.round(10 * i) / 10, j = Math.round(10 * j) / 10, e.push(i), e.push(j)
				}
				return d.setAttribute("points", eqxiuSvg.pointsToPolygon(e)), d
			}
		}
	}(), function() {
		window.eqxiuSvg.SYMBOLS = {
			bolt: '<path d="M32 0l-24 16 6 4-14 12 24-12-6-4z"></path>',
			camera: '<path d="M16 20c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4zM28 8l-3.289-6.643c-0.27-0.789-1.016-1.357-1.899-1.357h-5.492c-0.893 0-1.646 0.582-1.904 1.385l-3.412 6.615h-8.004c-2.209 0-4 1.791-4 4v20h32v-20c0-2.209-1.789-4-4-4zM6 16c-1.105 0-2-0.895-2-2s0.895-2 2-2 2 0.895 2 2-0.895 2-2 2zM20 28c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"></path>',
			"checkmark-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM13.52 23.383l-7.362-7.363 2.828-2.828 4.533 4.535 9.617-9.617 2.828 2.828-12.444 12.445z"></path>',
			clock: '<path d="M16 4c6.617 0 12 5.383 12 12s-5.383 12-12 12-12-5.383-12-12 5.383-12 12-12zM16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16v0zM21.422 18.578l-3.422-3.426v-7.152h-4.023v7.992c0 0.602 0.277 1.121 0.695 1.492l3.922 3.922 2.828-2.828z"></path>',
			cloud: '<path d="M24 10c-0.379 0-0.738 0.061-1.102 0.111-1.394-2.465-3.972-4.111-6.898-4.111-2.988 0-5.566 1.666-6.941 4.1-0.352-0.047-0.704-0.1-1.059-0.1-4.41 0-8 3.588-8 8 0 4.414 3.59 8 8 8h16c4.41 0 8-3.586 8-8 0-4.412-3.59-8-8-8zM24 22h-16c-2.207 0-4-1.797-4-4 0-2.193 1.941-3.885 4.004-3.945 0.008 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.929 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.793-4 4-4s4 1.795 4 4c0 2.203-1.793 4-4 4z"></path>',
			cog: '<path d="M32 17.969v-4l-4.781-1.992c-0.133-0.375-0.273-0.738-0.445-1.094l1.93-4.805-2.829-2.828-4.762 1.961c-0.363-0.176-0.734-0.324-1.117-0.461l-2.027-4.75h-4l-1.977 4.734c-0.398 0.141-0.781 0.289-1.16 0.469l-4.754-1.91-2.828 2.828 1.938 4.711c-0.188 0.387-0.34 0.781-0.485 1.188l-4.703 2.011v4l4.707 1.961c0.145 0.406 0.301 0.801 0.488 1.188l-1.902 4.742 2.828 2.828 4.723-1.945c0.379 0.18 0.766 0.324 1.164 0.461l2.023 4.734h4l1.98-4.758c0.379-0.141 0.754-0.289 1.113-0.461l4.797 1.922 2.828-2.828-1.969-4.773c0.168-0.359 0.305-0.723 0.438-1.094l4.782-2.039zM15.969 22c-3.312 0-6-2.688-6-6s2.688-6 6-6 6 2.688 6 6-2.688 6-6 6z"></path>',
			denied: '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM16 4c2.59 0 4.973 0.844 6.934 2.242l-16.696 16.688c-1.398-1.961-2.238-4.344-2.238-6.93 0-6.617 5.383-12 12-12zM16 28c-2.59 0-4.973-0.844-6.934-2.242l16.696-16.688c1.398 1.961 2.238 4.344 2.238 6.93 0 6.617-5.383 12-12 12z"></path>',
			earth: '<path d="M27.314 4.686c3.022 3.022 4.686 7.040 4.686 11.314s-1.664 8.292-4.686 11.314c-3.022 3.022-7.040 4.686-11.314 4.686s-8.292-1.664-11.314-4.686c-3.022-3.022-4.686-7.040-4.686-11.314s1.664-8.292 4.686-11.314c3.022-3.022 7.040-4.686 11.314-4.686s8.292 1.664 11.314 4.686zM25.899 25.9c1.971-1.971 3.281-4.425 3.821-7.096-0.421 0.62-0.824 0.85-1.073-0.538-0.257-2.262-2.335-0.817-3.641-1.621-1.375 0.927-4.466-1.802-3.941 1.276 0.81 1.388 4.375-1.858 2.598 1.079-1.134 2.050-4.145 6.592-3.753 8.946 0.049 3.43-3.504 0.715-4.729-0.422-0.824-2.279-0.281-6.262-2.434-7.378-2.338-0.102-4.344-0.314-5.25-2.927-0.545-1.87 0.58-4.653 2.584-5.083 2.933-1.843 3.98 2.158 6.731 2.232 0.854-0.894 3.182-1.178 3.375-2.18-1.805-0.318 2.29-1.517-0.173-2.199-1.358 0.16-2.234 1.409-1.512 2.467-2.632 0.614-2.717-3.809-5.247-2.414-0.064 2.206-4.132 0.715-1.407 0.268 0.936-0.409-1.527-1.594-0.196-1.379 0.654-0.036 2.854-0.807 2.259-1.325 1.225-0.761 2.255 1.822 3.454-0.059 0.866-1.446-0.363-1.713-1.448-0.98-0.612-0.685 1.080-2.165 2.573-2.804 0.497-0.213 0.973-0.329 1.336-0.296 0.752 0.868 2.142 1.019 2.215-0.104-1.862-0.892-3.915-1.363-6.040-1.363-3.051 0-5.952 0.969-8.353 2.762 0.645 0.296 1.012 0.664 0.39 1.134-0.483 1.439-2.443 3.371-4.163 3.098-0.893 1.54-1.482 3.238-1.733 5.017 1.441 0.477 1.773 1.42 1.464 1.736-0.734 0.64-1.185 1.548-1.418 2.541 0.469 2.87 1.818 5.515 3.915 7.612 2.644 2.644 6.16 4.1 9.899 4.1s7.255-1.456 9.899-4.1z"></path>',
			eye: '<path d="M16 4c-8.836 0-16 11.844-16 11.844s7.164 12.156 16 12.156 16-12.156 16-12.156-7.164-11.844-16-11.844zM16 24c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zM12 16c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4z"></path>',
			facebook: '<path d="M17.996 32h-5.996v-16h-4v-5.514l4-0.002-0.007-3.248c0-4.498 1.22-7.236 6.519-7.236h4.412v5.515h-2.757c-2.064 0-2.163 0.771-2.163 2.209l-0.008 2.76h4.959l-0.584 5.514-4.37 0.002-0.004 16z"></path>',
			fork: '<path d="M20 0v3.875c0 1.602-0.625 3.109-1.754 4.238l-11.316 11.254c-1.789 1.785-2.774 4.129-2.883 6.633h-4.047l6 6 6-6h-3.957c0.105-1.438 0.684-2.773 1.711-3.805l11.316-11.25c1.891-1.89 2.93-4.398 2.93-7.070v-3.875h-4zM23.953 26c-0.109-2.504-1.098-4.848-2.887-6.641l-2.23-2.215-2.836 2.821 2.242 2.23c1.031 1.027 1.609 2.367 1.715 3.805h-3.957l6 6 6-6h-4.047z"></path>',
			globe: '<path d="M15 2c-8.284 0-15 6.716-15 15s6.716 15 15 15c8.284 0 15-6.716 15-15s-6.716-15-15-15zM23.487 22c0.268-1.264 0.437-2.606 0.492-4h3.983c-0.104 1.381-0.426 2.722-0.959 4h-3.516zM6.513 12c-0.268 1.264-0.437 2.606-0.492 4h-3.983c0.104-1.381 0.426-2.722 0.959-4h3.516zM21.439 12c0.3 1.28 0.481 2.62 0.54 4h-5.979v-4h5.439zM16 10v-5.854c0.456 0.133 0.908 0.355 1.351 0.668 0.831 0.586 1.625 1.488 2.298 2.609 0.465 0.775 0.867 1.638 1.203 2.578h-4.852zM10.351 7.422c0.673-1.121 1.467-2.023 2.298-2.609 0.443-0.313 0.895-0.535 1.351-0.668v5.854h-4.852c0.336-0.94 0.738-1.803 1.203-2.578zM14 12v4h-5.979c0.059-1.38 0.24-2.72 0.54-4h5.439zM2.997 22c-0.533-1.278-0.854-2.619-0.959-4h3.983c0.055 1.394 0.224 2.736 0.492 4h-3.516zM8.021 18h5.979v4h-5.439c-0.3-1.28-0.481-2.62-0.54-4zM14 24v5.854c-0.456-0.133-0.908-0.355-1.351-0.668-0.831-0.586-1.625-1.488-2.298-2.609-0.465-0.775-0.867-1.638-1.203-2.578h4.852zM19.649 26.578c-0.673 1.121-1.467 2.023-2.298 2.609-0.443 0.312-0.895 0.535-1.351 0.668v-5.854h4.852c-0.336 0.94-0.738 1.802-1.203 2.578zM16 22v-4h5.979c-0.059 1.38-0.24 2.72-0.54 4h-5.439zM23.98 16c-0.055-1.394-0.224-2.736-0.492-4h3.516c0.533 1.278 0.855 2.619 0.959 4h-3.983zM25.958 10h-2.997c-0.582-1.836-1.387-3.447-2.354-4.732 1.329 0.636 2.533 1.488 3.585 2.54 0.671 0.671 1.261 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54-0.967 1.285-1.771 2.896-2.354 4.732h-2.997c0.504-0.788 1.094-1.521 1.766-2.192zM4.042 24h2.997c0.583 1.836 1.387 3.447 2.354 4.732-1.329-0.636-2.533-1.488-3.585-2.54-0.671-0.671-1.261-1.404-1.766-2.192zM24.192 26.192c-1.052 1.052-2.256 1.904-3.585 2.54 0.967-1.285 1.771-2.896 2.354-4.732h2.997c-0.504 0.788-1.094 1.521-1.766 2.192z"></path>',
			happy: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM16 18.711c3.623 0 7.070-0.963 10-2.654-0.455 5.576-4.785 9.942-10 9.942-5.215 0-9.544-4.371-10-9.947 2.93 1.691 6.377 2.658 10 2.658zM8 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3zM20 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3z"></path>',
			"heart-fill": '<path d="M16 5.844c-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891-2.984 0-5.5 1.578-7.113 3.844z"></path>',
			"heart-stroke": '<path d="M23.113 6c2.457 0 4.492 1.82 4.836 4.188l-11.945 13.718-11.953-13.718c0.344-2.368 2.379-4.188 4.836-4.188 2.016 0 3.855 2.164 3.855 2.164l3.258 3.461 3.258-3.461c0 0 1.84-2.164 3.855-2.164zM23.113 2c-2.984 0-5.5 1.578-7.113 3.844-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891v0z"></path>',
			home: '<path d="M16 0l-16 16h4v16h24v-16h4l-16-16zM24 28h-6v-6h-4v6h-6v-14.344l8-5.656 8 5.656v14.344z"></path>',
			iphone: '<path d="M16 0h-8c-4.418 0-8 3.582-8 8v16c0 4.418 3.582 8 8 8h8c4.418 0 8-3.582 8-8v-16c0-4.418-3.582-8-8-8zM12 30.062c-1.139 0-2.062-0.922-2.062-2.062s0.924-2.062 2.062-2.062 2.062 0.922 2.062 2.062-0.923 2.062-2.062 2.062zM20 24h-16v-16c0-2.203 1.795-4 4-4h8c2.203 0 4 1.797 4 4v16z"></path>',
			lock: '<path d="M14 0c-5.508 0-9.996 4.484-9.996 10v2h-4.004v14c0 3.309 2.691 6 6 6h12c3.309 0 6-2.691 6-6v-16c0-5.516-4.488-10-10-10zM11.996 24c-1.101 0-1.996-0.895-1.996-2s0.895-2 1.996-2c1.105 0 2 0.895 2 2s-0.894 2-2 2zM20 12h-11.996v-2c0-3.309 2.691-6 5.996-6 3.309 0 6 2.691 6 6v2z"></path>',
			mail: '<path d="M15.996 15.457l16.004-7.539v-3.918h-32v3.906zM16.004 19.879l-16.004-7.559v15.68h32v-15.656z"></path>',
			"minus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-16v-4h16v4z"></path>',
			moon: '<path d="M24.633 22.184c-8.188 0-14.82-6.637-14.82-14.82 0-2.695 0.773-5.188 2.031-7.363-6.824 1.968-11.844 8.187-11.844 15.644 0 9.031 7.32 16.355 16.352 16.355 7.457 0 13.68-5.023 15.648-11.844-2.18 1.254-4.672 2.028-7.367 2.028z"></path>',
			paperclip: '<path d="M17.293 15.292l-2.829-2.829-4 4c-1.953 1.953-1.953 5.119 0 7.071 1.953 1.953 5.118 1.953 7.071 0l10.122-9.879c3.123-3.124 3.123-8.188 0-11.313-3.125-3.124-8.19-3.124-11.313 0l-11.121 10.88c-4.296 4.295-4.296 11.26 0 15.557 4.296 4.296 11.261 4.296 15.556 0l6-6-2.829-2.829-5.999 6c-2.733 2.732-7.166 2.732-9.9 0-2.733-2.732-2.733-7.166 0-9.899l11.121-10.881c1.562-1.562 4.095-1.562 5.656 0 1.563 1.563 1.563 4.097 0 5.657l-10.121 9.879c-0.391 0.391-1.023 0.391-1.414 0s-0.391-1.023 0-1.414l4-4z"></path>',
			pin: '<path d="M17.070 2.93c-3.906-3.906-10.234-3.906-14.141 0-3.906 3.904-3.906 10.238 0 14.14 0.001 0 7.071 6.93 7.071 14.93 0-8 7.070-14.93 7.070-14.93 3.907-3.902 3.907-10.236 0-14.14zM10 14c-2.211 0-4-1.789-4-4s1.789-4 4-4 4 1.789 4 4-1.789 4-4 4z"></path>',
			"plus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-6v6h-4v-6h-6v-4h6v-6h4v6h6v4z"></path>',
			rain: '<path d="M23.998 6c-0.375 0-0.733 0.061-1.103 0.111-1.389-2.465-3.969-4.111-6.895-4.111-2.987 0-5.565 1.666-6.94 4.1-0.353-0.047-0.705-0.1-1.060-0.1-4.41 0-8 3.588-8 8s3.59 8 8 8h15.998c4.414 0 8-3.588 8-8s-3.586-8-8-8zM23.998 18h-15.998c-2.207 0-4-1.795-4-4 0-2.193 1.941-3.885 4.004-3.945 0.009 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.928 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.795-4 3.998-4 2.211 0 4 1.795 4 4s-1.789 4-4 4zM3.281 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.438-2.719 5.438-2.719-1.969 4.688-2.719 5.438zM11.285 29.438c-0.75 0.75-1.965 0.75-2.719 0-0.75-0.75-0.75-1.969 0-2.719 0.754-0.75 5.438-2.719 5.438-2.719s-1.965 4.688-2.719 5.438zM19.28 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.437-2.719 5.437-2.719-1.968 4.688-2.718 5.438z"></path>',
			ribbon: '<path d="M8 20c-1.41 0-2.742-0.289-4-0.736v12.736l4-4 4 4v-12.736c-1.258 0.447-2.59 0.736-4 0.736zM0 8c0-4.418 3.582-8 8-8s8 3.582 8 8c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8z"></path>',
			sad: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM9.997 24.398l-2.573-1.544c1.749-2.908 4.935-4.855 8.576-4.855 3.641 0 6.827 1.946 8.576 4.855l-2.573 1.544c-1.224-2.036-3.454-3.398-6.003-3.398-2.549 0-4.779 1.362-6.003 3.398z"></path>',
			smiley: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM22.003 19.602l2.573 1.544c-1.749 2.908-4.935 4.855-8.576 4.855s-6.827-1.946-8.576-4.855l2.573-1.544c1.224 2.036 3.454 3.398 6.003 3.398s4.779-1.362 6.003-3.398z"></path>',
			star: '<path d="M22.137 19.625l9.863-7.625h-12l-4-12-4 12h-12l9.875 7.594-3.875 12.406 10.016-7.68 9.992 7.68z"></path>',
			sun: '<path d="M16.001 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 7.999-3.582 7.999-8s-3.581-8-7.999-8v0zM14 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM4 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM2 14c1.105 0 2 0.895 2 2 0 1.107-0.895 2-2 2s-2-0.893-2-2c0-1.105 0.895-2 2-2zM4 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM14 30c0-1.109 0.895-2 2-2 1.108 0 2 0.891 2 2 0 1.102-0.892 2-2 2-1.105 0-2-0.898-2-2zM24 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM30 18c-1.104 0-2-0.896-2-2 0-1.107 0.896-2 2-2s2 0.893 2 2c0 1.104-0.896 2-2 2zM24 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
			"thin-arrow-down": '<path d="M4.586 19.414l10 10c0.781 0.781 2.047 0.781 2.828 0l10-10c0.781-0.781 0.781-2.047 0-2.828s-2.047-0.781-2.828 0l-6.586 6.586v-19.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v19.172l-6.586-6.586c-0.391-0.39-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586c-0.781 0.781-0.781 2.047 0 2.828z"></path>',
			"thin-arrow-down-left": '<path d="M18 28c1.105 0 2-0.895 2-2s-0.895-2-2-2h-7.172l16.586-16.586c0.781-0.781 0.781-2.047 0-2.828-0.391-0.391-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586l-16.586 16.586v-7.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v14h14z"></path>',
			"thin-arrow-down-right": '<path d="M28 14c0-1.105-0.895-2-2-2s-2 0.895-2 2v7.172l-16.586-16.586c-0.781-0.781-2.047-0.781-2.828 0-0.391 0.391-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414l16.586 16.586h-7.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h14v-14z"></path>',
			"thin-arrow-left": '<path d="M12.586 4.586l-10 10c-0.781 0.781-0.781 2.047 0 2.828l10 10c0.781 0.781 2.047 0.781 2.828 0s0.781-2.047 0-2.828l-6.586-6.586h19.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-19.172l6.586-6.586c0.39-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414c-0.781-0.781-2.047-0.781-2.828 0z"></path>',
			"thin-arrow-right": '<path d="M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z"></path>',
			"thin-arrow-up": '<path d="M27.414 12.586l-10-10c-0.781-0.781-2.047-0.781-2.828 0l-10 10c-0.781 0.781-0.781 2.047 0 2.828s2.047 0.781 2.828 0l6.586-6.586v19.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-19.172l6.586 6.586c0.39 0.39 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586c0.781-0.781 0.781-2.047 0-2.828z"></path>',
			"thin-arrow-up-left": '<path d="M4 18c0 1.105 0.895 2 2 2s2-0.895 2-2v-7.172l16.586 16.586c0.781 0.781 2.047 0.781 2.828 0 0.391-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414l-16.586-16.586h7.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-14v14z"></path>',
			"thin-arrow-up-right": '<path d="M26.001 4c-0 0-0.001 0-0.001 0h-11.999c-1.105 0-2 0.895-2 2s0.895 2 2 2h7.172l-16.586 16.586c-0.781 0.781-0.781 2.047 0 2.828 0.391 0.391 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586l16.586-16.586v7.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-14h-1.999z"></path>',
			twitter: '<path d="M32 6.076c-1.177 0.522-2.443 0.875-3.771 1.034 1.355-0.813 2.396-2.099 2.887-3.632-1.269 0.752-2.674 1.299-4.169 1.593-1.198-1.276-2.904-2.073-4.792-2.073-3.626 0-6.565 2.939-6.565 6.565 0 0.515 0.058 1.016 0.17 1.496-5.456-0.274-10.294-2.888-13.532-6.86-0.565 0.97-0.889 2.097-0.889 3.301 0 2.278 1.159 4.287 2.921 5.465-1.076-0.034-2.088-0.329-2.974-0.821-0.001 0.027-0.001 0.055-0.001 0.083 0 3.181 2.263 5.834 5.266 6.437-0.551 0.15-1.131 0.23-1.73 0.23-0.423 0-0.834-0.041-1.235-0.118 0.835 2.608 3.26 4.506 6.133 4.559-2.247 1.761-5.078 2.81-8.154 2.81-0.53 0-1.052-0.031-1.566-0.092 2.905 1.863 6.356 2.95 10.064 2.95 12.076 0 18.679-10.004 18.679-18.68 0-0.285-0.006-0.568-0.019-0.849 1.283-0.926 2.396-2.082 3.276-3.398z"></path>',
			umbrella: '<path d="M16 0c-8.82 0-16 7.178-16 16h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5v10c0 1.102-0.895 2-2 2-1.102 0-2-0.898-2-2h-4c0 3.309 2.695 6 6 6 3.312 0 6-2.691 6-6v-10c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.498 0.674 1.498 1.5h4c0-0.826 0.68-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-8.822-7.172-16-15.998-16z"></path>',
			unlock: '<path d="M14.004 0c-5.516 0-9.996 4.484-9.996 10h3.996c0-3.309 2.688-6 6-6 3.305 0 5.996 2.691 5.996 6v2h-20v14c0 3.309 2.695 6 6 6h12c3.305 0 6-2.691 6-6v-16c0-5.516-4.488-10-9.996-10zM12 24c-1.102 0-2-0.895-2-2s0.898-2 2-2c1.109 0 2 0.895 2 2s-0.891 2-2 2z"></path>',
			user: '<path d="M12 16c-6.625 0-12 5.375-12 12 0 2.211 1.789 4 4 4h16c2.211 0 4-1.789 4-4 0-6.625-5.375-12-12-12zM6 6c0-3.314 2.686-6 6-6s6 2.686 6 6c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6z"></path>',
			wondering: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM23.304 18.801l0.703 2.399-13.656 4-0.703-2.399zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
			"x-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM23.914 21.086l-2.828 2.828-5.086-5.086-5.086 5.086-2.828-2.828 5.086-5.086-5.086-5.086 2.828-2.828 5.086 5.086 5.086-5.086 2.828 2.828-5.086 5.086 5.086 5.086z"></path>',
			android: '<path d="M50.143,45.057h-0.241c-2.13,0-3.857-1.735-3.857-3.875V24.713 c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C54,43.323,52.273,45.057,50.143,45.057z M39.777,51.112h-2.169v8.961c0,2.14-1.727,3.875-3.857,3.875h-0.241c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-5.304v8.961 c0,2.14-1.727,3.875-3.857,3.875H20.25c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-2.17c-2.663,0-4.821-2.169-4.821-4.844V21.565 h35.196v24.704C44.598,48.944,42.44,51.112,39.777,51.112z M18.451,5.498l-2.777-4.832c-0.1-0.174-0.041-0.396,0.132-0.496 l0.209-0.121c0.173-0.1,0.394-0.041,0.494,0.133l2.802,4.877c2.297-1.091,4.863-1.705,7.573-1.705c2.856,0,5.552,0.681,7.941,1.885 l2.906-5.056c0.1-0.174,0.321-0.233,0.494-0.133l0.209,0.121c0.173,0.1,0.232,0.322,0.132,0.496l-2.889,5.028 c4.989,2.866,8.459,8.094,8.901,14.169H9.191C9.643,13.645,13.271,8.316,18.451,5.498z M35.076,13.572 c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574c-0.865,0-1.567,0.705-1.567,1.574 C33.509,12.867,34.21,13.572,35.076,13.572z M18.924,13.572c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574 c-0.865,0-1.567,0.705-1.567,1.574C17.357,12.867,18.059,13.572,18.924,13.572z M4.098,45.057H3.857C1.727,45.057,0,43.323,0,41.182 V24.713c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C7.955,43.323,6.228,45.057,4.098,45.057z"/>',
			apple: '<path d="M43.061,34.522c0,8.67,8.393,12.374,8.393,12.374 c-2.057,8.63-9.252,15.172-9.252,15.172c-1.613,1.607-4.567,1.852-4.567,1.852c-2.377,0-5.309-1.34-5.309-1.34 c-2.259-1.299-5.426-1.301-5.426-1.301c-2.792,0-5.309,1.261-5.309,1.261C19.334,63.835,16.399,64,16.399,64 c-2.568,0-3.982-1.498-3.982-1.498C-0.546,50.658,0.003,35.271,0.003,35.271c0-19.645,15.576-19.586,15.576-19.586 c3.626,0,4.919,0.827,4.919,0.827c3.866,1.882,5.777,1.892,5.777,1.892c1.5,0,5.816-1.931,5.816-1.931 c2.223-1.052,5.778-1.064,5.778-1.064c8.325,0,11.984,6.424,11.984,6.424C42.702,26.182,43.061,34.522,43.061,34.522z M25.729,14.818C25.729,1.075,38.377,0,38.377,0C38.377,14.797,25.729,14.818,25.729,14.818z"/>',
			baidu: '<path d="M57.549,28.923c-0.219,7.717-6.714,8.677-6.714,8.677 c-8.176-0.648-7.673-8.677-7.673-8.677c-0.795-8.379,5.755-9.641,5.755-9.641C58,19.412,57.549,28.923,57.549,28.923z M37.407,20.246c-5.931,0-5.755-8.677-5.755-8.677c1.708-7.93,7.673-9.641,7.673-9.641c5.472,0.78,6.714,8.677,6.714,8.677 C44.174,21.255,37.407,20.246,37.407,20.246z M37.407,32.779c2.75,3.707,7.673,8.677,7.673,8.677 c7.267,4.21,7.673,10.605,7.673,10.605c0,13.939-14.387,10.605-14.387,10.605c-1.873-0.813-7.673-1.928-7.673-1.928h-4.796 c-2.325,0.456-10.551,1.928-10.551,1.928c-10.734,0-11.51-10.605-11.51-10.605c0-6.349,4.796-9.641,4.796-9.641 c6.151-4.696,9.592-9.641,9.592-9.641c5.137-7.284,9.591-6.749,9.591-6.749C33.569,25.744,37.407,32.779,37.407,32.779z M25.897,35.672H23.02v5.785h-6.714c-5.859,0.902-5.755,8.677-5.755,8.677c-0.551,5.375,5.755,7.713,5.755,7.713h9.591V35.672z M32.611,53.025V41.456h-4.796v12.533c-0.017,2.653,3.837,3.856,3.837,3.856h10.551v-16.39h-4.796v12.533h-2.877 C33.473,53.886,32.611,53.025,32.611,53.025z M17.265,46.277h5.755v7.713h-4.796c0,0-2.647-0.459-2.877-3.856 C15.346,50.133,15.452,46.899,17.265,46.277z M21.101,20.246c-6.799,0-6.714-10.605-6.714-10.605c0-9.31,6.714-9.641,6.714-9.641 c5.997,0,6.714,9.641,6.714,9.641C27.815,19.489,21.101,20.246,21.101,20.246z M6.714,33.743C0.544,33.743,0,24.102,0,24.102 c0-8.281,6.714-9.641,6.714-9.641c6.751,0,7.673,9.641,7.673,9.641C14.387,32.77,6.714,33.743,6.714,33.743z"/>',
			douban: '<path d="M0,64v-5.818h20.945c0,0-4.899-9.901-8.145-11.636l8.145-3.491 c0,0,5.56,12.555,5.818,15.127h13.964c0,0,5.825-11.048,5.818-15.127l6.982,3.491c0,0-3.36,10.254-5.295,11.512 c-0.447,0.029-0.656,0.069-0.523,0.124c0.157,0.065,0.336-0.002,0.523-0.124C51.09,57.875,64,58.182,64,58.182V64H0z M5.818,40.727 v-25.6h52.364v25.6H5.818z M48.873,20.945H15.127v13.964h33.745V20.945z M3.491,0H64v5.818H3.491V0z"/>',
			googleplay: '<path d="M55.532,34.556c-0.828,0.473-5.547,3.122-11.786,6.618 l-8.591-8.715l9.908-9.829c5.385,3.012,9.44,5.281,10.469,5.858C58,29.871,57.958,33.17,55.532,34.556z M3.177,0.02 c0.741-0.078,1.548,0.064,2.355,0.511c1.54,0.853,23.514,13.139,37.89,21.18l-9.536,9.46L3.177,0.02z M1.36,0.75l31.244,31.694 L2.074,62.731C0.89,62.224,0,61.115,0,59.574C0,56.662,0,5.559,0,3.55C0,2.412,0.532,1.401,1.36,0.75z M42.112,42.089 C27.972,50.01,7.556,61.427,5.419,62.575c-0.32,0.172-0.655,0.291-0.993,0.367l29.446-29.212L42.112,42.089z"/>',
			kaixinwang: '<path d="M60.549,30.164c0,0-3.494,8.614-16.984,12.25c0,0-0.502,11.237,0,15.076c0,0,1.59,4.938-4.718,3.769c0,0-6.539-0.588-13.21-9.423c0,0-2.071-1.431-2.831,0c0,0-5.588,5.249-9.436,7.538c0,0-7.049,0.734-7.549-3.769c0,0-2.985-13.205,0.944-21.672c0,0-0.269-2.116-0.944-2.827c0,0-8.864-10.313-4.718-22.615c0,0,1.108-1.884,5.661-0.942c0,0,7.295,4.273,8.492,4.711c0,0,3.262,0.609,3.774-0.942c0,0,7.578-9.802,14.153-11.307c0,0,7.228-0.583,7.549,6.596c0,0,2.168,10.163,1.887,13.192c0,0,1.659,4.159,4.718,3.769c0,0,9.924-0.088,12.266,1.885C59.605,25.453,61.958,26.999,60.549,30.164z M13.371,27.337c0.013-2.519-1.887-2.827-1.887-2.827c-3.341,0-2.831,1.884-2.831,1.884c-0.146,2.405,2.831,2.827,2.831,2.827C13.764,28.831,13.371,27.337,13.371,27.337zM14.314,32.991c-1.477,8.602,6.605,11.307,6.605,11.307c6.04,0.515,11.323-4.711,11.323-4.711c-7.647,2.452-11.323,0.942-11.323,0.942C14.869,38.902,14.314,32.991,14.314,32.991z M36.016,18.857c0,0-3.136-1.152-5.661,0.942c0,0-0.944,0.585-0.944-0.942c0,0-3.121-5.667-7.549-1.885c0,0-6.72,5.505-2.831,13.192c0,0,1.414,3.005,6.605,0.942c0,0,0.403,2.079,1.887,3.769c0,0,4.505,3.149,7.549-3.769C35.073,31.107,38.588,24.505,36.016,18.857z M41.678,33.933c0,0-3.622-0.382-3.774,2.827c0,0-0.038,2.695,2.831,2.827c0,0,2.968-0.587,2.831-2.827C43.565,36.76,43.968,33.933,41.678,33.933zM33.186,28.28c-2.024-0.756-1.887-3.769-1.887-3.769c0.251-1.965,2.831-2.827,2.831-2.827c2.763,0.114,0.944,3.769,0.944,3.769C34.54,29.362,33.186,28.28,33.186,28.28z M23.75,25.453c-2.17-0.976,0-4.711,0-4.711c1.118-2.725,2.831-1.885,2.831-1.885c2.222,0.41,0.944,3.769,0.944,3.769C27.212,24.78,23.75,25.453,23.75,25.453z"/>',
			laiwang: '<path d="M58.659,31.066V36.4h-5.618v-3.138h2.809v-4.707c3.787-6.594,2.185-13.179,2.185-13.179c-4.56-14.795-19.35-10.669-19.35-10.669c-0.413-0.661-4.057-2.51-4.057-2.51C38.404,0.023,43.679,0,43.679,0C59.986,1.348,61.78,14.748,61.78,14.748C64,25.266,58.659,31.066,58.659,31.066z M52.56,29.556c0,6.135-2.082,11.777-5.565,16.263v6.759h-7.79C35.388,54.753,30.98,56,26.28,56C11.766,56,0,44.16,0,29.556C0,14.951,11.766,3.111,26.28,3.111C40.794,3.111,52.56,14.951,52.56,29.556z M26.28,8.4c-11.611,0-21.024,9.472-21.024,21.156c0,11.684,9.413,21.156,21.024,21.156c3.336,0,6.489-0.786,9.291-2.178h7.405v-6.135c2.711-3.562,4.328-8.01,4.328-12.843C47.304,17.872,37.891,8.4,26.28,8.4z M37.411,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C40.502,31.274,39.118,32.667,37.411,32.667z M26.28,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C29.372,31.274,27.988,32.667,26.28,32.667z M15.15,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.707,0,3.092,1.393,3.092,3.111C18.242,31.274,16.857,32.667,15.15,32.667z"/>',
			logo: '<path d="M148.981,8.452H153v2.684h-5.639c0,0-1.096-0.041-1.558-1.203l-1.246-2.468h-0.592V12h8.754l-1.277,3.455h1.464v5.059c0,0-0.127,1.542-2.305,1.542h-10.686v-2.468h9.191c0,0,0.222-0.072,0.218-0.216v-1.326h-2.617l0.779-3.085h-9.346l-1.215,5.152c0,0-0.526,2.224-2.742,1.944h-2.929v-2.684h1.589c0,0,0.487-0.065,0.592-0.494l0.935-3.918h-3.116V12h8.848V7.465h-0.498l-1.246,2.468c0,0-0.75,1.304-2.835,1.265h-4.175V8.452h3.801c0,0,0.486-0.029,0.685-0.432l0.187-0.555h-4.767v-2.56h8.848V3.918h-8.941V1.141h17.945c0,0,0.244-0.049,0.311-0.37V0.278h3.489v1.635c0,0-0.22,2.005-2.96,2.005h-5.982v0.956H153v2.591h-4.86l0.28,0.679C148.42,8.144,148.619,8.452,148.981,8.452zM132.313,29.738h-2.492c-0.235-1.372-1.34-1.234-1.34-1.234c-1.608,0-1.589,2.19-1.589,2.19c0,2.719,1.62,2.468,1.62,2.468c1.174,0,1.309-1.388,1.309-1.388h2.555c-0.293,3.657-3.832,3.517-3.832,3.517c-4.466,0-4.206-4.566-4.206-4.566c0-4.45,4.112-4.35,4.112-4.35C132.348,26.375,132.313,29.738,132.313,29.738z M124.525,4.997l-1.776-2.221h-10.811l-1.807,2.53c0,0-0.314,0.339-0.748,0.339h-3.147V2.869h1.34c0,0,0.099-0.001,0.187-0.154L109.633,0h15.266l1.9,2.622c0,0,0.13,0.167,0.374,0.154h1.09v2.776h-2.96C125.304,5.553,124.86,5.553,124.525,4.997z M103.807,30.54l3.084,4.535h-3.178l-1.495-2.529l-1.495,2.529H97.67l3.115-4.473l-2.804-4.01h3.084l1.277,2.344l1.277-2.344h2.96L103.807,30.54z M101.47,22.057h-4.735v-2.56h2.679c0.391,0,0.405-0.37,0.405-0.37v-4.35H86.111l-0.81,1.018c-0.476,0.574-1.277,0.494-1.277,0.494h-2.555v-2.931h0.716c0.4,0,0.53-0.247,0.53-0.247l1.277-2.098h-1.651V0.185h20.873v8.823c-0.05,2.132-2.118,2.098-2.118,2.098H88.074l-0.592,0.987h15.92v8.113C103.264,22.144,101.47,22.057,101.47,22.057z M99.258,2.961H85.924v1.45h13.334V2.961z M99.134,8.545c0,0,0.214-0.097,0.218-0.278V7.003H85.924v1.542H99.134z M84.18,18.91l2.337-3.177h4.268l-4.33,5.614c0,0-0.724,0.62-1.62,0.524h-3.458v-2.56h2.305C83.681,19.311,83.961,19.247,84.18,18.91z M87.388,28.751h-4.33v1.049h3.925v2.036h-3.925v1.08h4.455v2.159h-7.01v-8.483h6.885V28.751z M70.627,35.815l-1.776-3.085l1.807-3.054h3.552l1.807,3.085l-1.776,3.054H70.627z M17.197,17.954l1.807-3.054h3.552l1.807,3.085l-1.807,3.054h-3.583L17.197,17.954z M44.8,35.815l-5.016-8.637l3.614-6.108l5.016,8.576h13.677l6.761-11.661L62.06,6.324H48.414l-17.229,29.46l-20.78,0.062L0,17.923L10.375,0.154l20.811-0.031l5.016,8.637L32.619,14.9l-5.047-8.607H13.957L7.103,17.985l6.854,11.661h13.646l17.26-29.491h20.78l10.374,17.83l-10.406,17.83H44.8z M92.28,21.964h-3.521v-2.56h1.433c0.436,0.002,0.654-0.339,0.654-0.339l2.555-3.116h4.362l-4.299,5.553C93.035,21.922,92.28,21.964,92.28,21.964zM92.872,26.375c4.353,0,4.268,4.411,4.268,4.411c0,1.971-0.966,3.023-0.966,3.023l0.997,1.018L95.987,36l-1.122-1.172c-0.421,0.386-1.776,0.463-1.776,0.463c-4.572,0.019-4.393-4.473-4.393-4.473C88.83,26.208,92.872,26.375,92.872,26.375zM92.934,33.162c0,0,0.237-0.016,0.312-0.062l-0.717-0.71l1.184-1.141l0.685,0.709c0,0,0.187-0.29,0.187-1.08c0,0,0.181-2.375-1.682-2.375c0,0-1.651-0.176-1.651,2.406C91.252,30.91,91.207,33.162,92.934,33.162z M110.007,35.074h-2.555v-8.483h2.555V35.074z M111.222,26.591h2.555v5.306c0,1.379,1.34,1.265,1.34,1.265c1.259,0,1.309-1.296,1.309-1.296v-5.275h2.555v5.491c0,3.456-3.77,3.208-3.77,3.208c-4.308,0-3.988-3.27-3.988-3.27V26.591z M128.17,19.28v2.776h-21.746v-2.746h2.15V7.095h3.209V19.28h3.676V4.689h3.583V8.73h8.941v2.961h-8.941v7.589H128.17z M123.06,35.074h-2.43V32.73h2.43V35.074z M137.672,26.375c4.254,0,4.237,4.38,4.237,4.38c0,4.688-4.175,4.535-4.175,4.535c-4.524,0-4.268-4.658-4.268-4.658C133.699,26.191,137.672,26.375,137.672,26.375z M136.021,30.848c0,2.339,1.651,2.314,1.651,2.314c1.762,0,1.682-2.345,1.682-2.345c0.002-2.392-1.651-2.344-1.651-2.344C135.947,28.473,136.021,30.848,136.021,30.848z M148.109,31.589l1.215-4.997h3.645v8.483h-2.43v-5.553l-1.464,5.553h-1.932l-1.464-5.46v5.46h-2.43v-8.483h3.645L148.109,31.589z"/>',
			logo2: '<path d="M23.103,24l2.397-4.216h4.795l2.397,4.108l-2.397,4.216H25.5L23.103,24z M60.154,48l-6.756-11.568l4.795-8.216l6.756,11.46h18.308L92.41,24L83.256,8.324H64.949L41.846,48H13.949L0,24L13.949,0h27.897l6.756,11.568l-4.795,8.216l-6.756-11.46H18.744L9.59,24l9.154,15.676h18.308L60.154,0h27.897L102,24L88.051,48H60.154zM99.494,39.676L102,43.784L99.603,48h-4.904l-2.397-4.216l2.397-4.108H99.494z"/>',
			code: '<path d="M64,64h-7V50h7V64z M50,50v-7h7v7H50z M43,50h-7V36h14v7h-7V50zM64,36v7h-7v-7H64z M36,0h28v28H36V0z M40,24h20V4H40V24z M43,7h14v14H43V7z M0,36h28v28H0V36z M4,40v20h20V40H4z M7,43h14v14H7V43z M0,0h28v28H0V0z M4,24h20V4H4V24z M7,7h14v14H7V7z M50,57v7H36v-7H50z"/>',
			computer: '<path d="M61,44H38.676l6.199,8.769c0,0,1.125,1.64,0,3.231h-9.289h-6.697h-9.733c-1.156-1.591,0-3.231,0-3.231L25.527,44H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h58c1.657,0,3,1.343,3,3v38C64,42.657,62.657,44,61,44z M32,42c1.105,0,2-0.895,2-2s-0.895-2-2-2c-1.105,0-2,0.895-2,2S30.895,42,32,42z M60,5H4v31h56V5z"/>',
			dengpao: '<path d="M40,44.969V52c0,3.314-2.686,6-6,6h-1v3.5c0,1.381-1.119,2.5-2.5,2.5h-11c-1.381,0-2.5-1.119-2.5-2.5V58h-1c-3.314,0-6-2.686-6-6v-7.041C3.936,40.403,0,33.171,0,25C0,11.193,11.193,0,25,0s25,11.193,25,25C50,33.173,46.068,40.413,40,44.969z M25,7C15.059,7,7,15.059,7,25c0,0.585,0.033,1.162,0.088,1.733c0.02,0.206,0.056,0.407,0.082,0.611c0.047,0.357,0.095,0.714,0.162,1.064c0.048,0.251,0.11,0.496,0.168,0.743c0.069,0.29,0.139,0.58,0.222,0.864c0.079,0.273,0.168,0.542,0.26,0.809c0.083,0.242,0.17,0.482,0.263,0.719c0.113,0.29,0.232,0.575,0.359,0.858c0.089,0.195,0.183,0.386,0.278,0.577c0.152,0.307,0.307,0.611,0.475,0.907c0.078,0.137,0.163,0.268,0.244,0.402c0.202,0.334,0.406,0.667,0.629,0.987c0.006,0.009,0.014,0.018,0.02,0.027c1.674,2.393,3.914,4.354,6.527,5.699C16.3,41.532,16,42.228,16,43v6c0,1.657,1.343,3,3,3h12c1.657,0,3-1.343,3-3v-6c0-0.772-0.3-1.468-0.778-2c2.998-1.544,5.497-3.904,7.222-6.788c0.062-0.103,0.127-0.203,0.186-0.306c0.177-0.31,0.34-0.629,0.499-0.951c0.09-0.181,0.179-0.361,0.262-0.545c0.13-0.286,0.251-0.577,0.366-0.871c0.093-0.236,0.179-0.474,0.261-0.715c0.091-0.267,0.18-0.535,0.259-0.808c0.084-0.287,0.154-0.578,0.224-0.871c0.058-0.245,0.119-0.487,0.167-0.736c0.068-0.353,0.117-0.712,0.164-1.072c0.026-0.202,0.062-0.401,0.081-0.605C42.967,26.163,43,25.586,43,25C43,15.059,34.941,7,25,7z M28.5,48h-7c-1.381,0-2.5-1.119-2.5-2.5v-1c0-1.381,1.119-2.5,2.5-2.5h7c1.381,0,2.5,1.119,2.5,2.5v1C31,46.881,29.881,48,28.5,48z"/>',
			normaluser: '<path d="M31.5,64C59.433,56.326,63,32.541,63,24.694C63,16.846,60.61,8.58,54.309,0C49.566,1.885,39.207,2.721,31.5,0C23.794,2.721,13.434,1.885,8.692,0C2.39,8.58,0,16.846,0,24.694C0,32.541,3.568,56.326,31.5,64z"/>',
			pad: '<path d="M49,64H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h46c1.657,0,3,1.343,3,3v58C52,62.657,50.657,64,49,64z M26,62c1.657,0,3-1.343,3-3s-1.343-3-3-3s-3,1.343-3,3S24.343,62,26,62z M45,6H7v48h38V6z"/>',
			pengyou: '<path d="M52.671,41.29c0,0,3.271,9.101-5.532,11.011c0,0-7.661,1.98-11.065-11.011c0,0-3.688-10.606-3.688-12.846c0,0,11.041-2.228,18.442-1.835c0,0,11.116,0.842,11.065,9.175C61.892,35.785,62.397,43.503,52.671,41.29z M52.671,22.939c-5.253,0.729-21.208,3.67-21.208,3.67V7.34C31.264,1.286,39.762,0,39.762,0c7.386,0.19,6.455,7.34,6.455,7.34c10.325-4.012,11.065,7.34,11.065,7.34C57.501,18.724,52.671,22.939,52.671,22.939z M7.488,28.444c0,0-8.17-0.479-7.377-8.258c0,0-1.714-6.644,8.299-6.423c0,0-3.114-11.531,11.065-11.011c0,0,6.523-0.627,8.299,7.34c0,0,3.449,12.205,2.766,16.516C30.541,26.609,18.663,27.596,7.488,28.444z M31.463,28.444c-0.872,4.484,1.844,12.846,1.844,12.846c3.235,6.336,0.922,11.011,0.922,11.011c-2.931,8.699-11.987,7.34-11.987,7.34c-6.323-1.717-6.455-8.258-6.455-8.258c-5.134-0.13-7.377-1.835-7.377-1.835c-5.279-1.891-2.766-11.011-2.766-11.011C14.528,26.962,31.463,28.444,31.463,28.444z"/>',
			qq: '<path d="M173.94,152.517c0,0-7.239,0.531-15.89-15.949c0,0-7.897,20.246-13.904,24.921c0,0,15.89,5.883,15.89,17.943c0,0-2.979,19.937-36.746,19.937c0,0-22.406,0.632-30.787-13.956h-2.979v-0.309l-2.979,0.309C78.162,200,55.756,199.368,55.756,199.368c-33.767,0-36.746-19.937-36.746-19.937c0-12.06,15.89-17.943,15.89-17.943c-6.007-4.675-13.904-24.921-13.904-24.921c-8.651,16.48-15.89,15.949-15.89,15.949c-17.583-29.635,15.89-60.807,15.89-60.807c-5.712-18.322,5.959-26.915,5.959-26.915C29.54,0.66,89.523,0,89.523,0s59.983,0.66,62.568,64.795c0,0,11.671,8.593,5.959,26.915C158.05,91.709,191.523,122.882,173.94,152.517z"/>',
			qqliulanqi: '<path d="M64,55.332c0,4.57-3.122,8.311-7.081,8.642V64H31.793c-0.02,0-0.039-0.007-0.059-0.007C14.184,63.849,0,49.584,0,32C0,14.327,14.327,0,32,0s32,14.327,32,32c0,5.69-1.492,11.029-4.096,15.66C62.338,49.11,64,51.999,64,55.332z M32,14.222c-9.818,0-17.778,7.959-17.778,17.778c0,7.131,4.208,13.262,10.268,16.092c1.219-2.013,3.562-3.394,6.287-3.394c0.893,0,1.743,0.156,2.533,0.424c1.731-5.002,6.017-8.551,11.047-8.551c1.599,0,3.12,0.368,4.512,1.017c0.583-1.759,0.91-3.634,0.91-5.588C49.778,22.182,41.818,14.222,32,14.222z"/>',
			qqweibo: '<path d="M60.847,26.088c-8.08-2.418-13.422-13.494-13.422-13.494c-2.424,0-2.684-2.699-2.684-2.699c0-3.708,2.684-3.598,2.684-3.598c3.337,0,3.579,3.598,3.579,3.598c0.013,1.683-1.79,2.699-1.79,2.699c2.627,8.909,12.527,11.695,12.527,11.695C64,25.295,60.847,26.088,60.847,26.088z M54.583,16.192c0,0-1.339,0.621-0.895-0.9c0,0,1.906-1.828,1.79-5.398c0,0-0.266-8.096-8.053-8.096c0,0-7.158,0.059-7.158,8.096c0,0,0.001,8.096,7.158,8.096c0,0,1.785,1.974,0,1.799c0,0-8.948-0.952-8.948-9.895c0,0,0.135-9.895,9.843-9.895c0,0,8.948,1.557,8.948,9.895C57.267,9.895,56.836,14.713,54.583,16.192z M17.001,38.682h-3.579c0,0-2.586-0.992-0.895-2.699c0,0,17.896,2.971,17.896-14.393c0,0-0.252-13.494-13.422-13.494c0,0-14.317,1.116-14.317,14.393c0,0,0.037,4.655,1.79,6.297c0,0,0.568,3.071-1.79,0.9c0,0-2.521-3.105-2.684-7.197c0,0,1.061-17.092,17.001-17.092c0,0,16.107,0.699,16.107,16.193C33.108,21.59,32.527,38.682,17.001,38.682z M12.527,24.289c0,0-1.74-4.156,1.79-7.197c0,0,5.442-2.025,8.053,2.699c0,0,1.083,4.133-1.79,6.297c0,0-3.242,1.586-6.264,0c0,0-9.393,9.066-8.948,17.992c0.029,0.574,0,10.795,0,10.795S4.337,58,1.79,55.774V44.08C1.79,44.08,4.022,30.876,12.527,24.289z"/>',
			qqzone: '<path d="M49.096,31.429L51.726,55L32.438,43.651L13.151,55l1.753-22.698L0,19.206h21.918L32.438,0l11.397,19.206H64L49.096,31.429z M47.342,21.825H21.041l15.781,2.619L17.534,41.032h29.808L29.808,37.54L47.342,21.825z"/>',
			renren: '<path d="M26.667,0h12c0,0-5.9,40.406,25.333,51.726L58,63c0,0-20.229-14.581-24-29.179c0,0-12.018,22.795-27.333,28.516L0,54.379C0,54.379,31.489,46.61,26.667,0z"/>',
			sendcompany: '<path d="M56,37L32,13L8,37H0v-6L31,0h2l31,31v6H56z M53,38v26H39V43H25v21H11V38l21-21L53,38z"/>',
			scenegift: '<path d="M34.133,63.954V25.581H64v38.372H34.133z M0,12.791h14.821C8.033,11.603,8,4.996,8,4.996C8.056,0.071,13,0,13,0c9.28-0.03,15.986,11.202,16.888,12.791h4.237C35.125,11.201,42.504-0.046,51,0c0,0,5.046,0.083,5,4.996c0,0,0.061,6.606-6.823,7.794H64v8.527H0V12.791z M53,5.996c0.062-1.888-2-1.999-2-1.999c-8.038-0.049-13,8.993-13,8.993C50.389,13.03,53,5.996,53,5.996z M13,3.997c0,0-1.983,0.024-2,1.999s2.81,6.995,15,6.995C26,12.991,20.979,3.981,13,3.997z M29.867,63.954H0V25.581h29.867V63.954z"/>',
			scenesend: '<path d="M0,24.889L64,0L46.222,64L24.889,46.222l24.889-32l-32,24.889L0,24.889z M10.667,39.111l14.222,10.667L14.222,60.444L10.667,39.111z"/>',
			taobao: '<path d="M48.988,48.946c-4.903,0-7.901-1.579-7.901-1.579l0.79-3.947l7.111,0.789c6.122,0,6.321-5.526,6.321-5.526V14.21c0-7.378-7.901-7.895-7.901-7.895c-6.463,0-15.012,3.158-15.012,3.158l3.16,1.579c0.142,1.015-3.16,4.737-3.16,4.737h20.543v3.947H41.086v3.947h11.852v3.947H41.086v9.473l4.741-2.368l-0.79-3.947l4.741-1.579l3.951,10.263l-5.531,2.368l-1.58-3.947c-5.47,3.996-14.222,4.737-14.222,4.737h-7.111c-4.661,0-5.531-5.526-5.531-5.526v-7.105h7.111v3.158c-0.14,5.157,7.111,4.737,7.111,4.737V27.631H21.333v-3.947h12.642v-3.947h-5.531c-0.316,2.196-3.951,3.158-3.951,3.158s-2.819-0.519-3.16-1.579c2.749-1.888,6.321-9.473,6.321-9.473c-4.473,0.22-8.691,6.316-8.691,6.316l-4.741-3.947C19.296,12.449,22.914,0,22.914,0l7.111,1.579c0.106,1.229-1.58,4.737-1.58,4.737c11.708-3.875,23.704-3.158,23.704-3.158C63.475,4.407,64,15,64,15v21.315C64,49,48.988,48.946,48.988,48.946z M11.062,10.263c-5.479,0-5.531-4.737-5.531-4.737c0-5.404,5.531-4.737,5.531-4.737c5.138,0,5.531,4.737,5.531,4.737C16.593,10.074,11.062,10.263,11.062,10.263z M2.37,18.157l3.951-5.526c11.83,10.053,11.062,12.631,11.062,12.631c-0.264,5.059-9.482,22.105-9.482,22.105L0,41.841L11.852,29.21c1.392-1.303,0-3.947,0-3.947C11.562,22.982,2.37,18.157,2.37,18.157z"/>',
			tieba: '<path d="M64,28.804v33.072H36.267c0,0-0.933,0.052-1.067-2.134V32.005c0,0-1.165-3.201,5.333-3.201V1.067h6.4v4.267H64v6.401H46.933v17.069H64z M42.667,36.272v19.203h13.867V36.272H42.667z M14.933,55.475c0,0-4.911,5.24-12.8,6.401l-1.067-4.267c0,0,8.079-3.243,9.6-7.468V13.869c0,0,0.682-2.067,4.267-2.134c0,0,3.289,0.126,3.2,2.134V46.94c0,0,0.469,6.066,11.733,10.668L28.8,62.943C28.8,62.943,22.857,64,14.933,55.475z M23.467,9.601c0,0,0.113-3.437-8.533-3.201c0,0-8.533,0.099-8.533,3.201V46.94H0V0h29.867v46.94h-6.4V9.601z"/>',
			time: '<path d="M57.094,17.342L39.191,4.248c3.421-4.74,10.201-5.651,15.145-2.035C59.28,5.829,60.514,12.602,57.094,17.342z M56.896,34.986c0.016,15.224-12.23,27.578-27.352,27.594C14.421,62.597,2.149,50.268,2.133,35.044C2.117,19.821,14.363,7.466,29.485,7.45C44.608,7.434,56.88,19.762,56.896,34.986z M29.492,14.27c-10.206,0.011-18.663,7.491-20.294,17.297H8.966v6.895h0.231c1.633,9.824,10.118,17.308,20.339,17.297C39.742,55.75,48.2,48.269,49.83,38.463h0.232v-6.895h-0.23C48.199,21.743,39.713,14.26,29.492,14.27z M14.103,38.463v-6.895H26.09V16.915h6.849v14.653v6.895H26.09H14.103z M4.692,2.213c4.944-3.616,11.724-2.705,15.145,2.035L1.935,17.342C-1.486,12.602-0.251,5.829,4.692,2.213z"/>',
			uc: '<path d="M53.093,32.265c-7.527-5.77-19.034-7.054-19.034-7.054c5.833-1.908,12.021-7.054,12.021-7.054c-0.333-6.053,2.003-8.061,2.003-8.061c1.492,1.376,3.005,6.046,3.005,6.046C64,21.39,61.107,32.265,61.107,32.265H53.093z M26.046,26.219c0,0-16.028,6.346-16.028,20.153c0,0,0.893,11.278,8.172,13.661C12.446,58.893,0,55.07,0,43.35c0-15.233,13.134-18.434,14.025-27.207c0,0-1.021-8.061-7.012-8.061c0,0-4.643,0.683-6.01,2.015c0,0,5.962-10.617,18.032-10.077c0,0,12.937,0.063,14.025,11.084C33.058,11.104,34.791,19.555,26.046,26.219z M18.189,60.034c1.721,0.342,2.848,0.446,2.848,0.446C19.991,60.48,19.048,60.315,18.189,60.034z M16.028,48.388c0,0,0.948-8.061,8.014-8.061c0,0,9.016,0.132,9.016,8.061c0,0-0.119,9.069-8.014,9.069C25.044,57.457,16.028,58.129,16.028,48.388z M20.035,48.388c0,4.649,4.007,5.038,4.007,5.038c4.47,0,5.009-4.031,5.009-4.031c0-4.625-5.009-5.038-5.009-5.038C19.821,44.233,20.035,48.388,20.035,48.388z M37.065,48.388c0,0-0.189-12.092-11.019-12.092c0,0-4.6-1.381-11.019,3.023c0,0,3.518-7.19,12.021-7.054c0,0,15.761,0.647,16.028,17.13c0,0-0.817,6.053-3.005,7.054c0,0,7.737-1.618,10.018,4.031H28.049C28.049,60.48,36.582,59.201,37.065,48.388z M46.081,41.334c0,0-4.805-11.215-21.037-12.092c0,0,8.813-2.856,17.03,1.008l8.014,5.038c0,0,1.677,0.997,5.009,1.008c0,0,6.234,0.472,7.012,4.031c0,0-5.923-1.36-8.014,0C54.095,40.327,50.536,44.644,46.081,41.334z"/>',
			voice: '<path d="M38.246,32.653c0,9.68-7.396,17.645-16.902,18.686v8.482h8.451V64H8.667v-4.18h8.451v-8.482C7.612,50.298,0.216,42.333,0.216,32.653c0-1.815-0.485-2.548,0-4.209h4.111c-0.629,1.624,0.114,2.365,0.114,4.209c0,8.079,6.621,14.629,14.79,14.629S34.02,40.732,34.02,32.653c0-1.843,0.743-2.584,0.114-4.209h4.111C38.731,30.105,38.246,30.838,38.246,32.653z M19.231,42.667h-1.028c-5.393,0-9.764-4.321-9.764-9.651V9.651C8.438,4.321,12.81,0,18.203,0h1.028c5.393,0,9.764,4.321,9.764,9.651v23.365C28.995,38.346,24.623,42.667,19.231,42.667z"/>',
			wechat: '<path d="M171.484,138.214l6.938,21.872l-26.761-14.913c-72.415-0.249-66.407-49.709-66.407-49.709c0-28.146,34.69-40.761,34.69-40.761c75.009-16.33,78.301,42.749,78.301,42.749C198.245,125.746,171.484,138.214,171.484,138.214z M122.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C130.245,81.667,126.663,78.086,122.245,78.086z M165.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C173.245,81.667,169.663,78.086,165.245,78.086z M90.209,69.616c-17.464,24.322-4.956,47.72-4.956,47.72c-2.767,2.24-7.929,1.988-7.929,1.988H61.466l-36.673,16.901l8.92-25.849C-1.755,92.678,0.015,60.668,0.015,60.668v-2.982C6.983-1.914,70.386,0.024,70.386,0.024c30.227-0.665,46.584,12.924,46.584,12.924c19.951,11.217,24.779,32.808,24.779,32.808C107.066,46.955,90.209,69.616,90.209,69.616z M41.245,30.086c-6.075,0-11,4.925-11,11s4.925,11,11,11s11-4.925,11-11S47.32,30.086,41.245,30.086z M108.245,41.086c0-6.075-4.925-11-11-11c-6.075,0-11,4.925-11,11s4.925,11,11,11C103.32,52.086,108.245,47.161,108.245,41.086z"/>',
			weibo: '<path d="M199.389,65.394c0,0-0.493,9.988-10.011,9.988c0,0-10.252-1.807-7.007-11.985c0,0,11.965-41.924-36.038-47.942c0,0-17.018,5.194-17.018-6.991c0,0,1.506-7.99,8.008-7.99C137.322,0.473,204.096-9.8,199.389,65.394z M143.329,40.425c0,0-8.008,1.063-8.008-6.992c0,0,2.411-5.993,7.007-5.993c0,0,34.003-5.033,30.032,32.96c0,0-1.923,5.993-6.006,5.993c0,0-8.008,0.682-8.008-7.99C158.345,58.403,162.869,40.425,143.329,40.425z M133.318,45.419c0,0,17.018,0.911,17.018,16.979c0,0,0.245,9.102-4.004,12.984c0,0,29.031,6.811,29.031,28.965c0,0-0.251,56.931-91.097,56.931c0,0-84.09,0.922-84.09-52.936c0,0-4.081-25.111,27.029-54.933c31.109-29.822,48.801-30.962,57.061-30.962c0,0,16.017-0.976,16.017,15.98c0,0-0.412,11.219-3.003,14.982C97.28,53.409,116.344,45.419,133.318,45.419z M78.259,71.387c0,0-49.884,3.469-58.062,42.948c0,0-0.603,30.22,52.055,34.958c0,0,54.006,2.183,66.07-36.955C138.324,112.337,151.405,74.021,78.259,71.387z M73.12,142.2c-26.866-0.565-28.931-22.871-28.931-22.871c-1.094-30.22,32.921-32.815,32.921-32.815c31.985-0.314,30.926,25.854,30.926,25.854C106.16,142.199,73.12,142.2,73.12,142.2z M67.135,110.379c0,0-11.971,1.423-11.971,9.944c0,0-1.051,8.95,9.976,8.95c0,0,10.974-1.898,10.974-9.944C76.113,119.328,77.207,110.379,67.135,110.379z M83.097,106.401c0,0-3.99-0.664-3.99,2.983c0,0-0.929,2.983,2.993,2.983c0,0,3.99-0.785,3.99-3.978C86.089,108.39,85.751,106.401,83.097,106.401z"/>',
			windows: '<path d="M28.984,59.594V33.416H63V64L28.984,59.594z M28.984,4.406L63,0v30.584H28.984V4.406z M0,33.416h26.149v25.487L0,55.231V33.416z M0,8.769l26.149-3.672v25.487H0V8.769z"/>',
			yixin: '<path d="M45.364,58.38c4.124,2.52,10.259,2.797,10.259,2.797C44.551,65,36.341,63.943,30.867,61.901C13.807,61.829,0,48.002,0,30.952C0,13.858,13.879,0,31,0s31,13.858,31,30.952C62,42.869,55.251,53.207,45.364,58.38z M31,14.977c-8.837,0-16,7.153-16,15.975c0,5.364,2.656,10.098,6.718,12.996c-3.185,4.404-11.86,5.579-11.86,5.579c19.676,4.767,29.433-4.088,31.788-6.672C44.924,39.93,47,35.688,47,30.952C47,22.129,39.837,14.977,31,14.977z"/>',
			zhifubao: '<path d="M63.021,50L36.949,36.957c-10.737,11.987-22.813,10.87-22.813,10.87c-15.115,0-14.122-11.957-14.122-11.957C-0.088,22.841,15.222,25,15.222,25c8.559,0.109,18.468,3.261,18.468,3.261c3.55-4.164,4.345-9.783,4.345-9.783H10.877v-2.174h13.036V10.87H7.618V8.696h16.295V0h8.691v8.696h16.295v2.174H32.604v5.435h14.122c0.153,3.882-5.432,15.217-5.432,15.217l21.727,6.522V50z M14.136,28.261c0,0-11.95-2.295-11.95,7.609c0,0-1.54,7.609,10.863,7.609c0,0,11.464,0.271,17.381-9.783C30.431,33.696,23.002,28.261,14.136,28.261z"/>'
		}
	}(), function(a) {
		"use strict";
		a.fn.swipeSlide = function(b, c) {
			function d(a, b) {
				a.css({
					"-webkit-transition": "all " + b + "s " + C.transitionType,
					transition: "all " + b + "s " + C.transitionType
				})
			}
			function e(a, b) {
				C.axisX ? a.css({
					"-webkit-transform": "translate3d(" + b + "px,0,0)",
					transform: "translate3d(" + b + "px,0,0)"
				}) : a.css({
					"-webkit-transform": "translate3d(0," + b + "px,0)",
					transform: "translate3d(0," + b + "px,0)"
				})
			}
			function f(a) {
				if (C.lazyLoad) {
					var b = C.ul.find("[data-src]");
					if (b.length > 0) {
						var c = b.eq(a);
						c.data("src") && (c.is("img") ? c.attr("src", c.data("src")).data("src", "") : c.css({
							"background-image": "url(" + c.data("src") + ")"
						}).data("src", ""))
					}
				}
			}
			function g(a) {
				a.touches || (a.touches = a.originalEvent.touches)
			}
			function h(a) {
				r = a.touches[0].pageX, s = a.touches[0].pageY
			}
			function i(a) {
				if (a.preventDefault(), C.autoSwipe && p && clearInterval(p), w = a.touches[0].pageX, x = a.touches[0].pageY, t = w - r, u = x - s, d(C.ul, 0), C.axisX) {
					if (!C.continuousScroll) {
						if (0 == q && t > 0) return t = 0, o();
						if (q + 1 >= F && 0 > t) return t = 0, o()
					}
					e(C.ul, -(D * parseInt(q) - t))
				} else {
					if (!C.continuousScroll) {
						if (0 == q && u > 0) return u = 0, o();
						if (q + 1 >= F && 0 > u) return u = 0, o()
					}
					e(C.ul, -(E * parseInt(q) - u))
				}
			}
			function j() {
				v = C.axisX ? t : u, Math.abs(v) <= y ? k(.3) : v > y ? n() : -y > v && m(), o(), t = 0, u = 0
			}
			function k(a) {
				d(C.ul, a), C.axisX ? e(C.ul, -q * D) : e(C.ul, -q * E)
			}
			function l() {
				C.continuousScroll ? q >= F ? (k(.3), q = 0, setTimeout(function() {
					k(0)
				}, 300)) : 0 > q ? (k(.3), q = F - 1, setTimeout(function() {
					k(0)
				}, 300)) : k(.3) : (q >= F ? q = 0 : 0 > q && (q = F - 1), k(.3)), c(q)
			}
			function m() {
				q++, l(), C.lazyLoad && f(C.continuousScroll ? q + 2 : q + 1)
			}
			function n() {
				if (q--, l(), A && C.lazyLoad) {
					var a = F - 1;
					for (a; F + 1 >= a; a++) f(a);
					return void(A = !1)
				}!A && C.lazyLoad && f(q)
			}
			function o() {
				C.autoSwipe && (p = setInterval(function() {
					m()
				}, C.speed))
			}
			var p, q = 0,
				r = 0,
				s = 0,
				t = 0,
				u = 0,
				v = 0,
				w = 0,
				x = 0,
				y = 50,
				z = 0,
				A = !0,
				B = a(this),
				C = a.extend({}, {
					ul: B.children("ul"),
					li: B.children().children("li"),
					continuousScroll: !1,
					autoSwipe: !0,
					speed: 4e3,
					axisX: !0,
					transitionType: "ease",
					lazyLoad: !1,
					clone: !0,
					width: 0,
					length: 0
				}, b || {}),
				D = C.width || C.li.width(),
				E = C.li.height(),
				F = C.length || C.li.length;
			c = c ||
			function() {}, function() {
				if (C.continuousScroll && (C.clone && C.ul.prepend(C.li.last().clone()).append(C.li.first().clone()), C.axisX ? (e(C.ul.children().first(), -1 * D), e(C.ul.children().last(), D * F)) : (e(C.ul.children().first(), -1 * E), e(C.ul.children().last(), E * F))), C.lazyLoad) {
					var b = 0;
					for (z = C.continuousScroll ? 3 : 2, b; z > b; b++) f(b)
				}
				C.axisX ? C.li.each(function(b) {
					e(a(this), D * b)
				}) : C.li.each(function(b) {
					e(a(this), E * b)
				}), o(), c(q, p), B.on("touchstart", function(a) {
					a.stopPropagation(), g(a), h(a)
				}), B.on("touchmove", function(a) {
					a.stopPropagation(), g(a), i(a)
				}), B.on("touchend", function(a) {
					a.stopPropagation(), j()
				})
			}()
		}
	}(window.Zepto || window.jQuery);
	var THREE = THREE || {};
	self.Int32Array || (self.Int32Array = Array, self.Float32Array = Array), THREE.Color = function(a) {
		return void 0 !== a && this.setHex(a), this
	}, THREE.Color.prototype = {
		constructor: THREE.Color,
		r: 1,
		g: 1,
		b: 1,
		copy: function(a) {
			return this.r = a.r, this.g = a.g, this.b = a.b, this
		},
		copyGammaToLinear: function(a) {
			return this.r = a.r * a.r, this.g = a.g * a.g, this.b = a.b * a.b, this
		},
		copyLinearToGamma: function(a) {
			return this.r = Math.sqrt(a.r), this.g = Math.sqrt(a.g), this.b = Math.sqrt(a.b), this
		},
		setRGB: function(a, b, c) {
			return this.r = a, this.g = b, this.b = c, this
		},
		setHSV: function(a, b, c) {
			var d, e, f;
			if (0 === c) this.r = this.g = this.b = 0;
			else switch (d = Math.floor(6 * a), e = 6 * a - d, a = c * (1 - b), f = c * (1 - b * e), b = c * (1 - b * (1 - e)), d) {
			case 1:
				this.r = f, this.g = c, this.b = a;
				break;
			case 2:
				this.r = a, this.g = c, this.b = b;
				break;
			case 3:
				this.r = a, this.g = f, this.b = c;
				break;
			case 4:
				this.r = b, this.g = a, this.b = c;
				break;
			case 5:
				this.r = c, this.g = a, this.b = f;
				break;
			case 6:
			case 0:
				this.r = c, this.g = b, this.b = a
			}
			return this
		},
		setHex: function(a) {
			return a = Math.floor(a), this.r = (a >> 16 & 255) / 255, this.g = (a >> 8 & 255) / 255, this.b = (255 & a) / 255, this
		},
		getHex: function() {
			return ~~ (255 * this.r) << 16 ^ ~~ (255 * this.g) << 8 ^ ~~ (255 * this.b)
		},
		getContextStyle: function() {
			return "rgb(" + Math.floor(255 * this.r) + "," + Math.floor(255 * this.g) + "," + Math.floor(255 * this.b) + ")"
		},
		clone: function() {
			return (new THREE.Color).setRGB(this.r, this.g, this.b)
		}
	}, THREE.Vector2 = function(a, b) {
		this.x = a || 0, this.y = b || 0
	}, THREE.Vector2.prototype = {
		constructor: THREE.Vector2,
		set: function(a, b) {
			return this.x = a, this.y = b, this
		},
		copy: function(a) {
			return this.x = a.x, this.y = a.y, this
		},
		clone: function() {
			return new THREE.Vector2(this.x, this.y)
		},
		add: function(a, b) {
			return this.x = a.x + b.x, this.y = a.y + b.y, this
		},
		addSelf: function(a) {
			return this.x += a.x, this.y += a.y, this
		},
		sub: function(a, b) {
			return this.x = a.x - b.x, this.y = a.y - b.y, this
		},
		subSelf: function(a) {
			return this.x -= a.x, this.y -= a.y, this
		},
		multiplyScalar: function(a) {
			return this.x *= a, this.y *= a, this
		},
		divideScalar: function(a) {
			return a ? (this.x /= a, this.y /= a) : this.set(0, 0), this
		},
		negate: function() {
			return this.multiplyScalar(-1)
		},
		dot: function(a) {
			return this.x * a.x + this.y * a.y
		},
		lengthSq: function() {
			return this.x * this.x + this.y * this.y
		},
		length: function() {
			return Math.sqrt(this.lengthSq())
		},
		normalize: function() {
			return this.divideScalar(this.length())
		},
		distanceTo: function(a) {
			return Math.sqrt(this.distanceToSquared(a))
		},
		distanceToSquared: function(a) {
			var b = this.x - a.x,
				a = this.y - a.y;
			return b * b + a * a
		},
		setLength: function(a) {
			return this.normalize().multiplyScalar(a)
		},
		equals: function(a) {
			return a.x === this.x && a.y === this.y
		}
	}, THREE.Vector3 = function(a, b, c) {
		this.x = a || 0, this.y = b || 0, this.z = c || 0
	}, THREE.Vector3.prototype = {
		constructor: THREE.Vector3,
		set: function(a, b, c) {
			return this.x = a, this.y = b, this.z = c, this
		},
		setX: function(a) {
			return this.x = a, this
		},
		setY: function(a) {
			return this.y = a, this
		},
		setZ: function(a) {
			return this.z = a, this
		},
		copy: function(a) {
			return this.x = a.x, this.y = a.y, this.z = a.z, this
		},
		clone: function() {
			return new THREE.Vector3(this.x, this.y, this.z)
		},
		add: function(a, b) {
			return this.x = a.x + b.x, this.y = a.y + b.y, this.z = a.z + b.z, this
		},
		addSelf: function(a) {
			return this.x += a.x, this.y += a.y, this.z += a.z, this
		},
		addScalar: function(a) {
			return this.x += a, this.y += a, this.z += a, this
		},
		sub: function(a, b) {
			return this.x = a.x - b.x, this.y = a.y - b.y, this.z = a.z - b.z, this
		},
		subSelf: function(a) {
			return this.x -= a.x, this.y -= a.y, this.z -= a.z, this
		},
		multiply: function(a, b) {
			return this.x = a.x * b.x, this.y = a.y * b.y, this.z = a.z * b.z, this
		},
		multiplySelf: function(a) {
			return this.x *= a.x, this.y *= a.y, this.z *= a.z, this
		},
		multiplyScalar: function(a) {
			return this.x *= a, this.y *= a, this.z *= a, this
		},
		divideSelf: function(a) {
			return this.x /= a.x, this.y /= a.y, this.z /= a.z, this
		},
		divideScalar: function(a) {
			return a ? (this.x /= a, this.y /= a, this.z /= a) : this.z = this.y = this.x = 0, this
		},
		negate: function() {
			return this.multiplyScalar(-1)
		},
		dot: function(a) {
			return this.x * a.x + this.y * a.y + this.z * a.z
		},
		lengthSq: function() {
			return this.x * this.x + this.y * this.y + this.z * this.z
		},
		length: function() {
			return Math.sqrt(this.lengthSq())
		},
		lengthManhattan: function() {
			return this.x + this.y + this.z
		},
		normalize: function() {
			return this.divideScalar(this.length())
		},
		setLength: function(a) {
			return this.normalize().multiplyScalar(a)
		},
		cross: function(a, b) {
			return this.x = a.y * b.z - a.z * b.y, this.y = a.z * b.x - a.x * b.z, this.z = a.x * b.y - a.y * b.x, this
		},
		crossSelf: function(a) {
			var b = this.x,
				c = this.y,
				d = this.z;
			return this.x = c * a.z - d * a.y, this.y = d * a.x - b * a.z, this.z = b * a.y - c * a.x, this
		},
		distanceTo: function(a) {
			return Math.sqrt(this.distanceToSquared(a))
		},
		distanceToSquared: function(a) {
			return (new THREE.Vector3).sub(this, a).lengthSq()
		},
		setPositionFromMatrix: function(a) {
			this.x = a.n14, this.y = a.n24, this.z = a.n34
		},
		setRotationFromMatrix: function(a) {
			var b = Math.cos(this.y);
			this.y = Math.asin(a.n13), Math.abs(b) > 1e-5 ? (this.x = Math.atan2(-a.n23 / b, a.n33 / b), this.z = Math.atan2(-a.n12 / b, a.n11 / b)) : (this.x = 0, this.z = Math.atan2(a.n21, a.n22))
		},
		isZero: function() {
			return this.lengthSq() < 1e-4
		}
	}, THREE.Vector4 = function(a, b, c, d) {
		this.x = a || 0, this.y = b || 0, this.z = c || 0, this.w = void 0 !== d ? d : 1
	}, THREE.Vector4.prototype = {
		constructor: THREE.Vector4,
		set: function(a, b, c, d) {
			return this.x = a, this.y = b, this.z = c, this.w = d, this
		},
		copy: function(a) {
			this.x = a.x, this.y = a.y, this.z = a.z, this.w = void 0 !== a.w ? a.w : 1
		},
		clone: function() {
			return new THREE.Vector4(this.x, this.y, this.z, this.w)
		},
		add: function(a, b) {
			return this.x = a.x + b.x, this.y = a.y + b.y, this.z = a.z + b.z, this.w = a.w + b.w, this
		},
		addSelf: function(a) {
			return this.x += a.x, this.y += a.y, this.z += a.z, this.w += a.w, this
		},
		sub: function(a, b) {
			return this.x = a.x - b.x, this.y = a.y - b.y, this.z = a.z - b.z, this.w = a.w - b.w, this
		},
		subSelf: function(a) {
			return this.x -= a.x, this.y -= a.y, this.z -= a.z, this.w -= a.w, this
		},
		multiplyScalar: function(a) {
			return this.x *= a, this.y *= a, this.z *= a, this.w *= a, this
		},
		divideScalar: function(a) {
			return a ? (this.x /= a, this.y /= a, this.z /= a, this.w /= a) : (this.z = this.y = this.x = 0, this.w = 1), this
		},
		negate: function() {
			return this.multiplyScalar(-1)
		},
		dot: function(a) {
			return this.x * a.x + this.y * a.y + this.z * a.z + this.w * a.w
		},
		lengthSq: function() {
			return this.dot(this)
		},
		length: function() {
			return Math.sqrt(this.lengthSq())
		},
		normalize: function() {
			return this.divideScalar(this.length())
		},
		setLength: function(a) {
			return this.normalize().multiplyScalar(a)
		},
		lerpSelf: function(a, b) {
			return this.x += (a.x - this.x) * b, this.y += (a.y - this.y) * b, this.z += (a.z - this.z) * b, this.w += (a.w - this.w) * b, this
		}
	}, THREE.Ray = function(a, b) {
		function c(a, b, c) {
			return w.sub(c, a), l = w.dot(b), 0 >= l ? null : (m = x.add(a, y.copy(b).multiplyScalar(l)), n = c.distanceTo(m))
		}
		function d(a, b, c, d) {
			return w.sub(d, b), x.sub(c, b), y.sub(a, b), o = w.dot(w), p = w.dot(x), q = w.dot(y), r = x.dot(x), s = x.dot(y), t = 1 / (o * r - p * p), u = (r * q - p * s) * t, v = (o * s - p * q) * t, u >= 0 && v >= 0 && 1 > u + v
		}
		this.origin = a || new THREE.Vector3, this.direction = b || new THREE.Vector3, this.intersectScene = function(a) {
			return this.intersectObjects(a.children)
		}, this.intersectObjects = function(a) {
			var b, c, d = [];
			for (b = 0, c = a.length; c > b; b++) Array.prototype.push.apply(d, this.intersectObject(a[b]));
			return d.sort(function(a, b) {
				return a.distance - b.distance
			}), d
		};
		var e = new THREE.Vector3,
			f = new THREE.Vector3,
			g = new THREE.Vector3,
			h = new THREE.Vector3,
			a = new THREE.Vector3,
			b = new THREE.Vector3,
			i = new THREE.Vector3,
			j = new THREE.Vector3,
			k = new THREE.Vector3;
		this.intersectObject = function(l) {
			for (var m, n = [], o = 0, p = l.children.length; p > o; o++) Array.prototype.push.apply(n, this.intersectObject(l.children[o]));
			if (l instanceof THREE.Particle) {
				if (o = c(this.origin, this.direction, l.matrixWorld.getPosition()), null === o || o > l.scale.x) return [];
				m = {
					distance: o,
					point: l.position,
					face: null,
					object: l
				}, n.push(m)
			} else if (l instanceof THREE.Mesh) {
				if (o = c(this.origin, this.direction, l.matrixWorld.getPosition()), null === o || o > l.geometry.boundingSphere.radius * Math.max(l.scale.x, Math.max(l.scale.y, l.scale.z))) return n;
				var q, r, s = l.geometry,
					t = s.vertices;
				for (l.matrixRotationWorld.extractRotation(l.matrixWorld), o = 0, p = s.faces.length; p > o; o++) m = s.faces[o], a.copy(this.origin), b.copy(this.direction), r = l.matrixWorld, i = r.multiplyVector3(i.copy(m.centroid)).subSelf(a), q = i.dot(b), 0 >= q || (e = r.multiplyVector3(e.copy(t[m.a].position)), f = r.multiplyVector3(f.copy(t[m.b].position)), g = r.multiplyVector3(g.copy(t[m.c].position)), m instanceof THREE.Face4 && (h = r.multiplyVector3(h.copy(t[m.d].position))), j = l.matrixRotationWorld.multiplyVector3(j.copy(m.normal)), q = b.dot(j), !l.doubleSided && !(l.flipSided ? q > 0 : 0 > q)) || (q = j.dot(i.sub(e, a)) / q, k.add(a, b.multiplyScalar(q)), m instanceof THREE.Face3 ? d(k, e, f, g) && (m = {
					distance: a.distanceTo(k),
					point: k.clone(),
					face: m,
					object: l
				}, n.push(m)) : m instanceof THREE.Face4 && (d(k, e, f, h) || d(k, f, g, h)) && (m = {
					distance: a.distanceTo(k),
					point: k.clone(),
					face: m,
					object: l
				}, n.push(m)))
			}
			return n
		};
		var l, m, n, o, p, q, r, s, t, u, v, w = new THREE.Vector3,
			x = new THREE.Vector3,
			y = new THREE.Vector3
	}, THREE.Rectangle = function() {
		function a() {
			f = d - b, g = e - c
		}
		var b, c, d, e, f, g, h = !0;
		this.getX = function() {
			return b
		}, this.getY = function() {
			return c
		}, this.getWidth = function() {
			return f
		}, this.getHeight = function() {
			return g
		}, this.getLeft = function() {
			return b
		}, this.getTop = function() {
			return c
		}, this.getRight = function() {
			return d
		}, this.getBottom = function() {
			return e
		}, this.set = function(f, g, i, j) {
			h = !1, b = f, c = g, d = i, e = j, a()
		}, this.addPoint = function(f, g) {
			h ? (h = !1, b = f, c = g, d = f, e = g) : (b = f > b ? b : f, c = g > c ? c : g, d = d > f ? d : f, e = e > g ? e : g), a()
		}, this.add3Points = function(f, g, i, j, k, l) {
			h ? (h = !1, b = i > f ? k > f ? f : k : k > i ? i : k, c = j > g ? l > g ? g : l : l > j ? j : l, d = f > i ? f > k ? f : k : i > k ? i : k, e = g > j ? g > l ? g : l : j > l ? j : l) : (b = i > f ? k > f ? b > f ? f : b : b > k ? k : b : k > i ? b > i ? i : b : b > k ? k : b, c = j > g ? l > g ? c > g ? g : c : c > l ? l : c : l > j ? c > j ? j : c : c > l ? l : c, d = f > i ? f > k ? f > d ? f : d : k > d ? k : d : i > k ? i > d ? i : d : k > d ? k : d, e = g > j ? g > l ? g > e ? g : e : l > e ? l : e : j > l ? j > e ? j : e : l > e ? l : e), a()
		}, this.addRectangle = function(f) {
			h ? (h = !1, b = f.getLeft(), c = f.getTop(), d = f.getRight(), e = f.getBottom()) : (b = b < f.getLeft() ? b : f.getLeft(), c = c < f.getTop() ? c : f.getTop(), d = d > f.getRight() ? d : f.getRight(), e = e > f.getBottom() ? e : f.getBottom()), a()
		}, this.inflate = function(f) {
			b -= f, c -= f, d += f, e += f, a()
		}, this.minSelf = function(f) {
			b = b > f.getLeft() ? b : f.getLeft(), c = c > f.getTop() ? c : f.getTop(), d = d < f.getRight() ? d : f.getRight(), e = e < f.getBottom() ? e : f.getBottom(), a()
		}, this.intersects = function(a) {
			return Math.min(d, a.getRight()) - Math.max(b, a.getLeft()) >= 0 && Math.min(e, a.getBottom()) - Math.max(c, a.getTop()) >= 0
		}, this.empty = function() {
			h = !0, e = d = c = b = 0, a()
		}, this.isEmpty = function() {
			return h
		}
	}, THREE.Math = {
		clamp: function(a, b, c) {
			return b > a ? b : a > c ? c : a
		},
		clampBottom: function(a, b) {
			return b > a ? b : a
		},
		mapLinear: function(a, b, c, d, e) {
			return d + (a - b) * (e - d) / (c - b)
		},
		random16: function() {
			return (65280 * Math.random() + 255 * Math.random()) / 65535
		}
	}, THREE.Matrix3 = function() {
		this.m = []
	}, THREE.Matrix3.prototype = {
		constructor: THREE.Matrix3,
		transpose: function() {
			var a, b = this.m;
			return a = b[1], b[1] = b[3], b[3] = a, a = b[2], b[2] = b[6], b[6] = a, a = b[5], b[5] = b[7], b[7] = a, this
		},
		transposeIntoArray: function(a) {
			var b = this.m;
			return a[0] = b[0], a[1] = b[3], a[2] = b[6], a[3] = b[1], a[4] = b[4], a[5] = b[7], a[6] = b[2], a[7] = b[5], a[8] = b[8], this
		}
	}, THREE.Matrix4 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
		this.set(void 0 !== a ? a : 1, b || 0, c || 0, d || 0, e || 0, void 0 !== f ? f : 1, g || 0, h || 0, i || 0, j || 0, void 0 !== k ? k : 1, l || 0, m || 0, n || 0, o || 0, void 0 !== p ? p : 1), this.flat = Array(16), this.m33 = new THREE.Matrix3
	}, THREE.Matrix4.prototype = {
		constructor: THREE.Matrix4,
		set: function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
			return this.n11 = a, this.n12 = b, this.n13 = c, this.n14 = d, this.n21 = e, this.n22 = f, this.n23 = g, this.n24 = h, this.n31 = i, this.n32 = j, this.n33 = k, this.n34 = l, this.n41 = m, this.n42 = n, this.n43 = o, this.n44 = p, this
		},
		identity: function() {
			return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
		},
		copy: function(a) {
			return this.set(a.n11, a.n12, a.n13, a.n14, a.n21, a.n22, a.n23, a.n24, a.n31, a.n32, a.n33, a.n34, a.n41, a.n42, a.n43, a.n44), this
		},
		lookAt: function(a, b, c) {
			var d = THREE.Matrix4.__v1,
				e = THREE.Matrix4.__v2,
				f = THREE.Matrix4.__v3;
			return f.sub(a, b).normalize(), 0 === f.length() && (f.z = 1), d.cross(c, f).normalize(), 0 === d.length() && (f.x += 1e-4, d.cross(c, f).normalize()), e.cross(f, d).normalize(), this.n11 = d.x, this.n12 = e.x, this.n13 = f.x, this.n21 = d.y, this.n22 = e.y, this.n23 = f.y, this.n31 = d.z, this.n32 = e.z, this.n33 = f.z, this
		},
		multiply: function(a, b) {
			var c = a.n11,
				d = a.n12,
				e = a.n13,
				f = a.n14,
				g = a.n21,
				h = a.n22,
				i = a.n23,
				j = a.n24,
				k = a.n31,
				l = a.n32,
				m = a.n33,
				n = a.n34,
				o = a.n41,
				p = a.n42,
				q = a.n43,
				r = a.n44,
				s = b.n11,
				t = b.n12,
				u = b.n13,
				v = b.n14,
				w = b.n21,
				x = b.n22,
				y = b.n23,
				z = b.n24,
				A = b.n31,
				B = b.n32,
				C = b.n33,
				D = b.n34,
				E = b.n41,
				F = b.n42,
				G = b.n43,
				H = b.n44;
			return this.n11 = c * s + d * w + e * A + f * E, this.n12 = c * t + d * x + e * B + f * F, this.n13 = c * u + d * y + e * C + f * G, this.n14 = c * v + d * z + e * D + f * H, this.n21 = g * s + h * w + i * A + j * E, this.n22 = g * t + h * x + i * B + j * F, this.n23 = g * u + h * y + i * C + j * G, this.n24 = g * v + h * z + i * D + j * H, this.n31 = k * s + l * w + m * A + n * E, this.n32 = k * t + l * x + m * B + n * F, this.n33 = k * u + l * y + m * C + n * G, this.n34 = k * v + l * z + m * D + n * H, this.n41 = o * s + p * w + q * A + r * E, this.n42 = o * t + p * x + q * B + r * F, this.n43 = o * u + p * y + q * C + r * G, this.n44 = o * v + p * z + q * D + r * H, this
		},
		multiplySelf: function(a) {
			return this.multiply(this, a)
		},
		multiplyToArray: function(a, b, c) {
			return this.multiply(a, b), c[0] = this.n11, c[1] = this.n21, c[2] = this.n31, c[3] = this.n41, c[4] = this.n12, c[5] = this.n22, c[6] = this.n32, c[7] = this.n42, c[8] = this.n13, c[9] = this.n23, c[10] = this.n33, c[11] = this.n43, c[12] = this.n14, c[13] = this.n24, c[14] = this.n34, c[15] = this.n44, this
		},
		multiplyScalar: function(a) {
			return this.n11 *= a, this.n12 *= a, this.n13 *= a, this.n14 *= a, this.n21 *= a, this.n22 *= a, this.n23 *= a, this.n24 *= a, this.n31 *= a, this.n32 *= a, this.n33 *= a, this.n34 *= a, this.n41 *= a, this.n42 *= a, this.n43 *= a, this.n44 *= a, this
		},
		multiplyVector3: function(a) {
			var b = a.x,
				c = a.y,
				d = a.z,
				e = 1 / (this.n41 * b + this.n42 * c + this.n43 * d + this.n44);
			return a.x = (this.n11 * b + this.n12 * c + this.n13 * d + this.n14) * e, a.y = (this.n21 * b + this.n22 * c + this.n23 * d + this.n24) * e, a.z = (this.n31 * b + this.n32 * c + this.n33 * d + this.n34) * e, a
		},
		multiplyVector4: function(a) {
			var b = a.x,
				c = a.y,
				d = a.z,
				e = a.w;
			return a.x = this.n11 * b + this.n12 * c + this.n13 * d + this.n14 * e, a.y = this.n21 * b + this.n22 * c + this.n23 * d + this.n24 * e, a.z = this.n31 * b + this.n32 * c + this.n33 * d + this.n34 * e, a.w = this.n41 * b + this.n42 * c + this.n43 * d + this.n44 * e, a
		},
		rotateAxis: function(a) {
			var b = a.x,
				c = a.y,
				d = a.z;
			return a.x = b * this.n11 + c * this.n12 + d * this.n13, a.y = b * this.n21 + c * this.n22 + d * this.n23, a.z = b * this.n31 + c * this.n32 + d * this.n33, a.normalize(), a
		},
		crossVector: function(a) {
			var b = new THREE.Vector4;
			return b.x = this.n11 * a.x + this.n12 * a.y + this.n13 * a.z + this.n14 * a.w, b.y = this.n21 * a.x + this.n22 * a.y + this.n23 * a.z + this.n24 * a.w, b.z = this.n31 * a.x + this.n32 * a.y + this.n33 * a.z + this.n34 * a.w, b.w = a.w ? this.n41 * a.x + this.n42 * a.y + this.n43 * a.z + this.n44 * a.w : 1, b
		},
		determinant: function() {
			var a = this.n11,
				b = this.n12,
				c = this.n13,
				d = this.n14,
				e = this.n21,
				f = this.n22,
				g = this.n23,
				h = this.n24,
				i = this.n31,
				j = this.n32,
				k = this.n33,
				l = this.n34,
				m = this.n41,
				n = this.n42,
				o = this.n43,
				p = this.n44;
			return d * g * j * m - c * h * j * m - d * f * k * m + b * h * k * m + c * f * l * m - b * g * l * m - d * g * i * n + c * h * i * n + d * e * k * n - a * h * k * n - c * e * l * n + a * g * l * n + d * f * i * o - b * h * i * o - d * e * j * o + a * h * j * o + b * e * l * o - a * f * l * o - c * f * i * p + b * g * i * p + c * e * j * p - a * g * j * p - b * e * k * p + a * f * k * p;
		},
		transpose: function() {
			var a;
			return a = this.n21, this.n21 = this.n12, this.n12 = a, a = this.n31, this.n31 = this.n13, this.n13 = a, a = this.n32, this.n32 = this.n23, this.n23 = a, a = this.n41, this.n41 = this.n14, this.n14 = a, a = this.n42, this.n42 = this.n24, this.n24 = a, a = this.n43, this.n43 = this.n34, this.n43 = a, this
		},
		clone: function() {
			var a = new THREE.Matrix4;
			return a.n11 = this.n11, a.n12 = this.n12, a.n13 = this.n13, a.n14 = this.n14, a.n21 = this.n21, a.n22 = this.n22, a.n23 = this.n23, a.n24 = this.n24, a.n31 = this.n31, a.n32 = this.n32, a.n33 = this.n33, a.n34 = this.n34, a.n41 = this.n41, a.n42 = this.n42, a.n43 = this.n43, a.n44 = this.n44, a
		},
		flatten: function() {
			return this.flat[0] = this.n11, this.flat[1] = this.n21, this.flat[2] = this.n31, this.flat[3] = this.n41, this.flat[4] = this.n12, this.flat[5] = this.n22, this.flat[6] = this.n32, this.flat[7] = this.n42, this.flat[8] = this.n13, this.flat[9] = this.n23, this.flat[10] = this.n33, this.flat[11] = this.n43, this.flat[12] = this.n14, this.flat[13] = this.n24, this.flat[14] = this.n34, this.flat[15] = this.n44, this.flat
		},
		flattenToArray: function(a) {
			return a[0] = this.n11, a[1] = this.n21, a[2] = this.n31, a[3] = this.n41, a[4] = this.n12, a[5] = this.n22, a[6] = this.n32, a[7] = this.n42, a[8] = this.n13, a[9] = this.n23, a[10] = this.n33, a[11] = this.n43, a[12] = this.n14, a[13] = this.n24, a[14] = this.n34, a[15] = this.n44, a
		},
		flattenToArrayOffset: function(a, b) {
			return a[b] = this.n11, a[b + 1] = this.n21, a[b + 2] = this.n31, a[b + 3] = this.n41, a[b + 4] = this.n12, a[b + 5] = this.n22, a[b + 6] = this.n32, a[b + 7] = this.n42, a[b + 8] = this.n13, a[b + 9] = this.n23, a[b + 10] = this.n33, a[b + 11] = this.n43, a[b + 12] = this.n14, a[b + 13] = this.n24, a[b + 14] = this.n34, a[b + 15] = this.n44, a
		},
		setTranslation: function(a, b, c) {
			return this.set(1, 0, 0, a, 0, 1, 0, b, 0, 0, 1, c, 0, 0, 0, 1), this
		},
		setScale: function(a, b, c) {
			return this.set(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, 0, 1), this
		},
		setRotationX: function(a) {
			var b = Math.cos(a),
				a = Math.sin(a);
			return this.set(1, 0, 0, 0, 0, b, -a, 0, 0, a, b, 0, 0, 0, 0, 1), this
		},
		setRotationY: function(a) {
			var b = Math.cos(a),
				a = Math.sin(a);
			return this.set(b, 0, a, 0, 0, 1, 0, 0, -a, 0, b, 0, 0, 0, 0, 1), this
		},
		setRotationZ: function(a) {
			var b = Math.cos(a),
				a = Math.sin(a);
			return this.set(b, -a, 0, 0, a, b, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
		},
		setRotationAxis: function(a, b) {
			var c = Math.cos(b),
				d = Math.sin(b),
				e = 1 - c,
				f = a.x,
				g = a.y,
				h = a.z,
				i = e * f,
				j = e * g;
			return this.set(i * f + c, i * g - d * h, i * h + d * g, 0, i * g + d * h, j * g + c, j * h - d * f, 0, i * h - d * g, j * h + d * f, e * h * h + c, 0, 0, 0, 0, 1), this
		},
		setPosition: function(a) {
			return this.n14 = a.x, this.n24 = a.y, this.n34 = a.z, this
		},
		getPosition: function() {
			return THREE.Matrix4.__v1.set(this.n14, this.n24, this.n34)
		},
		getColumnX: function() {
			return THREE.Matrix4.__v1.set(this.n11, this.n21, this.n31)
		},
		getColumnY: function() {
			return THREE.Matrix4.__v1.set(this.n12, this.n22, this.n32)
		},
		getColumnZ: function() {
			return THREE.Matrix4.__v1.set(this.n13, this.n23, this.n33)
		},
		getInverse: function(a) {
			var b = a.n11,
				c = a.n12,
				d = a.n13,
				e = a.n14,
				f = a.n21,
				g = a.n22,
				h = a.n23,
				i = a.n24,
				j = a.n31,
				k = a.n32,
				l = a.n33,
				m = a.n34,
				n = a.n41,
				o = a.n42,
				p = a.n43,
				q = a.n44;
			return this.n11 = h * m * o - i * l * o + i * k * p - g * m * p - h * k * q + g * l * q, this.n12 = e * l * o - d * m * o - e * k * p + c * m * p + d * k * q - c * l * q, this.n13 = d * i * o - e * h * o + e * g * p - c * i * p - d * g * q + c * h * q, this.n14 = e * h * k - d * i * k - e * g * l + c * i * l + d * g * m - c * h * m, this.n21 = i * l * n - h * m * n - i * j * p + f * m * p + h * j * q - f * l * q, this.n22 = d * m * n - e * l * n + e * j * p - b * m * p - d * j * q + b * l * q, this.n23 = e * h * n - d * i * n - e * f * p + b * i * p + d * f * q - b * h * q, this.n24 = d * i * j - e * h * j + e * f * l - b * i * l - d * f * m + b * h * m, this.n31 = g * m * n - i * k * n + i * j * o - f * m * o - g * j * q + f * k * q, this.n32 = e * k * n - c * m * n - e * j * o + b * m * o + c * j * q - b * k * q, this.n33 = d * i * n - e * g * n + e * f * o - b * i * o - c * f * q + b * g * q, this.n34 = e * g * j - c * i * j - e * f * k + b * i * k + c * f * m - b * g * m, this.n41 = h * k * n - g * l * n - h * j * o + f * l * o + g * j * p - f * k * p, this.n42 = c * l * n - d * k * n + d * j * o - b * l * o - c * j * p + b * k * p, this.n43 = d * g * n - c * h * n - d * f * o + b * h * o + c * f * p - b * g * p, this.n44 = c * h * j - d * g * j + d * f * k - b * h * k - c * f * l + b * g * l, this.multiplyScalar(1 / a.determinant()), this
		},
		setRotationFromEuler: function(a, b) {
			var c = a.x,
				d = a.y,
				e = a.z,
				f = Math.cos(c),
				c = Math.sin(c),
				g = Math.cos(d),
				d = Math.sin(d),
				h = Math.cos(e),
				e = Math.sin(e);
			switch (b) {
			case "YXZ":
				var i = g * h,
					j = g * e,
					k = d * h,
					l = d * e;
				this.n11 = i + l * c, this.n12 = k * c - j, this.n13 = f * d, this.n21 = f * e, this.n22 = f * h, this.n23 = -c, this.n31 = j * c - k, this.n32 = l + i * c, this.n33 = f * g;
				break;
			case "ZXY":
				i = g * h, j = g * e, k = d * h, l = d * e, this.n11 = i - l * c, this.n12 = -f * e, this.n13 = k + j * c, this.n21 = j + k * c, this.n22 = f * h, this.n23 = l - i * c, this.n31 = -f * d, this.n32 = c, this.n33 = f * g;
				break;
			case "ZYX":
				i = f * h, j = f * e, k = c * h, l = c * e, this.n11 = g * h, this.n12 = k * d - j, this.n13 = i * d + l, this.n21 = g * e, this.n22 = l * d + i, this.n23 = j * d - k, this.n31 = -d, this.n32 = c * g, this.n33 = f * g;
				break;
			case "YZX":
				i = f * g, j = f * d, k = c * g, l = c * d, this.n11 = g * h, this.n12 = l - i * e, this.n13 = k * e + j, this.n21 = e, this.n22 = f * h, this.n23 = -c * h, this.n31 = -d * h, this.n32 = j * e + k, this.n33 = i - l * e;
				break;
			case "XZY":
				i = f * g, j = f * d, k = c * g, l = c * d, this.n11 = g * h, this.n12 = -e, this.n13 = d * h, this.n21 = i * e + l, this.n22 = f * h, this.n23 = j * e - k, this.n31 = k * e - j, this.n32 = c * h, this.n33 = l * e + i;
				break;
			default:
				i = f * h, j = f * e, k = c * h, l = c * e, this.n11 = g * h, this.n12 = -g * e, this.n13 = d, this.n21 = j + k * d, this.n22 = i - l * d, this.n23 = -c * g, this.n31 = l - i * d, this.n32 = k + j * d, this.n33 = f * g
			}
			return this
		},
		setRotationFromQuaternion: function(a) {
			var b = a.x,
				c = a.y,
				d = a.z,
				e = a.w,
				f = b + b,
				g = c + c,
				h = d + d,
				a = b * f,
				i = b * g;
			b *= h;
			var j = c * g;
			return c *= h, d *= h, f *= e, g *= e, e *= h, this.n11 = 1 - (j + d), this.n12 = i - e, this.n13 = b + g, this.n21 = i + e, this.n22 = 1 - (a + d), this.n23 = c - f, this.n31 = b - g, this.n32 = c + f, this.n33 = 1 - (a + j), this
		},
		scale: function(a) {
			var b = a.x,
				c = a.y,
				a = a.z;
			return this.n11 *= b, this.n12 *= c, this.n13 *= a, this.n21 *= b, this.n22 *= c, this.n23 *= a, this.n31 *= b, this.n32 *= c, this.n33 *= a, this.n41 *= b, this.n42 *= c, this.n43 *= a, this
		},
		compose: function(a, b, c) {
			var d = THREE.Matrix4.__m1,
				e = THREE.Matrix4.__m2;
			return d.identity(), d.setRotationFromQuaternion(b), e.setScale(c.x, c.y, c.z), this.multiply(d, e), this.n14 = a.x, this.n24 = a.y, this.n34 = a.z, this
		},
		decompose: function(a, b, c) {
			var d = THREE.Matrix4.__v1,
				e = THREE.Matrix4.__v2,
				f = THREE.Matrix4.__v3;
			return d.set(this.n11, this.n21, this.n31), e.set(this.n12, this.n22, this.n32), f.set(this.n13, this.n23, this.n33), a = a instanceof THREE.Vector3 ? a : new THREE.Vector3, b = b instanceof THREE.Quaternion ? b : new THREE.Quaternion, c = c instanceof THREE.Vector3 ? c : new THREE.Vector3, c.x = d.length(), c.y = e.length(), c.z = f.length(), a.x = this.n14, a.y = this.n24, a.z = this.n34, d = THREE.Matrix4.__m1, d.copy(this), d.n11 /= c.x, d.n21 /= c.x, d.n31 /= c.x, d.n12 /= c.y, d.n22 /= c.y, d.n32 /= c.y, d.n13 /= c.z, d.n23 /= c.z, d.n33 /= c.z, b.setFromRotationMatrix(d), [a, b, c]
		},
		extractPosition: function(a) {
			return this.n14 = a.n14, this.n24 = a.n24, this.n34 = a.n34, this
		},
		extractRotation: function(a) {
			var b = THREE.Matrix4.__v1,
				c = 1 / b.set(a.n11, a.n21, a.n31).length(),
				d = 1 / b.set(a.n12, a.n22, a.n32).length(),
				b = 1 / b.set(a.n13, a.n23, a.n33).length();
			return this.n11 = a.n11 * c, this.n21 = a.n21 * c, this.n31 = a.n31 * c, this.n12 = a.n12 * d, this.n22 = a.n22 * d, this.n32 = a.n32 * d, this.n13 = a.n13 * b, this.n23 = a.n23 * b, this.n33 = a.n33 * b, this
		}
	}, THREE.Matrix4.makeInvert3x3 = function(a) {
		var b = a.m33,
			c = b.m,
			d = a.n33 * a.n22 - a.n32 * a.n23,
			e = -a.n33 * a.n21 + a.n31 * a.n23,
			f = a.n32 * a.n21 - a.n31 * a.n22,
			g = -a.n33 * a.n12 + a.n32 * a.n13,
			h = a.n33 * a.n11 - a.n31 * a.n13,
			i = -a.n32 * a.n11 + a.n31 * a.n12,
			j = a.n23 * a.n12 - a.n22 * a.n13,
			k = -a.n23 * a.n11 + a.n21 * a.n13,
			l = a.n22 * a.n11 - a.n21 * a.n12,
			a = a.n11 * d + a.n21 * g + a.n31 * j;
		return 0 === a && console.error("THREE.Matrix4.makeInvert3x3: Matrix not invertible."), a = 1 / a, c[0] = a * d, c[1] = a * e, c[2] = a * f, c[3] = a * g, c[4] = a * h, c[5] = a * i, c[6] = a * j, c[7] = a * k, c[8] = a * l, b
	}, THREE.Matrix4.makeFrustum = function(a, b, c, d, e, f) {
		var g;
		return g = new THREE.Matrix4, g.n11 = 2 * e / (b - a), g.n12 = 0, g.n13 = (b + a) / (b - a), g.n14 = 0, g.n21 = 0, g.n22 = 2 * e / (d - c), g.n23 = (d + c) / (d - c), g.n24 = 0, g.n31 = 0, g.n32 = 0, g.n33 = -(f + e) / (f - e), g.n34 = -2 * f * e / (f - e), g.n41 = 0, g.n42 = 0, g.n43 = -1, g.n44 = 0, g
	}, THREE.Matrix4.makePerspective = function(a, b, c, d) {
		var e, a = c * Math.tan(a * Math.PI / 360);
		return e = -a, THREE.Matrix4.makeFrustum(e * b, a * b, e, a, c, d)
	}, THREE.Matrix4.makeOrtho = function(a, b, c, d, e, f) {
		var g, h, i, j;
		return g = new THREE.Matrix4, h = b - a, i = c - d, j = f - e, g.n11 = 2 / h, g.n12 = 0, g.n13 = 0, g.n14 = -((b + a) / h), g.n21 = 0, g.n22 = 2 / i, g.n23 = 0, g.n24 = -((c + d) / i), g.n31 = 0, g.n32 = 0, g.n33 = -2 / j, g.n34 = -((f + e) / j), g.n41 = 0, g.n42 = 0, g.n43 = 0, g.n44 = 1, g
	}, THREE.Matrix4.__v1 = new THREE.Vector3, THREE.Matrix4.__v2 = new THREE.Vector3, THREE.Matrix4.__v3 = new THREE.Vector3, THREE.Matrix4.__m1 = new THREE.Matrix4, THREE.Matrix4.__m2 = new THREE.Matrix4, THREE.Object3D = function() {
		this.name = "", this.id = THREE.Object3DCount++, this.parent = void 0, this.children = [], this.up = new THREE.Vector3(0, 1, 0), this.position = new THREE.Vector3, this.rotation = new THREE.Vector3, this.eulerOrder = "XYZ", this.scale = new THREE.Vector3(1, 1, 1), this.flipSided = this.doubleSided = this.dynamic = !1, this.renderDepth = null, this.rotationAutoUpdate = !0, this.matrix = new THREE.Matrix4, this.matrixWorld = new THREE.Matrix4, this.matrixRotationWorld = new THREE.Matrix4, this.matrixWorldNeedsUpdate = this.matrixAutoUpdate = !0, this.quaternion = new THREE.Quaternion, this.useQuaternion = !1, this.boundRadius = 0, this.boundRadiusScale = 1, this.visible = !0, this.receiveShadow = this.castShadow = !1, this.frustumCulled = !0, this._vector = new THREE.Vector3
	}, THREE.Object3D.prototype = {
		constructor: THREE.Object3D,
		translate: function(a, b) {
			this.matrix.rotateAxis(b), this.position.addSelf(b.multiplyScalar(a))
		},
		translateX: function(a) {
			this.translate(a, this._vector.set(1, 0, 0))
		},
		translateY: function(a) {
			this.translate(a, this._vector.set(0, 1, 0))
		},
		translateZ: function(a) {
			this.translate(a, this._vector.set(0, 0, 1))
		},
		lookAt: function(a) {
			this.matrix.lookAt(a, this.position, this.up), this.rotationAutoUpdate && this.rotation.setRotationFromMatrix(this.matrix)
		},
		add: function(a) {
			if (-1 === this.children.indexOf(a)) {
				void 0 !== a.parent && a.parent.remove(a), a.parent = this, this.children.push(a);
				for (var b = this; void 0 !== b.parent;) b = b.parent;
				void 0 !== b && b instanceof THREE.Scene && b.addObject(a)
			}
		},
		remove: function(a) {
			var b = this.children.indexOf(a);
			if (-1 !== b) {
				for (a.parent = void 0, this.children.splice(b, 1), b = this; void 0 !== b.parent;) b = b.parent;
				void 0 !== b && b instanceof THREE.Scene && b.removeObject(a)
			}
		},
		getChildByName: function(a, b) {
			var c, d, e;
			for (c = 0, d = this.children.length; d > c; c++) {
				if (e = this.children[c], e.name === a) return e;
				if (b && (e = e.getChildByName(a, b), void 0 !== e)) return e
			}
		},
		updateMatrix: function() {
			this.matrix.setPosition(this.position), this.useQuaternion ? this.matrix.setRotationFromQuaternion(this.quaternion) : this.matrix.setRotationFromEuler(this.rotation, this.eulerOrder), (1 !== this.scale.x || 1 !== this.scale.y || 1 !== this.scale.z) && (this.matrix.scale(this.scale), this.boundRadiusScale = Math.max(this.scale.x, Math.max(this.scale.y, this.scale.z))), this.matrixWorldNeedsUpdate = !0
		},
		updateMatrixWorld: function(a) {
			this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || a) && (this.parent ? this.matrixWorld.multiply(this.parent.matrixWorld, this.matrix) : this.matrixWorld.copy(this.matrix), this.matrixWorldNeedsUpdate = !1, a = !0);
			for (var b = 0, c = this.children.length; c > b; b++) this.children[b].updateMatrixWorld(a)
		}
	}, THREE.Object3DCount = 0, THREE.Projector = function() {
		function a() {
			var a = p[f] = p[f] || new THREE.RenderableObject;
			return f++, a
		}
		function b() {
			var a = q[h] = q[h] || new THREE.RenderableVertex;
			return h++, a
		}
		function c(a, b) {
			return b.z - a.z
		}
		function d(a, b) {
			var c = 0,
				d = 1,
				e = a.z + a.w,
				f = b.z + b.w,
				g = -a.z + a.w,
				h = -b.z + b.w;
			return e >= 0 && f >= 0 && g >= 0 && h >= 0 ? !0 : 0 > e && 0 > f || 0 > g && 0 > h ? !1 : (0 > e ? c = Math.max(c, e / (e - f)) : 0 > f && (d = Math.min(d, e / (e - f))), 0 > g ? c = Math.max(c, g / (g - h)) : 0 > h && (d = Math.min(d, g / (g - h))), c > d ? !1 : (a.lerpSelf(b, c), b.lerpSelf(a, 1 - d), !0))
		}
		var e, f, g, h, i, j, k, l, m, n, o, p = [],
			q = [],
			r = [],
			s = [],
			t = [],
			u = [],
			v = {
				objects: [],
				sprites: [],
				lights: [],
				elements: []
			},
			w = new THREE.Vector3,
			x = new THREE.Vector4,
			y = new THREE.Matrix4,
			z = new THREE.Matrix4,
			A = [new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4],
			B = new THREE.Vector4,
			C = new THREE.Vector4;
		this.computeFrustum = function(a) {
			for (A[0].set(a.n41 - a.n11, a.n42 - a.n12, a.n43 - a.n13, a.n44 - a.n14), A[1].set(a.n41 + a.n11, a.n42 + a.n12, a.n43 + a.n13, a.n44 + a.n14), A[2].set(a.n41 + a.n21, a.n42 + a.n22, a.n43 + a.n23, a.n44 + a.n24), A[3].set(a.n41 - a.n21, a.n42 - a.n22, a.n43 - a.n23, a.n44 - a.n24), A[4].set(a.n41 - a.n31, a.n42 - a.n32, a.n43 - a.n33, a.n44 - a.n34), A[5].set(a.n41 + a.n31, a.n42 + a.n32, a.n43 + a.n33, a.n44 + a.n34), a = 0; 6 > a; a++) {
				var b = A[a];
				b.divideScalar(Math.sqrt(b.x * b.x + b.y * b.y + b.z * b.z))
			}
		}, this.projectVector = function(a, b) {
			return b.matrixWorldInverse.getInverse(b.matrixWorld), y.multiply(b.projectionMatrix, b.matrixWorldInverse), y.multiplyVector3(a), a
		}, this.unprojectVector = function(a, b) {
			return b.projectionMatrixInverse.getInverse(b.projectionMatrix), y.multiply(b.matrixWorld, b.projectionMatrixInverse), y.multiplyVector3(a), a
		}, this.pickingRay = function(a, b) {
			var c;
			return a.z = -1, c = new THREE.Vector3(a.x, a.y, 1), this.unprojectVector(a, b), this.unprojectVector(c, b), c.subSelf(a).normalize(), new THREE.Ray(a, c)
		}, this.projectGraph = function(b, d) {
			f = 0, v.objects.length = 0, v.sprites.length = 0, v.lights.length = 0;
			var g = function(b) {
					if (b.visible !== !1) {
						var c;
						if ((c = b instanceof THREE.Mesh || b instanceof THREE.Line) && !(c = b.frustumCulled === !1)) a: {
							for (var d = b.matrixWorld, f = -b.geometry.boundingSphere.radius * Math.max(b.scale.x, Math.max(b.scale.y, b.scale.z)), h = 0; 6 > h; h++) if (c = A[h].x * d.n14 + A[h].y * d.n24 + A[h].z * d.n34 + A[h].w, f >= c) {
								c = !1;
								break a
							}
							c = !0
						}
						for (c ? (y.multiplyVector3(w.copy(b.position)), e = a(), e.object = b, e.z = w.z, v.objects.push(e)) : b instanceof THREE.Sprite || b instanceof THREE.Particle ? (y.multiplyVector3(w.copy(b.position)), e = a(), e.object = b, e.z = w.z, v.sprites.push(e)) : b instanceof THREE.Light && v.lights.push(b), c = 0, d = b.children.length; d > c; c++) g(b.children[c])
					}
				};
			return g(b), d && v.objects.sort(c), v
		}, this.projectScene = function(a, e, f) {
			var p, w, A, D, E, F, G, H, I, J, K, L, M, N, O, P, Q = e.near,
				R = e.far;
			for (o = m = k = j = 0, v.elements.length = 0, void 0 === e.parent && (console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it..."), a.add(e)), a.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), y.multiply(e.projectionMatrix, e.matrixWorldInverse), this.computeFrustum(y), v = this.projectGraph(a, !1), a = 0, p = v.objects.length; p > a; a++) if (I = v.objects[a].object, J = I.matrixWorld, L = I.material, h = 0, I instanceof THREE.Mesh) {
				for (K = I.geometry, M = I.geometry.materials, D = K.vertices, N = K.faces, O = K.faceVertexUvs, K = I.matrixRotationWorld.extractRotation(J), w = 0, A = D.length; A > w; w++) g = b(), g.positionWorld.copy(D[w].position), J.multiplyVector3(g.positionWorld), g.positionScreen.copy(g.positionWorld), y.multiplyVector4(g.positionScreen), g.positionScreen.x /= g.positionScreen.w, g.positionScreen.y /= g.positionScreen.w, g.visible = g.positionScreen.z > Q && g.positionScreen.z < R;
				for (D = 0, w = N.length; w > D; D++) {
					if (A = N[D], A instanceof THREE.Face3) {
						if (E = q[A.a], F = q[A.b], G = q[A.c], !(E.visible && F.visible && G.visible) || !I.doubleSided && I.flipSided == (G.positionScreen.x - E.positionScreen.x) * (F.positionScreen.y - E.positionScreen.y) - (G.positionScreen.y - E.positionScreen.y) * (F.positionScreen.x - E.positionScreen.x) < 0) continue;
						H = r[j] = r[j] || new THREE.RenderableFace3, j++, i = H, i.v1.copy(E), i.v2.copy(F), i.v3.copy(G)
					} else if (A instanceof THREE.Face4) {
						if (E = q[A.a], F = q[A.b], G = q[A.c], H = q[A.d], !(E.visible && F.visible && G.visible && H.visible) || !I.doubleSided && I.flipSided == ((H.positionScreen.x - E.positionScreen.x) * (F.positionScreen.y - E.positionScreen.y) - (H.positionScreen.y - E.positionScreen.y) * (F.positionScreen.x - E.positionScreen.x) < 0 || (F.positionScreen.x - G.positionScreen.x) * (H.positionScreen.y - G.positionScreen.y) - (F.positionScreen.y - G.positionScreen.y) * (H.positionScreen.x - G.positionScreen.x) < 0)) continue;
						P = s[k] = s[k] || new THREE.RenderableFace4, k++, i = P, i.v1.copy(E), i.v2.copy(F), i.v3.copy(G), i.v4.copy(H)
					}
					for (i.normalWorld.copy(A.normal), K.multiplyVector3(i.normalWorld), i.centroidWorld.copy(A.centroid), J.multiplyVector3(i.centroidWorld), i.centroidScreen.copy(i.centroidWorld), y.multiplyVector3(i.centroidScreen), G = A.vertexNormals, E = 0, F = G.length; F > E; E++) H = i.vertexNormalsWorld[E], H.copy(G[E]), K.multiplyVector3(H);
					for (E = 0, F = O.length; F > E; E++) if (P = O[E][D]) for (G = 0, H = P.length; H > G; G++) i.uvs[E][G] = P[G];
					i.material = L, i.faceMaterial = null !== A.materialIndex ? M[A.materialIndex] : null, i.z = i.centroidScreen.z, v.elements.push(i)
				}
			} else if (I instanceof THREE.Line) for (z.multiply(y, J), D = I.geometry.vertices, E = b(), E.positionScreen.copy(D[0].position), z.multiplyVector4(E.positionScreen), w = 1, A = D.length; A > w; w++) E = b(), E.positionScreen.copy(D[w].position), z.multiplyVector4(E.positionScreen), F = q[h - 2], B.copy(E.positionScreen), C.copy(F.positionScreen), d(B, C) && (B.multiplyScalar(1 / B.w), C.multiplyScalar(1 / C.w), I = t[m] = t[m] || new THREE.RenderableLine, m++, l = I, l.v1.positionScreen.copy(B), l.v2.positionScreen.copy(C), l.z = Math.max(B.z, C.z), l.material = L, v.elements.push(l));
			for (a = 0, p = v.sprites.length; p > a; a++) I = v.sprites[a].object, J = I.matrixWorld, I instanceof THREE.Particle && (x.set(J.n14, J.n24, J.n34, 1), y.multiplyVector4(x), x.z /= x.w, x.z > 0 && x.z < 1) && (Q = u[o] = u[o] || new THREE.RenderableParticle, o++, n = Q, n.x = x.x / x.w, n.y = x.y / x.w, n.z = x.z, n.rotation = I.rotation.z, n.scale.x = I.scale.x * Math.abs(n.x - (x.x + e.projectionMatrix.n11) / (x.w + e.projectionMatrix.n14)), n.scale.y = I.scale.y * Math.abs(n.y - (x.y + e.projectionMatrix.n22) / (x.w + e.projectionMatrix.n24)), n.material = I.material, v.elements.push(n));
			return f && v.elements.sort(c), v
		}
	}, THREE.Quaternion = function(a, b, c, d) {
		this.set(a || 0, b || 0, c || 0, void 0 !== d ? d : 1)
	}, THREE.Quaternion.prototype = {
		constructor: THREE.Quaternion,
		set: function(a, b, c, d) {
			return this.x = a, this.y = b, this.z = c, this.w = d, this
		},
		copy: function(a) {
			return this.x = a.x, this.y = a.y, this.z = a.z, this.w = a.w, this
		},
		setFromEuler: function(a) {
			var b = Math.PI / 360,
				c = a.x * b,
				d = a.y * b,
				e = a.z * b,
				a = Math.cos(d),
				d = Math.sin(d),
				b = Math.cos(-e),
				e = Math.sin(-e),
				f = Math.cos(c),
				c = Math.sin(c),
				g = a * b,
				h = d * e;
			return this.w = g * f - h * c, this.x = g * c + h * f, this.y = d * b * f + a * e * c, this.z = a * e * f - d * b * c, this
		},
		setFromAxisAngle: function(a, b) {
			var c = b / 2,
				d = Math.sin(c);
			return this.x = a.x * d, this.y = a.y * d, this.z = a.z * d, this.w = Math.cos(c), this
		},
		setFromRotationMatrix: function(a) {
			var b = Math.pow(a.determinant(), 1 / 3);
			return this.w = Math.sqrt(Math.max(0, b + a.n11 + a.n22 + a.n33)) / 2, this.x = Math.sqrt(Math.max(0, b + a.n11 - a.n22 - a.n33)) / 2, this.y = Math.sqrt(Math.max(0, b - a.n11 + a.n22 - a.n33)) / 2, this.z = Math.sqrt(Math.max(0, b - a.n11 - a.n22 + a.n33)) / 2, this.x = a.n32 - a.n23 < 0 ? -Math.abs(this.x) : Math.abs(this.x), this.y = a.n13 - a.n31 < 0 ? -Math.abs(this.y) : Math.abs(this.y), this.z = a.n21 - a.n12 < 0 ? -Math.abs(this.z) : Math.abs(this.z), this.normalize(), this
		},
		calculateW: function() {
			return this.w = -Math.sqrt(Math.abs(1 - this.x * this.x - this.y * this.y - this.z * this.z)), this
		},
		inverse: function() {
			return this.x *= -1, this.y *= -1, this.z *= -1, this
		},
		length: function() {
			return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
		},
		normalize: function() {
			var a = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
			return 0 === a ? this.w = this.z = this.y = this.x = 0 : (a = 1 / a, this.x *= a, this.y *= a, this.z *= a, this.w *= a), this
		},
		multiplySelf: function(a) {
			var b = this.x,
				c = this.y,
				d = this.z,
				e = this.w,
				f = a.x,
				g = a.y,
				h = a.z,
				a = a.w;
			return this.x = b * a + e * f + c * h - d * g, this.y = c * a + e * g + d * f - b * h, this.z = d * a + e * h + b * g - c * f, this.w = e * a - b * f - c * g - d * h, this
		},
		multiply: function(a, b) {
			return this.x = a.x * b.w + a.y * b.z - a.z * b.y + a.w * b.x, this.y = -a.x * b.z + a.y * b.w + a.z * b.x + a.w * b.y, this.z = a.x * b.y - a.y * b.x + a.z * b.w + a.w * b.z, this.w = -a.x * b.x - a.y * b.y - a.z * b.z + a.w * b.w, this
		},
		multiplyVector3: function(a, b) {
			b || (b = a);
			var c = a.x,
				d = a.y,
				e = a.z,
				f = this.x,
				g = this.y,
				h = this.z,
				i = this.w,
				j = i * c + g * e - h * d,
				k = i * d + h * c - f * e,
				l = i * e + f * d - g * c,
				c = -f * c - g * d - h * e;
			return b.x = j * i + c * -f + k * -h - l * -g, b.y = k * i + c * -g + l * -f - j * -h, b.z = l * i + c * -h + j * -g - k * -f, b
		}
	}, THREE.Quaternion.slerp = function(a, b, c, d) {
		var e = a.w * b.w + a.x * b.x + a.y * b.y + a.z * b.z;
		if (0 > e ? (c.w = -b.w, c.x = -b.x, c.y = -b.y, c.z = -b.z, e = -e) : c.copy(b), Math.abs(e) >= 1) return c.w = a.w, c.x = a.x, c.y = a.y, c.z = a.z, c;
		var f = Math.acos(e),
			e = Math.sqrt(1 - e * e);
		return Math.abs(e) < .001 ? (c.w = .5 * (a.w + b.w), c.x = .5 * (a.x + b.x), c.y = .5 * (a.y + b.y), c.z = .5 * (a.z + b.z), c) : (b = Math.sin((1 - d) * f) / e, d = Math.sin(d * f) / e, c.w = a.w * b + c.w * d, c.x = a.x * b + c.x * d, c.y = a.y * b + c.y * d, c.z = a.z * b + c.z * d, c)
	}, THREE.Vertex = function(a) {
		this.position = a || new THREE.Vector3
	}, THREE.Face3 = function(a, b, c, d, e, f) {
		this.a = a, this.b = b, this.c = c, this.normal = d instanceof THREE.Vector3 ? d : new THREE.Vector3, this.vertexNormals = d instanceof Array ? d : [], this.color = e instanceof THREE.Color ? e : new THREE.Color, this.vertexColors = e instanceof Array ? e : [], this.vertexTangents = [], this.materialIndex = f, this.centroid = new THREE.Vector3
	}, THREE.Face4 = function(a, b, c, d, e, f, g) {
		this.a = a, this.b = b, this.c = c, this.d = d, this.normal = e instanceof THREE.Vector3 ? e : new THREE.Vector3, this.vertexNormals = e instanceof Array ? e : [], this.color = f instanceof THREE.Color ? f : new THREE.Color, this.vertexColors = f instanceof Array ? f : [], this.vertexTangents = [], this.materialIndex = g, this.centroid = new THREE.Vector3
	}, THREE.UV = function(a, b) {
		this.u = a || 0, this.v = b || 0
	}, THREE.UV.prototype = {
		constructor: THREE.UV,
		set: function(a, b) {
			return this.u = a, this.v = b, this
		},
		copy: function(a) {
			return this.u = a.u, this.v = a.v, this
		},
		clone: function() {
			return new THREE.UV(this.u, this.v)
		}
	}, THREE.Geometry = function() {
		this.id = THREE.GeometryCount++, this.vertices = [], this.colors = [], this.materials = [], this.faces = [], this.faceUvs = [
			[]
		], this.faceVertexUvs = [
			[]
		], this.morphTargets = [], this.morphColors = [], this.skinWeights = [], this.skinIndices = [], this.boundingSphere = this.boundingBox = null, this.dynamic = this.hasTangents = !1
	}, THREE.Geometry.prototype = {
		constructor: THREE.Geometry,
		applyMatrix: function(a) {
			var b = new THREE.Matrix4;
			b.extractRotation(a, new THREE.Vector3(1, 1, 1));
			for (var c = 0, d = this.vertices.length; d > c; c++) a.multiplyVector3(this.vertices[c].position);
			for (c = 0, d = this.faces.length; d > c; c++) {
				var e = this.faces[c];
				b.multiplyVector3(e.normal);
				for (var f = 0, g = e.vertexNormals.length; g > f; f++) b.multiplyVector3(e.vertexNormals[f]);
				a.multiplyVector3(e.centroid)
			}
		},
		computeCentroids: function() {
			var a, b, c;
			for (a = 0, b = this.faces.length; b > a; a++) c = this.faces[a], c.centroid.set(0, 0, 0), c instanceof THREE.Face3 ? (c.centroid.addSelf(this.vertices[c.a].position), c.centroid.addSelf(this.vertices[c.b].position), c.centroid.addSelf(this.vertices[c.c].position), c.centroid.divideScalar(3)) : c instanceof THREE.Face4 && (c.centroid.addSelf(this.vertices[c.a].position), c.centroid.addSelf(this.vertices[c.b].position), c.centroid.addSelf(this.vertices[c.c].position), c.centroid.addSelf(this.vertices[c.d].position), c.centroid.divideScalar(4))
		},
		computeFaceNormals: function() {
			var a, b, c, d, e, f, g = new THREE.Vector3,
				h = new THREE.Vector3;
			for (a = 0, b = this.faces.length; b > a; a++) c = this.faces[a], d = this.vertices[c.a], e = this.vertices[c.b], f = this.vertices[c.c], g.sub(f.position, e.position), h.sub(d.position, e.position), g.crossSelf(h), g.isZero() || g.normalize(), c.normal.copy(g)
		},
		computeVertexNormals: function() {
			var a, b, c, d;
			if (void 0 === this.__tmpVertices) {
				for (d = this.__tmpVertices = Array(this.vertices.length), a = 0, b = this.vertices.length; b > a; a++) d[a] = new THREE.Vector3;
				for (a = 0, b = this.faces.length; b > a; a++) c = this.faces[a], c instanceof THREE.Face3 ? c.vertexNormals = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3] : c instanceof THREE.Face4 && (c.vertexNormals = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3])
			} else for (d = this.__tmpVertices, a = 0, b = this.vertices.length; b > a; a++) d[a].set(0, 0, 0);
			for (a = 0, b = this.faces.length; b > a; a++) c = this.faces[a], c instanceof THREE.Face3 ? (d[c.a].addSelf(c.normal), d[c.b].addSelf(c.normal), d[c.c].addSelf(c.normal)) : c instanceof THREE.Face4 && (d[c.a].addSelf(c.normal), d[c.b].addSelf(c.normal), d[c.c].addSelf(c.normal), d[c.d].addSelf(c.normal));
			for (a = 0, b = this.vertices.length; b > a; a++) d[a].normalize();
			for (a = 0, b = this.faces.length; b > a; a++) c = this.faces[a], c instanceof THREE.Face3 ? (c.vertexNormals[0].copy(d[c.a]), c.vertexNormals[1].copy(d[c.b]), c.vertexNormals[2].copy(d[c.c])) : c instanceof THREE.Face4 && (c.vertexNormals[0].copy(d[c.a]), c.vertexNormals[1].copy(d[c.b]), c.vertexNormals[2].copy(d[c.c]), c.vertexNormals[3].copy(d[c.d]))
		},
		computeTangents: function() {
			function a(a, b, c, d, e, f, y) {
				h = a.vertices[b].position, i = a.vertices[c].position, j = a.vertices[d].position, k = g[e], l = g[f], m = g[y], n = i.x - h.x, o = j.x - h.x, p = i.y - h.y, q = j.y - h.y, r = i.z - h.z, s = j.z - h.z, t = l.u - k.u, u = m.u - k.u, v = l.v - k.v, w = m.v - k.v, x = 1 / (t * w - u * v), B.set((w * n - v * o) * x, (w * p - v * q) * x, (w * r - v * s) * x), C.set((t * o - u * n) * x, (t * q - u * p) * x, (t * s - u * r) * x), z[b].addSelf(B), z[c].addSelf(B), z[d].addSelf(B), A[b].addSelf(C), A[c].addSelf(C), A[d].addSelf(C)
			}
			var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z = [],
				A = [],
				B = new THREE.Vector3,
				C = new THREE.Vector3,
				D = new THREE.Vector3,
				E = new THREE.Vector3,
				F = new THREE.Vector3;
			for (b = 0, c = this.vertices.length; c > b; b++) z[b] = new THREE.Vector3, A[b] = new THREE.Vector3;
			for (b = 0, c = this.faces.length; c > b; b++) f = this.faces[b], g = this.faceVertexUvs[0][b], f instanceof THREE.Face3 ? a(this, f.a, f.b, f.c, 0, 1, 2) : f instanceof THREE.Face4 && (a(this, f.a, f.b, f.c, 0, 1, 2), a(this, f.a, f.b, f.d, 0, 1, 3));
			var G = ["a", "b", "c", "d"];
			for (b = 0, c = this.faces.length; c > b; b++) for (f = this.faces[b], d = 0; d < f.vertexNormals.length; d++) F.copy(f.vertexNormals[d]), e = f[G[d]], y = z[e], D.copy(y), D.subSelf(F.multiplyScalar(F.dot(y))).normalize(), E.cross(f.vertexNormals[d], y), e = E.dot(A[e]), e = 0 > e ? -1 : 1, f.vertexTangents[d] = new THREE.Vector4(D.x, D.y, D.z, e);
			this.hasTangents = !0
		},
		computeBoundingBox: function() {
			var a;
			if (this.vertices.length > 0) {
				this.boundingBox = {
					x: [this.vertices[0].position.x, this.vertices[0].position.x],
					y: [this.vertices[0].position.y, this.vertices[0].position.y],
					z: [this.vertices[0].position.z, this.vertices[0].position.z]
				};
				for (var b = 1, c = this.vertices.length; c > b; b++) a = this.vertices[b], a.position.x < this.boundingBox.x[0] ? this.boundingBox.x[0] = a.position.x : a.position.x > this.boundingBox.x[1] && (this.boundingBox.x[1] = a.position.x), a.position.y < this.boundingBox.y[0] ? this.boundingBox.y[0] = a.position.y : a.position.y > this.boundingBox.y[1] && (this.boundingBox.y[1] = a.position.y), a.position.z < this.boundingBox.z[0] ? this.boundingBox.z[0] = a.position.z : a.position.z > this.boundingBox.z[1] && (this.boundingBox.z[1] = a.position.z)
			}
		},
		computeBoundingSphere: function() {
			for (var a = 0, b = 0, c = this.vertices.length; c > b; b++) a = Math.max(a, this.vertices[b].position.length());
			this.boundingSphere = {
				radius: a
			}
		},
		mergeVertices: function() {
			var a, b, c, d = {},
				e = [],
				f = [],
				g = Math.pow(10, 4);
			for (b = 0, c = this.vertices.length; c > b; b++) a = this.vertices[b].position, a = [Math.round(a.x * g), Math.round(a.y * g), Math.round(a.z * g)].join("_"), void 0 === d[a] ? (d[a] = b, e.push(this.vertices[b]), f[b] = e.length - 1) : f[b] = f[d[a]];
			for (b = 0, c = this.faces.length; c > b; b++) d = this.faces[b], d instanceof THREE.Face3 ? (d.a = f[d.a], d.b = f[d.b], d.c = f[d.c]) : d instanceof THREE.Face4 && (d.a = f[d.a], d.b = f[d.b], d.c = f[d.c], d.d = f[d.d]);
			this.vertices = e
		}
	}, THREE.GeometryCount = 0, THREE.Camera = function() {
		return arguments.length ? (console.warn("DEPRECATED: Camera() is now PerspectiveCamera() or OrthographicCamera()."), new THREE.PerspectiveCamera(arguments[0], arguments[1], arguments[2], arguments[3])) : (THREE.Object3D.call(this), this.matrixWorldInverse = new THREE.Matrix4, this.projectionMatrix = new THREE.Matrix4, void(this.projectionMatrixInverse = new THREE.Matrix4))
	}, THREE.Camera.prototype = new THREE.Object3D, THREE.Camera.prototype.constructor = THREE.Camera, THREE.Camera.prototype.lookAt = function(a) {
		this.matrix.lookAt(this.position, a, this.up), this.rotationAutoUpdate && this.rotation.setRotationFromMatrix(this.matrix)
	}, THREE.OrthographicCamera = function(a, b, c, d, e, f) {
		THREE.Camera.call(this), this.left = a, this.right = b, this.top = c, this.bottom = d, this.near = void 0 !== e ? e : .1, this.far = void 0 !== f ? f : 2e3, this.updateProjectionMatrix()
	}, THREE.OrthographicCamera.prototype = new THREE.Camera, THREE.OrthographicCamera.prototype.constructor = THREE.OrthographicCamera, THREE.OrthographicCamera.prototype.updateProjectionMatrix = function() {
		this.projectionMatrix = THREE.Matrix4.makeOrtho(this.left, this.right, this.top, this.bottom, this.near, this.far)
	}, THREE.PerspectiveCamera = function(a, b, c, d) {
		THREE.Camera.call(this), this.fov = void 0 !== a ? a : 50, this.aspect = void 0 !== b ? b : 1, this.near = void 0 !== c ? c : .1, this.far = void 0 !== d ? d : 2e3, this.updateProjectionMatrix()
	}, THREE.PerspectiveCamera.prototype = new THREE.Camera, THREE.PerspectiveCamera.prototype.constructor = THREE.PerspectiveCamera, THREE.PerspectiveCamera.prototype.setLens = function(a, b) {
		this.fov = 2 * Math.atan((void 0 !== b ? b : 43.25) / (2 * a)), this.fov *= 180 / Math.PI, this.updateProjectionMatrix()
	}, THREE.PerspectiveCamera.prototype.setViewOffset = function(a, b, c, d, e, f) {
		this.fullWidth = a, this.fullHeight = b, this.x = c, this.y = d, this.width = e, this.height = f, this.updateProjectionMatrix()
	}, THREE.PerspectiveCamera.prototype.updateProjectionMatrix = function() {
		if (this.fullWidth) {
			var a = this.fullWidth / this.fullHeight,
				b = Math.tan(this.fov * Math.PI / 360) * this.near,
				c = -b,
				d = a * c,
				a = Math.abs(a * b - d),
				c = Math.abs(b - c);
			this.projectionMatrix = THREE.Matrix4.makeFrustum(d + this.x * a / this.fullWidth, d + (this.x + this.width) * a / this.fullWidth, b - (this.y + this.height) * c / this.fullHeight, b - this.y * c / this.fullHeight, this.near, this.far)
		} else this.projectionMatrix = THREE.Matrix4.makePerspective(this.fov, this.aspect, this.near, this.far)
	}, THREE.Light = function(a) {
		THREE.Object3D.call(this), this.color = new THREE.Color(a)
	}, THREE.Light.prototype = new THREE.Object3D, THREE.Light.prototype.constructor = THREE.Light, THREE.Light.prototype.supr = THREE.Object3D.prototype, THREE.AmbientLight = function(a) {
		THREE.Light.call(this, a)
	}, THREE.AmbientLight.prototype = new THREE.Light, THREE.AmbientLight.prototype.constructor = THREE.AmbientLight, THREE.DirectionalLight = function(a, b, c) {
		THREE.Light.call(this, a), this.position = new THREE.Vector3(0, 1, 0), this.intensity = void 0 !== b ? b : 1, this.distance = void 0 !== c ? c : 0
	}, THREE.DirectionalLight.prototype = new THREE.Light, THREE.DirectionalLight.prototype.constructor = THREE.DirectionalLight, THREE.PointLight = function(a, b, c) {
		THREE.Light.call(this, a), this.position = new THREE.Vector3(0, 0, 0), this.intensity = void 0 !== b ? b : 1, this.distance = void 0 !== c ? c : 0
	}, THREE.PointLight.prototype = new THREE.Light, THREE.PointLight.prototype.constructor = THREE.PointLight, THREE.Material = function(a) {
		this.name = "", this.id = THREE.MaterialCount++, a = a || {}, this.opacity = void 0 !== a.opacity ? a.opacity : 1, this.transparent = void 0 !== a.transparent ? a.transparent : !1, this.blending = void 0 !== a.blending ? a.blending : THREE.NormalBlending, this.depthTest = void 0 !== a.depthTest ? a.depthTest : !0, this.depthWrite = void 0 !== a.depthWrite ? a.depthWrite : !0, this.polygonOffset = void 0 !== a.polygonOffset ? a.polygonOffset : !1, this.polygonOffsetFactor = void 0 !== a.polygonOffsetFactor ? a.polygonOffsetFactor : 0, this.polygonOffsetUnits = void 0 !== a.polygonOffsetUnits ? a.polygonOffsetUnits : 0, this.alphaTest = void 0 !== a.alphaTest ? a.alphaTest : 0, this.overdraw = void 0 !== a.overdraw ? a.overdraw : !1
	}, THREE.MaterialCount = 0, THREE.NoShading = 0, THREE.FlatShading = 1, THREE.SmoothShading = 2, THREE.NoColors = 0, THREE.FaceColors = 1, THREE.VertexColors = 2, THREE.NormalBlending = 0, THREE.AdditiveBlending = 1, THREE.SubtractiveBlending = 2, THREE.MultiplyBlending = 3, THREE.AdditiveAlphaBlending = 4, THREE.LineBasicMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.linewidth = void 0 !== a.linewidth ? a.linewidth : 1, this.linecap = void 0 !== a.linecap ? a.linecap : "round", this.linejoin = void 0 !== a.linejoin ? a.linejoin : "round", this.vertexColors = a.vertexColors ? a.vertexColors : !1, this.fog = void 0 !== a.fog ? a.fog : !0
	}, THREE.LineBasicMaterial.prototype = new THREE.Material, THREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial, THREE.MeshBasicMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.map = void 0 !== a.map ? a.map : null, this.lightMap = void 0 !== a.lightMap ? a.lightMap : null, this.envMap = void 0 !== a.envMap ? a.envMap : null, this.combine = void 0 !== a.combine ? a.combine : THREE.MultiplyOperation, this.reflectivity = void 0 !== a.reflectivity ? a.reflectivity : 1, this.refractionRatio = void 0 !== a.refractionRatio ? a.refractionRatio : .98, this.fog = void 0 !== a.fog ? a.fog : !0, this.shading = void 0 !== a.shading ? a.shading : THREE.SmoothShading, this.wireframe = void 0 !== a.wireframe ? a.wireframe : !1, this.wireframeLinewidth = void 0 !== a.wireframeLinewidth ? a.wireframeLinewidth : 1, this.wireframeLinecap = void 0 !== a.wireframeLinecap ? a.wireframeLinecap : "round", this.wireframeLinejoin = void 0 !== a.wireframeLinejoin ? a.wireframeLinejoin : "round", this.vertexColors = void 0 !== a.vertexColors ? a.vertexColors : !1, this.skinning = void 0 !== a.skinning ? a.skinning : !1, this.morphTargets = void 0 !== a.morphTargets ? a.morphTargets : !1
	}, THREE.MeshBasicMaterial.prototype = new THREE.Material, THREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial, THREE.MeshLambertMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.ambient = void 0 !== a.ambient ? new THREE.Color(a.ambient) : new THREE.Color(328965), this.map = void 0 !== a.map ? a.map : null, this.lightMap = void 0 !== a.lightMap ? a.lightMap : null, this.envMap = void 0 !== a.envMap ? a.envMap : null, this.combine = void 0 !== a.combine ? a.combine : THREE.MultiplyOperation, this.reflectivity = void 0 !== a.reflectivity ? a.reflectivity : 1, this.refractionRatio = void 0 !== a.refractionRatio ? a.refractionRatio : .98, this.fog = void 0 !== a.fog ? a.fog : !0, this.shading = void 0 !== a.shading ? a.shading : THREE.SmoothShading, this.wireframe = void 0 !== a.wireframe ? a.wireframe : !1, this.wireframeLinewidth = void 0 !== a.wireframeLinewidth ? a.wireframeLinewidth : 1, this.wireframeLinecap = void 0 !== a.wireframeLinecap ? a.wireframeLinecap : "round", this.wireframeLinejoin = void 0 !== a.wireframeLinejoin ? a.wireframeLinejoin : "round", this.vertexColors = void 0 !== a.vertexColors ? a.vertexColors : !1, this.skinning = void 0 !== a.skinning ? a.skinning : !1, this.morphTargets = void 0 !== a.morphTargets ? a.morphTargets : !1
	}, THREE.MeshLambertMaterial.prototype = new THREE.Material, THREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial, THREE.MeshPhongMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.ambient = void 0 !== a.ambient ? new THREE.Color(a.ambient) : new THREE.Color(328965), this.specular = void 0 !== a.specular ? new THREE.Color(a.specular) : new THREE.Color(1118481), this.shininess = void 0 !== a.shininess ? a.shininess : 30, this.metal = void 0 !== a.metal ? a.metal : !1, this.perPixel = void 0 !== a.perPixel ? a.perPixel : !1, this.map = void 0 !== a.map ? a.map : null, this.lightMap = void 0 !== a.lightMap ? a.lightMap : null, this.envMap = void 0 !== a.envMap ? a.envMap : null, this.combine = void 0 !== a.combine ? a.combine : THREE.MultiplyOperation, this.reflectivity = void 0 !== a.reflectivity ? a.reflectivity : 1, this.refractionRatio = void 0 !== a.refractionRatio ? a.refractionRatio : .98, this.fog = void 0 !== a.fog ? a.fog : !0, this.shading = void 0 !== a.shading ? a.shading : THREE.SmoothShading, this.wireframe = void 0 !== a.wireframe ? a.wireframe : !1, this.wireframeLinewidth = void 0 !== a.wireframeLinewidth ? a.wireframeLinewidth : 1, this.wireframeLinecap = void 0 !== a.wireframeLinecap ? a.wireframeLinecap : "round", this.wireframeLinejoin = void 0 !== a.wireframeLinejoin ? a.wireframeLinejoin : "round", this.vertexColors = void 0 !== a.vertexColors ? a.vertexColors : !1, this.skinning = void 0 !== a.skinning ? a.skinning : !1, this.morphTargets = void 0 !== a.morphTargets ? a.morphTargets : !1
	}, THREE.MeshPhongMaterial.prototype = new THREE.Material, THREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial, THREE.MeshDepthMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.shading = void 0 !== a.shading ? a.shading : THREE.SmoothShading, this.wireframe = void 0 !== a.wireframe ? a.wireframe : !1, this.wireframeLinewidth = void 0 !== a.wireframeLinewidth ? a.wireframeLinewidth : 1
	}, THREE.MeshDepthMaterial.prototype = new THREE.Material, THREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial, THREE.MeshNormalMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.shading = a.shading ? a.shading : THREE.FlatShading, this.wireframe = a.wireframe ? a.wireframe : !1, this.wireframeLinewidth = a.wireframeLinewidth ? a.wireframeLinewidth : 1
	}, THREE.MeshNormalMaterial.prototype = new THREE.Material, THREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial, THREE.MeshFaceMaterial = function() {}, THREE.ParticleBasicMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.map = void 0 !== a.map ? a.map : null, this.size = void 0 !== a.size ? a.size : 1, this.sizeAttenuation = void 0 !== a.sizeAttenuation ? a.sizeAttenuation : !0, this.vertexColors = void 0 !== a.vertexColors ? a.vertexColors : !1, this.fog = void 0 !== a.fog ? a.fog : !0
	}, THREE.ParticleBasicMaterial.prototype = new THREE.Material, THREE.ParticleBasicMaterial.prototype.constructor = THREE.ParticleBasicMaterial, THREE.ParticleCanvasMaterial = function(a) {
		THREE.Material.call(this, a), a = a || {}, this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.program = void 0 !== a.program ? a.program : function() {}
	}, THREE.ParticleCanvasMaterial.prototype = new THREE.Material, THREE.ParticleCanvasMaterial.prototype.constructor = THREE.ParticleCanvasMaterial, THREE.Texture = function(a, b, c, d, e, f) {
		this.id = THREE.TextureCount++, this.image = a, this.mapping = void 0 !== b ? b : new THREE.UVMapping, this.wrapS = void 0 !== c ? c : THREE.ClampToEdgeWrapping, this.wrapT = void 0 !== d ? d : THREE.ClampToEdgeWrapping, this.magFilter = void 0 !== e ? e : THREE.LinearFilter, this.minFilter = void 0 !== f ? f : THREE.LinearMipMapLinearFilter, this.offset = new THREE.Vector2(0, 0), this.repeat = new THREE.Vector2(1, 1), this.needsUpdate = !1, this.onUpdate = null
	}, THREE.Texture.prototype = {
		constructor: THREE.Texture,
		clone: function() {
			var a = new THREE.Texture(this.image, this.mapping, this.wrapS, this.wrapT, this.magFilter, this.minFilter);
			return a.offset.copy(this.offset), a.repeat.copy(this.repeat), a
		}
	}, THREE.TextureCount = 0, THREE.MultiplyOperation = 0, THREE.MixOperation = 1, THREE.CubeReflectionMapping = function() {}, THREE.CubeRefractionMapping = function() {}, THREE.LatitudeReflectionMapping = function() {}, THREE.LatitudeRefractionMapping = function() {}, THREE.SphericalReflectionMapping = function() {}, THREE.SphericalRefractionMapping = function() {}, THREE.UVMapping = function() {}, THREE.RepeatWrapping = 0, THREE.ClampToEdgeWrapping = 1, THREE.MirroredRepeatWrapping = 2, THREE.NearestFilter = 3, THREE.NearestMipMapNearestFilter = 4, THREE.NearestMipMapLinearFilter = 5, THREE.LinearFilter = 6, THREE.LinearMipMapNearestFilter = 7, THREE.LinearMipMapLinearFilter = 8, THREE.ByteType = 9, THREE.UnsignedByteType = 10, THREE.ShortType = 11, THREE.UnsignedShortType = 12, THREE.IntType = 13, THREE.UnsignedIntType = 14, THREE.FloatType = 15, THREE.AlphaFormat = 16, THREE.RGBFormat = 17, THREE.RGBAFormat = 18, THREE.LuminanceFormat = 19, THREE.LuminanceAlphaFormat = 20, THREE.Particle = function(a) {
		THREE.Object3D.call(this), this.material = a
	}, THREE.Particle.prototype = new THREE.Object3D, THREE.Particle.prototype.constructor = THREE.Particle, THREE.Line = function(a, b, c) {
		THREE.Object3D.call(this), this.geometry = a, this.material = b, this.type = void 0 !== c ? c : THREE.LineStrip, this.geometry && (this.geometry.boundingSphere || this.geometry.computeBoundingSphere())
	}, THREE.LineStrip = 0, THREE.LinePieces = 1, THREE.Line.prototype = new THREE.Object3D, THREE.Line.prototype.constructor = THREE.Line, THREE.Mesh = function(a, b) {
		if (THREE.Object3D.call(this), this.geometry = a, this.material = b, b instanceof Array && (console.warn("DEPRECATED: Mesh material can no longer be an Array. Using material at index 0..."), this.material = b[0]), this.geometry && (this.geometry.boundingSphere || this.geometry.computeBoundingSphere(), this.boundRadius = a.boundingSphere.radius, this.geometry.morphTargets.length)) {
			this.morphTargetBase = -1, this.morphTargetForcedOrder = [], this.morphTargetInfluences = [], this.morphTargetDictionary = {};
			for (var c = 0; c < this.geometry.morphTargets.length; c++) this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[c].name] = c
		}
	}, THREE.Mesh.prototype = new THREE.Object3D, THREE.Mesh.prototype.constructor = THREE.Mesh, THREE.Mesh.prototype.supr = THREE.Object3D.prototype, THREE.Mesh.prototype.getMorphTargetIndexByName = function(a) {
		return void 0 !== this.morphTargetDictionary[a] ? this.morphTargetDictionary[a] : (console.log("THREE.Mesh.getMorphTargetIndexByName: morph target " + a + " does not exist. Returning 0."), 0)
	}, THREE.Bone = function(a) {
		THREE.Object3D.call(this), this.skin = a, this.skinMatrix = new THREE.Matrix4
	}, THREE.Bone.prototype = new THREE.Object3D, THREE.Bone.prototype.constructor = THREE.Bone, THREE.Bone.prototype.supr = THREE.Object3D.prototype, THREE.Bone.prototype.update = function(a, b) {
		this.matrixAutoUpdate && (b |= this.updateMatrix()), (b || this.matrixWorldNeedsUpdate) && (a ? this.skinMatrix.multiply(a, this.matrix) : this.skinMatrix.copy(this.matrix), this.matrixWorldNeedsUpdate = !1, b = !0);
		var c, d = this.children.length;
		for (c = 0; d > c; c++) this.children[c].update(this.skinMatrix, b)
	}, THREE.Sprite = function(a) {
		THREE.Object3D.call(this), this.color = void 0 !== a.color ? new THREE.Color(a.color) : new THREE.Color(16777215), this.map = a.map instanceof THREE.Texture ? a.map : THREE.ImageUtils.loadTexture(a.map), this.blending = void 0 !== a.blending ? a.blending : THREE.NormalBlending, this.useScreenCoordinates = void 0 !== a.useScreenCoordinates ? a.useScreenCoordinates : !0, this.mergeWith3D = void 0 !== a.mergeWith3D ? a.mergeWith3D : !this.useScreenCoordinates, this.affectedByDistance = void 0 !== a.affectedByDistance ? a.affectedByDistance : !this.useScreenCoordinates, this.scaleByViewport = void 0 !== a.scaleByViewport ? a.scaleByViewport : !this.affectedByDistance, this.alignment = a.alignment instanceof THREE.Vector2 ? a.alignment : THREE.SpriteAlignment.center, this.rotation3d = this.rotation, this.rotation = 0, this.opacity = 1, this.uvOffset = new THREE.Vector2(0, 0), this.uvScale = new THREE.Vector2(1, 1)
	}, THREE.Sprite.prototype = new THREE.Object3D, THREE.Sprite.prototype.constructor = THREE.Sprite, THREE.Sprite.prototype.updateMatrix = function() {
		this.matrix.setPosition(this.position), this.rotation3d.set(0, 0, this.rotation), this.matrix.setRotationFromEuler(this.rotation3d), (1 !== this.scale.x || 1 !== this.scale.y) && (this.matrix.scale(this.scale), this.boundRadiusScale = Math.max(this.scale.x, this.scale.y)), this.matrixWorldNeedsUpdate = !0
	}, THREE.SpriteAlignment = {}, THREE.SpriteAlignment.topLeft = new THREE.Vector2(1, -1), THREE.SpriteAlignment.topCenter = new THREE.Vector2(0, -1), THREE.SpriteAlignment.topRight = new THREE.Vector2(-1, -1), THREE.SpriteAlignment.centerLeft = new THREE.Vector2(1, 0), THREE.SpriteAlignment.center = new THREE.Vector2(0, 0), THREE.SpriteAlignment.centerRight = new THREE.Vector2(-1, 0), THREE.SpriteAlignment.bottomLeft = new THREE.Vector2(1, 1), THREE.SpriteAlignment.bottomCenter = new THREE.Vector2(0, 1), THREE.SpriteAlignment.bottomRight = new THREE.Vector2(-1, 1), THREE.Scene = function() {
		THREE.Object3D.call(this), this.overrideMaterial = this.fog = null, this.matrixAutoUpdate = !1, this.objects = [], this.lights = [], this.__objectsAdded = [], this.__objectsRemoved = []
	}, THREE.Scene.prototype = new THREE.Object3D, THREE.Scene.prototype.constructor = THREE.Scene, THREE.Scene.prototype.addObject = function(a) {
		if (a instanceof THREE.Light) - 1 === this.lights.indexOf(a) && this.lights.push(a);
		else if (!(a instanceof THREE.Camera || a instanceof THREE.Bone) && -1 === this.objects.indexOf(a)) {
			this.objects.push(a), this.__objectsAdded.push(a);
			var b = this.__objectsRemoved.indexOf(a); - 1 !== b && this.__objectsRemoved.splice(b, 1)
		}
		for (b = 0; b < a.children.length; b++) this.addObject(a.children[b])
	}, THREE.Scene.prototype.removeObject = function(a) {
		if (a instanceof THREE.Light) {
			var b = this.lights.indexOf(a); - 1 !== b && this.lights.splice(b, 1)
		} else a instanceof THREE.Camera || (b = this.objects.indexOf(a), -1 !== b && (this.objects.splice(b, 1), this.__objectsRemoved.push(a), b = this.__objectsAdded.indexOf(a), -1 !== b && this.__objectsAdded.splice(b, 1)));
		for (b = 0; b < a.children.length; b++) this.removeObject(a.children[b])
	}, THREE.CanvasRenderer = function(a) {
		function b(a) {
			Y != a && (V.globalAlpha = Y = a)
		}
		function c(a) {
			if (Z != a) {
				switch (a) {
				case THREE.NormalBlending:
					V.globalCompositeOperation = "source-over";
					break;
				case THREE.AdditiveBlending:
					V.globalCompositeOperation = "lighter";
					break;
				case THREE.SubtractiveBlending:
					V.globalCompositeOperation = "darker"
				}
				Z = a
			}
		}
		function d(a) {
			$ != a && (V.strokeStyle = $ = a)
		}
		function e(a) {
			_ != a && (V.fillStyle = _ = a)
		}
		var f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S = this,
			T = new THREE.Projector,
			a = a || {},
			U = void 0 !== a.canvas ? a.canvas : document.createElement("canvas"),
			V = U.getContext("2d"),
			W = new THREE.Color(0),
			X = 0,
			Y = 1,
			Z = 0,
			$ = null,
			_ = null,
			aa = null,
			ba = null,
			ca = null,
			da = new THREE.RenderableVertex,
			ea = new THREE.RenderableVertex,
			fa = new THREE.Color,
			ga = new THREE.Color,
			ha = new THREE.Color,
			ia = new THREE.Color,
			ja = new THREE.Color,
			ka = [],
			la = [],
			ma = new THREE.Rectangle,
			na = new THREE.Rectangle,
			oa = new THREE.Rectangle,
			pa = !1,
			qa = new THREE.Color,
			ra = new THREE.Color,
			sa = new THREE.Color,
			ta = new THREE.Vector3,
			a = 16;
		M = document.createElement("canvas"), M.width = M.height = 2, N = M.getContext("2d"), N.fillStyle = "rgba(0,0,0,1)", N.fillRect(0, 0, 2, 2), O = N.getImageData(0, 0, 2, 2), P = O.data, Q = document.createElement("canvas"), Q.width = Q.height = a, R = Q.getContext("2d"), R.translate(-a / 2, -a / 2), R.scale(a, a), a--, this.domElement = U, this.sortElements = this.sortObjects = this.autoClear = !0, this.info = {
			render: {
				vertices: 0,
				faces: 0
			}
		}, this.setSize = function(a, b) {
			i = a, j = b, k = Math.floor(i / 2), l = Math.floor(j / 2), U.width = i, U.height = j, ma.set(-k, -l, k, l), na.set(-k, -l, k, l), Y = 1, Z = 0, ca = ba = aa = _ = $ = null
		}, this.setClearColor = function(a, b) {
			W.copy(a), X = b, na.set(-k, -l, k, l)
		}, this.setClearColorHex = function(a, b) {
			W.setHex(a), X = b, na.set(-k, -l, k, l)
		}, this.clear = function() {
			V.setTransform(1, 0, 0, -1, k, l), na.isEmpty() || (na.minSelf(ma), na.inflate(2), 1 > X && V.clearRect(Math.floor(na.getX()), Math.floor(na.getY()), Math.floor(na.getWidth()), Math.floor(na.getHeight())), X > 0 && (c(THREE.NormalBlending), b(1), e("rgba(" + Math.floor(255 * W.r) + "," + Math.floor(255 * W.g) + "," + Math.floor(255 * W.b) + "," + X + ")"), V.fillRect(Math.floor(na.getX()), Math.floor(na.getY()), Math.floor(na.getWidth()), Math.floor(na.getHeight()))), na.empty())
		}, this.render = function(a, i) {
			function j(a) {
				var b, c, d, e;
				for (qa.setRGB(0, 0, 0), ra.setRGB(0, 0, 0), sa.setRGB(0, 0, 0), b = 0, c = a.length; c > b; b++) d = a[b], e = d.color, d instanceof THREE.AmbientLight ? (qa.r += e.r, qa.g += e.g, qa.b += e.b) : d instanceof THREE.DirectionalLight ? (ra.r += e.r, ra.g += e.g, ra.b += e.b) : d instanceof THREE.PointLight && (sa.r += e.r, sa.g += e.g, sa.b += e.b)
			}
			function U(a, b, c, d) {
				var e, f, g, h, i, j;
				for (e = 0, f = a.length; f > e; e++) g = a[e], h = g.color, g instanceof THREE.DirectionalLight ? (i = g.matrixWorld.getPosition(), j = c.dot(i), 0 >= j || (j *= g.intensity, d.r += h.r * j, d.g += h.g * j, d.b += h.b * j)) : g instanceof THREE.PointLight && (i = g.matrixWorld.getPosition(), j = c.dot(ta.sub(i, b).normalize()), 0 >= j || (j *= 0 == g.distance ? 1 : 1 - Math.min(b.distanceTo(i) / g.distance, 1), 0 != j && (j *= g.intensity, d.r += h.r * j, d.g += h.g * j, d.b += h.b * j)))
			}
			function W(a, f, g) {
				b(g.opacity), c(g.blending);
				var h, i, j, m, n, o;
				g instanceof THREE.ParticleBasicMaterial ? g.map && (m = g.map.image, n = m.width >> 1, o = m.height >> 1, g = f.scale.x * k, j = f.scale.y * l, h = g * n, i = j * o, oa.set(a.x - h, a.y - i, a.x + h, a.y + i), ma.intersects(oa) && (V.save(), V.translate(a.x, a.y), V.rotate(-f.rotation), V.scale(g, -j), V.translate(-n, -o), V.drawImage(m, 0, 0), V.restore())) : g instanceof THREE.ParticleCanvasMaterial && (h = f.scale.x * k, i = f.scale.y * l, oa.set(a.x - h, a.y - i, a.x + h, a.y + i), ma.intersects(oa) && (d(g.color.getContextStyle()), e(g.color.getContextStyle()), V.save(), V.translate(a.x, a.y), V.rotate(-f.rotation), V.scale(h, i), g.program(V), V.restore()))
			}
			function X(a, e, f, g) {
				b(g.opacity), c(g.blending), V.beginPath(), V.moveTo(a.positionScreen.x, a.positionScreen.y), V.lineTo(e.positionScreen.x, e.positionScreen.y), V.closePath(), g instanceof THREE.LineBasicMaterial && (a = g.linewidth, aa != a && (V.lineWidth = aa = a), a = g.linecap, ba != a && (V.lineCap = ba = a), a = g.linejoin, ca != a && (V.lineJoin = ca = a), d(g.color.getContextStyle()), V.stroke(), oa.inflate(2 * g.linewidth))
			}
			function Y(a, d, e, f, g, j, k, l) {
				S.info.render.vertices += 3, S.info.render.faces++, b(l.opacity), c(l.blending), q = a.positionScreen.x, r = a.positionScreen.y, s = d.positionScreen.x, t = d.positionScreen.y, u = e.positionScreen.x, v = e.positionScreen.y, $(q, r, s, t, u, v), l instanceof THREE.MeshBasicMaterial ? l.map ? l.map.mapping instanceof THREE.UVMapping && (F = k.uvs[0], wa(q, r, s, t, u, v, F[f].u, F[f].v, F[g].u, F[g].v, F[j].u, F[j].v, l.map)) : l.envMap ? l.envMap.mapping instanceof THREE.SphericalReflectionMapping && (a = i.matrixWorldInverse, ta.copy(k.vertexNormalsWorld[f]), G = .5 * (ta.x * a.n11 + ta.y * a.n12 + ta.z * a.n13) + .5, H = .5 * -(ta.x * a.n21 + ta.y * a.n22 + ta.z * a.n23) + .5, ta.copy(k.vertexNormalsWorld[g]), I = .5 * (ta.x * a.n11 + ta.y * a.n12 + ta.z * a.n13) + .5, J = .5 * -(ta.x * a.n21 + ta.y * a.n22 + ta.z * a.n23) + .5, ta.copy(k.vertexNormalsWorld[j]), K = .5 * (ta.x * a.n11 + ta.y * a.n12 + ta.z * a.n13) + .5, L = .5 * -(ta.x * a.n21 + ta.y * a.n22 + ta.z * a.n23) + .5, wa(q, r, s, t, u, v, G, H, I, J, K, L, l.envMap)) : l.wireframe ? ua(l.color, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(l.color) : l instanceof THREE.MeshLambertMaterial ? (l.map && !l.wireframe && (l.map.mapping instanceof THREE.UVMapping && (F = k.uvs[0], wa(q, r, s, t, u, v, F[f].u, F[f].v, F[g].u, F[g].v, F[j].u, F[j].v, l.map)), c(THREE.SubtractiveBlending)), pa ? l.wireframe || l.shading != THREE.SmoothShading || 3 != k.vertexNormalsWorld.length ? (fa.r = qa.r, fa.g = qa.g, fa.b = qa.b, U(h, k.centroidWorld, k.normalWorld, fa), fa.r = Math.max(0, Math.min(l.color.r * fa.r, 1)), fa.g = Math.max(0, Math.min(l.color.g * fa.g, 1)), fa.b = Math.max(0, Math.min(l.color.b * fa.b, 1)), l.wireframe ? ua(fa, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(fa)) : (ga.r = ha.r = ia.r = qa.r, ga.g = ha.g = ia.g = qa.g, ga.b = ha.b = ia.b = qa.b, U(h, k.v1.positionWorld, k.vertexNormalsWorld[0], ga), U(h, k.v2.positionWorld, k.vertexNormalsWorld[1], ha), U(h, k.v3.positionWorld, k.vertexNormalsWorld[2], ia), ga.r = Math.max(0, Math.min(l.color.r * ga.r, 1)), ga.g = Math.max(0, Math.min(l.color.g * ga.g, 1)), ga.b = Math.max(0, Math.min(l.color.b * ga.b, 1)), ha.r = Math.max(0, Math.min(l.color.r * ha.r, 1)), ha.g = Math.max(0, Math.min(l.color.g * ha.g, 1)), ha.b = Math.max(0, Math.min(l.color.b * ha.b, 1)), ia.r = Math.max(0, Math.min(l.color.r * ia.r, 1)), ia.g = Math.max(0, Math.min(l.color.g * ia.g, 1)), ia.b = Math.max(0, Math.min(l.color.b * ia.b, 1)), ja.r = .5 * (ha.r + ia.r), ja.g = .5 * (ha.g + ia.g), ja.b = .5 * (ha.b + ia.b), E = ya(ga, ha, ia, ja), xa(q, r, s, t, u, v, 0, 0, 1, 0, 0, 1, E)) : l.wireframe ? ua(l.color, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(l.color)) : l instanceof THREE.MeshDepthMaterial ? (C = i.near, D = i.far, ga.r = ga.g = ga.b = 1 - za(a.positionScreen.z, C, D), ha.r = ha.g = ha.b = 1 - za(d.positionScreen.z, C, D), ia.r = ia.g = ia.b = 1 - za(e.positionScreen.z, C, D), ja.r = .5 * (ha.r + ia.r), ja.g = .5 * (ha.g + ia.g), ja.b = .5 * (ha.b + ia.b), E = ya(ga, ha, ia, ja), xa(q, r, s, t, u, v, 0, 0, 1, 0, 0, 1, E)) : l instanceof THREE.MeshNormalMaterial && (fa.r = Aa(k.normalWorld.x), fa.g = Aa(k.normalWorld.y), fa.b = Aa(k.normalWorld.z), l.wireframe ? ua(fa, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(fa))
			}
			function Z(a, d, e, f, g, j, k, l, m) {
				S.info.render.vertices += 4, S.info.render.faces++, b(l.opacity), c(l.blending), l.map || l.envMap ? (Y(a, d, f, 0, 1, 3, k, l, m), Y(g, e, j, 1, 2, 3, k, l, m)) : (q = a.positionScreen.x, r = a.positionScreen.y, s = d.positionScreen.x, t = d.positionScreen.y, u = e.positionScreen.x, v = e.positionScreen.y, w = f.positionScreen.x, x = f.positionScreen.y, y = g.positionScreen.x, z = g.positionScreen.y, A = j.positionScreen.x, B = j.positionScreen.y, l instanceof THREE.MeshBasicMaterial ? (_(q, r, s, t, u, v, w, x), l.wireframe ? ua(l.color, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(l.color)) : l instanceof THREE.MeshLambertMaterial ? pa ? l.wireframe || l.shading != THREE.SmoothShading || 4 != k.vertexNormalsWorld.length ? (fa.r = qa.r, fa.g = qa.g, fa.b = qa.b, U(h, k.centroidWorld, k.normalWorld, fa), fa.r = Math.max(0, Math.min(l.color.r * fa.r, 1)), fa.g = Math.max(0, Math.min(l.color.g * fa.g, 1)), fa.b = Math.max(0, Math.min(l.color.b * fa.b, 1)), _(q, r, s, t, u, v, w, x), l.wireframe ? ua(fa, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(fa)) : (ga.r = ha.r = ia.r = ja.r = qa.r, ga.g = ha.g = ia.g = ja.g = qa.g, ga.b = ha.b = ia.b = ja.b = qa.b, U(h, k.v1.positionWorld, k.vertexNormalsWorld[0], ga), U(h, k.v2.positionWorld, k.vertexNormalsWorld[1], ha), U(h, k.v4.positionWorld, k.vertexNormalsWorld[3], ia), U(h, k.v3.positionWorld, k.vertexNormalsWorld[2], ja), ga.r = Math.max(0, Math.min(l.color.r * ga.r, 1)), ga.g = Math.max(0, Math.min(l.color.g * ga.g, 1)), ga.b = Math.max(0, Math.min(l.color.b * ga.b, 1)), ha.r = Math.max(0, Math.min(l.color.r * ha.r, 1)), ha.g = Math.max(0, Math.min(l.color.g * ha.g, 1)), ha.b = Math.max(0, Math.min(l.color.b * ha.b, 1)), ia.r = Math.max(0, Math.min(l.color.r * ia.r, 1)), ia.g = Math.max(0, Math.min(l.color.g * ia.g, 1)), ia.b = Math.max(0, Math.min(l.color.b * ia.b, 1)), ja.r = Math.max(0, Math.min(l.color.r * ja.r, 1)), ja.g = Math.max(0, Math.min(l.color.g * ja.g, 1)), ja.b = Math.max(0, Math.min(l.color.b * ja.b, 1)), E = ya(ga, ha, ia, ja), $(q, r, s, t, w, x), xa(q, r, s, t, w, x, 0, 0, 1, 0, 0, 1, E), $(y, z, u, v, A, B), xa(y, z, u, v, A, B, 1, 0, 1, 1, 0, 1, E)) : (_(q, r, s, t, u, v, w, x), l.wireframe ? ua(l.color, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(l.color)) : l instanceof THREE.MeshNormalMaterial ? (fa.r = Aa(k.normalWorld.x), fa.g = Aa(k.normalWorld.y), fa.b = Aa(k.normalWorld.z), _(q, r, s, t, u, v, w, x), l.wireframe ? ua(fa, l.wireframeLinewidth, l.wireframeLinecap, l.wireframeLinejoin) : va(fa)) : l instanceof THREE.MeshDepthMaterial && (C = i.near, D = i.far, ga.r = ga.g = ga.b = 1 - za(a.positionScreen.z, C, D), ha.r = ha.g = ha.b = 1 - za(d.positionScreen.z, C, D), ia.r = ia.g = ia.b = 1 - za(f.positionScreen.z, C, D), ja.r = ja.g = ja.b = 1 - za(e.positionScreen.z, C, D), E = ya(ga, ha, ia, ja), $(q, r, s, t, w, x), xa(q, r, s, t, w, x, 0, 0, 1, 0, 0, 1, E), $(y, z, u, v, A, B), xa(y, z, u, v, A, B, 1, 0, 1, 1, 0, 1, E)))
			}
			function $(a, b, c, d, e, f) {
				V.beginPath(), V.moveTo(a, b), V.lineTo(c, d), V.lineTo(e, f), V.lineTo(a, b), V.closePath()
			}
			function _(a, b, c, d, e, f, g, h) {
				V.beginPath(), V.moveTo(a, b), V.lineTo(c, d), V.lineTo(e, f), V.lineTo(g, h), V.lineTo(a, b), V.closePath()
			}
			function ua(a, b, c, e) {
				aa != b && (V.lineWidth = aa = b), ba != c && (V.lineCap = ba = c), ca != e && (V.lineJoin = ca = e), d(a.getContextStyle()), V.stroke(), oa.inflate(2 * b)
			}
			function va(a) {
				e(a.getContextStyle()), V.fill()
			}
			function wa(a, b, c, d, f, g, h, i, j, k, l, m, n) {
				if (0 != n.image.width) {
					if (1 == n.needsUpdate || void 0 == ka[n.id]) {
						var o = n.wrapS == THREE.RepeatWrapping,
							p = n.wrapT == THREE.RepeatWrapping;
						ka[n.id] = V.createPattern(n.image, o && p ? "repeat" : o && !p ? "repeat-x" : !o && p ? "repeat-y" : "no-repeat"), n.needsUpdate = !1
					}
					e(ka[n.id]);
					var o = n.offset.x / n.repeat.x,
						p = n.offset.y / n.repeat.y,
						q = n.image.width * n.repeat.x,
						r = n.image.height * n.repeat.y,
						h = (h + o) * q,
						i = (i + p) * r,
						j = (j + o) * q,
						k = (k + p) * r,
						l = (l + o) * q,
						m = (m + p) * r;
					c -= a, d -= b, f -= a, g -= b, j -= h, k -= i, l -= h, m -= i, o = j * m - l * k, 0 == o ? (void 0 == la[n.id] && (b = document.createElement("canvas"), b.width = n.image.width, b.height = n.image.height, a = b.getContext("2d"), a.drawImage(n.image, 0, 0), la[n.id] = a.getImageData(0, 0, n.image.width, n.image.height).data, delete b), b = la[n.id], h = 4 * (Math.floor(h) + Math.floor(i) * n.image.width), fa.setRGB(b[h] / 255, b[h + 1] / 255, b[h + 2] / 255), va(fa)) : (o = 1 / o, n = (m * c - k * f) * o, k = (m * d - k * g) * o, c = (j * f - l * c) * o, d = (j * g - l * d) * o, a = a - n * h - c * i, h = b - k * h - d * i, V.save(), V.transform(n, k, c, d, a, h), V.fill(), V.restore())
				}
			}
			function xa(a, b, c, d, e, f, g, h, i, j, k, l, m) {
				var n, o;
				n = m.width - 1, o = m.height - 1, g *= n, h *= o, i *= n, j *= o, k *= n, l *= o, c -= a, d -= b, e -= a, f -= b, i -= g, j -= h, k -= g, l -= h, o = 1 / (i * l - k * j), n = (l * c - j * e) * o, j = (l * d - j * f) * o, c = (i * e - k * c) * o, d = (i * f - k * d) * o, a = a - n * g - c * h, b = b - j * g - d * h, V.save(), V.transform(n, j, c, d, a, b), V.clip(), V.drawImage(m, 0, 0), V.restore()
			}
			function ya(a, b, c, d) {
				var e = ~~ (255 * a.r),
					f = ~~ (255 * a.g),
					a = ~~ (255 * a.b),
					g = ~~ (255 * b.r),
					h = ~~ (255 * b.g),
					b = ~~ (255 * b.b),
					i = ~~ (255 * c.r),
					j = ~~ (255 * c.g),
					c = ~~ (255 * c.b),
					k = ~~ (255 * d.r),
					l = ~~ (255 * d.g),
					d = ~~ (255 * d.b);
				return P[0] = 0 > e ? 0 : e > 255 ? 255 : e, P[1] = 0 > f ? 0 : f > 255 ? 255 : f, P[2] = 0 > a ? 0 : a > 255 ? 255 : a, P[4] = 0 > g ? 0 : g > 255 ? 255 : g, P[5] = 0 > h ? 0 : h > 255 ? 255 : h, P[6] = 0 > b ? 0 : b > 255 ? 255 : b, P[8] = 0 > i ? 0 : i > 255 ? 255 : i, P[9] = 0 > j ? 0 : j > 255 ? 255 : j, P[10] = 0 > c ? 0 : c > 255 ? 255 : c, P[12] = 0 > k ? 0 : k > 255 ? 255 : k, P[13] = 0 > l ? 0 : l > 255 ? 255 : l, P[14] = 0 > d ? 0 : d > 255 ? 255 : d, N.putImageData(O, 0, 0), R.drawImage(M, 0, 0), Q
			}
			function za(a, b, c) {
				return a = (a - b) / (c - b), a * a * (3 - 2 * a)
			}
			function Aa(a) {
				return a = .5 * (a + 1), 0 > a ? 0 : a > 1 ? 1 : a
			}
			function Ba(a, b) {
				var c = b.x - a.x,
					d = b.y - a.y,
					e = c * c + d * d;
				0 != e && (e = 1 / Math.sqrt(e), c *= e, d *= e, b.x += c, b.y += d, a.x -= c, a.y -= d)
			}
			var Ca, Da, Ea, Fa;
			for (this.autoClear ? this.clear() : V.setTransform(1, 0, 0, -1, k, l), S.info.render.vertices = 0, S.info.render.faces = 0, f = T.projectScene(a, i, this.sortElements), g = f.elements, h = f.lights, (pa = h.length > 0) && j(h), Ca = 0, Da = g.length; Da > Ca; Ca++) Ea = g[Ca], Fa = Ea.material, Fa = Fa instanceof THREE.MeshFaceMaterial ? Ea.faceMaterial : Fa, null == Fa || 0 == Fa.opacity || (oa.empty(), Ea instanceof THREE.RenderableParticle ? (m = Ea, m.x *= k, m.y *= l, W(m, Ea, Fa, a)) : Ea instanceof THREE.RenderableLine ? (m = Ea.v1, n = Ea.v2, m.positionScreen.x *= k, m.positionScreen.y *= l, n.positionScreen.x *= k, n.positionScreen.y *= l, oa.addPoint(m.positionScreen.x, m.positionScreen.y), oa.addPoint(n.positionScreen.x, n.positionScreen.y), ma.intersects(oa) && X(m, n, Ea, Fa, a)) : Ea instanceof THREE.RenderableFace3 ? (m = Ea.v1, n = Ea.v2, o = Ea.v3, m.positionScreen.x *= k, m.positionScreen.y *= l, n.positionScreen.x *= k, n.positionScreen.y *= l, o.positionScreen.x *= k, o.positionScreen.y *= l, Fa.overdraw && (Ba(m.positionScreen, n.positionScreen), Ba(n.positionScreen, o.positionScreen), Ba(o.positionScreen, m.positionScreen)), oa.add3Points(m.positionScreen.x, m.positionScreen.y, n.positionScreen.x, n.positionScreen.y, o.positionScreen.x, o.positionScreen.y), ma.intersects(oa) && Y(m, n, o, 0, 1, 2, Ea, Fa, a)) : Ea instanceof THREE.RenderableFace4 && (m = Ea.v1, n = Ea.v2, o = Ea.v3, p = Ea.v4, m.positionScreen.x *= k, m.positionScreen.y *= l, n.positionScreen.x *= k, n.positionScreen.y *= l, o.positionScreen.x *= k, o.positionScreen.y *= l, p.positionScreen.x *= k, p.positionScreen.y *= l, da.positionScreen.copy(n.positionScreen), ea.positionScreen.copy(p.positionScreen), Fa.overdraw && (Ba(m.positionScreen, n.positionScreen), Ba(n.positionScreen, p.positionScreen), Ba(p.positionScreen, m.positionScreen), Ba(o.positionScreen, da.positionScreen), Ba(o.positionScreen, ea.positionScreen)), oa.addPoint(m.positionScreen.x, m.positionScreen.y), oa.addPoint(n.positionScreen.x, n.positionScreen.y), oa.addPoint(o.positionScreen.x, o.positionScreen.y), oa.addPoint(p.positionScreen.x, p.positionScreen.y), ma.intersects(oa) && Z(m, n, o, p, da, ea, Ea, Fa, a)), na.addRectangle(oa));
			V.setTransform(1, 0, 0, 1, 0, 0)
		}
	}, THREE.RenderableVertex = function() {
		this.positionWorld = new THREE.Vector3, this.positionScreen = new THREE.Vector4, this.visible = !0
	}, THREE.RenderableVertex.prototype.copy = function(a) {
		this.positionWorld.copy(a.positionWorld), this.positionScreen.copy(a.positionScreen)
	}, THREE.RenderableFace3 = function() {
		this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.v3 = new THREE.RenderableVertex, this.centroidWorld = new THREE.Vector3, this.centroidScreen = new THREE.Vector3, this.normalWorld = new THREE.Vector3, this.vertexNormalsWorld = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3], this.faceMaterial = this.material = null, this.uvs = [
			[]
		], this.z = null
	}, THREE.RenderableFace4 = function() {
		this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.v3 = new THREE.RenderableVertex, this.v4 = new THREE.RenderableVertex, this.centroidWorld = new THREE.Vector3, this.centroidScreen = new THREE.Vector3, this.normalWorld = new THREE.Vector3, this.vertexNormalsWorld = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3], this.faceMaterial = this.material = null, this.uvs = [
			[]
		], this.z = null
	}, THREE.RenderableObject = function() {
		this.z = this.object = null
	}, THREE.RenderableParticle = function() {
		this.rotation = this.z = this.y = this.x = null, this.scale = new THREE.Vector2, this.material = null
	}, THREE.RenderableLine = function() {
		this.z = null, this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.material = null
	}, Particle3D = function(a) {
		THREE.Particle.call(this, a), this.velocity = new THREE.Vector3(0, -8, 0), this.velocity.rotateX(randomRange(-45, 45)), this.velocity.rotateY(randomRange(0, 360)), this.gravity = new THREE.Vector3(0, 0, 0), this.drag = 1
	}, Particle3D.prototype = new THREE.Particle, Particle3D.prototype.constructor = Particle3D, Particle3D.prototype.updatePhysics = function() {
		this.velocity.multiplyScalar(this.drag), this.velocity.addSelf(this.gravity), this.position.addSelf(this.velocity)
	};
	var TO_RADIANS = Math.PI / 180;
	THREE.Vector3.prototype.rotateY = function(a) {
		cosRY = Math.cos(a * TO_RADIANS), sinRY = Math.sin(a * TO_RADIANS);
		var b = this.z,
			c = this.x;
		this.x = c * cosRY + b * sinRY, this.z = c * -sinRY + b * cosRY
	}, THREE.Vector3.prototype.rotateX = function(a) {
		cosRY = Math.cos(a * TO_RADIANS), sinRY = Math.sin(a * TO_RADIANS);
		var b = this.z,
			c = this.y;
		this.y = c * cosRY + b * sinRY, this.z = c * -sinRY + b * cosRY
	}, THREE.Vector3.prototype.rotateZ = function(a) {
		cosRY = Math.cos(a * TO_RADIANS), sinRY = Math.sin(a * TO_RADIANS);
		var b = this.x,
			c = this.y;
		this.y = c * cosRY + b * sinRY, this.x = c * -sinRY + b * cosRY
	}, function(a) {
		function b(a, b, c, d) {
			var e = {},
				f = a / b,
				g = c / d;
			return f > g ? (e.width = c, e.height = c / f) : (e.height = d, e.width = d * f), e
		}
		function c(a, b) {
			"view" == i.mode && b.properties.url && $(a).click(function(a) {
				var c = b.properties.url;
				isNaN(c) ? window.open(c) : eqxiu.pageScroll(c)
			})
		}
		function d(a) {
			$(a).bind("touchstart mousedown", function(a) {
				a.stopPropagation()
			})
		}
		function e(a) {
			a.focus(function(a) {
				eqxiu.pauseAutoFlip()
			}).blur(function(a) {
				$(document).trigger("startAutoFlip")
			})
		}
		function f(a) {
			for (var b = $(a).find("a[data]"), c = 0; c < b.length; c++) if (b[c] && "view" == i.mode) {
				$(b[c]).css("cursor", "pointer");
				var d = $(b[c]).attr("data");
				!
				function(a) {
					b[c].removeAttribute("href"), $(b[c]).click(function(b) {
						eqxiu.pageScroll(a)
					})
				}(d)
			}
		}
		function g(a, b) {
			if (b.trigger) {
				var c = $(a);
				j && clearTimeout(j), b.trigger.sends && b.trigger.sends.length && $.each(b.trigger.sends, function(a, b) {
					c.bind(utilTrigger.getSendType(b.type).name, function() {
						j = setTimeout(function() {
							$.each(b.handles, function(a, b) {
								var c = utilTrigger.getHandleType(b.type).name;
								$.each(b.ids, function(a, b) {
									var d;
									d = $("#inside_" + b, ".phone-view").length ? $("#inside_" + b, ".phone-view") : $("#inside_" + b), d.trigger(c)
								})
							})
						}, 1e3 * b.delay)
					})
				})
			}
		}
		function h(b, c) {
			if (c.sound) {
				var d = $(b),
					e = $("#media").get(0);
				0 == c.sound.src.indexOf("http://") ? c.sound.src = c.sound.src : c.sound.src = PREFIX_FILE_HOST + c.sound.src, utilSound.addAudio(b, c.sound.src), d.click(function() {
					utilSound.play(b, function() {
						e && a.executePlay()
					}, function() {
						e && a.executePause()
					})
				})
			}
		}
		var i = a.templateParser("jsonParser", function() {
			function a(a) {
				return function(b, c) {
					a[b] = c
				}
			}
			function b(a, b) {
				try {
					var c = l[("" + a.type).charAt(0)](a)
				} catch (d) {
					return
				}
				if (c) {
					var e = $('<li comp-drag comp-rotate class="comp-resize comp-rotate inside" id="inside_' + a.id + '" num="' + a.num + '" ctype="' + a.type + '"></li>');
					if (3 != ("" + a.type).charAt(0) && 1 != ("" + a.type).charAt(0) && e.attr("comp-resize", ""), "p" == ("" + a.type).charAt(0) && e.removeAttr("comp-rotate"), 1 == ("" + a.type).charAt(0) && e.removeAttr("comp-drag"), 2 == ("" + a.type).charAt(0) && e.addClass("wsite-text"), "x" == ("" + a.type).charAt(0) && e.addClass("show-text"), 4 == ("" + a.type).charAt(0) && (a.properties.imgStyle && $(c).css(a.properties.imgStyle), e.addClass("wsite-image")), "n" == ("" + a.type).charAt(0) && e.addClass("wsite-image"), "h" == ("" + a.type).charAt(0) && e.addClass("wsite-shape"), 5 == ("" + a.type).charAt(0) && e.addClass("wsite-input"), 6 == ("" + a.type).charAt(0) && e.addClass("wsite-button"), 8 == ("" + a.type).charAt(0) && e.addClass("wsite-button"), "v" == ("" + a.type).charAt(0) && e.addClass("wsite-video"), e.mouseenter(function() {
						$(this).addClass("inside-hover")
					}), e.mouseleave(function() {
						$(this).removeClass("inside-hover")
					}), "edit" == i.mode || "x" != ("" + a.type).charAt(0)) {
						var f = $('<div class="element-box">').append($('<div class="element-box-contents">').append(c));
						e.append(f), 5 != ("" + a.type).charAt(0) && 6 != ("" + a.type).charAt(0) && "r" != a.type && "c" != a.type && "a" != a.type && "8" != a.type && "l" != a.type && "s" != a.type && "i" != a.type && "h" != a.type || "edit" != b || $(c).before($('<div class="element" style="position: absolute; height: 100%; width: 100%;z-index: 1;">'))
					}
					if (a.css) {
						var g = 320 - parseInt(a.css.left);
						if (e.css({
							width: g
						}), e.css({
							width: a.css.width,
							height: a.css.height,
							left: a.css.left,
							top: a.css.top,
							zIndex: a.css.zIndex,
							bottom: a.css.bottom,
							transform: a.css.transform
						}), (0 === a.css.boxShadowSize || "0" == a.css.boxShadowSize) && (a.css.boxShadow = "0px 0px 0px rgba(0,0,0,0.5)"), "edit" != i.mode && "x" == ("" + a.type).charAt(0)) return e.append(c), e.find(".element-box").css({
							borderStyle: a.css.borderStyle,
							borderWidth: a.css.borderWidth,
							borderColor: a.css.borderColor,
							borderTopLeftRadius: a.css.borderTopLeftRadius,
							borderTopRightRadius: a.css.borderTopRightRadius,
							borderBottomRightRadius: a.css.borderBottomRightRadius,
							borderBottomLeftRadius: a.css.borderBottomLeftRadius,
							boxShadow: a.css.boxShadow,
							backgroundColor: a.css.backgroundColor,
							opacity: a.css.opacity,
							width: "100%",
							height: "100%",
							overflow: "hidden"
						}), e.find("img").css({
							width: "100%"
						}), e;
						isAndroid() && isWeixin() && 4 == a.type && "0px" != a.css.borderRadius && 0 == a.css.borderWidth && a.properties.anim && (a.css.borderWidth = 1, a.css.borderColor = "rgba(0,0,0,0)"), f.css(a.css).css({
							width: "100%",
							height: "100%",
							transform: "none"
						}), f.children(".element-box-contents").css({
							width: "100%",
							height: "100%"
						}), 4 != ("" + a.type).charAt(0) && "n" != ("" + a.type).charAt(0) && "p" != ("" + a.type).charAt(0) && "h" != ("" + a.type).charAt(0) && $(c).css({
							width: a.css.width,
							height: a.css.height
						}), ("w01" == a.type || "w02" == a.type) && $(c).css({
							lineHeight: a.css.height + "px"
						}), "h" == ("" + a.type).charAt(0) && ($(c).find("g").length ? $(c).find("g").attr("fill", a.css.color) : $(c).children().attr("fill", a.css.color), f.children(".element-box-contents").css("position", "relative"))
					}
					return e
				}
			}
			function c(a) {
				for (var b = 0; b < a.length - 1; b++) for (var c = b + 1; c < a.length; c++) if (parseInt(a[b].css.zIndex, 10) > parseInt(a[c].css.zIndex, 10)) {
					var d = a[b];
					a[b] = a[c], a[c] = d
				}
				for (var e = 0; e < a.length; e++) a[e].css.zIndex = e + 1 + "";
				return a
			}
			function d(a, d, e) {
				d = d.find(".edit_area");
				var f, i = a.elements;
				if (i) for (i = c(i), f = 0; f < i.length; f++) if (i[f].sceneId = a.sceneId, 3 == i[f].type) {
					var j = l[("" + i[f].type).charAt(0)](i[f], d);
					"edit" == e && m[("" + i[f].type).charAt(0)] && m[("" + i[f].type).charAt(0)](j, i[f])
				} else {
					var k = b(i[f], e);
					if (!k) continue;
					d.append(k);
					for (var p = 0; p < o.length; p++) o[p](k, i[f], e);
					n[("" + i[f].type).charAt(0)] && (n[("" + i[f].type).charAt(0)](k, i[f]), "edit" != e && (g(k, i[f]), h(k, i[f]))), "edit" == e && m[("" + i[f].type).charAt(0)] && m[("" + i[f].type).charAt(0)](k, i[f])
				}
			}
			function e() {
				return m;
			}
			function f() {
				return l
			}
			function j(a) {
				o.push(a)
			}
			function k() {
				return o
			}
			var l = {},
				m = {},
				n = {},
				o = [],
				p = containerWidth = 320,
				q = containerHeight = 486,
				r = 1,
				s = 1,
				t = {
					getComponents: f,
					getEventHandlers: e,
					addComponent: a(l),
					bindEditEvent: a(m),
					bindAfterRenderEvent: a(n),
					addInterceptor: j,
					getInterceptors: k,
					wrapComp: b,
					mode: "view",
					parse: function(a) {
						var b = $('<div class="edit_wrapper" data-scene-id="' + a.def.sceneId + '"><ul eqx-edit-destroy id="edit_area' + a.def.id + '" paste-element class="edit_area weebly-content-area weebly-area-active"></div>'),
							c = this.mode = a.mode;
						this.def = a.def, "view" == c && tplCount++;
						var e = $(a.appendTo);
						return containerWidth = e.width(), containerHeight = e.height(), r = p / containerWidth, s = q / containerHeight, d(a.def, b.appendTo($(a.appendTo)), c)
					}
				};
			return t
		});
		i.addInterceptor(function(a, b, c) {
			eqxCommon.animation(a, b, c, i.def.properties)
		}), i.addComponent("1", function(a) {
			var b = document.createElement("div");
			if (b.id = a.id, b.setAttribute("class", "element comp_title"), a.content && (b.textContent = a.content), a.css) {
				var c, d = a.css;
				for (c in d) b.style[c] = d[c]
			}
			if (a.properties.labels) for (var e = a.properties.labels, f = 0; f < e.length; f++) $('<a class = "label_content" style = "display: inline-block;">').appendTo($(b)).html(e[f].title).css(e[f].color).css("width", 100 / e.length + "%");
			return b
		}), i.addComponent("2", function(a) {
			var b = document.createElement("div");
			return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_paragraph editable-text"), a.content && (b.innerHTML = a.content), b.style.cursor = "default", a.css.fontSize && (b.style.fontSize = a.css.fontSize + "px"), a.css.textAlign && (b.style.textAlign = a.css.textAlign), b
		}), i.addComponent("x", function(a) {
			var b;
			if (!mobilecheck() && window.top == window && $(".create_left").get(0) && (i.mode = "edit"), "edit" == i.mode) b = document.createElement("div"), b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_paragraph editable-text"), a.content && (b.innerHTML = a.content), b.style.cursor = "default";
			else var b = '<div class="element-box"><img src="' + a.properties.dataUrl + '"></div>';
			return b
		}), i.addComponent("3", function(a, b) {
			var c, d = document.createElement("div");
			if ("edit" == i.mode ? (c = b ? b.parent(".edit_wrapper") : $("#nr .edit_wrapper"), d.setAttribute("class", "wrapper-background"), d.setAttribute("id", a.id)) : "view" == i.mode && (c = b ? b.parent(".edit_wrapper") : $("#edit_area" + i.def.id).parent(".edit_wrapper"), d.setAttribute("id", "wrapper-background" + i.def.id)), 2 != a.properties.croptype || "edit" == i.mode) {
				var e = "100%";
				2 == a.properties.croptype && (e = 486 * a.properties.pageLength + "px"), $(d).prependTo(c).css({
					width: "100%",
					height: e
				})
			}
			var f, g = new Image;
			if (a.properties.imgSrc) {
				if (f = a.properties.imgSrc, 2 == a.properties.croptype && "view" == i.mode) {
					var h = "";
					return h = /^http.*!/.test(f) ? "url(" + f + ")" : "url(" + PREFIX_FILE_HOST + f + ")", b.css({
						backgroundImage: h,
						height: 486 * a.properties.pageLength + "px"
					}), d
				}
				/^http.*!/.test(f) ? (g.src = f, d.style.backgroundImage = "url(" + f + ")") : (g.src = PREFIX_FILE_HOST + f, d.style.backgroundImage = "url(" + PREFIX_FILE_HOST + f + ")"), d.style.backgroundOrigin = "element content-box", d.style.backgroundSize = "cover", d.style.backgroundPosition = "50% 50%", a.effect && ("scaleUp" == a.effect.type ? $(d).css({
					animation: "scaleUp 7s ease 1s",
					"animation-fill-mode": "both"
				}) : "scaleDown" == a.effect.type && $(d).css({
					animation: "scaleDown 7s ease 1s",
					"animation-fill-mode": "both"
				}))
			} else a.properties.bgColor && (d.style.backgroundColor = a.properties.bgColor, a.properties.pageLength && "edit" == i.mode && $(d).css({
				height: 486 * a.properties.pageLength + "px"
			}).parent().css("overflow", "visible"));
			return d
		}), i.addComponent("4", function(a) {
			var b = document.createElement("img");
			return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_image editable-image"), /^http.*/.test(a.properties.src) ? b.src = a.properties.src : b.src = PREFIX_FILE_HOST + a.properties.src, "403" == a.type && a.properties.wxSrc && isWeixin() && (b.style.display = "none"), b
		}), i.addComponent("h", function(b) {
			var c, d;
			if (b.properties.src) return c = document.createElementNS(eqxiuSvg.NAMESPACE, "svg"), c.setAttribute("class", "element svg-element"), $.ajax({
				type: "GET",
				url: PREFIX_FILE_HOST + b.properties.src,
				dataType: "xml",
				success: function(d) {
					var e = d.getElementsByTagName("svg"),
						f = parseFloat($(e).attr("width")),
						g = parseFloat($(e).attr("height")),
						h = $(e).find("[fill], [style*='fill']"),
						i = b.properties.items ? b.properties.items : [];
					if (b.properties.items) if (h.length == i.length) for (var j = 0; j < i.length; j++) h.eq(j).css({
						fill: i[j].fill
					});
					else $.each(h, function(b, c) {
						var d = "",
							e = $(c).attr("style");
						if (e) {
							for (var f = e.split(";"), g = 0, j = f.length; j > g; g++) if (f[g].indexOf("fill:") >= 0) {
								d = f[g].split(":")[1];
								break
							}
						} else d = $(c).attr("fill");
						d.indexOf("rgba") >= 0 && (d = a.getRGB(d)), d = d.replace(/\s*/g, "");
						for (var k = 0; k < i.length; k++) {
							var l = i[k].svgFill;
							if (l && (l = l.replace(/\s*/g, ""), l.indexOf("rgba") >= 0 && (l = a.getRGB(l)), d == l)) {
								"" != i[k].fill ? h.eq(b).css({
									fill: i[k].fill
								}) : h.eq(b).css({
									fill: "none"
								});
								break
							}
						}
					});
					else {
						var k = [],
							l = {};
						$.each(h, function(a, b) {
							var c = $(b).attr("style");
							if (c) {
								for (var d = c.split(";"), e = 0, f = d.length; f > e; e++) if (d[e].indexOf("fill:") >= 0) {
									k.push(d[e].split(":")[1]);
									break
								}
							} else k.push($(b).attr("fill"))
						});
						for (var m = 0; m < k.length; m++) l[k[m]] || (l[k[m]] = 1, "none" != k[m] ? i.push({
							fill: k[m],
							svgFill: k[m]
						}) : i.push({
							fill: "",
							svgFill: "none"
						}));
						b.properties.items = i
					}
					viewBoxVal = "0 0 " + f + " " + g;
					var n = c.parentNode;
					n.removeChild(c), c = e[0], n.appendChild(c), c.setAttribute("viewBox", viewBoxVal), c.setAttribute("preserveAspectRatio", "none"), c.setAttribute("width", "100%"), c.setAttribute("height", "100%"), c.id = b.id, c.setAttribute("class", "element svg-element")
				}
			}), c;
			if (b.properties.type.indexOf("symbol") < 0) {
				var c = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
				return c.id = b.id, c.setAttribute("class", "element svg-element"), c.setAttribute("xmlns", eqxiuSvg.NAMESPACE), c.setAttribute("version", "1.1"), c.setAttribute("width", "100%"), c.setAttribute("height", "100%"), c.setAttribute("preserveAspectRatio", "none"), d = eqxiuSvg.ShapeFromType(b.properties.type), d.setAttribute("fill", "#555"), c.appendChild(d), s = eqxiuSvg.boundingBox(d), viewBox = [Math.round(s.x) || 0, Math.round(s.y) || 0, Math.round(s.width) || 32, Math.round(s.height) || 32].join(" "), c.setAttribute("viewBox", viewBox), c
			}
			return c = document.createElement("div"), d = eqxiuSvg.ShapeFromType(b.properties.type, 100, 100, b.id, b.css.color), c = '<svg id="' + b.id + '" class="element svg-element" ctype="' + b.type + '" xmlns="' + eqxiuSvg.NAMESPACE + '" version="1.1" width="100%" height="100%" preserveAspectRatio="xMidYMid" viewBox="' + b.properties.viewBox + '">' + d + "</svg>"
		}), i.addComponent("v", function(a) {
			var b = document.createElement("a");
			return b.setAttribute("class", "element video_area"), b.id = a.id, b.setAttribute("ctype", a.type), a.properties.src && b.setAttribute("videourl", a.properties.src), b
		}), i.addComponent("5", function(a) {
			var b = document.createElement("textarea");
			return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_input editable-text"), b.setAttribute("maxlength", "300"), a.properties.required && b.setAttribute("required", a.properties.required), a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder), b.setAttribute("name", "eq[f_" + a.id + "]"), b.style.width = "100%", b
		}), i.addComponent("r", function(a) {
			var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
			b.attr("ctype", a.type), b.attr("required", a.properties.required), b.attr("title", a.title), b.attr("name", "eq[f_" + a.id + "]");
			var c = $('<div class="radio-title">' + a.title + "</div>");
			a.properties.titleStyle && c.css(a.properties.titleStyle), b.append(c);
			var d = $('<div class="options"></div>'),
				e = JSON.parse(a.choices);
			return $.each(e.options, function(b, c) {
				var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="radio" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
				a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle), d.append(f)
			}), b.append(d), b.width("100%"), b.get(0)
		}), i.addComponent("c", function(a) {
			var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
			b.attr("ctype", a.type), b.attr("required", a.properties.required), b.attr("title", a.title), b.attr("name", "eq[f_" + a.id + "]");
			var c = $('<div class="radio-title">' + a.title + "(可多选)</div>");
			a.properties.titleStyle && c.css(a.properties.titleStyle), b.append(c);
			var d = $('<div class="options"></div>'),
				e = JSON.parse(a.choices);
			return $.each(e.options, function(b, c) {
				var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="checkbox" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
				a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle), d.append(f)
			}), b.append(d), b.width("100%"), b.get(0)
		}), i.addComponent("a", function(a) {
			var b = $('<div class="element comp_rating editable-text" id="' + a.id + '"></div>');
			b.attr("ctype", a.type), b.attr("required", a.properties.required), b.attr("title", a.title), b.attr("name", "eq[f_" + a.id + "]"), b.append($('<div class="rating-title">' + a.title + "</div>"));
			for (var c = $('<div class="rating-icons"></div>'), d = 0; 5 > d; d++) c.append($('<i class="' + a.properties.icon + "-line " + a.properties.size + '">').css("color", a.properties.color));
			return b.append(c), b.append($('<input type="hidden" name="eq[f_' + a.id + ']" value="">')), b.width("100%"), b.get(0)
		}), i.addComponent("p", function(a) {
			if (a.properties && a.properties.children) {
				var c = a.css.width,
					d = a.css.height,
					e = $('<div id="' + a.id + '" class="slider element" ctype="' + a.type + '"></div>');
				return a.properties.bgColor && e.css("backgroundColor", a.properties.bgColor), $.each(a.properties.children, function(a, f) {
					var g = b(f.width, f.height, c, d),
						h = $('<img src="' + PREFIX_FILE_HOST + f.src + '">');
					h.css({
						margin: (d - g.height) / 2 + "px " + (c - g.width) / 2 + "px",
						width: g.width,
						height: g.height
					}), e.append(h)
				}), utilPictures.deleteInterval(a.id), e.get(0)
			}
		}), i.addComponent("n", function(a) {
			if (a.properties && a.properties.pics.length) {
				var b = (a.css.width, a.css.height, $('<div id="' + a.id + '" class="random-event element comp_image editable-image" ctype="' + a.type + '"></div>'));
				a.css.width || (a.css.width = "180px");
				var c = 180 * parseInt(a.properties.pics[0].height) / parseInt(a.properties.pics[0].width);
				return a.css.height || (a.css.height = c + "px"), $.each(a.properties.pics, function(a, c) {
					var d = $('<img src="' + PREFIX_FILE_HOST + c.src + '">');
					d.css({
						width: "100%",
						height: "100%",
						display: "none"
					}), 0 === a && (d.css({
						display: "block"
					}), b.css({
						width: "100%",
						height: "100%"
					})), b.append(d)
				}), b.get(0)
			}
		}), i.addComponent("6", function(a) {
			var b = document.createElement("button");
			if (b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), a.properties.title) {
				var c = a.properties.title.replace(/ /g, "&nbsp;");
				b.innerHTML = c
			}
			return b.style.width = "100%", b
		}), i.addComponent("8", function(a) {
			var b = document.createElement("a");
			b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_anchor editable-text");
			var c = null;
			return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c), "view" == i.mode && $(b).attr("href", "tel:" + a.properties.number)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c), "view" == i.mode && $(b).attr("href", "tel:" + a.properties.number)), b.style.cursor = "default", b.style.width = "100%", b
		}), i.addComponent("l", function(a) {
			var b = document.createElement("a");
			b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_anchor editable-text");
			var c = null;
			return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c)), b.style.cursor = "default", b.style.width = "100%", b
		}), i.addComponent("s", function(a) {
			var b = document.createElement("a");
			b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_anchor editable-text");
			var c = null;
			return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c)), b.style.cursor = "default", b.style.width = "100%", b
		}), i.addComponent("i", function(b) {
			var c = $('<div class="element comp_counter not-voted editable-text" id="' + b.id + '"></div>');
			c.attr("ctype", b.type), c.attr("name", "eq[f_" + b.id + "]"), c.addClass(b.properties.layout).addClass(b.properties.size);
			var d = $('<div class="counter-container"></div>');
			b.properties.imgSrc ? d.append($('<img class="counter-elem counter-icon" style="width: 115px; height: 115px; margin: 0 auto;" src="' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '"></img>')) : d.append($('<i class="counter-elem counter-icon ' + b.properties.icon + '">').css("color", b.properties.color));
			var e = $('<span class="counter-elem counter-number">0</span>').css("color", b.properties.color);
			if (d.append(e), "view" == i.mode ? a.counterValues && a.counterValues.then(function(c) {
				var d = c.map[b.id] || 0;
				e.attr("data-counter-number", d);
				var f = a.fixedNum(d);
				e.text(f)
			}) : c.removeClass("not-voted"), c.width("100%"), "counter-tb" === b.properties.layout) {
				var f = 0;
				f = b.properties.imgSrc ? "counter-l" == b.properties.size ? 77 : "counter-m" == b.properties.size ? 71 : 66 : "counter-l" == b.properties.size ? 40 : "counter-m" == b.properties.size ? 30 : 20, d.css("margin-top", -f)
			}
			return "edit" != i.mode && setTimeout(function() {
				var a = {
					width: "auto",
					"min-width": b.css.width
				};
				c.css(a), c.parents("li.comp-resize").css(a)
			}, 100), c.append(d), b.css.lineHeight && c.css("line-height", b.css.lineHeight), c.get(0)
		}), i.addComponent("d", function(b) {
			var c = $('<div class="element comp_counter editable-text" id="' + b.id + '"></div>');
			c.attr("ctype", b.type), c.addClass(b.properties.layout).addClass(b.properties.size);
			var d = $('<div class="counter-container"></div>');
			d.append($('<i class="counter-elem counter-icon ' + b.properties.icon + '">').css("color", b.properties.color));
			var e = $('<span class="counter-elem counter-number">0</span>').css("color", b.properties.color);
			if (d.append(e), "view" == i.mode && a.showCount && a.showCount.then(function(b) {
				var c = a.fixedNum(b),
					d = c || 0;
				e.text(d)
			}), c.width("100%"), "counter-tb" === b.properties.layout) {
				var f = 0;
				f = "counter-l" == b.properties.size ? 40 : "counter-m" == b.properties.size ? 30 : 20, d.css("margin-top", -f)
			}
			return c.append(d), b.css.lineHeight && c.css("line-height", b.css.lineHeight), c.get(0)
		}), i.addComponent("7", function(a) {
			var b = document.createElement("div");
			if (b.id = "map_" + a.id, b.setAttribute("class", "element comp_map_wrapper"), a.content && (b.textContent = a.content), a.css) {
				var c, d = a.css;
				for (c in d) b.style[c] = d[c]
			}
			return b.style.height = "250px", b
		}), i.addComponent("m", function(a) {
			var b;
			b = document.createElement("div"), b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element");
			var c, d = new qq.maps.LatLng(a.properties.lat ? a.properties.lat : 39.916527, a.properties.lng ? a.properties.lng : 116.397128);
			"edit" == i.mode ? c = {
				draggable: !1,
				scrollwheel: !1,
				disableDoubleClickZoom: !0,
				disableDefaultUI: !0,
				center: d,
				zoom: a.properties.zoom ? a.properties.zoom : 11
			} : (c = {
				disableDefaultUI: !0,
				center: d,
				zoom: a.properties.zoom ? a.properties.zoom : 11
			}, $(b).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend", function(a) {
				a.stopPropagation()
			}));
			var e = new qq.maps.Map(b, c);
			if ("edit" == i.mode && $(b).data("map", e), a.content && "" != a.content) {
				var f = new qq.maps.Label({
					position: d,
					map: e,
					content: a.content
				});
				"edit" == i.mode && $(b).data("label", f)
			}
			var g = new qq.maps.Point(25, 5),
				h = new qq.maps.Size(34, 34),
				j = new qq.maps.Point(0, 0),
				k = new qq.maps.MarkerImage("/assets/images/marker.png", h, j, g),
				l = new qq.maps.Marker({
					map: e,
					position: e.getCenter()
				});
			return l.setIcon(k), $(b).data("marker", l), b
		}), i.addComponent("w", function(a) {
			var b, c = document.createElement("a");
			return "w01" == a.type ? (b = "element comp_wechat_play", c.innerHTML = '<span style="font-size:16px;" class="eqf-nosy"></span>') : "w02" == a.type && (b = "element comp_wechat_hear", c.innerHTML = a.properties.title), c.id = a.id, c.setAttribute("class", b), c.setAttribute("ctype", a.type), c
		}), i.bindAfterRenderEvent("8", function(a, b) {
			a = $("a", a)[0];
			var c = {
				id: b.sceneId,
				num: b.properties.number
			};
			if ("view" == i.mode) {
				var d = function() {
						$.ajax({
							cache: !0,
							type: "POST",
							url: PREFIX_S1_URL + "eqs/dial",
							data: $.param(c),
							async: !1,
							error: function(a) {
								//alert("Connection error")
							},
							success: function(a) {}
						})
					};
				a.addEventListener("click", d)
			}
		}), i.bindAfterRenderEvent("l", function(a, b) {
			if (a = $("a", a)[0], "view" == i.mode) {
				var c = b.properties.url;
				$(a).click(function(a) {
					isNaN(c) ? window.open(c) : eqxiu.pageScroll(c)
				})
			}
		}), i.bindAfterRenderEvent("s", function(a, b) {}), i.bindAfterRenderEvent("i", function(b, c) {
			if ("view" == i.mode) {
				var d = $(b).find(".comp_counter");
				d.click(function(e) {
					var f = {
						sceneId: c.sceneId,
						fieldId: c.id
					},
						g = $(b);
					$.ajax({
						cache: !0,
						type: "POST",
						url: PREFIX_S1_URL + "index.php?c=scene&a=counter",
						data: $.param(f),
						async: !1,
						error: function(a) {
							alert("Connection error")
						},
						success: function(b) {
							d.unbind("click"), g.find(".comp_counter").removeClass("not-voted");
							var c = $(".counter-number", g),
								e = (parseInt(c.attr("data-counter-number"), 10) || 0) + 1;
							c.attr("data-counter-number", e);
							var f = a.fixedNum(e);
							$(".counter-number", g).text(f)
						}
					})
				})
			}
		}), i.bindAfterRenderEvent("4", function(a, b) {
			"view" == i.mode && ("4" == b.type ? c(a, b) : "403" == b.type && a.on("click", function(a) {
				return isWeixin() ? void $(document).trigger("wx.img.upload", b.id) : void alert("请在微信中点击我！")
			}))
		}), i.bindAfterRenderEvent("x", function(a, b) {
			c(a, b)
		}), i.bindAfterRenderEvent("n", function(a, b) {}), i.bindAfterRenderEvent("h", function(a, b) {
			"view" == i.mode && b.properties.url && $(a).click(function(a) {
				var c = b.properties.url;
				isNaN(c) ? window.open(c) : eqxiu.pageScroll(c)
			})
		}), i.bindAfterRenderEvent("5", function(a, b) {
			var c = mobilecheck();
			d($(a).find("textarea")), e($(a).find("textarea")), "view" == i.mode && c && parseFloat(b.css.top) >= 200 && ($(a).find("textarea").focus(function(b) {
				$(a).closest(".edit_area").css({
					top: "-150px"
				})
			}), $(a).find("textarea").blur(function(b) {
				$(a).closest(".edit_area").css({
					top: 0
				})
			}))
		}), i.bindAfterRenderEvent("r", function(a, b) {
			"view" == i.mode && d($(a).find("label"))
		}), i.bindAfterRenderEvent("c", function(a, b) {
			"view" == i.mode && d($(a).find("label"))
		}), i.bindAfterRenderEvent("v", function(a, b) {
			"view" == i.mode && $(a).click(function() {
				$(a).hide(), $("#audio_btn").hasClass("video_exist") && ($("#audio_btn").hide(), $("#media")[0].pause()), utilSound.pause(), $('<div class="video_mask page_effect lock" id="mask_' + b.id + '"></div>').appendTo($(a).closest(".m-img")), $('<a class = "close_mask" id="close_' + b.id + '"></a>').appendTo($(a).closest(".m-img")), $(b.properties.src).appendTo($("#mask_" + b.id)).attr("style", "position: absolute;top:0; min-height: 45%; max-height: 100%; top: 20%;").attr("width", "100%").removeAttr("height"), $("#close_" + b.id).bind("click", function() {
					$(a).show(), $("#mask_" + b.id).remove(), $("#close_" + b.id).remove(), $("#audio_btn").hasClass("video_exist") && $("#audio_btn").show(function() {
						$("#media")[0].play()
					})
				})
			})
		}), i.bindAfterRenderEvent("2", function(a, b) {
			f(a)
		}), i.bindAfterRenderEvent("6", function(a, b) {
			if (a = $("button", a)[0], "view" == i.mode) {
				var c = {
					REQUIRED: "为必填项！",
					WRONG_PHONE_NUMBER_FORMAT: "手机号码格式错误！",
					WRONG_EMAIL_FORMAT: "邮箱格式错误！",
					FILL_OUT_THE_FORM: "请填写表单！",
					DUPLICATED_SUBMISSION: "请不要重复提交！",
					THANKS_FOR_PARTICIPATION: "谢谢您的参与！"
				},
					d = function(a, d, e) {
						var f = !0,
							g = {};
						if ($("textarea", e).each(function() {
							if (f) {
								if ("required" == $(this).attr("required") && "" == $(this).val().trim()) return alert($(this).attr("placeholder") + c.REQUIRED), void(f = !1);
								if ("502" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
									var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
									if (!a.test($(this).val())) return alert("手机号码格式错误！"), void(f = !1)
								}
								if ("503" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
									var b = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
									if (!b.test($(this).val())) return alert("邮箱格式错误！"), void(f = !1)
								}
								g[$(this).attr("name")] = $(this).val()
							}
						}), $("input:checked", e).each(function() {
							var a = $(this);
							g[a.attr("name")] ? g[a.attr("name")] += "," + a.val() : g[a.attr("name")] = a.val()
						}), $('.comp_radio[required="required"]', e).each(function() {
							var a = $(this);
							g[a.attr("name")] || (alert(a.attr("title") + c.REQUIRED), f = !1)
						}), $('input[type="hidden"]', e).each(function() {
							g[$(this).attr("name")] = $(this).val()
						}), $('.comp_rating[required="required"]', e).each(function() {
							var a = $(this);
							g[a.attr("name")] && "0" != g[a.attr("name")] || (alert(a.attr("title") + "为必填项！"), f = !1)
						}), f) {
							var h = !1;
							if ($.isEmptyObject(g)) return void(h = !0);
							for (var i in g) if ("" !== g[i]) {
								h = !0;
								break
							}
							return h ? void $.ajax({
								cache: !0,
								type: "POST",
								url: PREFIX_S1_URL + "index.php?c=scenedata&a=add&id=" + d,
								data: $.param(g),
								async: !1,
								error: function(a) {
									alert("Connection error")
								},
								success: function(c) {
									$(a).unbind("click").click(function() {
										alert("请不要重复提交！")
									});
									var d;
									b.properties.layout || (b.properties.layout = "rating-l", b.properties.text = ""), b.properties.text.trim() || "rating-l" != b.properties.layout ? ("rating-m" == b.properties.layout && (d = b.properties.checkedLink ? '<div class="feedback-box"><div class="feedback-form"><img src = "' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '"/><a href="' + b.properties.link + '" style="margin-top:20px;"><span>' + b.properties.text + '</span></a><button class="feedback-button">我知道了</button></div></div>' : '<div class="feedback-box"><div class="feedback-form"><img src = "' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '"/><span style="margin-top:20px;">' + b.properties.text + '</span><button class="feedback-button">我知道了</button></div></div>'), "rating-s" == b.properties.layout && (d = b.properties.checkedLink ? '<div class="feedback-box"><div class="feedback-form"><a href="' + b.properties.link + '"><span>' + b.properties.text + '</span></a><img src = "' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '" style="margin-top:20px;"/><button class="feedback-button">我知道了</button></div></div>' : '<div class="feedback-box"><div class="feedback-form"><span>' + b.properties.text + '</span><img src = "' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '" style="margin-top:20px;"/><button class="feedback-button">我知道了</button></div></div>'), "rating-l" == b.properties.layout && (d = b.properties.checkedLink ? '<div class="feedback-box"><div class="feedback-form"><a href="' + b.properties.link + '"><span>' + b.properties.text + '</span></a><button class="feedback-button">我知道了</button></div></div>' : '<div class="feedback-box"><div class="feedback-form"><span>' + b.properties.text + '</span><button class="feedback-button">我知道了</button></div></div>')) : d = '<div class="feedback-box"><div class="feedback-form"><span>谢谢您的参与!</span><button class="feedback-button">我知道了</button></div></div>', $(d).prependTo(".z-current");
									var e = -parseInt($(".feedback-form").css("height")) / 2;
									$(".feedback-form").css({
										marginTop: e + "px"
									}), $(".z-current").on("click", ".feedback-button", function() {
										$(".feedback-box").animate({
											opacity: 0
										}, {
											duration: 1e3,
											complete: function() {
												$(".feedback-box").remove()
											}
										})
									})
								}
							}) : void alert("请填写表单！")
						}
					};
				i.def.sceneId;
				$(a).bind("click", function() {
					var b, c = $(a).parents(".edit_wrapper").attr("data-scene-id");
					b = c ? $(a).parents(".nr").find('.edit_wrapper[data-scene-id="' + c + '"]') : $(a).parents(".nr"), d(this, c, b)
				})
			}
		}), i.bindAfterRenderEvent("7", function(a, b) {
			var c = new BMap.Map("map_" + b.id, {
				enableMapClick: !1
			}),
				d = new BMap.Point(b.properties.x, b.properties.y),
				e = new BMap.Marker(d);
			c.addOverlay(e);
			var f = new BMap.Label(b.properties.markTitle, {
				offset: new BMap.Size(20, -10)
			});
			e.setLabel(f), c.disableDoubleClickZoom(), c.centerAndZoom(d, 15)
		}), i.bindAfterRenderEvent("p", function(a, b) {
			if (!$(a).closest(".page_tpl_container ").length) {
				$(a).children(".element-box").css("overflow", "visible"), utilPictures.deleteInterval(b.id);
				var c = $(a).find("#" + b.id);
				new flux.slider(c, {
					autoplay: b.properties.autoPlay,
					delay: b.properties.interval,
					pagination: !1,
					transitions: [utilPictures.getPicStyle(b.properties.picStyle).name],
					width: b.css.width,
					height: b.css.height,
					bgColor: b.properties.bgColor,
					onStartEnd: function(a) {
						utilPictures.addInterval(b.id, a)
					}
				})
			}
		}), i.bindAfterRenderEvent("a", function(a, b) {
			function c(a) {
				f.each(function(b, c) {
					$(c).removeClass(h).addClass(h + "-line"), a >= b && $(c).removeClass(h + "-line").addClass(h)
				})
			}
			var e = $(a);
			if ("view" == i.mode) {
				var f = e.find("i"),
					g = e.find("input"),
					h = b.properties.icon;
				f.each(function(a, b) {
					$(b).bind("click", function() {
						c(a), g.val(a + 1)
					}), $(b).bind("mouseenter", function() {
						c(a)
					})
				}), e.find(".rating-icons").bind("mouseleave", function() {
					c(parseInt(g.val(), 10) - 1)
				}), d(e.find(".rating-icons"))
			}
		}), i.bindAfterRenderEvent("w", function(a, b) {
			"view" == i.mode && (d($(a)), $(a).on("mousedown touchstart", function(a) {
				if (a.preventDefault(), isWeixin())"w01" == b.type ? $(document).trigger("wx.audio.play", b.id) : "w02" == b.type && $(document).trigger("wx.audio.record", b.id);
				else if ("w01" == b.type) {
					var c = document.createElement("audio");
					c.src = b.properties.src, c.play();
					var d = $("#media").get(0);
					d.pause()
				} else "w02" == b.type && alert("请在微信中点我！")
			}).on("mouseup touchend", function(a) {
				isWeixin() && "w02" == b.type && $(document).trigger("wx.audio.recordend", b.id)
			}))
		});
		var j
	}(window.eqShow), function() {
		var a, b = 0;
		eqShow.shakeTrigger = function(c, d) {
			function e(a) {
				var c = a.accelerationIncludingGravity,
					d = (new Date).getTime();
				if (d - m > 100) {
					var g = parseInt(d - m);
					m = d, j = c.x, k = c.y, l = c.z;
					var i = Math.abs(j + k + l - n - o - p) / g * 1e4;
					window.removeEventListener("devicemotion", e, !0), i > h && (q || (eqShow.playTriggerSound(), q = !0), window.removeEventListener("devicemotion", e, !0), f.sends && f.sends.length && $.each(f.sends, function(a, c) {
						time = setTimeout(function() {
							$.each(c.handles, function(a, c) {
								var d = utilTrigger.getHandleType(c.type).name;
								$.each(c.ids, function(a, c) {
									var e = $("#inside_" + c);
									e.trigger(d, b)
								})
							})
						}, 1e3 * c.delay)
					})), n = j, o = k, p = l
				}
			}
			var f, g = $(d).find(".m-img").attr("id").substring(4);
			if (c[g - 1].properties && (f = c[g - 1].properties.trigger), f && f.sends) {
				var h = 4e3,
					i = PREFIX_HOST + "/assets/audio/wxShake.mp3";
				a = document.createElement("audio"), a.src = i;
				var j, k, l, m = 0,
					n = 0,
					o = 0,
					p = 0,
					q = !1;
				window.DeviceMotionEvent && d && window.addEventListener("devicemotion", e, !1)
			}
		}, eqShow.playTriggerSound = function() {
			a && a.play()
		}
	}(), function() {
		var a = !0;
		eqShow.playVideo = function(b) {
			if (b && b.bgAudio) {
				var c = $("#media"),
					d = $("#audio_btn"),
					e = ($("#yinfu"), "");
				b.bgAudio.url ? e = 0 == b.bgAudio.url.indexOf("http://") ? b.bgAudio.url : PREFIX_FILE_HOST + b.bgAudio.url : !b.bgAudio.url && b.bgAudio.src && (e = 0 == b.bgAudio.src.indexOf("http://") ? b.bgAudio.src : PREFIX_FILE_HOST + b.bgAudio.src), c.attr("src", e), d.addClass("video_exist"), c.bind("canplay", function() {
					c.get(0).play()
				}).bind("play", function() {
					d.addClass("rotate")
				}).bind("pause", function(a) {
					d.removeClass("rotate")
				});
				var f = mobilecheck() ? "touchend" : "click";
				$("#audio_btn").show().on(f, function(b) {
					b.cancelBubble = !0, b.stopPropagation(), $(this).hasClass("rotate") ? (a = !1, c.get(0).pause()) : (c.get(0).play(), a = !0, utilSound.pause())
				})
			}
		}, eqShow.executePlay = function() {
			a && $("#media").get(0).play()
		}, eqShow.executePause = function() {
			a && $("#media").get(0).pause()
		}
	}(), function(a) {
		function b() {
			var a = {
				"Allura-Regular": {
					value: 1,
					familyName: "Allura-Regular",
					src: "assets/images/fonts/Allura-Regular.png",
					blueSrc: "assets/images/fonts/Allura-Regular_blue.png"
				},
				"Amaranth-Regular": {
					value: 2,
					familyName: "Amaranth-Regular",
					src: "assets/images/fonts/Amaranth-Regular.png",
					blueSrc: "assets/images/fonts/Amaranth-Regular_blue.png"
				},
				"Anton-Regular": {
					value: 3,
					familyName: "Anton-Regular",
					src: "assets/images/fonts/Anton-Regular.png",
					blueSrc: "assets/images/fonts/Anton-Regular_blue.png"
				},
				"Arial-Regular": {
					value: 4,
					familyName: "Arial-Regular",
					src: "assets/images/fonts/Arial-Regular.png",
					blueSrc: "assets/images/fonts/Arial-Regular_blue.png"
				},
				"Arialnarrow-Regular": {
					value: 5,
					familyName: "Arialnarrow-Regular",
					src: "assets/images/fonts/Arialnarrow-Regular.png",
					blueSrc: "assets/images/fonts/Arialnarrow-Regular_blue.png"
				},
				"Arialroundedmtbold-Regular": {
					value: 6,
					familyName: "Arialroundedmtbold-Regular",
					src: "assets/images/fonts/Arialroundedmtbold-Regular.png",
					blueSrc: "assets/images/fonts/Arialroundedmtbold-Regular_blue.png"
				},
				"Banglasangammn-Regular": {
					value: 7,
					familyName: "Banglasangammn-Regular",
					src: "assets/images/fonts/Banglasangammn-Regular.png",
					blueSrc: "assets/images/fonts/Banglasangammn-Regular_blue.png"
				},
				"Blackopsone-Regular": {
					value: 8,
					familyName: "Blackopsone-Regular",
					src: "assets/images/fonts/Blackopsone-Regular.png",
					blueSrc: "assets/images/fonts/Blackopsone-Regular_blue.png"
				},
				"Bradleyhand-Bold": {
					value: 9,
					familyName: "Bradleyhand-Bold",
					src: "assets/images/fonts/Bradleyhand-Bold.png",
					blueSrc: "assets/images/fonts/Bradleyhand-Bold_blue.png"
				},
				"Cabinsketch-Bold": {
					value: 10,
					familyName: "Cabinsketch-Bold",
					src: "assets/images/fonts/Cabinsketch-Bold.png",
					blueSrc: "assets/images/fonts/Cabinsketch-Bold_blue.png"
				},
				songti: {
					value: 11,
					familyName: "宋体",
					src: "assets/images/fonts/songti.png",
					blueSrc: "assets/images/fonts/songti_blue.png"
				},
				songti: {
					value: 12,
					familyName: "宋体",
					src: "assets/images/fonts/songti.png",
					blueSrc: "assets/images/fonts/songti_blue.png"
				},
				weiruanyahei: {
					value: 12,
					familyName: "微软雅黑",
					src: "assets/images/fonts/weiruanyahei.png",
					blueSrc: "assets/images/fonts/weiruanyahei_blue.png"
				},
				mnjbwks: {
					value: 13,
					familyName: "迷你简笔魏楷书",
					src: "assets/images/fonts/mnjbwks.png",
					blueSrc: "assets/images/fonts/mnjbwks_blue.png"
				},
				hzgb: {
					value: 17,
					familyName: "汉真广标",
					src: "assets/images/fonts/hzgb.png",
					blueSrc: "assets/images/fonts/hzgb_blue.png"
				},
				changyi: {
					value: 18,
					familyName: "迷你简长艺",
					src: "assets/images/fonts/changyi.png",
					blueSrc: "assets/images/fonts/changyi_blue.png"
				}
			};
			this.getFontName = function(b) {
				if (b === undefined) return a;
				for (var c in a) if (b === c) return a[c];
				return null
			}
		}
		a.utilFont = new b
	}(window), function(a) {
		function b() {
			var a = {};
			this.addInterval = function(b, c) {
				a[b] = c
			}, this.deleteInterval = function(b) {
				a[b] && (clearInterval(a[b]), delete a[b])
			}, this.clearInterval = function() {
				for (var b in a) this.deleteInterval(b)
			};
			var b = [{
				value: 1,
				desc: "轮播",
				name: "slide"
			}, {
				value: 2,
				desc: "下落",
				name: "bars"
			}, {
				value: 3,
				desc: "百页窗",
				name: "blinds"
			}, {
				value: 4,
				desc: "消隐",
				name: "blocks"
			}, {
				value: 5,
				desc: "渐变",
				name: "blocks2"
			}, {
				value: 9,
				desc: "梳理",
				name: "zip"
			}, {
				value: 11,
				desc: "翻转",
				name: "bars3d"
			}, {
				value: 13,
				desc: "立方体",
				name: "cube"
			}, {
				value: 14,
				desc: "棋盘",
				name: "tiles3d"
			}, {
				value: 16,
				desc: "飞出",
				name: "explode"
			}];
			this.getPicStyle = function(a) {
				if (a === undefined) return b;
				for (var c = 0; c < b.length; c++) if (a === b[c].value) return b[c]
			}
		}
		a.utilPictures = new b
	}(window), function(a, b) {
		function c() {
			var a, c, d, e = [];
			b("#media");
			this.addAudio = function(a, f) {
				var g = new Audio;
				g.src = f, e.push({
					elem: a,
					audio: g
				}), b(g).bind("ended", function() {
					c = !1, d()
				})
			}, this.play = function(b, f, g) {
				var h;
				d = f;
				for (var i = 0; i < e.length; i++) e[i].elem == b && (h = e[i].audio);
				a == h && c ? (h.pause(), c = !1, f()) : a != h || c ? (a && a.pause(), h.currentTime = 0, h.play(), g(), c = !0, a = h) : (h.play(), c = !0, g())
			}, this.pause = function() {
				a && (a.pause(), c = !1)
			}
		}
		a.utilSound = new c
	}(window, $), function(a) {
		function b() {
			var a = {
				CLICK: {
					name: "click",
					value: 1,
					title: "点击"
				},
				SHAKE: {
					name: "shake",
					value: 2,
					title: "摇一摇"
				}
			},
				b = {
					SHOW: {
						name: "show",
						value: 1
					},
					HIDE: {
						name: "hide",
						value: 2
					},
					RANDOMEVENT: {
						name: "randomEvent",
						value: 3
					}
				};
			this.getSendType = function(b) {
				if (b === undefined) return a;
				for (var c in a) if (b === a[c].value) return a[c];
				return null
			}, this.getHandleType = function(a) {
				if (a === undefined) return b;
				for (var c in b) if (a === b[c].value) return b[c];
				return null
			}
		}
		a.utilTrigger = new b
	}(window);
	var tplCount = 0,
		eqxCommon = function() {
			var a = function(a) {
					var b, c, d = a.type;
					return 0 === d && (b = "fadeIn"), 1 === d && (c = a.direction, 0 === c && (b = "fadeInLeft"), 1 === c && (b = "fadeInDown"), 2 === c && (b = "fadeInRight"), 3 === c && (b = "fadeInUp")), 6 === d && (b = "wobble"), 5 === d && (b = "rubberBand"), 7 === d && (b = "rotateIn"), 8 === d && (b = "flip"), 9 === d && (b = "swing"), 2 === d && (c = a.direction, 0 === c && (b = "bounceInLeft"), 1 === c && (b = "bounceInDown"), 2 === c && (b = "bounceInRight"), 3 === c && (b = "bounceInUp")), 3 === d && (b = "bounceIn"), 4 === d && (b = "zoomIn"), 10 === d && (b = "fadeOut"), 11 === d && (b = "flipOutY"), 12 === d && (b = "rollIn"), 13 === d && (b = "lightSpeedIn"), 14 === d && (b = "bounceOut"), 15 === d && (b = "rollOut"), 16 === d && (b = "lightSpeedOut"), 17 === d && (c = a.direction, 0 === c && (b = "fadeOutRight"), 1 === c && (b = "fadeOutDown"), 2 === c && (b = "fadeOutLeft"), 3 === c && (b = "fadeOutUp")), 18 === d && (b = "zoomOut"), 19 === d && (c = a.direction, 0 === c && (b = "bounceOutRight"), 1 === c && (b = "bounceOutDown"), 2 === c && (b = "bounceOutLeft"), 3 === c && (b = "bounceOutUp")), 20 === d && (b = "flipInY"), 21 === d && (b = "tada"), 22 === d && (b = "jello"), 23 === d && (b = "flash"), 26 === d && (b = "twisterInDown"), 27 === d && (b = "puffIn"), 28 === d && (b = "puffOut"), 29 === d && (b = "slideDown"), 30 === d && (b = "slideUp"), 24 === d && (b = "flipInX"), 25 === d && (b = "flipOutX"), 31 === d && (b = "twisterInUp"), 32 == d && (b = "vanishOut"), 33 == d && (b = "vanishIn"), b
				},
				b = function(a, b, c, d) {
					function e(a, b, d, g, h) {
						if (d.length && f < d.length) {
							a.css("animation", "");
							a.get(0);
							if (a.css("animation", b[f] + " " + d[f].duration + "s ease " + d[f].delay + "s " + (d[f].countNum ? d[f].countNum : "")), "view" == c ? (d[f].count && f == d.length - 1 && a.css("animation-iteration-count", "infinite"), a.css("animation-fill-mode", "both")) : (a.css("animation-iteration-count", "1"), a.css("animation-fill-mode", "backwards")), d[f].linear && a.css("animation-timing-function", "linear"), g && h.top > 486 && "view" == c) {
								a.css("display", "none");
								var i = function(b, c) {
										Math.abs(c) > h.top && (a.css("display", "block"), $(document).unbind("pageScrollPos", i))
									};
								$(document).bind("pageScrollPos", i)
							}
							a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
								f++, e(a, b, d)
							})
						}
					}
					var f = 0;
					if (b.properties && b.properties.anim) {
						var g = [];
						b.properties.anim.length ? g = b.properties.anim : g.push(b.properties.anim);
						var h = $(".element-box", a);
						h.attr("element-anim", "");
						for (var i, j = [], k = [], l = 0, m = g.length; m > l; l++) null != g[l].type && -1 != g[l].type && (i = eqxCommon.convertType(g[l]), j.push(i), k.push(g[l]));
						b.properties.anim.trigger ? a.click(function() {
							e(h, i, b.properties.anim)
						}) : d && d.longPage ? e(h, j, k, !0, b.css) : e(h, j, k)
					}
				},
				c = function(a, b) {
					var c = $(a);
					if (b.trigger && b.trigger.receives && b.trigger.receives.length) {
						$.each(b.trigger.receives, function(a, d) {
							if (d.ids.length) {
								var e = utilTrigger.getHandleType(d.type).name;
								("show" == e || "randomEvent" == e) && c.hide(), "hide" == e && c.show(), c.bind(e, function(a, c) {
									if ("show" == e) $(this).show();
									else if ("hide" == e) $(this).hide();
									else if ("randomEvent" == e) {
										eqShow.playTriggerSound(), $(this).show();
										var d = Math.floor(Math.random() * b.properties.pics.length);
										$(this).find("img").css({
											display: "none"
										}), $(this).find("img").eq(d).css({
											display: "block"
										})
									}
								})
							}
						})
					}
				},
				d = function() {
					var a, b, c = window.navigator,
						d = ["language", "browserLanguage", "systemLanguage", "userLanguage"];
					if ($.isArray(c.languages)) for (a = 0; a < c.languages.length; a++) if (b = c.languages[a], b && b.length) return b;
					for (a = 0; a < d.length; a++) if (b = c[d[a]], b && b.length) return b;
					return null
				};
			return {
				convertType: a,
				animation: b,
				bindTrigger: c,
				getFirstBrowserLanguage: d
			}
		}();
	eqShow.getShowCount = function(a) {
		return this.showCount = $.ajax({
			type: "GET",
			url: PREFIX_S1_URL + "index.php?c=scene&a=view&id=" + a,
			xhrFields: {
				withCredentials: !0
			},
			error: function(a) {
				alert("Connection error")
			},
			crossDomain: !0
		}), this.showCount
	}, eqShow.fixedNum = function(a) {
		var b;
		return 1e4 > a ? b = a : a >= 1e4 && 1e8 > a ? b = (a / 1e4).toFixed(2) + "万" : a >= 1e8 && (b = (a / 1e8).toFixed(2) + "亿"), b
	}, eqShow.showProgressBar = function(a, b, c) {
		if (a.obj.property.slideNumber) {
			var d = $('<div class="progress"></div>'),
				e = $("<span></span>"),
				f = $('<em class="page-tip"></em>');
			d.append(e).append(f), c && a.obj.property.slideDisplay ? c.append(d.css("display", a.obj.property.slideDisplay)) : $("#nr").append(d.css("display", "block"))
		}
		var g = function() {
				a.obj.property.slideNumber && e && setTimeout(function() {
					var a = $(".z-active").get(0) ? $(".z-active").get(0) : $(".z-current").get(0);
					if (a) {
						var c = $(a).find(".m-img").attr("id").substring(4),
							g = b.length,
							h = c / g,
							i = 100;
						f.text(c + "/" + g), e.css("width", parseFloat(d.width()) * h), $(a).find(".lock").length && (i = 0), d.css("z-index", i)
					}
				}, 100)
			};
		g(), b.eq(0).find(".u-arrow-bottom").css("bottom", "30px"), eqShow.progressInterval = setInterval(function() {
			g()
		}, 300)
	}, eqShow.selectElement = function(a) {
		var b;
		return b = $("#inside_" + a, ".phone-view").length ? $("#inside_" + a, ".phone-view") : $("#inside_" + a)
	}, eqShow.getRGB = function(a) {
		if (a = a.toLowerCase(), a.indexOf("rgba") >= 0) {
			var b = a.split(",");
			b[0] = b[0].replace("rgba", "rgb"), b.pop(), b[b.length - 1] += ")", a = b.join(",")
		}
		return a
	}, eqShow.convertToHexColor = function(a) {
		if (a = a.toLowerCase(), a.indexOf("rgb") >= 0) {
			var b = a.split(","),
				c = b[0].substring(b[0].indexOf("(") + 1);
			c = parseInt(c, 10).toString(16), c = c.length < 2 ? "0" + c : c;
			var d = parseInt(b[1], 10).toString(16);
			d = d.length < 2 ? "0" + d : d;
			var e = b[2].substring(0, b[2].indexOf(")"));
			e = parseInt(e, 10).toString(16), e = e.length < 2 ? "0" + e : e, a = "#" + c + d + e
		}
		return a
	}, eqShow.responsiveImage = function(a, b, c, d, e) {
		var f = new Image;
		f.src = a, f.onload = function(f) {
			var g, h, i = this;
			$.each(b, function(a, b) {
				b.elements && b.elements.length && $.each(b.elements, function(a, b) {
					if (b.id == c) {
						var d = parseInt(b.css.width),
							e = parseInt(b.css.height);
						i.width / i.height >= d / e ? (g = d, h = i.height * (d / i.width)) : (h = e, g = i.width * (e / i.height))
					}
				})
			}), e.css({
				display: "block",
				width: g + "px",
				height: h + "px",
				"margin-top": (parseInt(d.height()) - h) / 2 + "px",
				"margin-left": (parseInt(d.width()) - g) / 2 + "px"
			}).attr("src", a)
		}
	}, angular.module("active", ["services.active"]), angular.module("active").controller("ActiveCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "activeService", "MineService", "$routeParams", function(a, b, c, d, e, f, g, h, i) {
		c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.PREFIX_SERVER_HOST = PREFIX_URL, c.PREFIX_CLIENT_HOST = PREFIX_HOST
	}]), angular.module("app", ["ngRoute", "home", "active", "show", "main", "spread", "reg", "scenePreview", "scene", "data.edit", "error", "usercenter", "message", "invitation", "ui.bootstrap", "ngSanitize", "ui.select", "services.i18nNotifications", "services.httpRequestTracker", "services.active", "services.config", "services.configSer", "services.dataCache", "security", "app.upload", "templates-app", "templates-common", "ui.sortable", "I18N.MESSAGES", "app.directives.keymap", "app.directives.notification", "active1", "activeXq", "search", "category", "nav", "recommend", "visitor", "visitorXq", "common.directives.dropDown"]), angular.module("app").config(["$routeProvider", "$locationProvider", "securityAuthorizationProvider", "uiSelectConfig", "$provide", "$httpProvider", "$tooltipProvider", function(a, b, c, d, e, f, g) {
		g.options({
			placement: "bottom",
			appendToBody: "true"
		}), d.theme = "bootstrap", a.when("/home", {
			feedBackUrl: "http://eqxiu.com/v-vk2Ucz15",
			templateUrl: "home/home.tpl.html",
			controller: "HomeCtrl"
		}).when("/home/:id", {
			feedBackUrl: "http://eqxiu.com/v-vk2Ucz15",
			templateUrl: "home/home.tpl.html",
			controller: "HomeCtrl",
			reloadOnSearch: !1
		}).when("/reg", {
			templateUrl: "reg/reg.tpl.html",
			controller: "RegCtrl"
		}).when("/otherRegister", {
			templateUrl: "common/security/register/otherRegister.tpl.html"
		}).when("/agreement", {
			templateUrl: "reg/agreement.tpl.html"
		}).when("/about", {
			templateUrl: "about.tpl.html"
		}).when("/error/:codeid", {
			templateUrl: "error/error.tpl.html",
			controller: "ErrorCtrl"
		}).when("/active", {
			templateUrl: "active/active.tpl.html",
			controller: "ActiveCtrl"
		}).when("/main", {
			feedBackUrl: "http://eqxiu.com/v-2qFiYzrc",
			templateUrl: "main/main.tpl.html",
			controller: "MainCtrl",
			reloadOnSearch: !1,
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/main/print/create", {
			templateUrl: "main/print/create.tpl.html",
			controller: "PrintCreateCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/main/print/:tab", {
			templateUrl: "main/print/print.tpl.html",
			controller: "PrintCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/spread/:tab/:sceneId", {
			feedBackUrl: "http://eqxiu.com/v-euMcJX7J",
			templateUrl: "spread/spread.tpl.html",
			controller: "SpreadCtrl",
			reloadOnSearch: !0,
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/spread/:tab/:sceneId/:subtab", {
			templateUrl: "spread/spread.tpl.html",
			controller: "SpreadCtrl",
			reloadOnSearch: !0,
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/main/customer", {
			feedBackUrl: "http://eqxiu.com/v-zJuTC6jT",
			templateUrl: "main/customer.tpl.html",
			controller: "CustomerCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/main/customer/:sceneId", {
			templateUrl: "data/editData.tpl.html",
			controller: "EditDataCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/scene", {
			templateUrl: "scene/scene.tpl.html",
			controller: "SceneCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/scene/create/:sceneId", {
			templateUrl: "scene/create.tpl.html",
			controller: "CreateSceneCtrl",
			reloadOnSearch: !1,
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/scene/support/", {
			templateUrl: "scene/support/support.tpl.html",
			controller: "SupportCtrl",
			reloadOnSearch: !1
		}).when("/scene/preview/:sceneId", {
			feedBackUrl: "http://eqxiu.com/v-QblumX2x",
			templateUrl: "my/myscene.tpl.html",
			controller: "MySceneCtrl",
			reloadOnSearch: !1
		}).when("/usercenter/:id", {
			feedBackUrl: "http://eqxiu.com/v-eWdpV5XU",
			templateUrl: "usercenter/usercenter.tpl.html",
			controller: "UserCenterCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/message", {
			templateUrl: "usercenter/message.tpl.html",
			controller: "MessageCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/invitation", {
			templateUrl: "usercenter/console/invitation.tpl.html",
			controller: "InvitationCtrl",
			resolve: {
				authenticatedUser: c.requireAuthenticatedUser
			}
		}).when("/show", {
			templateUrl: "show/index.tpl.html",
			controller: "ShowCtrl"
		}).when("/show/active", {
			templateUrl: "show/active/active.tpl.html",
			controller: "Active1Ctrl"
		}).when("/show/active/:id", {
			templateUrl: "show/active/active-xq.tpl.html",
			controller: "ActiveXqCtrl"
		}).when("/show/search/:name", {
			templateUrl: "show/search/search.tpl.html",
			controller: "SearchCtrl"
		}).when("/show/category/:id", {
			templateUrl: "show/category/category.tpl.html",
			controller: "CategoryCtrl"
		}).when("/show/recommend", {
			templateUrl: "show/recommend/recommend.tpl.html",
			controller: "RecommendCtrl"
		}).when("/show/visitor", {
			templateUrl: "show/visitor/visitor.tpl.html",
			controller: "VisitorCtrl"
		}).when("/show/visitor/:id", {
			templateUrl: "show/visitor/visitor-xq.tpl.html",
			controller: "VisitorXqCtrl"
		}).when("/privilege", {
			templateUrl: "usercenter/tab/privilege.tpl.html",
			controller: "PrivilegeCtrl"
		}).otherwise({
			redirectTo: "/home"
		})
	}]), angular.module("app").run(["security", "$rootScope", "configService", "$anchorScroll", "$location", "usercenterService", function(a, b, c, d, e, f) {
		b.CLIENT_CDN = CLIENT_CDN, b.PREFIX_FILE_HOST = PREFIX_FILE_HOST, b.PREFIX_SERVER_HOST = PREFIX_URL, b.PREFIX_CLIENT_HOST = PREFIX_HOST, b.PREFIX_S3_URL = PREFIX_S3_URL, b.PRINT_HOST_SERVER = PRINT_HOST_SERVER, b.PRINT_HOST_RESOURCE = PRINT_HOST_RESOURCE, a.requestCurrentUser(),c.getLogo().then(function(a) {
		try {
				b.logoSrc = a.data
			} catch (c) {
				b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
			}
		}, function() {
			b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
		});
		
		var g = $(document);
		b.load2 = function() {
			g.scroll(function() {
				s = g.scrollTop(), s > 100 ? $(".scroll").css("display", "block") : $(".scroll").css("display", "none")
			})
		}, b.appIconDown = !0, b.downApp = function() {
			b.appIconDown = !1
		}, b.closeDown = function() {
			b.appIconDown = !0
		}, b.goTop = function() {
			g.scrollTop(0)
		}, b.$on("$routeChangeSuccess", function(a, c) {
			c.$$route && (b.feedBackUrl = c.$$route.feedBackUrl)
		})
	}]), angular.module("app").run(["$route", "$rootScope", "$location", function(a, b, c) {
		b.$on("$locationChangeStart", function() {
			b.branchid && c.search("branchid", b.branchid), $(".modal").remove(), $(".modal-backdrop").remove()
		});
		var d = c.path;
		c.path = function(e, f) {
			if (f === !1) var g = a.current,
				h = b.$on("$locationChangeSuccess", function() {
					a.current = g, h()
				});
			return d.apply(c, [e])
		}
	}]), angular.module("app").controller("AppCtrl", ["SpreadService", "$window", "$scope", "$rootScope", "$location", "$route", "$modal", "security", "sceneService", "$routeParams", "$timeout", "i18nNotifications", "usercenterService", "thirdpartyService", "$modalStack", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
		function p() {
			return sessionStorage.getItem("sysMsgHasRead")
		}
		function q(a, b, c, e) {
			m.getNewMessage(a, b, c, e).then(function(a) {
				e ? (d.sysMsgs = a.data.list, d.sysNewCount = a.data.map.count) : (d.newMsgs = a.data.list, d.newMsgCount = a.data.map.count > 9 ? "9+" : a.data.map.count)
			})
		}
		checkBrower() && (c.isSafari = !0), c.copyUrl = function(a) {
			alert("该浏览器不支持复制，请手动选中、复制、粘贴")
		}, c.userXd = 0, c.getUserXd = function() {
			m.getUserXd().then(function(a) {
				c.userXd = a.data.obj || 0
			})
		}, c.$on("userXd", function() {
			c.getUserXd()
		}), c.buyXd = function() {
			g.open({
				windowClass: "console",
				templateUrl: "?c=pay",
				controller: "BuyXdController",
				resolve: {
					getUserXd: function() {
						return function() {
							c.getUserXd(), d.$broadcast("buyXd")
						}
					}
				}
			}).result.then(function() {}, function() {})
		}, c.openSysMsg = !1, c.openSysMsgDialog = !p(), c.closeSysMsgDialog = function() {
			c.openSysMsgDialog = !c.openSysMsgDialog, sessionStorage.setItem("sysMsgHasRead", "true")
		}, c.notifications = l, c.removeNotification = function(a) {
			l.remove(a)
		}, b.setValue = function(a) {
			c.thirdpartyLoginParam = a, c.$apply()
		}, c.$watch("thirdpartyLoginParam", function(a, b) {
			a && (a.state && /WECHAT_STATE/.test(a.state) ? n.weiChatLogin(a.code).then(function(a) {
				200 == a.data.code && (e.path("main"), h.setLoginSuccess(!0))
			}) : n.qqLogin(a.access_token, a.expires_in))
		}), c.$on("$locationChangeStart", function(a) {
			if ("/home/login" != e.path() || h.currentUser ? 0 !== e.path().indexOf("/home/register") || h.currentUser || h.showRegister(r) : h.showLogin(), h.isAuthenticated() && ("/home" == e.path() || "/home/login" == e.path()) && e.path("main"), e.search().resetToken) {
				var b = e.search().resetToken;
				h.requestResetPassword(b)
			}
			var c = o.getTop();
			c && o.dismiss(c.key)
		}), c.openLogin = function() {
			e.path("/home/login", !1)
		};
		var r;
		c.openRegister = function(a, b, c) {
			"user" === a && (d.regUserType = "regUser"), "company" === a && (d.regUserType = "companyUser", d.upgradNum = b), r = c, e.path("/home/register", !1)
		}, c.isAuthenticated = h.isAuthenticated, e.search().branchid && (d.branchid = e.search().branchid), d.sysMsgs = [], c.$on("minusCount", function(a, b) {
			q(1, 4, !0)
		}), c.$watch(function() {
			return h.currentUser
		}, function(a) {
			a && (c.user = a, d.user = a, c.userProperty = a, c.isEditor = h.isEditor(), d.isEditor = h.isEditor(), c.isAdvancedUser = h.isAdvancedUser(), d.isAdvancedUser = h.isAdvancedUser(), c.isVendorUser = h.isVendorUser(), d.isVendorUser = h.isVendorUser(), c.$broadcast("currentUser", a), h.isAuthenticated() && (("/home" == e.path() || "/home/login" == e.path()) && e.path("main"), c.getUserXd(), q(1, 4, !0, !0), q(1, 4, !0)))
		}, !0), c.$on("addBranch", function(a, b) {
			for (var d = 0; d < c.userbranches.length; d++) if (b.id == c.userbranches[d].id) return;
			c.userbranches.unshift(b)
		}), c.showBoardsDropdown = function() {
			c.isProjectsDropdownVisible = !0
		}, c.hideBoardsDropdown = function() {
			c.isProjectsDropdownVisible = !1
		};
		var s = $(document);
		s.scroll(function() {
			var a = s.scrollTop();
			a > 180 ? $(".header-contain", s).addClass("head-shadow") : $(".header-contain", s).removeClass("head-shadow")
		}), c.$watch("branchid", function() {
			c.hideOpea = !! d.branchid
		}), c.openReg = function() {
			g.open({
				windowClass: "request_contain",
				templateUrl: "usercenter/request_reg.tpl.html",
				controller: "UsercenterrequestCtrl",
				resolve: {}
			}).result.then(function() {}, function() {})
		}, c.login = function() {
			h.showLogin()
		}, c.register = function() {
			h.showRegister()
		}, c.showToolBar = function() {
			return e.$$path.indexOf("/scene/create") < 0
		}, c.showPanel = function() {
			$("#helpPanel").stop().animate({
				right: "0"
			}, 500)
		}, c.hidePanel = function() {
			$("#helpPanel").stop().animate({
				right: "-120"
			}, 500)
		}, c.suggestionUrl = "http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=45", c.feedbackUrl = "http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=46", c.qqChatUrl = "http://shang.qq.com/wpa/qunwpa?idkey=4a2d63670009360b878aa9a1e1437ef4caec132f74a0e2c4df4a686168cc73dc", c.helpUrl = "http://bbs.eqxiu.com/forum.php", c.createSkillUrl = "http://bbs.eqxiu.com/forum.php?gid=37", c.safeApply = function(a) {
			var b = this.$root.$$phase;
			"$apply" == b || "$digest" == b ? a && "function" == typeof a && a() : this.$apply(a)
		}
	}]).filter("fixnum", [function() {
		return function(a) {
			var b = a;
			return a >= 1e4 && 1e8 > a ? b = (a / 1e4).toFixed(1) + "万" : a >= 1e8 && (b = (a / 1e8).toFixed(1) + "亿"), b
		}
	}]), angular.module("app").run(["$templateCache", function(a) {
		a.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="prev eqf-chevron-small-left" ng-click="prev()" ng-show="slides.length > 1"></a>\n    <a class="next eqf-chevron-small-right" ng-click="next()" ng-show="slides.length > 1"></a>\n</div>\n')
	}]), angular.module("data.edit", ["services.usercenter", "services.i18nNotifications"]), angular.module("data.edit").controller("EditDataCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "dataService", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		b.sceneId = d.sceneId, b.sexOptions = [{
			id: 1,
			name: "男"
		}, {
			id: 2,
			name: "女"
		}], b.sex = b.sexOptions[0], b.isAllowedToAccessGrouping = f.isAllowToAccess(f.accessDef.GROUP_CUSTOMER);
		var l = a.branchid,
			m = {};
		b.getDataDetail = function(a) {
			j.getDataDetail(b.sceneId, l).then(function(a) {
				b.dataDetail = a.data.obj, m = a.data.obj, b.groupNames = b.dataDetail.group;
				var c = b.dataDetail.email,
					d = b.dataDetail.sex,
					e = b.dataDetail.mobile,
					f = b.dataDetail.tel;
				c ? b.formEmails = c.split(",") : b.formEmails = [""], e ? b.formMobiles = e.split(",") : b.formMobiles = [""], f ? b.formTels = f.split(",") : b.formTels = [""], d && ("男" == d ? b.sex = b.sexOptions[0] : b.sex = b.sexOptions[1])
			})
		}, "create" != b.sceneId && b.getDataDetail(b.sceneId), b.dataDetail || (b.dataDetail = {}, b.sex = null, b.formEmails = [""], b.formMobiles = [""], b.formTels = [""]), b.updateData = function(a, c, d) {
			var e = a.name,
				f = {};
			if ("email" == e || "mobile" == e || "tel" == e) {
				f[e] = "";
				var g, h = [];
				for (g = 0; g < c.length; g++) c[g] && h.push(c[g]);
				for (g = 0; g < h.length - 1; g++) f[e] += h[g] + ",";
				f[e] += h[g]
			} else f[e] = b.dataDetail[e];
			m[e] = f[e]
		}, b.updateSex = function(a) {
			var c = {};
			c.id = b.sceneId, 0 !== a.id ? c.sex = a.name : c.sex = "", m.sex = c.sex
		}, b.formEmails = [""], b.formMobiles = [""], b.formTels = [""], b.removeInputs = function(a, c, d) {
			if (d.length > 1) {
				if (!d[a]) return void d.splice(a, 1);
				d.splice(a, 1), b.updateData({
					name: c
				}, d)
			} else 1 === d.length && "" !== d[0] && (d[a] = "", b.updateData({
				name: c
			}, d))
		}, b.addInputs = function(a) {
			a.push("")
		}, b.saveData = function() {
			if (countCharacters(m.name) > 50) return void k.pushForCurrentRoute("customer.name.overflow", "notify.success");
			delete m.group, m && $.each(m, function(a, b) {
				"undefined" == b && (m[a] = null)
			});
			var a = "create" == b.sceneId ? !0 : !1;
			"create" == b.sceneId && delete m.id, j.saveData($.param(m), a).then(function(a) {
				a.data.success && (alert("保存成功"), i.path("/main/customer"))
			})
		}, b.cancel = function() {
			i.path("/main/customer")
		}, b.groups = [], b.getGroups = function() {
			b.groups.length > 0 || j.getGroups().then(function(a) {
				b.groups = a.data.list
			}, function(a) {
				alert("服务器异常！")
			})
		}, b.getGroups(), b.deleteAssociation = function(a, c, d) {
			var e = {
				cId: a,
				gId: c
			};
			h.openConfirmDialog({
				msg: "确定解除组关联?"
			}, function() {
				j.deleteAssociation(e).then(function(a) {
					if (a.data.success) for (var d = 0; d < b.groupNames.length; d++) b.groupNames[d].id == c && b.groupNames.splice(d, 1)
				}, function(a) {
					alert("服务器异常！")
				})
			})
		}, b.addGroup = function() {
			g.open({
				windowClass: "group-console",
				templateUrl: "main/console/group.tpl.html",
				controller: "AddGroupCtrl",
				resolve: {
					sceneCreat: function() {
						return {}
					}
				}
			}).result.then(function(a) {
				b.groups.splice(1, 0, a)
			}, function() {})
		};
		var n = [];
		b.assignGroup = function() {
			for (var a = [], c = 0, d = b.groups.length; d > c; c++) if (b.groups[c].selected) {
				n.push(b.groups[c].id);
				var e = {
					id: b.groups[c].id,
					name: b.groups[c].name
				};
				a.push(e)
			}
			if (!n.length) return void alert("您还没有选择分组!");
			var f = {
				cIds: b.dataDetail.id,
				gIds: n
			};
			j.assignGroup(f).then(function(c) {
				if (c.data.success) {
					o();
					for (var d = 0; d < a.length; d++) if (b.groupNames.length > 0) for (var e = 0; e < b.groupNames.length && b.groupNames[e].id != a[d].id; e++) e == b.groupNames.length - 1 && b.groupNames.push(a[d]);
					else b.groupNames.push(a[d]);
					k.pushForCurrentRoute("data.assign.success", "notify.success")
				}
			}, function() {})
		}, b.deleteGroup = function(a, c) {
			h.openConfirmDialog({
				msg: "确定删除此分组?"
			}, function() {
				j.deleteGroup(a.id).then(function(d) {
					if (d.data.success) {
						o(), b.groups.splice(c, 1);
						for (var e = 0; e < b.groupNames.length; e++) b.groupNames[e].id == a.id && b.groupNames.splice(e, 1)
					}
				}, function(a) {
					alert("服务器异常")
				})
			})
		};
		var o = function() {
				for (var a = 0, c = b.groups.length; c > a; a++) b.groups[a].selected = !1
			}
	}]), angular.module("bindemail-dialog", []).controller("BindEmailDialogCtrl", ["$scope", function(a) {}]), angular.module("confirm-dialog", []).controller("ConfirmDialogCtrl", ["$scope", "confirmObj", function(a, b) {
		a.confirmObj = b, a.ok = function() {
			a.$close()
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("message-dialog", []).controller("MessageDialogCtrl", ["$scope", "msgObj", function(a, b) {
		a.msgObj = b, a.close = function() {
			a.$close()
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("error", []), angular.module("error").controller("ErrorCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", function(a, b, c, d, e, f) {
		c.PREFIX_CLIENT_HOST = PREFIX_HOST
	}]), angular.module("home", ["services.sample","app.directives.addelement", "services.staticRes", "services.scene", "app.directives.qrcode", "app.directives.loading", "security.thirdparty"]), angular.module("home").controller("HomeCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sceneService", "$routeParams", "$route", "$location", "configService", "thirdpartyService", "staticResService", "configSerService","sampleService", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n,z) {
		c.home70fun= function(){
			 
		  $('.header-fixed').addClass('header-opacity');  //
		  $('.header-shadow').hide(); 
		   
		 $('.slide').slider({autoRollingTime:10000,bgSpeed:500,motion:{'a1-1':{left:-384,opacity:0,speed:1000,delay:500},'a1-2':{left:931,opacity:0,speed:1000,delay:1000},'a1-3':{left:1116,opacity:0,speed:1000,delay:1200},'a1-4':{left:731,opacity:0,speed:1000,delay:1400},'a2-1':{top:679,opacity:0,speed:1000,delay:500},'a2-2':{top:679,opacity:0,speed:1000,delay:800},'a2-3':{left:-1169,opacity:0,speed:1000,delay:800},'a2-4':{opacity:0,speed:1000,delay:1200},'a2-5':{opacity:0,speed:1000,delay:1500},'a2-6':{opacity:0,speed:1000,delay:1700},'a2-7':{top:559,opacity:0,speed:1000,delay:1800},'a2-8':{top:559,opacity:0,speed:1000,delay:2000},'a2-9':{top:559,opacity:0,speed:1000,delay:2200},'a2-10':{opacity:0,speed:1000,delay:2400},'a2-11':{opacity:0,speed:1000,delay:2600},'a2-12':{top:-60,opacity:0,speed:1000,delay:2800},'a3-1':{top:679,opacity:0,speed:1000,delay:200},'a3-2':{left:-200,opacity:0,speed:1000,delay:1000},'a3-3':{left:824,opacity:0,speed:1000,delay:1000},'a3-4':{left:-94,opacity:0,speed:500,delay:1500},'a3-5':{opacity:0,speed:500,delay:1600},'a3-6':{opacity:0,speed:500,delay:1700},'a3-7':{opacity:0,speed:500,delay:1800},'a3-8':{opacity:0,speed:500,delay:1900},'a3-9':{opacity:0,speed:500,delay:2000},'a3-10':{opacity:0,speed:500,delay:2100},'a3-11':{opacity:0,speed:500,delay:2200},'a3-14':{opacity:0,speed:1000,delay:2300},'a3-15':{opacity:0,speed:1000,delay:2400},'a3-23':{opacity:0,speed:500,delay:2500},'a3-22':{opacity:0,speed:500,delay:2600},'a3-21':{opacity:0,speed:500,delay:2700},'a3-20':{opacity:0,speed:500,delay:2800},'a3-19':{opacity:0,speed:500,delay:2900},'a3-18':{opacity:0,speed:500,delay:3000},'a3-17':{opacity:0,speed:500,delay:3100},'a3-16':{opacity:0,speed:500,delay:3200},'a3-12':{opacity:0,speed:500,delay:3300},'a3-13':{opacity:0,speed:500,delay:3400},'a4-1':{top:679,opacity:0,speed:1000,delay:200},'a4-2':{left:-200,opacity:0,speed:1000,delay:1000},'a4-3':{left:824,opacity:0,speed:1000,delay:1000},'a4-4':{left:-94,opacity:0,speed:500,delay:1500},'a4-5':{left:-60,opacity:0,speed:500,delay:1500},'a5-1':{top:679,opacity:0,speed:1000,delay:500},'a5-2':{top:679,opacity:0,speed:1000,delay:800},'a5-3':{left:-1169,opacity:0,speed:1000,delay:800},'a5-4':{opacity:0,speed:1000,delay:1200},'a6-1':{top:679,opacity:0,speed:1000,delay:200},'a6-2':{left:-200,opacity:0,speed:1000,delay:1000},'a6-3':{left:824,opacity:0,speed:1000,delay:1000},'a6-4':{left:-94,opacity:0,speed:500,delay:1500},end:null}});
		}
		

		c.showCode = !1, c.isAuthenticated = e.isAuthenticated, c.registerMsg = {}, c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.PREFIX_CLIENT_HOST = PREFIX_HOST, c.PREFIX_SERVER_HOST = PREFIX_URL, c.scene || (c.scene = {}), c.typeindex = "all", c.pageSize = 12, c.pageNo = 1,c.getHomes = function(a, b, d, e) {
				c.typeindex = a, z.getSamples(b, d, e).then(function(a) {
				c.homes = a.data.list
			}, function(a) {})
		};
		var o = function(a) {
				n.getActivityBanner(a).then(function(a) {
					c.homeAd = a.data.list
				})
			};
		o("indexAd"), c.sceneTypes = m.getSceneType();
		
		k.getBanner70().then(function(re) {  //
			//c.banners = re.data.list; 
			console.log('re',re);
			$("#slides_bgcc").html(re.data.banner_bg); 
			$("#slide_switchcc").html(re.data.slide_switchcc);
			$("#banner_body").html(re.data.banner_body);
			var stop = setInterval(function () { $("#scenecount").html(parseInt($("#scenecount").html()) + 150); }, 10);
			setTimeout(function () { window.clearInterval(stop); $("#scenecount").html(re.data.scenecount); }, 5000);
			c.home70fun();
		}),
		  k.getMenu70().then(function(re) {
			c.menus = re.data.list; 
		}),
		c.getHomes("all", null, 1, 12);
		
		k.getFriendLinks().then(function(a) {
			c.friendLinks = a.data.list, c.friendLinks.length > 15 && (c.friendLinks.length = 15)
		})
	}]).directive("iframeImgSwitch", function() {
		return {
			compile: function(a, b) {
				(document.documentMode || navigator.userAgent.indexOf("Edge") > 0) && (a.find(".svg-animation").css("display", "none"), a.find(".noSvg").css("display", "block"))
			}
		}
	}), angular.module("customer.group", ["services.data", "services.i18nNotifications"]), angular.module("customer.group").controller("AddGroupCtrl", ["$rootScope", "$scope", "dataService", "i18nNotifications", "sceneCreat", function(a, b, c, d, e) {
		b.group = {}, b.authError = "", e && (b.group.name = e.name, b.group.id = e.id, b.title = e.title), b.confirm = function() {
			if (!b.group.name) return void(b.authError = "请输入分组名称");
			var a = countCharacters(b.group.name);
			if (a > 12) return void(b.authError = "分组名称不能大于12个字符或6个汉字！");
			var f = {
				name: b.group.name
			};
			e && e.type ? b.group.id ? c.updateSceneGroup(b.group.id, b.group.name).then(function(a) {
				d.pushForCurrentRoute("group.create.success", "notify.success"), b.$close({
					id: b.group.id,
					name: b.group.name
				})
			}) : c.createSceneGroup(f).then(function(a) {
				a.data.success && (d.pushForCurrentRoute("group.create.success", "notify.success"), b.$close({
					id: a.data.obj,
					name: b.group.name
				}))
			}, function() {}) : c.createGroup(f).then(function(a) {
				a.data.success && (d.pushForCurrentRoute("group.create.success", "notify.success"), b.$close({
					id: a.data.obj,
					name: b.group.name
				}))
			}, function() {})
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("main.transferScene", ["services.usercenter"]), angular.module("main.transferScene").controller("TransferSceneCtrl", ["$scope", "$rootScope", "sceneService", "sceneId", "dataCacheService", function(a, b, c, d, e) {
		a.model = {
			toUser: ""
		}, a.transferScene = !0, a.confirm = function() {
			return a.model.toUser ? a.model.toUser == b.user.loginName ? void(a.actionerror = "不能转送自己") : void c.transferScene(d.sceneId, a.model.toUser).then(function(b) {
				200 == b.data.code ? (e.clear("sceneList"), a.transferScene = !1) : a.actionerror = b.data.msg
			}) : void(a.actionerror = "账号不能为空")
		}, a.cancel = function() {
			a.$close()
		}
	}]), angular.module("main.data", ["app.directives.dataDraggable", "customer.group", "services.i18nNotifications", "app.directives.customer"]), angular.module("main.data").controller("CustomerCtrl", ["$rootScope", "$scope", "$route", "$location", "$timeout", "dataService", "$modal", "ModalService", "i18nNotifications", "security", function(a, b, c, d, e, f, g, h, i, j) {
		b.PREFIX_URL = PREFIX_URL, b.isActive = "customer", b.select = 0, b.showBranchSelect = !0;
		var k = a.branchid;
		b.toPage = 1, b.model = {}, b.dataShow = "message", f.getCustomDatas(k), b.$on("customDatas", function(a, c) {
			b.customCount = c
		}), b.customer = {
			group: null,
			origin: null
		}, b.branchEdit = !0, b.branchDelete = !0, b.branchExport = !0, e(function() {
			(21 == b.user.type || 51 == b.user.type) && (b.user.extPermi ? (/^([\d,]+,)?1(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchEdit = !0 : b.branchEdit = !1, /^([\d,]+,)?2(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchDelete = !0 : b.branchDelete = !1, /^([\d,]+,)?3(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchExport = !0 : b.branchExport = !1) : (b.branchEdit = !1, b.branchDelete = !1, b.branchExport = !1))
		}, 100), b.downLoad = function(a, b) {
			var c;
			c = PREFIX_S3_URL + "index.php?c=custom&a=exp" + (k ? "?user=" + k : ""), b && (c += (/\?/.test(c) ? "&" : "?") + "origin=" + b), a && (c += (/\?/.test(c) ? "&" : "?") + "groupId=" + a), location.href = c
		}, b.staticFileds = [], b.staticFileds = [{
			id: "name",
			name: "姓名"
		}, {
			id: "mobile",
			name: "手机"
		}, {
			id: "email",
			name: "邮箱"
		}, {
			id: "sex",
			name: "性别"
		}, {
			id: "company",
			name: "公司"
		}, {
			id: "job",
			name: "职位"
		}, {
			id: "address",
			name: "地址"
		}, {
			id: "tel",
			name: "电话"
		}, {
			id: "website",
			name: "个人网站"
		}, {
			id: "qq",
			name: "QQ"
		}, {
			id: "weixin",
			name: "微信"
		}, {
			id: "remark",
			name: "其他"
		}], b.selectScene = function(a, c) {
			b.selectedSceneId = a, f.getSceneField(a).then(function(a) {
				b.fields = a.data.list, b.select = c, $(".list_attribute").html("拖拽到此处")
			})
		}, b.clickScene = function() {
			d.path("main")
		}, b.clickSpread = function() {
			d.path("main/spread")
		}, b.clickCustomer = function() {
			d.path("main/customer")
		}, b.editCustomer = function(a) {
			b.getDataDetail(a.id), b.editData = !0
		}, b.removeCustomer = function(a) {
			h.openConfirmDialog({
				msg: "确定删除此条数据?"
			}, function() {
				f.deleteDataById(a.id).then(function(a) {
					200 == a.data.code && i.pushForCurrentRoute("custom.data.delete", "notify.success"), 1 === b.customerDatas.length && b.model.currentPage > 1 ? b.getDataBySceneId(b.model.currentPage - 1, k, b.groupId, b.origin) : b.getDataBySceneId(b.model.currentPage, k, b.groupId, b.origin), f.getCustomDatas(k)
				})
			})
		}, b.addColor = function(a) {
			b.trIndex = a
		}, b.removeColor = function() {
			b.trIndex = -1
		}, b.totalItems = 0, b.model.currentPage = 0, b.toPage = "", b.pageChanged = function(a, c, d, e) {
			return 1 > a || a > b.totalItems / 10 + 1 ? void alert("此页超出范围") : (b.model.currentPage = a, void b.getDataBySceneId(a, c, d, e))
		}, b.getDataBySceneId = function(a, c, d, e) {
			a || (a = 1), d && (b.groupId = d), e && (b.origin = e), f.getAllData(a, c, d, e).then(function(a) {
				b.customerDatas = a.data.list, b.totalItems = a.data.map.count, b.model.currentPage = a.data.map.pageNo, b.toPage = "", b.totalNum = Math.ceil(b.totalItems / a.data.map.pageSize)
			})
		}, b.getDataBySceneId(1, k, null, null), b.editCustom = function(a, b) {
			d.path("/main/customer/" + a.id)
		};
		var l = function() {
				f.getDataMessage(k).then(function(a) {
					b.dataMessage = a.data.list
				})
			};
		l(), b.sceneLoad = function(a) {
			var b = PREFIX_S3_URL + "index.php??c=scenedata&a=excel&flag=noheader&id=" + a + (k ? "&user=" + k : "");
			location.href = b
		}, b.importDatas = function() {
			f.getPremergeScenes(k).then(function(a) {
				b.importDatas = a.data.list, a.data.list.length > 0 && b.selectScene(a.data.list[0].ID, 0)
			})
		}, b.associateData = {};
		var m = !0;
		if (b.confirm = function() {
			m ? jQuery.isEmptyObject(b.associateData, {}) ? (alert("请导入数据！"), m = !0) : (f.mergeSceneData(b.selectedSceneId, b.associateData).then(function() {
				alert("你已成功导入客户！"), c.reload()
			}, function() {}), m = !1) : alert("请不要重复提交！")
		}, b.importDatas(), b.isAllowedToAccessGrouping = j.isAllowToAccess(j.accessDef.GROUP_CUSTOMER), b.isAllowedToAccessGrouping) {
			b.allImages = {
				selected: !1
			}, b.selectAll = function() {
				for (var a = 0, c = b.customerDatas.length; c > a; a++) b.customerDatas[a].selected = b.allImages.selected
			}, b.selectCustomer = function(a) {
				a.selected || (b.allImages.selected = !1)
			}, b.groups = [], b.getGroups = function() {
				b.groups.length > 0 || f.getGroups(k).then(function(a, c) {
					b.groups = a.data.list
				}, function(a) {})
			}, b.getGroups(), b.getOrigins = function() {
				f.getOrigin(k).then(function(a) {
					b.origins = a.data.list
				}, function(a) {
					alert("服务器异常")
				})
			}, b.getOrigins(), b.addGroup = function() {
				g.open({
					windowClass: "group-console console",
					templateUrl: "main/console/group.tpl.html",
					controller: "AddGroupCtrl",
					resolve: {
						sceneCreat: function() {
							return {}
						}
					}
				}).result.then(function(a) {
					b.groups.push(a), q(), i.pushForCurrentRoute("group.create.success", "notify.success")
				}, function() {})
			};
			var n = [],
				o = [];
			b.assignGroup = function() {
				n = [], o = [];
				for (var a = 0, c = b.customerDatas.length; c > a; a++) b.customerDatas[a].selected && n.push(b.customerDatas[a].id);
				for (a = 0, c = b.groups.length; c > a; a++) b.groups[a].selected && o.push(b.groups[a].id);
				if (!n.length) return void alert("您还没有选择客户!");
				if (!o.length) return void alert("您还没有选择分组!");
				var d = {
					cIds: n,
					gIds: o
				};
				f.assignGroup(d).then(function(a) {
					a.data.success && (q(), b.allImages.selected = !1, p(), i.pushForCurrentRoute("data.assign.success", "notify.success"))
				}, function() {})
			}, b.deleteCustomer = function(a) {
				n = [];
				var c, d;
				if (a) c = {
					ids: a.id
				}, d = "确定删除此条数据?";
				else {
					for (var e = 0, g = b.customerDatas.length; g > e; e++) b.customerDatas[e].selected && n.push(b.customerDatas[e].id);
					if (!n.length) return void alert("您还没有选择客户!");
					c = {
						ids: n
					}, d = "确定删除此条数据?"
				}
				h.openConfirmDialog({
					msg: d
				}, function() {
					f.deleteCustomer(c).then(function(a) {
						a.data.success && (b.allImages.selected = !1, p(), q(), i.pushForCurrentRoute("data.delete.success", "notify.success"))
					}, function(a) {
						alert("服务器异常")
					})
				})
			}, b.deleteGroup = function(a, c) {
				h.openConfirmDialog({
					msg: "确定删除此分组?"
				}, function() {
					f.deleteGroup(a.id).then(function(a) {
						a.data.success && (b.groups.splice(c, 1), q(), i.pushForCurrentRoute("group.delete.success", "notify.success"))
					}, function(a) {
						alert("服务器异常")
					})
				})
			};
			var p = function() {
					1 === b.customerDatas.length && b.model.currentPage > 1 ? b.getDataBySceneId(b.model.currentPage - 1) : b.getDataBySceneId(b.model.currentPage)
				},
				q = function() {
					for (var a = 0, c = b.groups.length; c > a; a++) b.groups[a].selected = !1
				}
		}
		b.createData = function() {
			d.path("main/customer/create")
		}, b.sceneData = function() {
			b.dataShow = "dataIn"
		}, b.$watch("model.currentPage", function(a, c) {
			a && a != c && (b.model.toPage = a)
		}, !0)
	}]).filter("propsFilter", function() {
		return function(a, b) {
			var c = [];
			if (angular.isArray(a)) {
				var d = Object.keys(b);
				a.forEach(function(a) {
					for (var e = !1, f = 0; f < d.length; f++) {
						var g = d[f],
							h = b[g].toLowerCase();
						if (-1 !== a[g].toString().toLowerCase().indexOf(h)) {
							e = !0;
							break
						}
					}
					e && c.push(a)
				})
			} else c = [];
			return c
		}
	}), angular.module("main", ["services.mine", "services.data", "app.directives.pageTplTypes", "services.staticRes", "app.directives.addelement", "main.data", "main.print", "main.transferScene", "services.usercenter", "main.userGuide", "main.upgradeGuide", "services.i18nNotifications", "common.directives.scroll", "main.newVersionFrame"]), angular.module("main").controller("MainCtrl", ["$rootScope", "$scope", "$location", "security", "MineService", "dataService", "sceneService", "ModalService", "$modal", "usercenterService", "i18nNotifications", "configSerService", "SpreadService", "$filter", "staticResService", "$timeout", "dataCacheService", "$route", "storageService", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
		b.PREFIX_URL = PREFIX_URL, b.PREFIX_CLIENT_HOST = PREFIX_HOST, b.client_cdn = CLIENT_CDN, b.scene = {
			type: null
		}, b.pageSize = 12;
		var t = 1;
		b.isAllowedHistory = d.isAllowToAccess(d.accessDef.USERCENTER_HISTORY), b.showCloseStatus = [], b.showOpenStatus = [], b.isActive = "main", b.loginSuccess = d.isLoginSuccess, b.myScene = !0, b.allPageCount = 0;
		var u = {};
		b.userType = d.currentUser.type, (2 == d.currentUser.type || 1 == d.currentUser.type || 21 == d.currentUser.type || 5 == d.currentUser.type || 51 == d.currentUser.type) && (b.companyType = !0), b.createScene = function(a, c) {
			if (1 == b.userType && c) return void h.openConfirmDialog({
				msg: "免费升级企业会员可使用 会员专属场景",
				confirmName: "免费升级",
				cancelName: "再看看"
			}, function() {
				return "eqs" == d.currentUser.loginName.substr(0, 3) && null == d.currentUser.email ? void h.openMsgDialog({
					msg: "您当前为第三方账号，未绑定已有账号，请先去绑定"
				}) : void window.open("/#/privilege")
			});
			if (a && a.price) {
				var e = parseFloat(a.price) || 0;
				c ? e > 0 ? g.getUserNum(a).then(function(d) {
					if (200 == d.data.code) d.data.obj > 0 ? h.openConfirmDialog({
						msg: '您当月可免费使用当前收费样例<font color="#ff6e6e">' + d.data.obj + "</font>次机会",
						confirmName: "确定",
						cancelName: "取消"
					}, function() {
						i.open({
							windowClass: "login-container six-contain",
							templateUrl: "scene/createNew.tpl.html",
							controller: "SceneNewCtrl",
							resolve: {
								items: function() {
									return a
								},
								groupCom: function() {
									return c
								}
							}
						})
					}) : e && e > b.userXd ? h.openConfirmDialog({
						msg: '您当前没有免费使用收费样例的机会<br />当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个)",
						confirmName: "立即购买",
						cancelName: "取消"
					}, function() {
						b.buyXd()
					}) : h.openConfirmDialog({
						msg: '您当前没有免费使用收费样例的机会<br />当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个"
					}, function() {
						i.open({
							windowClass: "login-container six-contain",
							templateUrl: "scene/createNew.tpl.html",
							controller: "SceneNewCtrl",
							resolve: {
								items: function() {
									return a
								},
								groupCom: function() {
									return c
								}
							}
						})
					});
					else if (120204 == d.data.code || 120203 == d.data.code) {
						var f;
						120204 == d.data.code ? f = "您所购买的企业收费会员已经到期，没有免费使用收费样例的权限。" : 120203 == d.data.code && (f = "您本月免费次数已用尽"), e && e > b.userXd ? h.openConfirmDialog({
							msg: f + '<br />当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个)",
							confirmName: "立即购买",
							cancelName: "取消"
						}, function() {
							b.buyXd()
						}) : h.openConfirmDialog({
							msg: f + '<br />当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个"
						}, function() {
							i.open({
								windowClass: "login-container six-contain",
								templateUrl: "scene/createNew.tpl.html",
								controller: "SceneNewCtrl",
								resolve: {
									items: function() {
										return a
									},
									groupCom: function() {
										return c
									}
								}
							})
						})
					}
				}) : i.open({
					windowClass: "login-container six-contain",
					templateUrl: "scene/createNew.tpl.html",
					controller: "SceneNewCtrl",
					resolve: {
						items: function() {
							return a
						},
						groupCom: function() {
							return c
						}
					}
				}) : e && e > b.userXd ? h.openConfirmDialog({
					msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个)",
					confirmName: "立即购买",
					cancelName: "取消"
				}, function() {
					b.buyXd()
				}) : h.openConfirmDialog({
					msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + e + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个"
				}, function() {
					i.open({
						windowClass: "login-container six-contain",
						templateUrl: "scene/createNew.tpl.html",
						controller: "SceneNewCtrl",
						resolve: {
							items: function() {
								return a
							},
							groupCom: function() {
								return c
							}
						}
					})
				})
			} else i.open({
				windowClass: "login-container six-contain",
				templateUrl: "scene/createNew.tpl.html",
				controller: "SceneNewCtrl",
				resolve: {
					items: function() {
						return a
					},
					groupCom: function() {
						return c
					}
				}
			})
		};
		var v = a.branchid;
		b.initShowGuide = !0;
		var w = function() {

			};
		a.newFrameMark = !0, b.newVersionFrameFn = function() {
		}, b.$on("testnewVersionFram", function() {
			b.newVersionFrameFn()
		}), b.$on("newVersionFram", function() {
			b.newVersionFrameFn()
		}), b.$on("upgradeComNewVersion", function() {
			b.newVersionFrameFn()
		});
		var x = function() {
				i.open({
					windowClass: "seven-contain",
					templateUrl: "usercenter/console/upgrade_company.tpl.html",
					controller: "UsercenterupgradeCtrl",
					resolve: {
						user: function() {
							return {
								id: b.user.id
							}
						}
					}
				}).result.then(function() {}, function() {})
			};
		localStorage.getItem("alreadyShowGuide") ? b.initShowGuide = !1 : (b.initShowGuide = !0, localStorage.setItem("alreadyShowGuide", !0)), a.firstLogin && b.initShowGuide ? setTimeout(function() {
			"companyUser" != a.regUserType ? w() : x()
		}, 300) : "2" == d.currentUser.type && c.path().indexOf("/main") >= 0 ? b.$on("companyVip", function() {
			b.newVersionFrameFn()
		}) : b.newVersionFrameFn(), b.XdpageSize = 100, b.getBranches = function(a) {
			j.getBranches(b.XdpageSize, a).then(function(a) {
				a.data.success && (b.branches = a.data.list)
			}, function() {})
		}, b.getBranches(1), a.branchid ? (b.switchChild = !1, "my" !== b.sceneList && (b.sceneList = "my", window.localStorage && (u[d.currentUser.id] = b.sceneList, localStorage.setItem("sceneTab", JSON.stringify(u))))) : b.switchChild = !0, b.selectBranch = function(d) {
			d ? (b.branchCurrent = d, a.branchid = d.id, c.search({
				branchid: d.id
			}), b.switchChild = !1) : (a.branchid = "", c.search("branchid", null)), r.reload()
		};
		var y = c.search().branchid;
		p(function() {
			if (y) for (var a = 0; a < b.branches.length; a++) b.branches[a].id == y && (b.branchCurrent = b.branches[a])
		}, 300), b.showSceneList = function() {
			b.initShowGuide = !1, a.$broadcast("eqmain.overflow.visible")
		}, b.$watch("user.loginName", function(a, c) {
			if (a) {
				var d = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
				b.loginSuccess && "eqs" == a.substr(0, 3) && !d.test(a) && k.pushForCurrentRoute("rel.tip", "notify.tip")
			}
		}), b.editScene = function(a, b, d) {
			return a && a.stopPropagation(), 1 == d.isExpedited ? void h.openMsgDialog({
				msg: "该场景已在加急审核中，暂时无法编辑场景，请耐心等待",
				btn: "确认"
			}, function() {}) : void(30 == d.bizType ? i.open({
				windowClass: "seven-contain",
				templateUrl: "main/mobileTansform.tpl.html"
			}).result.then(function() {
				c.path("scene/create/" + b).search("pageId", 1)
			}, function() {}) : c.path("scene/create/" + b).search("pageId", 1))
		}, b.showPreview = function(a, c) {
			var d = b.canvasUrl + ("/v-" + c.code);
			return v ? void window.open(d) : void(c.publishTime ? c.publishTime && c.updateTime > c.publishTime ? h.openConfirmDialog({
				msg: "场景有更新需要再次发布才能预览最新内容，坚持预览会看到修改之前的场景",
				confirmName: "发布",
				cancelName: "坚持预览"
			}, function() {
				b.publishScene(a, c)
			}, function() {
				a && a.stopPropagation(), window.open(d)
			}) : (a && a.stopPropagation(), window.open(d)) : h.openConfirmDialog({
				msg: "尚未发布场景无法预览，请先发布",
				confirmName: "发布",
				cancelName: "取消"
			}, function() {
				b.publishScene(a, c)
			}))
		}, window.localStorage && "false" == localStorage.getItem("myScenesListType") ? b.listType = !1 : b.listType = !0, b.listToggle = function() {
			b.listType = !b.listType, ("system" == b.sceneList || "sample" == b.sceneList) && (b.listType = !0), window.localStorage && localStorage.setItem("myScenesListType", b.listType)
		}, b.addColor = function(a) {
			b.trIndex = a
		}, b.removeColor = function() {
			b.trIndex = -1
		}, b.sceneSettings = function(a, b, d) {
			return 1 == d.isExpedited ? void h.openMsgDialog({
				msg: "该场景已在加急审核中，暂时无法设置场景，请耐心等待",
				btn: "确认"
			}, function() {}) : (a && a.stopPropagation(), void(30 == d.bizType ? i.open({
				windowClass: "seven-contain",
				templateUrl: "main/mobileTansform.tpl.html"
			}).result.then(function() {
				c.path("scene/create/" + b).search({
					pageId: 1,
					openSetting: "show"
				})
			}, function() {}) : c.path("scene/create/" + b).search({
				pageId: 1,
				openSetting: "show"
			})))
		}, b.clickScene = function() {
			c.path("main")
		}, b.clickSpread = function() {
			c.path("main/spread")
		}, b.creatCompanyTpl = function(a, c, d) {
			a && a.stopPropagation(), g.createCompanyTpls(c).then(function(a) {
				a.data.success && (b.myScenes[d].isTpl = 3, k.pushForCurrentRoute("scene.save.success.companyTpl", "notify.success"))
			})
		}, b.clearCompanyTpl = function(a, c, d) {
			a && a.stopPropagation(), g.clearCompanyTpls(c).then(function(a) {
				a.data.success && (b.myScenes[d].isTpl = 0, k.pushForCurrentRoute("scene.clear.success.companyTpl", "notify.success"))
			})
		}, b.clickCustomer = function() {
			c.path("main/customer")
		}, b.register = d.getRegisterInfo(), b.logout = function() {
			d.logout()
		}, b.copyScene = function(a, b) {
			a && a.stopPropagation(), h.openConfirmDialog({
				msg: "确定复制此场景?"
			}, function() {
				g.copySceneById(b).then(function(a) {
					200 == a.data.code && c.path("scene/create/" + a.data.obj).search("pageId", 1)
				})
			})
		}, b.isAllowedToAccessTransfer = d.isAllowToAccess(d.accessDef.TRANSFER_SCENE), b.isAllowedToAccessTransfer && (b.transferScene = function(c, d) {
			c && c.stopPropagation(), "eqs" == a.user.loginName.substr(0, 3) && null == a.user.email ? h.openBindEmailDialog() : i.open({
				windowClass: "six-contain",
				templateUrl: "main/console/transferscene.tpl.html",
				controller: "TransferSceneCtrl",
				resolve: {
					sceneId: function() {
						return {
							sceneId: d
						}
					}
				}
			}).result.then(function() {
				b.getMyScenes()
			}, function() {
				b.getMyScenes()
			})
		}), b.getStyle = function(a) {
			return {
				"background-image": "url(" + PREFIX_FILE_HOST + a + ")",
				"background-size": "cover"
			}
		}, b.totalItems = 0, b.page = {
			currentPage: 1
		}, b.toPage = "", b.name = null, b.EnterPress = function(a, c) {
			var d = a || window.event;
			13 == d.keyCode && b.submit(c)
		}, b.searchButton = !0;
		var z = {},
			A = {};
		b.submit = function(a) {
			A.name = a, b.name = a, e.getMyScenes(b.scene.type ? b.scene.type.value : null, t, b.pageSize, v, a, null, A.groupId), a && (b.searchButton = !1), z.refresh = !0
		}, b.changeName = function(a) {
			b.searchButton = !0, "" == a && z.refresh && (A.name = a, e.getMyScenes(b.scene.type ? b.scene.type.value : null, t, b.pageSize, v, a, null, A.groupId))
		}, b.clearSearch = function() {
			A.name = "", b.searchButton = !0, b.name = "", e.getMyScenes(b.scene.type ? b.scene.type.value : null, t, b.pageSize, v, null, null, A.groupId)
		}, b.getMyScenes = function(a, c) {
			"myScene" == c && (A.groupId = null), e.getMyScenes(b.scene.type ? b.scene.type.value : null, a, b.pageSize, v, A.name, null, A.groupId)
		}, b.$on("get.my.scene.list", function(c) {
			var d = e.scenes;
			"group" != D && "my" !== b.sceneList && (b.sceneList = "my"), d.list && d.list.length > 0 ? (b.myScenes = d.list, b.totalItems = d.map.count, b.page.currentPage = d.map.pageNo, b.toPage = d.map.pageNo, a.user && a.user.domain ? (b.url = a.user.domain, b.canvasUrl = "http://" + b.url) : (b.url = b.PREFIX_CLIENT_HOST, b.canvasUrl = b.url)) : (b.totalItems = 0, b.currentPage > 1 ? b.getMyScenes(--b.currentPage) : b.myScenes = [])
		}), b.switchList = function(a) {
			b.sceneList = a, ("system" == a || "sample" == a) && (b.listType || b.listToggle()), window.localStorage && (u[d.currentUser.id] = b.sceneList, localStorage.setItem("sceneTab", JSON.stringify(u)))
		};
		var B = {},
			C = {};
		b.getNewSample = function(c) {
			e.getNewSample().then(function(d) {
				if (200 == d.data.code) if (window.localStorage) {
					if (localStorage.getItem("guid") && JSON.parse(localStorage.getItem("guid"))[a.user.id]) {
						var e = JSON.parse(localStorage.getItem("guid"));
						e[a.user.id] != d.data.obj.guid && (q.clear("sysRecommend"), b.guid = !0, B[a.user.id] = d.data.obj.guid, "recommend" == c && (b.guid = !1, localStorage.setItem("guid", JSON.stringify(B))))
					} else B[a.user.id] = d.data.obj.guid, localStorage.setItem("guid", JSON.stringify(B));
					if (localStorage.getItem("comp") && JSON.parse(localStorage.getItem("comp"))[a.user.id]) {
						var f = JSON.parse(localStorage.getItem("comp"));
						f[a.user.id] != d.data.obj.comp && (q.clear("companySample"), b.comp = !0, C[a.user.id] = d.data.obj.comp, "company" == c && (b.comp = !1, localStorage.setItem("comp", JSON.stringify(C))))
					} else C[a.user.id] = d.data.obj.comp, localStorage.setItem("comp", JSON.stringify(C))
				} else B[a.user.id] = d.data.obj.guid, C[a.user.id] = d.data.obj.comp, window.localStorage && (localStorage.setItem("guid", JSON.stringify(B)), localStorage.setItem("comp", JSON.stringify(C)))
			})
		}, b.getNewSample(), b.canvasSampleUrl = b.PREFIX_CLIENT_HOST, b.getSysScene = function() {
			e.getSysRecommend(1)
		}, b.$on("get.getSysRecommend.list", function(a, c) {
			if (c.list.length > 0) {
				b.myScenes = c.list;
				for (var d = 0; d < b.myScenes.length; d++) b.myScenes[d].avatar && (0 === b.myScenes[d].avatar.indexOf("http://") ? b.myScenes[d].avatar = b.myScenes[d].avatar : b.myScenes[d].avatar = PREFIX_FILE_HOST + b.myScenes[d].avatar)
			} else b.myScenes = []
		}), b.getCompanyScene = function() {
			e.getCompanySample(d.currentUser.id, 1, 12)
		}, b.$on("get.company.sample.scene", function(a, c) {
			b.myScenes = c;
			for (var d = 0; d < b.myScenes.length; d++) b.myScenes[d].avatar && (0 === b.myScenes[d].avatar.indexOf("http://") ? b.myScenes[d].avatar = b.myScenes[d].avatar : b.myScenes[d].avatar = PREFIX_FILE_HOST + b.myScenes[d].avatar)
		}), b.currentGroup = {}, b.currentGroup.currentName = "我的场景", b.currentGroup.activeName = "my", b.currentNameGroup = function(a, c) {
			b.currentGroup.clickName = a, b.currentGroup.currentName = a, b.currentGroup.currentId = c, b.currentGroup.activeName = c, b.currentGroup.clickId = c, 0 == c ? (b.getGroupScene(0), b.switchList(0), b.currentGroup.activeName = 0, b.currentGroup.currentName = "未分组", b.currentGroup.currentId = "0", b.currentGroup.clickName = "", b.currentGroup.clickId = "0") : c ? (b.getGroupScene(c, "group"), b.switchList(c)) : (b.getMyScenes(1, "myScene"), b.switchList("my"), b.currentGroup.activeName = "my", b.currentGroup.currentName = "我的场景", b.currentGroup.currentId = null, b.currentGroup.clickName = null, b.currentGroup.clickId = null)
		}, b.$watch("sceneList", function(a, c) {
			a != c && b.sceneList != b.currentGroup.activeName && (b.currentGroup.clickId = "20160114yqxlyx")
		}, !0);
		var D;
		if (b.getGroupScene = function(a) {
			D = "group", A.groupId = a, b.page.currentPage = 1, e.getMyScenes(b.scene.type ? b.scene.type.value : null, t, 12, v, A.name, null, a)
		}, p(function() {
			e.getMyGroup(d.currentUser.id), b.$on("get.my.group", function(a, c) {
				b.groups = c, b.groups.length > 0 && (b.showWeiGroup = !0)
			})
		}, 300), a.firstLoginGuide) b.sceneList = "system", b.getSysScene(), a.firstLoginGuide = !1;
		else if (window.localStorage) if (localStorage.getItem("sceneTab")) {
			try {
				u = JSON.parse(localStorage.getItem("sceneTab"))
			} catch (E) {
				u = localStorage.getItem("sceneTab")
			}
			"string" == typeof u ? (u = {}, b.sceneList = "my", b.getMyScenes()) : (b.sceneList = JSON.parse(localStorage.getItem("sceneTab"))[d.currentUser.id], b.sceneList ? "my" == b.sceneList ? b.currentNameGroup() : "system" == b.sceneList ? b.getSysScene() : "sample" == b.sceneList ? b.getCompanyScene() : p(function() {
				b.$on("get.my.group", function(a, c) {
					b.groups = c;
					for (var d = 0; d < b.groups.length; d++) b.groups[d].id == b.sceneList && b.currentNameGroup(b.groups[d].groupName, b.sceneList)
				})
			}) : b.currentNameGroup())
		} else b.currentNameGroup();
		b.addGroup = function(a) {
			return b.groups && b.groups.length >= 5 ? void h.openMsgDialog({
				msg: "创建分组不能超过5个"
			}) : void i.open({
				windowClass: "group-console console",
				templateUrl: "main/console/group.tpl.html",
				controller: "AddGroupCtrl",
				resolve: {
					sceneCreat: function() {
						return {
							type: !0
						}
					}
				}
			}).result.then(function(c) {
				b.groups.push({
					groupName: c.name,
					id: c.id
				}), c && (b.showWeiGroup = !0, a && b.moreGroup(c.id, a, null, "sceneList")), k.pushForCurrentRoute("group.create.success", "notify.success")
			}, function() {})
		}, b.manageGroupName = !1, b.manageGroup = function() {
			b.manageGroupName = !b.manageGroupName
		}, b.showGroud = !1, b.$watch("showGroud", function() {
			1 == b.manageGroupName && (b.showGroud = !1)
		}), b.editGroup = function(a, c) {
			i.open({
				windowClass: "group-console console",
				templateUrl: "main/console/group.tpl.html",
				controller: "AddGroupCtrl",
				resolve: {
					sceneCreat: function() {
						return {
							type: !0,
							name: c,
							id: a,
							title: "修改分组名称"
						}
					}
				}
			}).result.then(function(a) {
				for (var c = 0; c < b.groups.length; c++) a.id == b.groups[c].id && (b.groups[c].groupName = a.name, b.currentGroup.currentId == a.id && (b.currentGroup.currentName = a.name, b.currentGroup.currentId = a.id, b.currentGroup.clickName = a.name));
				k.pushForCurrentRoute("group.edit.success", "notify.success")
			}, function() {})
		}, b.deleteGroup = function(a, c) {
			h.openConfirmDialog({
				msg: "删除后，分组下的场景将移动至未分组下",
				confirmName: "确定",
				cancelName: "取消"
			}, function() {
				e.deleteGroup(a, c), b.currentNameGroup()
			})
		}, b.$on("delete.my.group", function(a, c) {
			b.groups.splice(c, 1), b.groups.length > 0 ? b.showWeiGroup = !0 : b.showWeiGroup = !1, k.pushForCurrentRoute("group.delete.success", "notify.success")
		}), b.moreGroup = function(a, c, d, f) {
			return A.groupId == a ? void h.openMsgDialog({
				msg: "此场景已在该分组内"
			}) : void e.moveGroupScene(a, c).then(function(c) {
				if (200 == c.data.code) {
					if (f) return b.switchList(a), void b.getGroupScene(a, "group");
					var d = parseInt(A.groupId, 10);
					d >= 0 && d != a && e.getMyScenes(b.scene.type ? b.scene.type.value : null, b.currentPage, 12, v, A.name, null, A.groupId), k.pushForCurrentRoute("group.scene.success", "notify.success")
				}
			})
		}, b.deleteScene = function(a, c) {
			a && a.stopPropagation();
			var d = b.isAllowedHistory ? "确定删除此场景?删除后，该场景将在回收站保留3天" : "确定删除此场景?";
			h.openConfirmDialog({
				msg: d
			}, function() {
				e.deleteSceneById(c).then(function() {
					1 == b.myScenes.length && b.currentPage > 1 && b.currentPage--, b.getMyScenes(b.currentPage, A.name)
				})
			})
		}, b.pageChanged = function(a) {
			return 1 > a || a > b.totalItems / 10 + 1 ? void alert("此页超出范围") : (b.currentPage = a, void b.getMyScenes(a, A.name))
		}, b.getTdStyle = function(a) {
			var b = $(".header_table td:eq(" + a + ")").outerWidth();
			return {
				width: b + "px",
				maxWidth: b + "px"
			}
		}, b.scene.types = o.getSceneType(), b.dataDetail = {}, f.getDatas(v), f.getCustomDatas(v), b.$on("sceneDatas", function(a, c) {
			b.datasCount = c
		}), b.$on("customDatas", function(a, c) {
			b.customCount = c
		}), b.showDetail = function(a) {
			c.path("spread/share/" + a + "/socialShare")
		}, b.$on("$destroy", function() {
			d.setLoginSuccess(!1)
		}), b.publishScene = function(a, c) {
			if (a && a.stopPropagation(), !c.name) return void h.openMsgDialog({
				msg: "尚未设置标题，请设置后再执行此操作",
				btn: "去设置"
			}, function() {
				b.sceneSettings(a, c.id, c)
			});
			var d = window.open();
			g.publishScene(c.id).then(function(a) {
				if (a.data.success) {
					c.publishTime = (new Date).getTime(), k.pushForCurrentRoute("scene.publish.success", "notify.success");
					var e = b.canvasUrl + ("/v-" + c.code);
					d.location = e
				}
			})
		}, b.getRejectDetail = function(a) {
			a.stopPropagation(), c.path("/#/usercenter/message")
		}, b.viewDetail = function(d) {
			a.showSpreadTable = !1, b.$parent.showBranchSelect = !1, c.path("/#/main/spread/statistics/" + d), m.getSceneDetail(d, v), m.getSceneData(d, -6, 1, v), m.getWebList(d, !0, v);
			var e = new Date;
			e = new Date(e.getTime() - 864e5)
		}
	}]).directive("selectPicker", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				b.selectpicker()
			}
		}
	}), angular.module("main.newVersionFrame", []), angular.module("main.newVersionFrame").controller("newVersionFrame", ["$scope", function(a) {
		a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("main.print.create", ["main.print.define", "common.resources.print"]).controller("PrintCreateCtrl", ["$scope", "printResource", "$modal", function(a, b, c) {
		a.add = function(a, c, d, e) {
			var f = /^[1-9]\d*$/;
			if (f.test(c) && f.test(d)) {
				var g = {
					type: a,
					width: c,
					height: d,
					unit: e || "px"
				};
				"mm" == e && $.extend(g, {
					width: (parseFloat(c) / 25.4 * 300).toFixed(),
					height: (parseFloat(d) / 25.4 * 300).toFixed()
				}), window.sessionStorage.setItem("addPrint", JSON.stringify(g)), window.open("print/new", "_blank"), window.sessionStorage.removeItem("addPrint"), b.getPrintList(1, 11)
			}
		}, a.define = function() {
			c.open({
				windowClass: "six-contain",
				templateUrl: "main/print/dialog/define.tpl.html",
				controller: "DefineCtrl"
			}).result.then(function(b) {
				a.add("0", b.width, b.height, b.unit)
			})
		}
	}]), angular.module("main.print.applyTpl", ["common.resources.print"]).controller("ApplyTplCtrl", ["$rootScope", "$scope", "printResource", "printId", function(a, b, c, d) {
		b.showTips = !1, b.$on("print.apply", function(a, c) {
			"success" == c && (b.showTips = !0)
		}), b.confirm = function() {
			c.applyTpl(d), a.$broadcast("affirm.apply", d)
		}, b.cancel = function() {
			b.$close()
		}
	}]), angular.module("main.print.define", ["common.resources.print", "print.directives.validate"]).controller("DefineCtrl", ["$scope", function(a) {
		a.size = {
			type: "",
			width: "",
			height: "",
			unit: "mm"
		}, a.$watch("size.unit", function(b) {
			var c = $(".eqc-define input"),
				d = parseInt(a.size.width, 10),
				e = parseInt(a.size.height, 10);
			"mm" == b ? (c.attr("maxlength", "3"), a.size.width = d ? (d / 300 * 25.4).toFixed() : "", a.size.height = e ? (e / 300 * 25.4).toFixed() : "") : "px" == b && (c.attr("maxlength", "4"), a.size.width = d ? (d / 25.4 * 300).toFixed() : "", a.size.height = e ? (e / 25.4 * 300).toFixed() : "")
		}), a.confirm = function() {
			a.$close(a.size)
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("main.print.saveToH5", ["common.resources.print"]).controller("SaveToH5Ctrl", ["$rootScope", "$scope", "printResource", "printId", function(a, b, c, d) {
		var e = b.picker = {
			isAllCheck: !0,
			coverArr: []
		};
		b.scenePicGroup = -1, b.isSave = !1, b.showTips = !1, c.getPrintDetail(d), b.$on("printDetail.get", function(a, b) {
			$.each(b.pages, function(a, b) {
				e.coverArr.push({
					cover: b.cover,
					tmbCover: b.properties.coverTmp,
					checked: !0
				})
			})
		}), c.getScenePicGroup(), b.$on("scenePic.group.get", function(a, c) {
			b.picGroupList = c
		}), b.selectAll = function() {
			e.isAllCheck ? $.each(e.coverArr, function(a, b) {
				b.checked = !0
			}) : $.each(e.coverArr, function(a, b) {
				b.checked = !1
			})
		}, b.changeItem = function() {
			b.isSave = !1
		}, b.saveLocation = function(a) {
			b.scenePicGroup = a
		}, b.$on("saveToH5.success", function() {
			b.showTips = !0, window.sessionStorage.removeItem("fileService")
		}), b.confirm = function() {
			var a = [];
			$.each(e.coverArr, function(b, c) {
				if (c.checked) {
					var d = c.cover.split("/"),
						e = d[d.length - 1],
						f = e.split("."),
						g = f[f.length - 1];
					a.push({
						name: Date.now() + "." + g,
						extName: g,
						path: c.tmbCover,
						tmbPath: c.cover
					})
				}
			}), a.length ? c.saveToH5(b.scenePicGroup, a) : b.isSave = !0
		}, b.$watch("picker.coverArr", function() {
			var a = e.coverArr.filter(function(a) {
				return a.checked === !1
			});
			e.isAllCheck = !a.length
		}, !0), b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("main.print.transfer", ["common.resources.print"]).controller("TransferPrintCtrl", ["$scope", "$rootScope", "$routeParams", "$location", "printResource", "printId", function(a, b, c, d, e, f) {
		a.model = {
			toUser: ""
		}, a.showTips = !1, a.confirm = function() {
			return a.model.toUser ? a.model.toUser == b.user.loginName ? void(a.activeError = "不能转送给当前用户") : (e.transferPrint(f, a.model.toUser), void a.$on("print.transfer", function(c, d, f) {
				"success" == d ? (a.showTips = !0, e.getPrintList(b.currentPage, 11, b.printType)) : a.activeError = f.msg
			})) : void(a.activeError = "账号不能为空")
		}, a.cancel = function() {
			a.$close()
		}
	}]), angular.module("main.print", ["main.print.template", "main.print.mine", "main.print.create"]).controller("PrintCtrl", ["$scope", "$location", "printResource", "$routeParams", function(a, b, c, d) {
		a.tabView = d.tab, a.isActive = "print", a.getStyle = function(a) {
			return {
				backgroundImage: "url(" + (a ? PREFIX_FILE_HOST + a : CLIENT_CDN + PRINT_HOST_RESOURCE + "images/design_c.png") + ")"
			}
		}, a.showTab = function(c, d) {
			c.stopPropagation(), b.path("/main/print/" + d, !1), a.tabView = d
		}
	}]).directive("eqdPrintList", ["$scope", function(a) {}]), angular.module("main.print.hotZone", ["common.resources.print"]).controller("HotZoneCtrl", ["$scope", "printResource", function(a, b) {
		b.getHotList(), a.$on("hotList.get", function(b, c) {
			var d = c.obj;
			a.hotList0 = d[0], a.hotList1 = d[1], a.hotList2 = d[2]
		}), a.copyHotItem = function(a) {
			window.sessionStorage.setItem("copyPrintId", a), window.open("print/copyTpl", "_blank"), setTimeout(function() {
				b.getPrintList(1, 11)
			}, 200)
		}
	}]).directive("eqdHotZone", [function() {
		function a(a, b) {}
		return {
			restrict: "E",
			templateUrl: "main/print/tab/hotZone.tpl.html",
			controller: "HotZoneCtrl",
			replace: !0,
			link: a
		}
	}]), angular.module("main.print.mine", ["main.print.saveToH5", "main.print.applyTpl", "main.print.transfer", "common.resources.print", "services.dataCache"]).controller("MineCtrl", ["$rootScope", "$scope", "printResource", "$routeParams", function(a, b, c, d, e) {
		var f = {},
			g = b.guidePrint = null;
		b.printTypes = c.getAllTypes(), b.guidePrint = {}, c.getDefPrint(), b.$on("defPrint.get", function(a, c) {
			g = b.guidePrint = c, b.defaultPrintId = c.id
		}), c.getPrintList(a.currentPage, 11, a.printType), b.getPrintList = function(b) {
			$(".mine-sort .eqc-name").css({
				color: "#08a1ef"
			});
			var d = b ? b.value : null;
			c.getPrintList(1, 11, d), a.printType = d
		}, b.$on("printList.get", function(a, c) {
			f = b.printList = c.list, b.totalItems = c.map.count, b.currentPage = c.map.pageNo, b.allPageCount = c.map.count, b.toPage = c.map.pageNo
		}), b.pageChanged = function(d) {
			return 1 > d || d > b.totalItems / 11 + 1 ? void alert("此页超出范围") : (c.getPrintList(d, 11, a.printType), void(a.currentPage = d))
		}, b.$on("print.delete", function() {
			c.getPrintList(a.currentPage, 11, a.printType)
		}), b.$on("print.copy", function() {
			c.getPrintList(1, 11, a.printType)
		}), b.$on("affirm.apply", function(a, b) {
			for (var c = f.length, d = 0; c > d; d++) f[d].id == b && (f[d].isTpl = 2)
		}), b.preview = function(a) {
			var b = $("#preview_wrap"),
				c = $("#pc_preview");
			c.attr("src", PREFIX_HOST + "/print/share.html?code=" + a), b.show(), b.find("span").click(function() {
				b.hide(), c.attr("src", ""), $(this).unbind("click")
			})
		}
	}]).directive("eqdMine", ["$rootScope", "ModalService", "printResource", "$modal", function(a, b, c, d) {
		function e(e, f) {
			e["delete"] = function(a) {
				b.openConfirmDialog({
					msg: "确定删除此作品?"
				}, function() {
					c.deletePrint(a)
				})
			}, e.copy = function(b) {
				b == e.defaultPrintId ? (window.sessionStorage.setItem("copyDefPrintId", b), window.open("print/copyDef", "_blank"), setTimeout(function() {
					c.getPrintList(1, 11, a.printType)
				}, 200)) : c.copyPrint(b)
			}, e.transfer = function(c) {
				"eqs" == a.user.loginName.substr(0, 3) && null == a.user.email ? b.openBindEmailDialog() : d.open({
					windowClass: "six-contain",
					templateUrl: "main/print/dialog/transferPrint.tpl.html",
					controller: "TransferPrintCtrl",
					resolve: {
						printId: function() {
							return c
						}
					}
				})
			}, e.applyTpl = function(a, b) {
				b || d.open({
					windowClass: "six-contain",
					templateUrl: "main/print/dialog/applyTpl.tpl.html",
					controller: "ApplyTplCtrl",
					resolve: {
						printId: function() {
							return a
						}
					}
				})
			}, e.setPrint = function(a) {
				window.sessionStorage.setItem("setPrintId", a), window.open("print/set", "_blank")
			}, e.saveToH5 = function(a) {
				d.open({
					windowClass: "eight-contain",
					templateUrl: "main/print/dialog/saveToH5.tpl.html",
					controller: "SaveToH5Ctrl",
					resolve: {
						printId: function() {
							return a
						}
					}
				})
			}
		}
		return {
			restrict: "E",
			templateUrl: "main/print/tab/mine.tpl.html",
			controller: "MineCtrl",
			link: e
		}
	}]).filter("printType", function() {
		return function(a) {
			switch (a) {
			case 0:
				return "自定义";
			case 1:
				return "名片";
			case 2:
				return "邀请函";
			case 3:
				return "贺卡";
			case 4:
				return "海报";
			case 5:
				return "宣传单";
			case 6:
				return "淘宝商品主图";
			case 7:
				return "微信公众号首图";
			case 8:
				return "长图"
			}
		}
	}).filter("statusFilter", function() {
		return function(a) {
			switch (a) {
			case 0:
				return "申请模板";
			case 1:
				return "模板申请通过";
			case 2:
				return "模板申请中";
			case 3:
				return "模板申请被拒绝"
			}
		}
	}).filter("statusColorFilter", function() {
		return function(a) {
			switch (a) {
			case 0:
				return "#fff";
			case 1:
				return "#44cb83";
			case 2:
				return "#08a1ef";
			case 3:
				return "#ff5448"
			}
		}
	}).filter("statusBgFilter", function() {
		return function(a) {
			return 0 === a ? "#08a1ef" : "#eee"
		}
	}), angular.module("main.print.template", ["main.print.hotZone", "common.resources.print"]).controller("TemplateCtrl", ["$rootScope", "$scope", "printResource", function(a, b, c) {
		var d = c.getAllTypes(),
			e = d.length - 1;
		b.active = "hot", b.showList = !1, b.onlineMarketingTypes = c.getTplTypes().onlineMarketing, b.adPrintTypes = c.getTplTypes().adPrint, c.getTemplateList(a.currentTplPage, 12, a.tplType), b.getTplList = function(d, e) {
			var f = $(".tpl-sort1 .eqc-name"),
				g = $(".tpl-sort2 .eqc-name");
			switch (e) {
			case 1:
				b.adPrintTypes.type = null, b.active = !1, b.showList = !0, g.removeClass("active"), f.addClass("active"), "线上营销" == f.html() && (f.removeClass("active"), b.active = !0);
				break;
			case 2:
				b.onlineMarketingTypes.type = null, b.active = !1, b.showList = !0, f.removeClass("active"), g.addClass("active"), "广告印刷" == g.html() && (g.removeClass("active"), b.active = !0);
				break;
			case 3:
				b.adPrintTypes.type = null, b.onlineMarketingTypes.type = null, b.active = "tpl", b.showList = !0, f.removeClass("active"), g.removeClass("active");
				break;
			case 4:
				b.adPrintTypes.type = null, b.onlineMarketingTypes.type = null, b.active = "hot", b.showList = !1
			}
			if (1 == e || 2 == e || 3 == e) {
				var h = d ? parseInt(d.value, 10) : null;
				c.getTemplateList(1, 12, h), a.tplType = h
			}
		}, b.$on("templateList.get", function(a, c) {
			var d = b.templateList = c.list,
				e = d.length;
			b.tplTotalItems = c.map.count, b.currentTplPage = c.map.pageNo, b.allPageCount = c.map.count, b.toPage = c.map.pageNo;
			for (var f = 0; e > f; f++) d[f].avatar && 0 !== d[f].avatar.indexOf("http://") && (d[f].avatar = PREFIX_FILE_HOST + d[f].avatar)
		}), b.pageTplChanged = function(d) {
			return 1 > d || d > b.tplTotalItems / 12 + 1 ? void alert("此页超出范围") : (c.getTemplateList(d, 12, a.tplType), void(a.currentTplPage = d))
		}, b.addTemplate = function(a, b, d, e, f, g) {
			var h = {
				type: a,
				width: b,
				height: d,
				unit: e || "px",
				tplPageId: f,
				printId: g
			};
			"mm" == e && $.extend(h, {
				width: (parseFloat(b) / 25.4 * 300).toFixed(),
				height: (parseFloat(d) / 25.4 * 300).toFixed()
			}), window.sessionStorage.setItem("addTplPrint", JSON.stringify(h)), window.open("print/new", "_blank"), window.sessionStorage.removeItem("addTplPrint"), c.getPrintList(1, 11)
		}, b.intoTemplate = function(a, c, f) {
			for (var g = 0; e > g; g++) d[g].value == a && b.addTemplate(a, d[g].width, d[g].height, d[g].unit, c, f)
		}
	}]).directive("eqdTemplate", [function() {
		function a(a, b) {}
		return {
			restrict: "E",
			templateUrl: "main/print/tab/template.tpl.html",
			controller: "TemplateCtrl",
			link: a
		}
	}]), function() {
		angular.module("main.upgradeGuide", ["usercenter.relAccount", "services.usercenter", "services.i18nNotifications"]).controller("upgradeGuideCtrl", ["$rootScope", "$scope", "dateFilter", "usercenterService", "i18nNotifications", "$modal", "security", "$timeout", "$location", function(a, b, c, d, e, f, g, h, i) {
			b.userType = 1, b.switchType = function(a) {
				b.userType = a
			}, b.newVersionFlag = 1, b.selectUserType = !0, b.selectComanyType = !1, b.submit = function(a) {
				1 == a ? b.$dismiss(b.userType) : (b.selectUserType = !1, b.$dismiss(b.userType), j())
			}, b.cancel = function() {
				b.$dismiss(b.newVersionFlag)
			};
			var j = function() {
					f.open({
						windowClass: "seven-contain",
						templateUrl: "usercenter/console/upgrade_company.tpl.html",
						controller: "UsercenterupgradeCtrl",
						resolve: {
							user: function() {
								return {
									id: b.user.id
								}
							}
						}
					}).result.then(function() {
						a.$broadcast("testnewVersionFram")
					}, function() {
						a.$broadcast("testnewVersionFram")
					})
				}
		}])
	}(), function() {
		angular.module("main.userGuide", ["usercenter.relAccount"]).controller("userGuideCtrl", ["$rootScope", "$scope", "dateFilter", function(a, b, c) {
			var d;
			if (window.localStorage) {
				var e = JSON.parse(localStorage.getItem("loginInfo"));
				e && e[a.user.id] ? !e.isShow || b.user.checkEmail ? b.firstLogin = !1 : sessionStorage.getItem("emailGuide") ? b.firstLogin = !1 : (e.isShow = !0, d = !0, b.firstLogin = !0) : (b.firstLogin = !0, e = e || {}, e[a.user.id] = 1, e.isShow = !0, localStorage.setItem("loginInfo", JSON.stringify(e)))
			}
			b.currentGuide = "bindEmailGuide", b.showNextGuide = function() {
				sessionStorage.setItem("emailGuide", "true"), d ? b.firstLogin = !1 : (b.currentGuide = "createGuide", b.firstLogin = !0)
			};
			var f = 0;
			b.showGuide = function() {
				"createGuide" == b.currentGuide && (b.firstLogin = 1 === ++f)
			}, b.isShow = function() {
				if (window.localStorage) {
					var a = JSON.parse(localStorage.getItem("loginInfo"));
					a.isShow = !a.isShow, localStorage.setItem("loginInfo", JSON.stringify(a))
				}
			}
		}])
	}(), angular.module("scenePreview", ["services.scene", "services.mine", "services.data", "scene.create.console", "app.directives.addelement", "services.usercenter", "app.directives.qrcode", "services.i18nNotifications"]), angular.module("scenePreview").controller("MySceneCtrl", ["$location", "$rootScope", "$scope", "$routeParams", "$modal", "usercenterService", "ModalService", "sceneService", "security", "$sce", function(a, b, c, d, e, f, g, h, i, j) {
		c.loading = !1, c.sceneId = d.sceneId, c.iframeUrl = j.trustAsResourceUrl(PREFIX_URL + "index.php?c=view&id=" + c.sceneId + ".html?preview=myscene"), c.tpl = b.tplObj, c.userXd = 0, f.getUserXd().then(function(a) {
			c.userXd = a.data.obj || 0
		}), b.backurl ? c.backurl = b.backurl : c.backurl = "#/main", h.getSceneDetail(c.sceneId).then(function(a) {
			a.data.success && (a.data.obj.createUser == i.currentUser.id ? c.isTpl = !1 : c.isTpl = !0, c.scene = a.data.obj, b.user && b.user.domain ? (c.url = b.user.domain + "/v-" + c.scene.code, c.canvasUrl = "http://" + c.url) : (c.url = PREFIX_HOST + "/v-" + c.scene.code, c.canvasUrl = c.url))
		}), c.editScene = function() {
			a.path("scene/create/" + c.sceneId).search("pageId", 1)
		}, c.setSceneInfo = function() {
			a.path("scene/create/" + c.sceneId).search("pageId", 1).search("openSetting", "show")
		}, c.moreShareWay = function() {
			a.path("spread/share/" + c.sceneId + "/socialShare")
		}, c.userTpl = function() {
			a.path("/scene"), b.tplId = c.scene
		};
		var k, l;
		document.getElementById("sharescript") ? ($("#sharescript").remove(), k = document.getElementsByTagName("head")[0], l = document.createElement("script"), l.id = "sharescript", l.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~ (-new Date / 36e5), k.appendChild(l)) : (k = document.getElementsByTagName("head")[0], l = document.createElement("script"), l.id = "sharescript", l.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~ (-new Date / 36e5), k.appendChild(l)), window._bd_share_config = {
			common: {
				bdText: "aa",
				bdDesc: "aa",
				bdUrl: "aa",
				bdSign: "on",
				bdSnsKey: {}
			},
			share: [{
				bdSize: 32
			}],
			slide: [{
				bdImg: 0,
				bdPos: "right",
				bdTop: 100
			}]
		}, c.scrollPage = function(a) {
			b.$broadcast("scene.page.scroll", a)
		}
	}]).directive("ctrlPageScroll", function() {
		function a(a, b, c) {
			a.$on("scene.page.scroll", function(a, b) {
				var c = $("iframe").get(0).contentWindow;
				b ? c.eqxiu.nextPage() : c.eqxiu.prePage()
			})
		}
		return {
			restrict: "EA",
			link: a
		}
	}), angular.module("scene.my.upload", ["angularFileUpload"]), angular.module("scene.my.upload").controller("UploadCtrl", ["$scope", "FileUploader", "fileService", "category", "$timeout", "$interval", function(a, b, c, d, e, f) {
		a.category = d;
		var g;
		g = a.category.scratch || a.category.headerImage || a.category.companyImg ? a.uploader = new b({
			url: PREFIX_URL + "index.php?c=upfile&a=upload&bizType=" + d.categoryId + "&fileType=" + d.fileType,
			withCredentials: !0,
			queueLimit: 1,
			onSuccessItem: function(b, c, d, e) {
				function g() {
					f.cancel(h), alert("上传完毕"), a.$close(c.obj.path)
				}
				a.progressNum = 0;
				var h = f(function() {
					a.progressNum < 100 ? a.progressNum += 15 : g()
				}, 100)
			}
		}) : a.uploader = new b({
			url: PREFIX_URL + "index.php?c=upfile&a=upload&bizType=" + d.categoryId + "&fileType=" + d.fileType,
			withCredentials: !0,
			queueLimit: 5,
			onCompleteAll: function() {
				function b() {
					f.cancel(c), alert("上传完毕"), a.$close()
				}
				a.progressNum = 0;
				var c = f(function() {
					a.progressNum < 100 ? a.progressNum += 15 : b()
				}, 100)
			}
		}), d.limitSize = d.limitSize || 3145728;
		var h, i = d.limitSize;
		"0" == d.fileType || "1" == d.fileType ? h = "|jpg|png|jpeg|bmp|gif|svg+xml|" : ("2" == d.fileType || "4" == d.fileType) && (h = "|mp3|mpeg|"), g.filters.push({
			name: "imageFilter",
			fn: function(a, b) {
				var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
				return -1 !== h.indexOf(c)
			}
		}), g.filters.push({
			name: "imageSizeFilter",
			fn: function(a, b) {
				var c = a.size;
				return c >= i && alert("上传文件大小限制在" + i / 1024 / 1024 + "M以内"), i > c
			}
		}), g.filters.push({
			name: "fileNameFilter",
			fn: function(a, b) {
				return a.name.length > 50 && alert("文件名应限制在50字符以内"), a.name.length <= 50
			}
		}), a.removeQueue = function() {}
	}]), angular.module("reg", []), angular.module("reg").controller("TestLoginCtrl", ["$rootScope", "$scope", function(a, b) {
		b.weiChatUrl = "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http://www.hjtmt.com/testlogin.html&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect"
	}]), angular.module("scene.create.console", ["scene.create.console.bg", "scene.create.console.map", "scene.create.console.input", "scene.create.console.radio.checkbox", "scene.create.console.rating", "scene.create.console.counter", "scene.create.console.linkComponent", "scene.create.console.button", "scene.create.console.setting", "scene.create.console.tel", "scene.create.console.fake", "scene.create.console.pictures1", "scene.create.console.sound", "scene.create.console.soundComponent", "scene.create.console.micro", "scene.create.console.link", "scene.create.console.video", "scene.create.console.category", "scene.create.console.imageCrop", "scene.create.console.cropImage", "scene.create.console.cropSound", "scene.pageeffect.console", "scene.create.console.scene-setting-component", "scene.create.console.shape", "scene.create.console.randomevent", "scene.create.console.statistics"]), angular.module("scene.create.console").controller("ConsoleCtrl", ["$scope", function(a) {}]), angular.module("scene.create.console").directive("autofocus", function() {
		return function(a, b, c) {
			setTimeout(function() {
				b.focus().select()
			}, 400)
		}
	}).directive("checkCount", function() {
		return {
			restrict: "EA",
			require: "ngModel",
			link: function(a, b, c, d) {
				var e = parseInt(c.checkCount, 10);
				d.$viewChangeListeners.push(function() {
					if (countCharacters(d.$modelValue) > e) {
						var a = d.$modelValue.replace(/[^\x00-\xff]/g, "xx"),
							b = a.substring(0, e).replace(/xx/g, "中").length;
						d.$setViewValue(d.$modelValue.substring(0, b)), d.$render()
					}
				})
			}
		}
	}), angular.module("scene.create.console.setting.anim", ["app.directives.uislider", "app.directives.limitInput"]), angular.module("scene.create.console.setting.anim").controller("AnimConsoleCtrl", ["$scope", "$rootScope", "sceneService", "security", function(a, b, c, d) {
		function e(c, d) {
			var e = {
				anim: c,
				animClasses: k,
				count: d,
				elemId: a.elemDef.id
			};
			b.$broadcast("previewCurrentChange", e)
		}
		function f(c, d) {
			var e = {
				animations: c,
				animClasses: d,
				count: j,
				elemId: a.elemDef.id
			};
			b.$broadcast("previewAllChanges", e)
		}
		var g = a.elemDef = c.currentElemDef;
		if (g.properties.anim) for (var h = 0; h < g.properties.anim.length; h++) 33 == g.properties.anim[h].type && (g.properties.anim[h].type = 0), 32 == g.properties.anim[h].type && (g.properties.anim[h].type = 10);
		a.animations = [], a.types = [], a.directions = [];
		var i, j, k = [];
		a.animTypeEnum = [{
			id: -1,
			name: "无"
		}, {
			id: 0,
			name: "淡入",
			cat: "进入"
		}, {
			id: 1,
			name: "移入",
			cat: "进入"
		}, {
			id: 2,
			name: "弹入",
			cat: "进入"
		}, {
			id: 20,
			name: "翻转进入",
			cat: "进入"
		}, {
			id: 3,
			name: "中心弹入",
			cat: "进入"
		}, {
			id: 4,
			name: "中心放大",
			cat: "进入"
		}, {
			id: 12,
			name: "翻滚进入",
			cat: "进入"
		}, {
			id: 24,
			name: "翻开进入",
			cat: "进入"
		}, {
			id: 13,
			name: "光速进入",
			cat: "进入"
		}, {
			id: 26,
			name: "魔幻进入",
			cat: "进入"
		}, {
			id: 27,
			name: "缩小进入",
			cat: "进入"
		}, {
			id: 31,
			name: "旋转进入",
			cat: "进入"
		}, {
			id: 6,
			name: "摇摆",
			cat: "强调"
		}, {
			id: 5,
			name: "抖动",
			cat: "强调"
		}, {
			id: 7,
			name: "旋转",
			cat: "强调"
		}, {
			id: 8,
			name: "翻转",
			cat: "强调"
		}, {
			id: 9,
			name: "悬摆",
			cat: "强调"
		}, {
			id: 23,
			name: "闪烁",
			cat: "强调"
		}, {
			id: 29,
			name: "下滑",
			cat: "强调"
		}, {
			id: 30,
			name: "上滑",
			cat: "强调"
		}, {
			id: 21,
			name: "放大抖动",
			cat: "强调"
		}, {
			id: 22,
			name: "倾斜摆动",
			cat: "强调"
		}, {
			id: 10,
			name: "淡出",
			cat: "退出"
		}, {
			id: 17,
			name: "移出",
			cat: "退出"
		}, {
			id: 19,
			name: "弹出",
			cat: "退出"
		}, {
			id: 11,
			name: "翻转消失",
			cat: "退出"
		}, {
			id: 14,
			name: "中心消失",
			cat: "退出"
		}, {
			id: 18,
			name: "中心缩小",
			cat: "退出"
		}, {
			id: 15,
			name: "翻滚退出",
			cat: "退出"
		}, {
			id: 25,
			name: "翻开消失",
			cat: "退出"
		}, {
			id: 16,
			name: "光速退出",
			cat: "退出"
		}, {
			id: 28,
			name: "放大退出",
			cat: "退出"
		}];
		var h, l, m = [23, 24, 25];
		if (!d.isAllowToAccess(d.accessDef.COMP_ANIMATION)) for (h = 0; h < a.animTypeEnum.length; h++) for (l = 0; l < m.length; l++) a.animTypeEnum[h].id == m[l] && (a.animTypeEnum.splice(h, 1), h--);
		if (a.animDirectionEnum = [{
			id: 0,
			name: "从左向右"
		}, {
			id: 1,
			name: "从上到下"
		}, {
			id: 2,
			name: "从右向左"
		}, {
			id: 3,
			name: "从下到上"
		}], g.properties.anim) if (g.properties.anim instanceof Array) {
			if (g.properties.anim.length) for (h = 0; h < g.properties.anim.length; h++) if (null != g.properties.anim[h].type && -1 != g.properties.anim[h].type) {
				for (a.animations.push(g.properties.anim[h]), l = 0, tlen = a.animTypeEnum.length; l < tlen; l++) a.animations[h].type == a.animTypeEnum[l].id && (a.types[h] = a.animTypeEnum[l]);
				for (l = 0, tlen = a.animDirectionEnum.length; l < tlen; l++) a.animations[h].direction == a.animDirectionEnum[l].id && (a.directions[h] = a.animDirectionEnum[l])
			} else g.properties.anim.splice(h, 1), h--
		} else {
			for (h = 0; h < a.animTypeEnum.length; h++) a.animTypeEnum[h].id == g.properties.anim.type && (a.types[0] = a.animTypeEnum[h]);
			null != g.properties.anim.direction ? a.directions[0] = a.animDirectionEnum[g.properties.anim.direction] : a.directions[0] = a.animDirectionEnum[0], g.properties.anim.duration = parseFloat(g.properties.anim.duration), g.properties.anim.delay = parseFloat(g.properties.anim.delay), g.properties.anim.countNum = parseInt(g.properties.anim.countNum, 10) || 1, a.animations.push(g.properties.anim)
		}
		g.properties || (g.properties = {});
		var n = {
			type: null,
			direction: null,
			duration: 2,
			delay: 0,
			countNum: 1,
			count: null
		};
		a.addAnim = function(b) {
			if (!b.originalEvent._constructed) {
				var c = angular.copy(n);
				c.type = a.animTypeEnum[0].id, c.direction = a.animDirectionEnum[0].id, a.animations.push(c);
				var d = a.animations.length;
				a.types[d - 1] = a.animTypeEnum[0], a.directions[d - 1] = a.animDirectionEnum[0]
			}
		}, a.removeAnim = function(b, c) {
			c.stopPropagation(), a.animations.splice(b, 1), a.types.splice(b, 1), a.directions.splice(b, 1)
		}, a.clear = function() {
			a.animations = []
		}, a.$watch("animations", function(b, c) {
			b != c && (g.properties.anim = a.animations)
		}, !0), a.$watch("types", function(b, c) {
			if (b && b != c) for (var d = 0; d < b.length; d++) c[d] && b[d].id != c[d].id && e(a.animations[d], d)
		}, !0), a.$watch("directions", function(b, c) {
			if (b && b != c) for (var d = 0; d < b.length; d++) c[d] && b[d].id != c[d].id && e(a.animations[d], d)
		}, !0), a.previewAnim = function(b) {
			if (!b.originalEvent._constructed) {
				for (var c = angular.copy(a.animations), d = [], e = [], g = 0; g < c.length; g++) null != c[g].type && -1 != c[g].type ? (d.push(c[g]), e[g] = eqxCommon.convertType(c[g])) : (c.splice(g, 1), g--);
				j = 0, f(d, e)
			}
		}, a.changeAnimation = function(a, b) {
			i = eqxCommon.convertType(a), k[b] = i
		}
	}]), angular.module("scene.create.console.bg", ["services.file", "scene.my.upload", "app.directives.responsiveImage", "app.directives.rightclick", "services.file.upload", "services.i18nNotifications", "app.directives.autoclose"]), angular.module("scene.create.console.bg").controller("BgConsoleCtrl", ["$scope", "$timeout", "$rootScope", "$interval", "$modal", "ModalService", "sceneService", "fileService", "localizedMessages", "obj", "uploaderService", "i18nNotifications", "security", "dataCacheService", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
		function o() {
			a.$watch("imgList", function(b) {
				for (var c = 0; c < b.length; c++) {
					if (b[c].selected) return void(a.mangeObj.manageAll = !0);
					a.mangeObj.manageAll = !1
				}
			}, !0)
		}
		function p() {
			a.systemImages = !1, a.userTagId = "", a.sysCatId = "", h.getUserFiles1(1, r, q, null, a.userTagId)
		}
		var q = a.fileType = 1;
		a.imgType = j.fileType, a.type = j.type, j.elemDef && (a.bFlagType = j.elemDef.type), 3 != a.bFlagType && (j.longPage = 1);
		var r, s = 1;
		a.currentPage = 1, a.systemImages = !0, a.isAllowedHistory = m.isAllowToAccess(m.accessDef.USERCENTER_HISTORY), a.toPage = 1, a.mangeObj = {
			manageAll: !1
		}, a.showObj = {
			showGroup: !1
		}, r = a.pageSize = 18, ("p" == a.type || "n" == a.type) && (a.mangeObj.manageAll = !0), a.switchToSystemImages = function(b) {
			a.systemImages = "true" === b, "false" == b && (a.sysTagId = "")
		};
		var t = function(a) {
				h.getSysCategory(a)
			},
			u = function(a, b, c, d, e) {
				h.getSystemFiles1(a, b, c, d, e)
			};
		if (a.getSystemFiles = function() {
			a.mangeObj.manageAll = !1, window.localStorage && ("1" == a.fileType ? localStorage.setItem("photoTag", "") : localStorage.setItem("backgroundTag", "")), a.userTagId = "", "3" == a.bFlagType ? a.sysCatId = "1301" : a.sysCatId = "101", a.sysTagList = [], a.sysTagId = "", y = [], u(s, r, q, a.sysCatId), h.getSysTagByCatId(a.sysCatId)
		}, a.getHistory = function() {
			a.userTagId = "history", h.getFilesHistory(1).then(function(b) {
				b.data.success && (a.imgList = b.data.list)
			})
		}, a.$on("sysCategory.update", function(b) {
			a.sysCategoryList = h.sysCategoryList
		}), a.getSysCatAndList = function(b, c) {
			y = [], a.sysCatId = b, "0" != b ? h.getSysTagByCatId(b) : (a.sysTagList = [], a.sysTagId = "", angular.forEach(a.imgList, function(a, b) {
				a.selected = !1
			})), a.sysTagId = null, 1 != j.longPage && c ? a.getSysImgByTag("pure") : u(s, r, q, b)
		}, a.$on("sysTag.update", function(b) {
			a.sysTagList = h.sysTagList
		}), a.getSysImgByTag = function(b) {
			"pure" != b ? (y = [], a.sysTagId = b, u(s, r, q, a.sysCatId, b)) : (a.sysTagId = "pure", a.sysTagId = b, u(s, r, q, b))
		}, a.$watch("currentPage", function(b, c) {
			b != c && (a.toPage = b, y = [], a.systemImages ? u(b, r, q, a.sysCatId, a.sysTagId) : h.getUserFiles1(b, r, q, null, a.userTagId))
		}), a.getImgByPage = function() {
			a.currentPage = a.toPage
		}, a.getUserFiles = function(b, c) {
			b !== a.userTagId && (a.mangeObj.manageAll = !1, window.localStorage && ("1" == a.fileType ? localStorage.setItem("photoTag", b) : localStorage.setItem("backgroundTag", b)), a.thumbnailList = [], y = [], a.userTagId = b, a.sysCatId = "", h.getUserFiles1(c, r, q, null, b))
		}, a.$on("imgList.update", function(b) {
			a.imgList = h.imgList, a.totalItems = h.totalItems, a.currentPage = h.pageNo
		}), 1 == j.longPage) if (window.localStorage) {
			var v = "1" == a.fileType ? localStorage.getItem("photoTag") : localStorage.getItem("backgroundTag");
			v ? (a.getUserFiles(parseInt(v, 10)), a.switchToSystemImages(!1), a.sysCatId = "") : ("3" == a.bFlagType ? a.sysCatId = "1301" : a.sysCatId = "101", u(s, r, q, a.sysCatId), h.getSysTagByCatId(a.sysCatId))
		} else u(s, r, q);
		1 == j.longPage ? t(q) : (t(q), a.getSysCatAndList("1301", !0), a.getSysImgByTag("pure"), a.systemImages = !0, a.longPage = !0);
		var w = null;
		a.createTag = function() {
			return a.tagList.length >= 8 ? void(a.authError = "最多能创建8个自定义分组！") : void(w = e.open({
				windowClass: "console",
				templateUrl: "scene/console/category.tpl.html",
				controller: "CategoryConsoleCtrl"
			}))
		};
		var x = function() {
				h.getTagList()
			};
		x(), a.deleteTag = function(a, b) {
			f.openConfirmDialog({
				msg: "确定删除此分组?"
			}, function() {
				h.deleteTag(a, b)
			})
		}, a.$on("tagList.update", function(b) {
			a.tagList = h.tagList
		}), a.$on("tagList.delete", function(a) {
			p()
		});
		var y = [];
		a.switchSelect = function(b, c, d, e) {
			if (a.mangeObj.manageAll || !e) if (d.stopPropagation(), b.selected = !b.selected, a.systemImages && "p" != j.type && "n" != j.type) if (angular.forEach(a.imgList, function(a, c) {
				!a.selected || a.id == b.id && a.color == b.color || (a.selected = !1)
			}), b.selected) {
				var f;
				y = [], b.path ? f = {
					id: b.id,
					src: b.path,
					shape: b.shape
				} : b.color && (f = {
					color: b.color
				}), y.push(f)
			} else y = [];
			else if (b.selected) a.mangeObj.manageAll = !0, y.push({
				id: b.id,
				src: b.path || b.tmbPath,
				shape: b.shape
			});
			else {
				o();
				for (var g in y) y[g].id == b.id && y.splice(g, 1)
			}
		}, a.cancelSelect = function() {
			for (var b in a.imgList) a.imgList[b].selected && (a.imgList[b].selected = !1);
			y = []
		}, a.assignTag = function(b) {
			var c = [];
			a.showObj.showGroup = !1;
			for (var d = 0; d < y.length; d++) c.push(y[d].id);
			if (!c.length) return void(a.authError = "请先点击管理选择一张图片再进行分组");
			angular.forEach(a.imgList, function(a, b) {
				a.selected = !1
			});
			var e = c.join(",");
			n.clear("fileService"), h.assignTag(b, e), y = []
		}, a.$on("tag.assign", function() {
			l.pushForCurrentRoute("data.assign.success", "notify.success")
		}), a.unbindTag = function(b) {
			for (var c = [], d = 0; d < y.length; d++) c.push(y[d].id);
			if (!c.length) return void(a.authError = "请先选择一张图片再解除分组");
			var e = c.join(",");
			n.clear("fileService"), h.unbindTag(b, e)
		}, a.$on("tag.unbind", function() {
			l.pushForCurrentRoute("group.delete.data", "notify.success"), h.getUserFiles1(a.currentPage, r, q, null, a.userTagId)
		}), a.deleteFile = function(b) {
			var c = [];
			if (!b && 0 === y.length) return void(a.authError = "请您选中图片后再进行删除操作！");
			for (var d = 0; d < y.length; d++) c.push(y[d].id);
			var e = "";
			e = a.isAllowedHistory ? b ? "确定删除此图片？删除后，该图片将在回收站保留3天" : "确定删除所选图片？删除后，该图片将在回收站中保留3天" : b ? "确定删除此图片？" : "确定删除所选图片？";
			var g = b ? b : c.join(",");
			f.openConfirmDialog({
				msg: e
			}, function() {
				h.deleteFile(g), n.clear("fileService")
			})
		}, a.$on("files.delete", function(b) {
			a.sysCatId = "", y = [], h.getUserFiles1(a.currentPage, r, q, null, a.userTagId)
		}), a.replaceImage = function() {
			if (!y.length) return void(a.authError = "请您先选择图片！");
			var b;
			if ("p" != j.type && "n" != j.type) {
				if (y.length > 1) return void(a.authError = "只能选择一张图片进行替换！");
				b = y[0]
			} else {
				var c = j.count + y.length,
					d = "p" == j.type ? 6 : 10;
				if (c > d) return a.authError = "最多可选择" + (d - j.count) + "张图片", !1;
				a.picObj = [];
				for (var e = 0; e < y.length; e++) a.picObj.push({
					width: y[e].shape.width,
					height: y[e].shape.height,
					src: y[e].src
				})
			}
			var f = {};
			b && b.src && (f = {
				type: "imgSrc",
				data: b.src,
				width: b.shape.width,
				height: b.shape.height,
				id: b.id,
				isSys: a.systemImages
			}), "0" == j.fileType ? b.src ? a.$close(f) : a.$close({
				type: "backgroundColor",
				color: b.color
			}) : (("p" == j.type || "n" == j.type) && (f.selectedImages = a.picObj), a.$close(f))
		}, a.replaceByClick = function(b, c, d) {
			if (!a.mangeObj.manageAll) {
				if ("p" == j.type || "n" == j.type) return void a.switchSelect(b, c, d, !0);
				y = [], (!y.length && !a.mangeObj.manageAll || a.systemImages) && (b.path || b.tmbPath ? y.push({
					id: b.id,
					src: b.path || b.tmbPath,
					shape: b.shape
				}) : b.color && y.push({
					color: b.color
				}), a.replaceImage())
			}
		};
		a.uploader = k.uploader(q);
		a.$on("uploadfiles.add", function(b) {
			a.systemImages && p(), n.clear("fileService"), a.imgList.length == r && a.imgList.splice(a.imgList.length - a.uploader.queue.length - 1, a.uploader.queue.length)
		});
		var z;
		a.$on("thumbnailList.update", function(b, c) {
			for (var d = 0; d < a.uploader.queue.length; d++) 100 == a.uploader.queue[d].progress && (a.uploader.queue.splice(d, 1), z = c, a.imgList.unshift(z));
			n.clear("fileService")
		}), a.$on("upload.bg.complete", function(b, c) {
			h.deleteFile(z.id), g.openCropModal(c, function(b) {
				z.tmbPath = b.src, z.id = b.id, a.imgList.unshift(z)
			}, function(a) {})
		}), a.cancel = function() {
			a.$dismiss()
		}, a.$watch("userTagId", function(b, c) {
			var d = PREFIX_URL + "index.php?c=upfile&a=upload&bizType=0&fileType=" + q;
			b && (d += "&tagId=" + b), a.uploader.url = d
		})
	}]), angular.module("scene.create.console.button", []), angular.module("scene.create.console.button").controller("ButtonConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", "ModalService", function(a, b, c, d, e, f) {
		a.model = {
			title: d.properties.title,
			text: d.properties.text,
			link: d.properties.link,
			imgSrc: d.properties.imgSrc,
			layout: d.properties.layout,
			showPic: d.properties.showPic,
			checkedLink: d.properties.checkedLink
		}, a.authError = "", a.buttons = [{
			id: 1,
			text: "点击提交",
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 2,
			text: "立即提交",
			btnStyle: {
				backgroundColor: "rgb(255, 255, 255)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 3,
			text: "提交信息",
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 4,
			text: "立即参加",
			btnStyle: {
				height: "30px",
				backgroundColor: "#333333",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 5,
			text: "提交表单",
			btnStyle: {
				height: "30px",
				backgroundColor: "#a0d86b",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 6,
			text: "马上订购",
			btnStyle: {
				height: "30px",
				backgroundColor: "#ff6666",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}], angular.forEach(a.buttons, function(b, c) {
			"" !== a.model.title && d.css.backgroundColor && d.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
		}), a.confirm = function() {
			if (!a.model.title || 0 === a.model.title.length) return a.authError = "按钮名称不能为空", void $('.bg_console input[type="text"]').focus();
			if (a.model.showPic === !0 && !a.model.imgSrc) return void f.openMsgDialog({
				msg: "请上传图片!"
			});
			if (a.model.checkedLink) {
				if (!a.model.link) return void f.openMsgDialog({
					msg: "请填写链接地址!"
				});
				if (!a.model.text) return void f.openMsgDialog({
					msg: "请填写提示信息!"
				})
			}
			a.$close(a.model)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseTabButton = function(b, c) {
			a.model.title = b.text, a.model.btnStyle = b.btnStyle, a.btnIndex = c
		}, a.openImageModal = function(b) {
			e.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(b) {
				return b.width / b.height === 1 ? void(a.model.imgSrc = b.data) : void e.open({
					windowClass: "console seven-contain",
					templateUrl: "scene/console/imageCrop.tpl.html",
					controller: "imageCropCtrl",
					backdrop: "static",
					resolve: {
						obj: function() {
							return {
								type: "square",
								properties: {
									src: b.data
								},
								cw: 250
							}
						}
					}
				}).result.then(function(b) {
					a.model.imgSrc = b.src
				}, function(a) {})
			}, function(a) {})
		}
	}]), angular.module("scene.create.console.category", ["services.file"]), angular.module("scene.create.console.category").controller("CategoryConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "fileService", function(a, b, c, d) {
		a.category = {}, a.authError = "", a.confirm = function() {
			return a.category.name && a.category.name.trim() ? countCharacters(a.category.name) > 16 ? void(a.authError = "分类名称不能超过16个字符") : (d.createTag(a.category.name), void a.$close()) : void(a.authError = "请输入分类名称！")
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("scene.create.console.counter", []), angular.module("scene.create.console.counter").controller("CounterConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, b, c, d, e) {
		a.model = {
			title: d.title,
			properties: {
				layout: d.properties.layout,
				size: d.properties.size,
				color: d.properties.color,
				icon: d.properties.icon,
				imgSrc: d.properties.imgSrc
			}
		}, a.authError = "", a.openImageModal = function() {
			e.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(b) {
				a.model.properties.icon = "", a.model.properties.imgSrc = d.properties.imgSrc = b.data
			}, function(a) {})
		}, a.confirm = function() {
			angular.extend(d, a.model);
			var b = parseInt(d.css.height, 10) || 0;
			a.model.properties.imgSrc && 115 > b && (a.model.btnStyle = {
				width: "320px",
				height: "115px",
				lineHeight: "115px",
				backgroundColor: "transparent"
			}), "counter-tb" === a.model.properties.layout && (!a.model.properties.imgSrc && 80 > b && (a.model.btnStyle = {
				height: "80px",
				lineHeight: "80px"
			}), a.model.properties.imgSrc && 155 > b && (a.model.btnStyle = a.model.btnStyle || {}, a.model.btnStyle.height = a.model.btnStyle.lineHeight = "155px")), a.$close(a.model)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseEqfont = function(b) {
			a.model.properties.icon = b, a.model.properties.imgSrc = null, "eqf-love" == b ? a.model.properties.color = "#ff5448" : "eqf-good" == b ? a.model.properties.color = "#f2a653" : "eqf-flower2" == b ? a.model.properties.color = "#ea1f64" : "eqf-vote" == b && (a.model.properties.color = "#08a1ef")
		}
	}]), angular.module("scene.create.console.cropImage", ["services.file"]).directive("cropImage", ["sceneService", "fileService", "$compile", function(a, b, c) {
		return {
			restrict: "EAC",
			scope: {},
			replace: !0,
			templateUrl: "scene/console/cropimage.tpl.html",
			link: function(c, d, e) {
				function f() {
					o.css.width / o.css.height > m / n ? (k = parseInt(o.css.width * m / o.css.width, 10), l = parseInt(o.css.height * m / o.css.width, 10)) : (k = parseInt(o.css.width * n / o.css.height, 10), l = parseInt(o.css.height * n / o.css.height, 10));
					var a = (m - k) / 2,
						b = (n - l) / 2,
						c = (m - k) / 2 + k,
						d = (n - l) / 2 + l;
					j = [0, 0, m, n], r = o.css.width / o.css.height, i = [a, b, c, d]
				}
				function g(a) {
					$(".cropWidth").html(parseInt(a.w, 10)), $(".cropHeight").html(parseInt(a.h, 10))
				}
				c.PREFIX_FILE_HOST = PREFIX_FILE_HOST;
				var h, i, j, k, l, m, n, o = a.currentElemDef,
					p = a.currentElemDef.properties.src,
					q = $("#target"),
					r = o.css.width / o.css.height;
				c.fit = !0, c.lockRatio = !1, c.$on("changeElemDef", function(a, b) {
					o = b, c.fit = !0, c.lockRatio = !1, o.properties.src != p ? (p = o.properties.src, h.setImage(PREFIX_FILE_HOST + p), q.unbind("load").attr("src", PREFIX_FILE_HOST + p).load(function() {
						m = this.width, n = this.height, c.preSelectImage(p), c.$apply()
					})) : (c.preSelectImage(p), c.$apply())
				}), c.preSelectImage = function(a) {
					h ? (f(), h.setOptions({
						aspectRatio: r,
						setSelect: i
					})) : q.attr("src", PREFIX_FILE_HOST + a).load(function() {
						m = this.width, n = this.height, q.Jcrop({
							onChange: g,
							keySupport: !1,
							setSelect: [0, 0, 100, 100],
							boxHeight: 320,
							boxWidth: 680
						}, function() {
							h = this
						}), a && (f(), h.setOptions({
							aspectRatio: r,
							setSelect: i
						}))
					})
				}, c.preSelectImage(p), c.$watch("lockRatio", function(a, b) {
					if (h) {
						var c = h.tellSelect();
						c.w = parseInt(c.w, 10), c.h = parseInt(c.h, 10), a ? h.setOptions({
							aspectRatio: c.w / c.h
						}) : h.setOptions({
							aspectRatio: null
						})
					}
				}), c.$watch("fit", function(a, b) {
					if (h) if (a) {
						var c = h.tellSelect();
						c.x = parseInt(c.x, 10), c.y = parseInt(c.y, 10), c.x2 = parseInt(c.x2, 10), c.y2 = parseInt(c.y2, 10), j = [c.x, c.y, c.x2, c.y2], h.setOptions({
							aspectRatio: r,
							setSelect: i
						})
					} else h.setOptions({
						aspectRatio: null,
						setSelect: j
					})
				}), c.crop = function() {
					var c = a.currentElemDef,
						e = h.tellSelect();
					return 0 === e.w || 0 === e.h ? void $(d).hide() : (e.x = parseInt(e.x, 10), e.y = parseInt(e.y, 10), e.w = parseInt(e.w, 10), e.h = parseInt(e.h, 10), e.x2 = parseInt(e.x2, 10), e.y2 = parseInt(e.y2, 10), e.src = $("#target").attr("src").split(PREFIX_FILE_HOST)[1], void b.cropImage(e).then(function(a) {
						var b = {
							type: "imgSrc",
							data: a.data.obj,
							width: e.w,
							height: e.h
						};
						c.properties.src = b.data;
						var f = b.width / b.height,
							g = $("#" + c.id),
							h = $("#inside_" + c.id).width(),
							i = $("#inside_" + c.id).height(),
							j = h / i;
						f >= j ? (i = h / f, $("#inside_" + c.id).height(i), c.css.height = i, c.properties.height = i, g.outerHeight(i), g.outerWidth(h), g.css("marginLeft", 0), g.css("marginTop", 0)) : (h = i * f, $("#inside_" + c.id).width(h), c.css.width = h, c.properties.width = h, g.outerWidth(h), g.outerHeight(i), g.css("marginTop", 0), g.css("marginLeft", 0)), g.attr("src", PREFIX_FILE_HOST + b.data), c.properties.imgStyle = {}, c.properties.imgStyle.width = g.outerWidth(), c.properties.imgStyle.height = g.outerHeight(), c.properties.imgStyle.marginTop = g.css("marginTop"), c.properties.imgStyle.marginLeft = g.css("marginLeft"), $(d).hide()
					}, function(b) {
						c.properties.src || a.deleteElement(c.id)
					}))
				}, c.cancel = function() {
					$(d).hide()
				}
			}
		}
	}]), angular.module("scene.custom.activities", ["ui.bootstrap.datepicker"]), angular.module("scene.custom.activities").controller("CustomActivitiesCtrl", ["$scope", "$modal", "customActivitiesService", "ModalService", "activityInfo", "userXd", "uploaderService", "fileService", "dateFilter", function(a, b, c, d, e, f, g, h, i) {
		a.rewards = [{
			label: "",
			xd: ""
		}, {
			label: "",
			xd: ""
		}, {
			label: "",
			xd: ""
		}], e ? (a.active = e, a.active.introductionName = e.wordName, a.active.endDate = i(e.endDate), a.active.startDate = i(e.startDate), -1 != e.promStatus && (a.formDis = !0)) : a.active = {}, a.cancel = function() {
			a.$dismiss()
		}, a.deleteTheReward = function(b) {
			a.rewards.splice(b, 1)
		}, a.addNewReward = function() {
			a.rewards.length >= 10 || a.rewards.splice(0, 0, {
				label: "",
				xd: ""
			})
		}, a.uploader = g.uploader(8, null, 1);
		var j = PREFIX_URL + "index.php?c=upfile&a=upload&bizType=0&fileType=8";
		a.uploader.url = j, a.$on("thumbnailList.update", function(b, c) {
			for (var d = 0; d < a.uploader.queue.length; d++) 100 == a.uploader.queue[d].progress && (a.uploader.queue.splice(d, 1), a.active.introductionName = c.name, a.active.fileId = c.id)
		}), a.openImageModal = function(c) {
			a.formDis || b.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(d) {
				return d.width / d.height === 1 ? void(a.active[c] = d.data) : void b.open({
					windowClass: "console seven-contain",
					templateUrl: "scene/console/imageCrop.tpl.html",
					controller: "imageCropCtrl",
					backdrop: "static",
					resolve: {
						obj: function() {
							return {
								type: "square",
								properties: {
									src: d.data
								},
								cw: 250
							}
						}
					}
				}).result.then(function(b) {
					({
						width: b.width,
						height: b.height,
						data: b.src,
						type: "imgSrc"
					});
					a.active[c] = b.src
				}, function(a) {})
			}, function(a) {})
		}, a.ok = function() {
			if (a.formDis) return void a.$dismiss();
			if (!a.activite) {
				if (!a.active.title) return void d.openMsgDialog({
					msg: "请设置活动主题"
				});
				if (!a.active.startDate) return void d.openMsgDialog({
					msg: "请设置活动开始时间"
				});
				if (!a.active.endDate) return void d.openMsgDialog({
					msg: "请设置活动结束时间"
				});
				if (!a.active.fileId) return void d.openMsgDialog({
					msg: "请设置活动描述"
				});
				a.active.startDate = i(a.active.startDate), a.active.endDate = i(a.active.endDate), c.saveActivite(a.active).then(function(b) {
					d.openMsgDialog({
						msg: "活动创建成功!"
					}), a.active.promStatus = 0, a.$close(a.active)
				})
			}
		}, a.removeIntro = function() {
			a.formDis || (a.active.fileId = null, a.active.introductionName = null)
		}
	}]).factory("customActivitiesService", ["$http", function(a) {
		var b = {};
		return b.saveActivite = function(b) {
			var c = "m/scene/company/promotion/save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, b.getActivite = function() {
			var b = "index.php?c=scene&a=companyPromotion";
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}, b
	}]), angular.module("scene.create.console.fake", []), angular.module("scene.create.console.fake").controller("FakeConsoleCtrl", ["$scope", "type", function(a, b) {
		a.type = b
	}]), angular.module("scene.create.console.imageCrop", ["services.file"]).controller("imageCropCtrl", ["$rootScope", "$scope", "imageCropService", "obj", "dataCacheService", function(a, b, c, d, e) {
		var f;
		"square" == d.type ? f = b.cropOption = {
			type: d.type,
			title: "图片裁切",
			desc: "图片将按照要求的比例进行裁切",
			showItems: !1,
			imgSrc: d.properties.src,
			cropItems: [{
				ratio: 1,
				desc: "正方形比例"
			}]
		} : 3 == d.type ? (f = b.cropOption = {
			type: d.type,
			title: "背景裁切",
			desc: "背景图将按照要求的比例进行裁切",
			showItems: !1,
			imgSrc: d.properties.src,
			cropItems: [{
				ratio: 640 / 1008,
				desc: "背景图比例"
			}]
		}, 1 != d.properties.pageLength && (f.showItems = !0, f.cropItems = [{
			value: 1,
			ratio: 640 / 1008,
			desc: "固定背景模式"
		}])) : 4 == d.type && (f = b.cropOption = {
			type: d.type,
			title: "图片裁切",
			desc: "请根据你的需求，点击右侧常用比例进行裁切",
			showItems: !0,
			imgSrc: d.properties.src,
			cropItems: [{
				value: 1,
				ratio: 0,
				desc: "原图比例"
			}, {
				value: 2,
				ratio: 1,
				desc: "1:1"
			}, {
				value: 3,
				ratio: 4 / 3,
				desc: "4:3"
			}, {
				value: 4,
				ratio: .75,
				desc: "3:4"
			}, {
				value: 5,
				ratio: 320 / 486,
				desc: "标准屏比例"
			}, {
				value: 6,
				ratio: 320 / 243,
				desc: "1/2屏比例"
			}, {
				value: 7,
				ratio: 320 / 162,
				desc: "1/3屏比例"
			}, {
				value: 8,
				ratio: -1,
				desc: "自定义",
				lock: !1
			}]
		}), f.currentItem = f.cropItems[0], b.cropItemChange = function(b) {
			null == b.lock && f.cropItems[7] && (f.cropItems[7].lock = !1), f.currentItem = b, a.$broadcast("cropItem.change", b)
		}, b.ok = function() {
			d.properties.pageLength && (d.properties.type = f.currentItem.value), a.$broadcast("cropImage.ok", d)
		}, b.cancel = function() {
			b.$dismiss(d.properties.src)
		}
	}]).factory("imageCropService", ["$rootScope", "fileService", function(a, b) {
		var c = {};
		return c.cropImage = function(c) {
			b.cropImage(c).success(function(b) {
				if (b.success) {
					var d = {
						width: c.w,
						height: c.h,
						src: b.map.path,
						id: b.map.id
					};
					a.$broadcast("crop.success", d)
				} else alert(b.msg), a.$broadcast("crop.fail")
			}).error(function() {
				alert("网络连接超时，请稍后重试"), a.$broadcast("crop.fail")
			})
		}, c
	}]).directive("eqxCropPreview", ["imageCropService", "dataCacheService", function(a, b) {
		function c(a, c) {
			d(a, c), a.$on("$destroy", function() {
				m = !1
			}), a.$on("cropItem.change", function(a, b) {
				f(b)
			}), a.$on("cropImage.ok", function(d, e) {
				m || (l = e, b.clear("fileService"), g(a, c))
			}), a.$on("crop.success", function(b, c) {
				4 == l.type && h(c), 3 == l.type && 2 == l.properties.type && (c.type = 2, c.pageLength = l.properties.pageLength), a.$close(c)
			})
		}
		function d(a, b) {
			b.hide().load(function() {
				b.show();
				var c = $(".image_crop"),
					d = {
						width: c.width(),
						height: c.height()
					},
					f = d.width / d.height;
				j = {
					width: this.width,
					height: this.height
				};
				var g, h = j.width / j.height;
				j.width > d.width || j.height > d.height ? h > f ? (b.css({
					width: d.width,
					height: d.width / h
				}), g = {
					position: "absolute",
					top: "50%",
					marginTop: -d.width / h / 2
				}) : (b.css({
					width: d.height * h,
					height: d.height
				}), g = {
					margin: "auto"
				}) : g = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -j.width / 2,
					marginTop: -j.height / 2
				}, k = {
					width: b.width(),
					height: b.height()
				}, e(a, b, g)
			})
		}
		function e(a, b, c) {
			var d = b.parent().attr("ctype"),
				e = k.width,
				f = k.height;
			if (3 == d || "square" == d) {
				var g = a.$parent.cropOption.currentItem;
				e > f ? e = f * g.ratio : f = e / g.ratio, b.Jcrop({
					keySupport: !1,
					aspectRatio: g.ratio,
					allowSelect: !1,
					setSelect: [0, 0, e, f],
					onRelease: function() {
						this.setOptions({
							setSelect: [0, 0, e, f]
						})
					}
				}, function() {
					i = this
				})
			} else b.Jcrop({
				keySupport: !1,
				aspectRatio: e / f,
				allowSelect: !1,
				setSelect: [0, 0, e, f],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, e, f]
					})
				}
			}, function() {
				i = this
			});
			$(".jcrop-holder").css(c)
		}
		function f(a) {
			var b, c = k.width,
				d = k.height;
			if (-1 === a.ratio) {
				var e = i.tellSelect();
				b = a.lock ? {
					aspectRatio: e.w / e.h,
					setSelect: [0, 0, e.w, e.h]
				} : {
					aspectRatio: 0,
					setSelect: [0, 0, e.w, e.h]
				}
			} else 0 === a.ratio ? b = {
				aspectRatio: c / d,
				setSelect: [0, 0, c, d]
			} : (c > d ? c = d * a.ratio : d = c / a.ratio, b = {
				aspectRatio: c / d,
				setSelect: [0, 0, c, d]
			});
			i.setOptions(b)
		}
		function g(b, c) {
			var d = i.tellSelect();
			if (d.w === k.width && d.h === k.height || 0 === d.w && 0 === d.h) {
				if (!l) return;
				return void b.$dismiss(l.properties.src)
			}
			if (3 == l.type && Math.abs(d.w - k.width) <= 2 && Math.abs(d.h === k.height) <= 2) {
				var e = {
					type: 1,
					src: l.properties.src,
					pageLength: l.properties.pageLength,
					id: l.properties.id
				};
				return void b.$close(e)
			}
			var f = j.width / k.width;
			d.w = parseInt(d.w * f, 10), d.h = parseInt(d.h * f, 10), d.x = parseInt(d.x * f, 10), d.y = parseInt(d.y * f, 10), d.y < 0 && (d.y = 0), d.x < 0 && (d.x = 0), d.src = c.attr("src").split(PREFIX_FILE_HOST)[1], d.x + d.w > j.width && (d.w = j.width - d.x), d.y + d.h > j.height && (d.h = j.height - d.y), 3 == l.type ? d.fileType = 0 : d.fileType = 1, delete d.x2, delete d.y2, l.cw && (d.cw = l.cw), a.cropImage(d)
		}
		function h(a) {
			var b = l;
			b.properties.src = a.src;
			var c = a.width / a.height,
				d = $("#" + b.id),
				e = $("#inside_" + b.id),
				f = e.width(),
				g = e.height(),
				h = f / g;
			c >= h ? (g = f / c, e.height(g), b.css.height = g, b.properties.height = g, d.outerHeight(g), d.outerWidth(f), d.css("marginLeft", 0), d.css("marginTop", 0)) : (f = g * c, e.width(f), b.css.width = f, b.properties.width = f, d.outerWidth(f), d.outerHeight(g), d.css("marginTop", 0), d.css("marginLeft", 0)), d.attr("src", PREFIX_FILE_HOST + a.src), b.properties.imgStyle = {}, b.properties.imgStyle.width = d.outerWidth(), b.properties.imgStyle.height = d.outerHeight(), b.properties.imgStyle.marginTop = d.css("marginTop"), b.properties.imgStyle.marginLeft = d.css("marginLeft")
		}
		var i, j, k, l, m = !1;
		return {
			link: c
		}
	}]), angular.module("scene.create.console.input", []), angular.module("scene.create.console.input").controller("InputConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", function(a, b, c, d) {
		a.model = {
			title: d.title,
			type: d.type,
			required: d.properties.required
		}, a.authError = "";
		var e = "输入框";
		a.buttons = [{
			id: 1,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 2,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 3,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 4,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 5,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(0, 0, 0)"
			}
		}, {
			id: 6,
			text: e,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f66",
				color: "rgb(0, 0, 0)"
			}
		}], angular.forEach(a.buttons, function(b, c) {
			"" !== a.model.title && d.css.borderColor && d.css.borderColor == b.btnStyle.borderColor && (a.btnIndex = c)
		}), a.confirm = function() {
			return a.model.title && 0 !== a.model.title.length ? void a.$close(a.model) : (a.authError = "输入框名称不能为空", void $('input[type="text"]').focus())
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseTabButton = function(b, c) {
			a.model.btnStyle = b.btnStyle, a.btnIndex = c
		}
	}]), angular.module("scene.create.console.linkComponent", []), angular.module("scene.create.console.linkComponent").controller("LinkComponentConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", "sceneService", function(a, b, c, d, e, f) {
		a.model = {
			title: d.properties.title,
			imgSrc: d.properties.imgSrc,
			url: {
				link: "external",
				externalLink: "http://"
			}
		}, d.properties.url && (angular.isNumber(d.properties.url) ? (a.model.url.link = "internal", a.model.url.internalLink = d.properties.url) : (a.model.url.link = "external", a.model.url.externalLink = decodeURIComponent(d.properties.url.split("=")[2]))), a.authError = "", a.buttons = [{
			id: 1,
			text: "点我购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 2,
			text: "点开链接",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 3,
			text: "马上购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 4,
			text: "关注我们",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}], a.openImageModal = function() {
			e.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(b) {
				a.model.title = "", a.btnIndex = -1, a.model.btnStyle = {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				}, a.model.imgSrc = d.properties.imgSrc = b.data
			}, function(a) {})
		}, angular.forEach(a.buttons, function(b, c) {
			"" !== a.model.title && d.css.backgroundColor && d.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
		}), a.confirm = function() {
			return null != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? a.model.url.internalLink || a.model.url.externalLink ? (d.properties.url = "internal" === a.model.url.link ? a.model.url.internalLink : a.model.url.externalLink, d.properties.title = a.model.title, void a.$close(a.model)) : void(a.authError = "链接不能为空") : (a.authError = "按钮名称不能为空", void $("#buttonName").focus())
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseTabButton = function(b, c) {
			a.model.title = b.text, a.model.btnStyle = b.btnStyle, a.btnIndex = c, a.model.imgSrc = d.properties.imgSrc = null
		}, a.removeLink = function(b) {
			"external" == b ? a.model.url.externalLink = null : "internal" == b && (a.model.url.internalLink = 0), a.model.url.link = ""
		}, a.changed = function() {
			"external" == a.model.url.link ? a.model.url.internalLink = 0 : a.model.url.externalLink = "http://"
		}, a.selectRadio = function(b) {
			"external" == b ? a.model.url.link = "external" : "internal" == b && (a.model.url.link = "internal"), a.changed()
		}, a.getPageNames = function() {
			var b = d.sceneId;
			f.getPageNames(b).then(function(b) {
				a.pageList = b.data.list, a.pageList.unshift({
					id: 0,
					name: "无"
				}), angular.forEach(a.pageList, function(a, b) {
					a.name || (a.name = "第" + a.num + "页")
				}), d.properties.url && angular.isNumber(d.properties.url) && (a.model.url.link = "internal", a.model.url.internalLink = d.properties.url)
			})
		}, a.getPageNames()
	}]), angular.module("scene.create.console.link", ["services.scene"]), angular.module("scene.create.console.link").directive("limitLinkLength", ["ModalService", function(a) {
		var b = 40;
		return {
			restrict: "A",
			require: "?ngModel",
			link: function(c, d, e, f) {
				d.blur(function() {
					var c = d.val() || "";
					c.length > b && a.openMsgDialog({
						msg: '<div align="left">提示：链接过长有可能会导致链接组件打不开，建议生成短链接后再使用。生成短链接地址<a href="http://dwz.cn" target="_blank"><font color="#08A1EF">http://dwz.cn</font></a></div>'
					}, function() {})
				})
			}
		}
	}]), angular.module("scene.create.console.link").controller("LinkConsoleCtrl", ["$scope", "$timeout", "obj", "sceneService", function(a, b, c, d) {
		a.url = {}, a.url.externalLink = "http://";
		var e;
		a.confirm = function() {
			"external" == a.url.link ? e = a.url.externalLink : "internal" == a.url.link && (e = a.url.internalLink.id), a.$close(e)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.removeLink = function(b) {
			"external" == b ? a.url.externalLink = "http://" : "internal" == b && (a.url.internalLink = a.pageList[0]), a.url.link = ""
		}, a.changed = function() {
			"external" == a.url.link ? a.url.internalLink = a.pageList[0] : a.url.externalLink = "http://"
		}, a.selectRadio = function(b) {
			a.url.link || ("external" == b ? a.url.link = "external" : "internal" == b && (a.url.link = "internal"))
		}, a.getPageNames = function() {
			var b = c.sceneId;
			d.getPageNames(b).then(function(b) {
				a.pageList = b.data.list, a.pageList.unshift({
					id: 0,
					name: "无"
				}), a.url.internalLink = a.pageList[0], angular.forEach(a.pageList, function(b, d) {
					b.name || (b.name = "第" + b.num + "页"), c.properties.url && c.properties.url == b.id && (a.url.link = "internal", a.url.internalLink = b)
				}), c.properties.url && isNaN(c.properties.url) && (a.url.link = "external", a.url.externalLink = decodeURIComponent(c.properties.url.split("=")[2]))
			})
		}, a.getPageNames()
	}]), angular.module("scene.create.console.map", ["app.directives.comp.editor"]), angular.module("scene.create.console.map").directive("eqdMap", ["$timeout", "$interval", function(a, b) {
		return {
			scope: {
				center: "=",
				zoom: "=",
				bounds: "=",
				change: "&"
			},
			controller: ["$scope", "$element", "$attrs", "$transclude", function(a, c, d, e) {
				var f = this;
				f.addMark = function(c) {
					if (a.map) c.setMap(a.map);
					else var d = b(function() {
						a.map && (c.setMap(a.map), b.cancel(d))
					}, 400)
				}
			}],
			restrict: "A",
			link: function(c, d, e, f) {
				function g() {
					a(function() {
						c.change() && c.change()({
							zoom: c.zoom,
							center: c.center,
							bounds: j.getBounds()
						})
					}, 100)
				}
				var h = new qq.maps.LatLng(c.center.lat, c.center.lng),
					i = {
						zoom: c.zoom,
						center: h,
						mapTypeControlOptions: {
							mapTypeIds: []
						}
					},
					j = c.map = new qq.maps.Map(d.get(0), i),
					k = b(function() {
						var a = j.getBounds();
						a && (j.panBy(-1, -1), a.lat.maxY != a.lat.minY && a.lng.maxX != a.lng.minX && (b.cancel(k), c.bounds = a))
					}, 400);
				qq.maps.event.addListener(j, "zoom_changed", function() {
					c.zoom = j.getZoom(), c.bounds = j.getBounds(), g()
				}), qq.maps.event.addListener(j, "center_changed", function() {
					c.center = j.getCenter(), c.bounds = j.getBounds(), g()
				}), c.$watch("zoom", function(a, b) {
					a != b && j.setZoom(a)
				}), c.$watch("center", function(a, b) {
					a != b && (h = new qq.maps.LatLng(a.lat, a.lng), j.panTo(h))
				})
			}
		}
	}]).directive("eqdMapMark", [function() {
		return {
			scope: {
				position: "="
			},
			require: "^eqdMap",
			restrict: "E",
			link: function(a, b, c, d) {
				var e;
				a.position && (e ? e.setPosition(a.position) : e = new qq.maps.Marker({
					position: a.position,
					animation: qq.maps.MarkerAnimation.DROP,
					map: null
				}), d.addMark(e)), a.$watch("position", function(b, c) {
					b != c && (e ? e.setPosition(a.position) : e = new qq.maps.Marker({
						position: a.position,
						animation: qq.maps.MarkerAnimation.DROP,
						map: null
					}), b ? d.addMark(e) : e.setMap(null))
				})
			}
		}
	}]), angular.module("scene.create.console.micro", ["app.directives.addelement", "services.scene"]), angular.module("scene.create.console.micro").controller("MicroConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "sceneService", function(a, b, c, d, e) {
		a.model || (a.model = {});
		var f = [];
		a.isSelected = [], a.backgroundColors = [{
			backgroundColor: "#D34141"
		}, {
			backgroundColor: "#000"
		}, {
			backgroundColor: "#23A3D3"
		}, {
			backgroundColor: "#79C450"
		}, {
			backgroundColor: "#fafafa"
		}], a.labelNames = [{
			id: 1,
			title: "栏目一",
			color: {
				backgroundColor: ""
			}
		}, {
			id: 2,
			title: "栏目二",
			color: {
				backgroundColor: ""
			}
		}, {
			id: 3,
			title: "栏目三",
			color: {
				backgroundColor: ""
			}
		}, {
			id: 4,
			title: "栏目四",
			color: {
				backgroundColor: ""
			}
		}], a.model.color = d.properties.labels[0].color.backgroundColor, a.selectColor = function(b) {
			a.model.color = b.backgroundColor, angular.forEach(a.labelNames, function(a, c) {
				a.color.backgroundColor && (a.color.backgroundColor = b.backgroundColor)
			})
		}, angular.forEach(d.properties.labels, function(b, c) {
			angular.forEach(a.labelNames, function(a, c) {
				b.id == a.id && (a.title = b.title, a.color.backgroundColor = b.color.backgroundColor, a.link = b.link, a.selected = !0, b.mousedown = !1)
			})
		}), a.confirm = function() {
			f = [];
			var b = 0,
				c = 0;
			angular.forEach(a.labelNames, function(a, d) {
				a.selected && (a.link ? f.push(a) : c++, b++)
			}), 2 > b ? alert("导航标签不能少于两个！") : c > 0 ? alert("每个导航必须有链接页面！") : a.$close(f)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.switchLabel = function(b, c) {
			a.label = b, b.selected ? a.labelIndex == c ? (b.color.backgroundColor = "", b.selected = !1, b.mousedown = !1) : (a.labelIndex = c, b.mousedown = !0) : (b.color.backgroundColor = a.model.color, a.labelIndex = c, b.selected = !0, b.mousedown = !0), b.mousedown ? (a.model.title = b.title, b.link ? a.model.link = a.pageList[b.link] : a.model.link = a.pageList[0]) : (a.model.title = "", a.model.link = a.pageList[0])
		}, a.selectLink = function(b) {
			a.label.mousedown && (a.label.link = b.num, console.log(a.labelNames))
		}, a.changeLabelName = function() {
			a.label.mousedown && (a.label.title = a.model.title)
		}, a.getPageNames = function() {
			var b = d.sceneId;
			e.getPageNames(b).then(function(b) {
				a.pageList = b.data.list, a.pageList.unshift({
					id: 0,
					name: "无"
				}), angular.forEach(a.pageList, function(a, b) {
					a.name || (a.name = "第" + a.num + "页")
				}), a.model.link = a.pageList[0]
			})
		}, a.getPageNames()
	}]), angular.module("scene.create.console.pictures", ["services.file"]).controller("picturesCtrl", ["$scope", "$timeout", "$rootScope", "$modal", "picturesService", "obj", function(a, b, c, d, e, f) {
		var g = 530,
			h = 265,
			i = a.picStyles = utilPictures.getPicStyle();
		a.currentImageIndex = -1;
		var j = angular.copy(f),
			k = a.position = j.css;
		if (null != k.width && null != k.height) {
			var l = k.width / k.height,
				m = g / h;
			l > m ? (k.width = g, k.height = g / l) : (k.height = h, k.width = h * l)
		}
		var n = a.properties = j.properties;
		n.autoPlay = null == n.autoPlay ? !0 : n.autoPlay, n.interval = null == n.interval ? 2e3 : n.interval, n.picStyle = null == n.picStyle ? i[0] : utilPictures.getPicStyle(n.picStyle), n.bgColor = null == n.bgColor ? "rgba(255,255,255,1)" : n.bgColor, n.children = null == n.children ? [] : n.children, e.setImages(n.children), a.authError = "", a.choosePic = function() {
			return n.children.length >= 6 ? void(a.authError = "最多可选择6张图片") : void d.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1,
							type: "p",
							count: n.children.length,
							elemDef: f
						}
					}
				}
			}).result.then(function(a) {
				$.each(a.selectedImages, function(a, b) {
					e.addImages({
						src: b.src,
						desc: "",
						height: b.height,
						width: b.width
					})
				})
			}, function() {})
		}, a.ok = function() {
			return 0 === n.children.length ? void(a.authError = "请选择图片") : (n.picStyle = n.picStyle.value, f.properties = n, void a.$close(n))
		}, a.cancel = function() {
			a.$dismiss()
		}, a.$on("currentImage.update", function(b, c) {
			a.currentImageIndex = c
		}), a.$on("images.add", function(a, b) {
			n.children = b
		}), a.$on("images.update", function(a, b) {
			n.children = b
		})
	}]).factory("picturesService", ["$rootScope", "fileService", function(a, b) {
		var c, d, e = {},
			f = [];
		return e.setJcrop = function(b) {
			a.$broadcast("jcrop.update", b)
		}, e.setImageSize = function(b) {
			a.$broadcast("image.update", b)
		}, e.setCurrentImage = function(b) {
			d = b, a.$broadcast("currentImage.update", b)
		}, e.getCurrentImage = function() {
			return d
		}, e.addImages = function(b) {
			f.push(b), a.$broadcast("images.add", f)
		}, e.updateImages = function(b, c) {
			f.splice(b, 1, c), a.$broadcast("images.update", f)
		}, e.deleteImages = function(b) {
			f.splice(b, 1), a.$broadcast("images.update", f)
		}, e.setImages = function(a) {
			return f = a
		}, e.getImages = function() {
			return f
		}, e.setProperties = function(a) {
			c = a
		}, e.getProperties = function() {
			return c
		}, e.cropImage = function(c) {
			b.cropImage(c).success(function(b) {
				if (b.success) {
					var d = {
						width: c.w,
						height: c.h,
						desc: "",
						src: b.obj
					};
					a.$broadcast("crop.success", d)
				} else alert(b.msg)
			}).error(function() {
				alert("网络连接超时，请稍后重试")
			})
		}, e
	}]).directive("eqxPicturesImageCrop", ["$compile", "picturesService", function(a, b) {
		return {
			link: function(c, d) {
				var e = $(d),
					f = $(".pic-preview"),
					g = {
						width: f.width(),
						height: f.height()
					};
				c.showOperation = !0;
				var h, i = '<div class="operation" ng-show="!showOperation"><a class="quxiao" ng-click="cropCancel()">取消</a><a class="finish" ng-click="cropOk()">完成</a></div>';
				c.$on("image.update", function(a, b) {
					h = {
						width: b.width,
						height: b.height
					}
				}), c.$on("jcrop.update", function(d, j) {
					f.append(a(i)(c)), c.showOperation = !0, c.$apply();
					var k = f.children("img"),
						l = {
							width: k.width(),
							height: k.height()
						};
					e.removeClass("hover").unbind("click").click(function() {
						var a = b.getImages();
						0 !== a.length && (c.showOperation = $(this).hasClass("hover"), c.showOperation ? ($(this).removeClass("hover"), j.release(), j.disable()) : ($(this).addClass("hover"), j.setSelect([0, 0, l.width, l.height]), j.enable()))
					}), c.cropOk = function() {
						var a = j.tellSelect();
						if (!(a.w === g.width && a.h === g.height || 0 === a.w && 0 === a.h)) {
							var c = h.width / l.width;
							a.w = parseInt(a.w * c, 10), a.h = parseInt(a.h * c, 10), a.x = parseInt(a.x * c, 10), a.y = parseInt(a.y * c, 10), a.x2 = parseInt((a.w + a.x) * c, 10), a.y2 = parseInt((a.h + a.y) * c, 10), a.src = k.attr("src").split(PREFIX_FILE_HOST)[1], b.cropImage(a)
						}
					}, c.cropCancel = function() {
						c.showOperation = !0, e.removeClass("hover"), j.release(), j.disable()
					}
				})
			}
		}
	}]).directive("eqxPicturesImagePreview", ["picturesService", function(a) {
		return {
			link: function(b, c) {
				var d, e, f = $(c),
					g = $(".pic-preview"),
					h = {
						width: g.width(),
						height: g.height()
					},
					i = h.width / h.height;
				f.hide(), f.load(function() {
					f.show(), e = {
						width: this.width,
						height: this.height
					}, a.setImageSize(e);
					var b, c = e.width / e.height;
					c > i ? ($(this).css({
						width: h.width,
						height: h.width / c
					}), b = {
						position: "absolute",
						top: "50%",
						marginTop: -h.width / c / 2
					}) : ($(this).css({
						width: h.height * c,
						height: h.height
					}), b = {
						margin: "auto"
					}), f.Jcrop({
						keySupport: !1,
						aspectRatio: i
					}, function() {
						d = this
					}), $(".jcrop-holder").css(b), a.setJcrop(d), d.disable()
				})
			}
		}
	}]).directive("eqxPicturesImageClick", ["$compile", "picturesService", function(a, b) {
		function c(b, c) {
			$(".pic-preview").html(a('<img eqx-pictures-image-preview ng-src="' + c + '" />')(b))
		}
		return {
			link: function(a, d) {
				var e = $(d);
				e.click(function() {
					if (!e.hasClass("hover")) {
						var d = e.index();
						b.setCurrentImage(d), c(a, $(this).find(".pic-img").attr("src"))
					}
				}), e.children(".delete-img").click(function(c) {
					c.stopPropagation(), e.hasClass("hover") && $(".pic-preview").empty();
					var d = e.index();
					b.deleteImages(d);
					var f = b.getCurrentImage();
					f > d ? b.setCurrentImage(--f) : d === f && b.setCurrentImage(-1), a.$apply()
				}), a.$on("crop.success", function(d, f) {
					if (e.hasClass("hover")) {
						var g = PREFIX_FILE_HOST + f.src;
						c(a, g);
						var h = e.index();
						b.updateImages(h, f)
					}
				})
			}
		}
	}]), angular.module("scene.create.console.pictures1", ["services.file"]).controller("pictures1Ctrl", ["$rootScope", "$scope", "$modal", "picturesCropService", "obj", function(a, b, c, d, e) {
		function f(a) {
			h.currentImage = {
				index: a,
				src: l.children[a].src + "?t=" + Date.now()
			}
		}
		function g(a, b) {
			$("<img>").attr("src", PREFIX_FILE_HOST + b).load(function() {
				$.extend(n.items[a], {
					coordinate: {
						x: 0,
						y: 0,
						x2: this.width,
						y2: this.height,
						w: this.width,
						h: this.height,
						src: b,
						fileType: 1,
						index: a
					},
					realSize: {
						width: this.width,
						height: this.height
					}
				})
			})
		}
		var h = b.imageOption = {
			title: "图集组件",
			desc: "通过图片裁切可制作超酷图集",
			showCrop: !1,
			showLoading: !1,
			currentImage: {
				index: -1,
				src: ""
			}
		},
			i = b.cropOption = {
				showItems: !0,
				imgSrc: e.properties.src,
				cropItems: [{
					value: 2,
					ratio: 1,
					desc: "1:1"
				}, {
					value: 3,
					ratio: 4 / 3,
					desc: "4:3"
				}, {
					value: 4,
					ratio: .75,
					desc: "3:4"
				}, {
					value: 5,
					ratio: 320 / 486,
					desc: "标准屏比例"
				}, {
					value: 6,
					ratio: 320 / 243,
					desc: "1/2屏比例"
				}, {
					value: 7,
					ratio: 320 / 162,
					desc: "1/3屏比例"
				}, {
					value: 8,
					ratio: -1,
					desc: "自定义",
					lock: !1
				}]
			};
		i.currentItem = i.cropItems[0];
		var j = b.picStyles = utilPictures.getPicStyle(),
			k = angular.copy(e),
			l = b.properties = k.properties;
		l.autoPlay = null == l.autoPlay ? !0 : l.autoPlay, l.interval = null == l.interval ? 2e3 : l.interval, l.picStyle = null == l.picStyle ? j[0] : utilPictures.getPicStyle(l.picStyle), l.bgColor = null == l.bgColor ? "rgba(255,255,255,0)" : l.bgColor, l.children = null == l.children ? [] : l.children, l.children.length > 0 && (h.showCrop = !0, f(0));
		for (var m = 0; 6 > m; m++) l.children[m] ? g(m, l.children[m].src) : l.children.push({});
		var n = d.getCoordinateObj();
		b.cropItemChange = function(b) {
			null == b.lock && (i.cropItems[6].lock = !1), i.currentItem = b, a.$broadcast("cropItem.change", b)
		}, b.addPictures = function(a, b, d) {
			a.stopPropagation();
			var i = 0;
			d ? $.each(l.children, function(a, b) {
				b.src && i++
			}) : i = 5, c.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1,
							type: "p",
							count: i,
							elemDef: e
						}
					}
				}
			}).result.then(function(a) {
				h.showCrop = !0;
				var c = b,
					e = 0,
					i = l.children.length;
				if (d) for (; i > c;) {
					if (!l.children[c++].src) {
						var j = a.selectedImages[e++];
						l.children[c - 1] = {
							src: j.src,
							desc: "",
							height: j.height,
							width: j.width
						}, g(c - 1, j.src), f(b)
					}
					if (e === a.selectedImages.length) break;
					c === i && (c = 0)
				} else {
					var k = a.selectedImages[0];
					l.children[b] = {
						src: k.src,
						desc: "",
						height: k.height,
						width: k.width
					}, g(b, k.src), f(b)
				}
			})
		}, b.setPicturesSize = function(a) {
			var b, c, d, f = a.children[0],
				g = f.width / f.height;
			k.css.width || k.css.height ? (b = k.css.width / k.css.height, g > b ? (c = k.css.width, d = c / g) : (d = k.css.height, c = d * g)) : (b = 2, g > b ? (c = 320, d = c / g) : (d = 160, c = d * g)), e.css.width = c, e.css.height = d
		}, b.delPicture = function(b) {
			l.children[b] = {}, n.items[b] = {}, b === h.currentImage.index && (h.currentImage.index = -1, a.$broadcast("image.delete", b))
		}, b.changePicture = function(a) {
			h.currentImage.index !== a && f(a)
		}, b.ok = function() {
			return 0 === l.children.length ? void(h.desc = "请选择图片，最多添加6张") : void(d.getCropping() || (h.showLoading = !0, a.$broadcast("cropImage.ok", l)))
		}, b.cancel = function() {
			b.$dismiss()
		}, b.$on("crop.complete.all", function(a, c) {
			l.picStyle = l.picStyle.value, $.each(c, function(a, b) {
				l.children[b.index] = b
			});
			for (var d = angular.copy(l), e = d.children, f = 5; f >= 0; f--) e[f].src || e.splice(f, 1);
			b.setPicturesSize(d), b.$close(d)
		}), b.$on("crop.fail", function() {
			d.setCropping(!1), h.showLoading = !1
		})
	}]).factory("picturesCropService", ["$rootScope", "fileService", function(a, b) {
		var c, d = {},
			e = [],
			f = !1,
			g = 0,
			h = 0;
		return d.getCoordinateObj = function() {
			return c
		}, d.initCoordinateObj = function() {
			c = {
				ratio: null,
				items: []
			};
			for (var a = 0; 6 > a; a++) c.items.push({})
		}, d.setCropCount = function(a) {
			a ? g = a : g++
		}, d.getCropCount = function() {
			return g
		}, d.setCropping = function(a) {
			f = a
		}, d.getCropping = function() {
			return f
		}, d.cropImage = function(c) {
			b.cropImage(c).success(function(b) {
				if (b.success) {
					var d = {
						width: c.w,
						height: c.h,
						src: b.map.path,
						desc: "",
						index: b.map.index
					};
					e.push(d), h++, g === h && (g = h = 0, a.$broadcast("crop.complete.all", angular.copy(e)), e.length = 0)
				} else alert(b.msg), a.$broadcast("crop.fail")
			}).error(function() {
				alert("网络连接超时，请稍后重试"), a.$broadcast("crop.fail")
			})
		}, d.initCoordinateObj(), d
	}]).directive("eqxPicturesCropPreview", ["picturesCropService", function(a) {
		function b(b, d) {
			var e = a.getCoordinateObj();
			c(d, e), b.$on("$destroy", function() {
				i = j = k = null, a.initCoordinateObj(), a.setCropping(!1)
			}), b.$on("cropItem.change", function(a, b) {
				g(b)
			}), b.$on("image.delete", function() {
				$(".image_crop").children("div").remove()
			}), b.$on("cropImage.ok", function(a, c) {
				h(b, c, e)
			})
		}
		function c(a, b) {
			var c = $(".image_crop"),
				e = {
					width: c.width(),
					height: c.height()
				},
				f = e.width / e.height;
			a.hide().load(function() {
				var c = {
					width: this.width,
					height: this.height
				};
				a.removeAttr("style").show();
				var g, h = c.width / c.height;
				c.width > e.width || c.height > e.height ? h > f ? (a.css({
					width: e.width,
					height: e.width / h
				}), g = {
					position: "absolute",
					top: "50%",
					marginTop: -e.width / h / 2
				}) : (a.css({
					width: e.height * h,
					height: e.height
				}), g = {
					margin: "auto"
				}) : g = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -c.width / 2,
					marginTop: -c.height / 2
				}, j = {
					width: a.width(),
					height: a.height()
				};
				var i = a.attr("index");
				a.attr("src");
				$.extend(b.items[i], {
					displaySize: j
				}), d(a, b, g, i)
			})
		}
		function d(a, b, c, d) {
			i && (i.destroy(), i = null);
			var f = j.width,
				g = j.height,
				h = b.items[d].coordinate;
			h && (h.w > f && (h.w = f, h.h = f / b.ratio), h.h > g && (h.h = g, h.w = g * b.ratio), h.x2 = h.x + h.w, h.y2 = h.y + h.h);
			var l;
			l = k && -1 === k.ratio ? 0 : b.ratio || f / g, a.Jcrop({
				keySupport: !1,
				aspectRatio: l,
				allowSelect: !1,
				setSelect: h ? [h.x, h.y, h.x2, h.y2] : [0, 0, f, g],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, f, g]
					})
				},
				onSelect: function() {
					i && e(d, b)
				}
			}, function() {
				i = this, e(d, b)
			}), $(".jcrop-holder").css(c)
		}
		function e(a, b) {
			var c = i.tellSelect();
			b.ratio = c.w / c.h, $.extend(b.items[a].coordinate, c), $.each(b.items, function(a, c) {
				var d = c.coordinate;
				d && f(d, b)
			})
		}
		function f(a, b) {
			var c = a.w / a.h;
			c > b.ratio ? (a.w = a.h * b.ratio, a.x2 = a.x + a.w) : (a.h = a.w / b.ratio, a.y2 = a.y + a.h)
		}
		function g(a) {
			k = a;
			var b, c = j.width,
				d = j.height;
			if (-1 === a.ratio) {
				var e = i.tellSelect();
				b = a.lock ? {
					aspectRatio: e.w / e.h,
					setSelect: [0, 0, e.w, e.h]
				} : {
					aspectRatio: 0,
					setSelect: [0, 0, e.w, e.h]
				}
			} else c > d ? c = d * a.ratio : d = c / a.ratio, b = {
				aspectRatio: c / d,
				setSelect: [0, 0, c, d]
			};
			i.setOptions(b)
		}
		function h(b, c, d) {
			var e = [];
			$.each(d.items, function(b, c) {
				var g = c.coordinate,
					h = c.realSize;
				if (g && h) if (f(g, d), Math.ceil(h.width / h.height * 100) !== Math.ceil(g.w / g.h * 100)) {
					if (c.displaySize) {
						var i = h.width / c.displaySize.width;
						g.w = Math.ceil(g.w * i), g.h = Math.ceil(g.h * i), g.x = Math.ceil(g.x * i), g.y = Math.ceil(g.y * i)
					} else {
						var j = g.w / g.h,
							k = h.width / h.height;
						k > j ? (g.w = Math.ceil(h.height * j), g.h = h.height) : (g.w = h.width, g.h = Math.ceil(h.width / j))
					}
					g.x + g.w > c.realSize.width && (g.w = h.width - g.x), g.y + g.h > c.realSize.height && (g.h = h.height - g.y), g.w === h.width && g.h === h.height || 0 === g.w || 0 === g.h ? e.push({
						src: g.src,
						desc: "",
						height: g.h,
						width: g.w
					}) : (delete g.x2, delete g.y2, a.setCropping(!0), a.cropImage(g), a.setCropCount())
				} else e.push({
					src: g.src,
					desc: "",
					height: g.h,
					width: g.w
				})
			}), 0 === a.getCropCount() && (c.picStyle = c.picStyle.value, c.children = e, b.setPicturesSize(c), b.$close(c))
		}
		var i, j, k;
		return {
			link: b
		}
	}]), angular.module("scene.create.console.radio.checkbox", []), angular.module("scene.create.console.radio.checkbox").directive("stopPropagation", function() {
		return function(a, b) {
			b.bind("keydown", function(a) {
				a.stopPropagation()
			})
		}
	}), angular.module("scene.create.console.radio.checkbox").controller("RadioCheckboxConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "ModalService", function(a, b, c, d, e) {
		function f(a) {
			var b = $("#optionGroupContainer"),
				c = b.find(".option-group").eq(a),
				d = 72,
				e = c.position().top;
			e > d && b.scrollTop(b.scrollTop() + (e - d))
		}
		var g = JSON.parse(d.choices);
		a.model = {
			title: d.title,
			type: d.type,
			options: g.options,
			required: d.properties.required
		}, a.buttons = [{
			id: 1,
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#08a1ef",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#08a1ef"
				}
			}
		}, {
			id: 2,
			btnStyle: {
				backgroundColor: "#fff",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#fff",
					color: "#000"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#fff"
				}
			}
		}, {
			id: 3,
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#f6b223",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#f6b223"
				}
			}
		}, {
			id: 4,
			btnStyle: {
				backgroundColor: "#333",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#333",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#333"
				}
			}
		}, {
			id: 5,
			btnStyle: {
				backgroundColor: "#a0d86b",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#a0d86b",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#a0d86b"
				}
			}
		}, {
			id: 6,
			btnStyle: {
				backgroundColor: "#ff6666",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#ff6666",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#ff6666",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#ff6666"
				}
			}
		}], angular.forEach(a.buttons, function(b, c) {
			d.properties.titleStyle && d.properties.titleStyle.backgroundColor == b.properties.titleStyle.backgroundColor && (a.btnIndex = c)
		}), a.chooseTabButton = function(b, c) {
			a.model.btnStyle = b.btnStyle, a.btnIndex = c, $.extend(d.css, {
				borderStyle: b.btnStyle.borderStyle,
				borderColor: b.btnStyle.borderColor
			})
		}, a.authError = "", a.addNewOption = function(b) {
			a.model.options.length < 8 ? (++g.seq, a.model.options.splice(b + 1, 0, {
				id: g.seq,
				label: "选项" + g.seq
			}), setTimeout(function() {
				f(b)
			})) : e.openMsgDialog({
				msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"
			})
		}, a.deleteTheOption = function(b) {
			a.model.options.length > 1 && e.openConfirmDialog({
				msg: "您确定要删除内容为“" + a.model.options[b].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
			}, function() {
				a.model.options.splice(b, 1)
			})
		}, a.confirm = function() {
			return a.model.title && 0 !== a.model.title.length ? (angular.forEach(a.model.options, function(a) {
				delete a.$$hashKey
			}), d.choices = JSON.stringify(g), d.properties.required = a.model.required, (a.btnIndex || 0 === a.btnIndex) && $.extend(d.properties, a.buttons[a.btnIndex].properties), void a.$close(a.model)) : (a.authError = "输入框名称不能为空", void $("#radioTitle").focus())
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("scene.create.console.randomevent", ["app.directives.responsiveImage"]), angular.module("scene.create.console.randomevent").controller("RandomEventCtrl", ["$scope", "$rootScope", "randomEventService", "$modal", "obj", function(a, b, c, d, e) {
		e.properties.pics.length ? a.picList = e.properties.pics : a.picList = [], a.delImage = function(b) {
			a.picList.splice(b, 1)
		}, a.replaceImage = function(b) {
			d.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1,
							type: "n",
							count: 9,
							elemDef: e
						}
					}
				}
			}).result.then(function(c) {
				a.picList[b] = c.selectedImages[0]
			}, function() {})
		}, a.choosePic = function() {
			return a.picList.length >= 10 ? void(a.authError = "最多可选择10张图片") : void d.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1,
							type: "n",
							count: a.picList.length,
							elemDef: e
						}
					}
				}
			}).result.then(function(b) {
				$.each(b.selectedImages, function(b, c) {
					a.picList.unshift(c)
				})
			}, function() {})
		}, a.confirm = function() {
			a.$close(a.picList)
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]).factory("randomEventService", ["$rootScope", function(a) {
		var b = {};
		return b
	}]), angular.module("scene.create.console.rating", ["common.directives.inputColor"]), angular.module("scene.create.console.rating").controller("RatingConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", function(a, b, c, d) {
		a.model = {
			title: d.title,
			properties: {
				icon: d.properties.icon,
				size: d.properties.size,
				color: d.properties.color,
				required: d.properties.required
			}
		}, a.authError = "", a.confirm = function() {
			return a.model.title && 0 !== a.model.title.length ? ($.extend(!0, d, a.model), void a.$close(a.model)) : (a.authError = "标题名称不能为空", void $("#ratingTitle").focus())
		}, a.chooseEqfont = function(b) {
			a.model.properties.icon = b
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("scene.create.console.scene-setting-component", ["scene.preview", "scene.custom.activities"]).controller("SceneSettingComponentController", ["$q", "$routeParams", "$rootScope", "$scope", "$element", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "i18nNotifications", "ModalService", "sceneSettingCache", "memberHandler", "eqADTypeChoice", "staticResService", "sceneDataParseService", "dataCacheService", "fileService", "storageService", "customActivitiesService", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x) {
		function y(a, b) {
			switch (a) {
			case r.HIDE:
				d.eqShowType = E.EQHIDE, d.scene.property.eqAdType = r.HIDE, d.scene.property.hideEqAd = !0;
				break;
			case r.DEFAULT_BOTTOM:
				d.eqShowType = E.EQLINK, d.scene.property.eqAdType = r.DEFAULT_BOTTOM, d.scene.property.hideEqAd = !1;
				break;
			case r.CUSTOM_BOTTOM:
				d.eqShowType = E.EQLINK, d.scene.property.eqAdType = r.CUSTOM_BOTTOM, d.scene.property.hideEqAd = !1;
				break;
			default:
			case r.FREEPAGE:
				d.eqShowType = E.EQFREE, d.scene.property && (d.scene.property.eqAdType = r.FREEPAGE, d.scene.property.hideEqAd = !1)
			}
			b && (d.$broadcast("changeView", !1), t.changeBottomType(d.eqShowType, d.scene.property.lastPageId, d.scene.property.bottomLabel, d.scene.property.eqAdType))
		}
		function z(a) {
			d.isFormerScene && d.adSpend == q.getPriceByADType(d.scene.property.eqAdType) && delete d.scene.property.eqAdType, "1" != d.scene.property.showShareCount || d.scene.property.shareDes || (d.scene.property.shareDes = d.shareCountPlaceholder), angular.isObject(d.scene.property) && (d.scene.property = angular.toJson(d.scene.property)), angular.isString(d.scene.type) && (d.scene.type = parseInt(d.scene.type, 10)), d.$parent.scene.bgAudio && (d.scene.bgAudio = angular.isObject(d.$parent.scene.bgAudio) ? JSON.stringify(d.$parent.scene.bgAudio) : d.$parent.scene.bgAudio), d.scene.loadingLogo === !1 && delete d.scene.loadingLogo, f.saveSceneSettings(d.scene).then(function(a) {
				200 == a.data.code ? (u.clear("sceneList"), n.pushForCurrentRoute("scene.setting.success", "notify.success"), d.$parent.sceneSetting.showFlag = !1, d.$parent.sceneSetting.oldBgAudio != d.scene.bgAudio && v.saveFilesHistory(JSON.parse(d.scene.bgAudio).id, 2).then(function() {
					u.clear("fileService1")
				}), d.$parent.sceneSetting.oldBgAudio = d.scene.bgAudio, a.data.obj ? angular.copy(a.data.obj, f.getCurrentScene()) : angular.copy(d.scene, f.getCurrentScene()), A.resolve(a)) : (o.openMsgDialog({
					msg: a.data.msg
				}, function() {}), angular.isString(d.scene.property) && (d.scene.property = JSON.parse(d.scene.property)), d.scene.type = "" + d.scene.type, A.reject(a))
			}, function(a) {
				d.invalidText = a, A.reject(a)
			})
		}
		d.isVipUser = q.isVipUser, d.oriSceneState = !1, d.sceneState = !1;
		var A = a.defer();
		if (d.shareCountPlaceholder = "分享的人，你也一起来吧", d.freeUpgrade = function() {
			o.openConfirmDialog({
				msg: '免费升级企业账号，尊享一下特权：<p class="mt5">1.免费使用技术支持底标</p><p class="mt5">2.免费使用品牌联合底标</p><p class="mt5">3.免费使用部分高级组件</p><p class="mt5"> 4.可自定义加载Logo功能</p>',
				confirmName: "免费升级",
				cancelName: "取消"
			}, function() {
				window.open("/#/privilege")
			})
		}, d.setPhoneCtrl = function() {
			var a = d.scene.pageMode;
			0 === a || 1 == a || 2 == a || 6 == a || 7 == a || 8 == a || 11 == a || 12 == a || 13 == a || 14 == a ? d.phonePageMode = "NS" : d.phonePageMode = "EW"
		}, d.user && d.user.expiryTime) {
			var B = (new Date).getTime();
			d.user.expiryTime <= B && (d.user.memberType = null)
		}
		x.getActivite().then(function(a) {
			a.data.obj && (d.activityObj = a.data.obj)
		});
		var C = ["101", "102", "103", "104", "105", "106"];
		d.scene ? (d.scene.accessCode ? d.sceneStatue = 3 : (d.sceneStatue = d.scene.status, d.sceneStatue < 0 && (d.sceneStatue = 1)), d.appendActive = !! d.scene.promIds, d.oldAppendActive = d.appendActive, d.loadingLogo = !! d.scene.loadingLogo, -1 == C.indexOf(d.scene.type + "") && (d.scene.type = "101"), d.setPhoneCtrl()) : d.$watch("sceneId", function(a, b) {
			a != b && (d.scene.accessCode ? d.sceneStatue = 3 : d.sceneStatue = d.scene.status, d.loadingLogo = !! d.scene.loadingLogo, d.appendActive = !! d.scene.promIds, d.oldAppendActive = d.appendActive, -1 == C.indexOf(d.scene.type + "") && (d.scene.type = "101"), d.setPhoneCtrl())
		}), d.$watch("scene", function(a, b) {
			a != b && (d.oldScene = JSON.stringify(d.scene))
		}), d.closeSetting = function() {
			JSON.stringify(d.scene) != d.oldScene ? o.openConfirmDialog({
				msg: "设置内容有变化，是否确认修改"
			}, function() {
				d.saveSceneSettings(d.scene)
			}, function() {
				d.sceneSetting.showFlag = !1
			}) : d.sceneSetting.showFlag = !1, eqShow.stopSnowFly && clearInterval(eqShow.stopSnowFly), eqShow.stopFallingObject && clearInterval(eqShow.stopFallingObject), eqShow.stopFireworkEffect && eqShow.stopFireworkEffect()
		}, d.logoPrice = 100, d.memberPrice = 100, d.sceneSetting.saveSceneSetting = function() {
			return A = a.defer(), d.saveSceneSettings(d.scene), A.promise
		}, d.isAllowToAccessLastPageSetting = l.isAllowToAccess(l.accessDef.SCENE_HIDE_LASTPAGE_SETTING), d.isAllowedToAccessNewPageFlip = l.isAllowToAccess(l.accessDef.ACCESS_NEW_PAGEFLIP), (2 === l.currentUser.type || 21 === l.currentUser.type) && q.initUserMemberDetail(function(a) {
			d.memberObj = a, d.logoPrice = q.getPriceWithMemberPrivilege(100, !0), d.memberPrice = q.getPriceWithMemberPrivilege(100, !1)
		});
		var D = {
			SHARE_SCENE: "shareScene",
			LOADING_LOGO: "loadingLogo",
			EQSHOW: "eqShow"
		};
		d.eqSceneSettingTabs = D, d.eqSceneSettingCurrent = D.SHARE_SCENE;
		var E = {
			EQFREE: "eqFree",
			EQLINK: "eqLink",
			EQHIDE: "eqHide"
		};
		d.eqShowType = E.EQFREE, d.eqADTypeChoice = r, d.switchToAdState = y, d.adSpend = 0, d.isFormerScene = !1, d.nextPage = function() {
			t.app.nextPage(), c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name
		}, d.prePage = function() {
			t.app.prePage(), c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name
		}, d.changeSceneName = function() {
			t.changeSceneName(d.scene.name)
		}, d.PREFIX_FILE_HOST = PREFIX_FILE_HOST, d.alwaysOpen = !0;
		d.changeView = function() {
			d.showPhoneTitle = "正在设置的内容用于场景分享时显示", c.$broadcast("changeView", !0)
		}, d.changeTagId = function() {
			d.$parent.scene.tagId && (d.scene.tagId = d.$parent.scene.tagId, n.pushForCurrentRoute("already.apply.discovery", "notify.success"))
		}, d.changeAppendActive = function(a) {
			if (d.oldSceneApplyState.promIds && (d.scene.promIds !== d.oldSceneApplyState.promIds || !d.appendActive)) return d.appendActive = !0, void o.openMsgDialog({
				msg: "该场景已经参与活动，不可参与其他活动；请复制该场景展示后，再次选择参与活动。"
			});
			var b;
			return a || !d.appendActive || (b = w.get("appendActive"), b && -1 != b.split(",").indexOf(c.user.id)) ? (a || d.appendActive || !d.scene.promIds || t.removeActivePage(), a && (d.appendActive = !0, d.showActiveTip = !1, d.hideActiveTip && (b = w.get("appendActive"), b ? b += "," + c.user.id : b = c.user.id, w.push("appendActive", b))), void(d.appendActive || (d.scene.promIds = null, d.activityPageTpls = []))) : (d.appendActive = !1, void(d.showActiveTip = !0))
		}, d.changeLoop = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, t.app.setTriggerLoop(d.scene.property.triggerLoop)
		}, d.changePageMode = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, d.setPhoneCtrl(), t.changeScrollMode(d.scene.pageMode)
		}, d.changeProgess = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, c.$broadcast("processBar", d.scene.property.slideNumber)
		}, d.changeCode = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, c.$broadcast("passPanelSwitch", d.scene.isAccessCode)
		}, d.changeLogo = function() {
			return d.isLoadingLogoAccessible ? (d.loadingLogo = !d.loadingLogo, d.loadingLogo ? d.showPhoneTitle = "正在设置的内容用于场景加载时显示" : (delete d.scene.loadingLogo, d.showPhoneTitle = d.scene.name), void c.$broadcast("showLoading", d.loadingLogo, d.scene.loadingLogo)) : void d.freeUpgrade()
		}, d.changeBottomLabel = function() {
			d.showPhoneTitle = "正在设置底标", t.changeBottomType(d.eqShowType, d.scene.property.lastPageId, d.scene.property.bottomLabel, d.scene.property.eqAdType)
		}, d.changeAutoFlip = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, d.scene.property.autoFlip ? t.app.startAutoFlip(d.scene.property.autoFlipTime) : t.app.pauseAutoFlip()
		}, d.changeHandFlip = function() {
			c.$broadcast("changeView", !1), d.showPhoneTitle = d.scene.name, t.app.forbidHandFlip(d.scene.property.forbidHandFlip)
		}, d.changeEqshowType = function() {
			"eqHide" == d.eqShowType && t.removeLastPage()
		}, d.changeSceneState = function() {
			if (d.oldSceneApplyState.promIds) return 1 != d.sceneStatue && o.openMsgDialog({
				msg: "该场景已经参与活动，不可以关闭或加密!"
			}), void(d.sceneStatue = 1);
			if (3 == d.sceneStatue) {
				if (!d.isScenePasswordAccessible) return d.sceneStatue = 1, void d.freeUpgrade();
				d.scene.status = 1, d.scene.isAccessCode = !0, c.$broadcast("changeView", !1), c.$broadcast("passPanelSwitch", !0)
			} else d.scene.status = d.sceneStatue, delete d.scene.isAccessCode, delete d.scene.accessCode, c.$broadcast("changeView", !1), c.$broadcast("passPanelSwitch", !1);
			d.showPhoneTitle = d.scene.name, 1 != d.sceneStatue && (d.scene.isShow = 0, d.scene.applyTemplate = 0, d.appendActive = !1, d.scene.isTpl = 0, d.scene.promIds = null)
		}, d.$watch("scene.bgAudio", function(a, b) {
			angular.isObject(a) && angular.isObject(b) ? a.url != b.url && t.playVideo(a) : a != b && t.playVideo(a), c.$broadcast("changeView", !1), d.scene && (d.showPhoneTitle = d.scene.name)
		}), d.openScene = function(a, b) {
			b ? f.openScene(a.id).then(function(b) {
				b.data.success && (a.status = 1)
			}) : f.closeScene(a.id).then(function(b) {
				b.data.success && (a.status = 2)
			})
		}, d.openImageModal = function() {
			c.$broadcast("changeView", !0), j.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(a) {
				return a.width / a.height === 1 ? (d.newCoverImage = a, d.newCoverImage.tmbPath = a.data, d.newCoverImage.path = a.data, d.scene.cover = d.newCoverImage.path, void t.changeSceneCover(d.scene.cover)) : void j.open({
					windowClass: "console seven-contain",
					templateUrl: "scene/console/imageCrop.tpl.html",
					controller: "imageCropCtrl",
					backdrop: "static",
					resolve: {
						obj: function() {
							return {
								type: "square",
								properties: {
									src: a.data
								},
								cw: 250
							}
						}
					}
				}).result.then(function(a) {
					var b = {
						width: a.width,
						height: a.height,
						data: a.src,
						type: "imgSrc"
					};
					d.newCoverImage = b, d.newCoverImage.tmbPath = b.data, d.newCoverImage.path = b.data, d.scene.cover = d.newCoverImage.path, t.changeSceneCover(d.scene.cover)
				}, function(a) {})
			}, function(a) {})
		};
		var F = null;
		d.countCharacters = countCharacters, d.saveSceneSettings = function(a) {
			if (d.maxLength30(), !d.scene.name || !d.scene.name.trim()) return d.invalidText = "noneName", void o.openMsgDialog({
				msg: "场景标题不能为空！"
			}, function() {});
			if (d.scene.property.autoFlip && !d.scene.property.autoFlipTime) return void(d.invalidText = "请选择翻页频率");
			var b = countCharacters(d.scene.name.trim());
			if (!(b > 48)) {
				if ("1" === d.scene.isShow && !d.scene.tagId) return void o.openMsgDialog({
					msg: "请选择申请秀场的场景类型"
				}, function() {
					$("#tag").focus()
				});
				if (d.scene.property && d.scene.property.eqAdType == r.CUSTOM_BOTTOM && (!d.scene.property.bottomLabel || !d.scene.property.bottomLabel.id)) return void o.openMsgDialog({
					msg: "请选择您要使用的自定义底标！"
				}, function() {});
				if (d.scene.property && d.scene.property.bottomLabel && d.scene.property.bottomLabel.name && countCharacters(d.scene.property.bottomLabel.name) > 16) return void o.openMsgDialog({
					msg: "自定义名称不能超过16个字符"
				}, function() {});
				if (d.scene.property && d.scene.property.bottomLabel && !d.scene.property.bottomLabel.name && d.scene.property.bottomLabel.url && "http://" != d.scene.property.bottomLabel.url) return void o.openMsgDialog({
					msg: "请输入自定义底标名称"
				}, function() {});
				if (d.scene.accessCode && ("0" != d.scene.applyPromotion || "0" != d.scene.applyTemplate)) return void o.openMsgDialog({
					msg: "申请样例、推荐的场景不能同时设置密码，请修改。"
				});
				if (3 == d.sceneStatue && (!d.scene.accessCode || 4 != d.scene.accessCode.length)) return void o.openMsgDialog({
					msg: "请输入有效的场景密码！"
				});
				if (d.scene.promIds && d.activityPageTpls.length && !d.scene.property.activityPageId) return void o.openMsgDialog({
					msg: "请选择活动尾页！"
				});
				if (d.oldSceneApplyState.promIds && d.scene.property.eqAdType != r.FREEPAGE) return void o.openMsgDialog({
					msg: "该场景已选择参加活动，不可以清除易企秀尾页，请重新选择！"
				});
				if (d.scene.promIds && (d.scene.property.eqAdType != r.FREEPAGE || d.scene.property.adSpend)) return void o.openMsgDialog({
					msg: "该场景已选择清除易企秀尾页，不可以参加活动；请复制该场景展示后，再次选择参与活动。"
				});
				if (d.appendActive && !d.scene.promIds) return void o.openMsgDialog({
					msg: "请选择活动尾页！"
				});
				if (d.scene.property && d.scene.property.autoFlipTime > 60) return void o.openMsgDialog({
					msg: "自动翻页时间不能超过60秒。"
				});
				d.scene.property.eqAdType = parseInt(d.scene.property.eqAdType, 10);
				var c = q.getCurrentSelectionPrice(d.scene, d.adSpend, d.isFormerScene, F);
				0 === c ? z(a) : c && c > d.userXd ? o.openMsgDialog({
					msg: '<div class="cost-xd">当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (d.userXd || 0) + '</font>个)<span class="get-xd"><a style="text-decoration: underline;" href="#/usercenter/member" target = "_blank">购买秀点</a></span></div>'
				}) : c ? o.openConfirmDialog({
					msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (d.userXd || 0) + "</font>个"
				}, function() {
					d.getUserXd(), z(a)
				}) : z(a)
			}
		}, d.oldSceneApplyState = {
			applyPromotion: "",
			applyTemplate: "",
			promIds: "",
			isTpl: ""
		}, d.getSceneDetail = function() {
			f.getCurrentScenePromise().then(function() {
				d.scene = angular.copy(f.getCurrentScene()), d.scene.price = "" + (d.scene.price || "0"), d.oldSceneApplyState.applyPromotion = d.scene.applyPromotion = "" + d.scene.applyPromotion, d.oldSceneApplyState.applyTemplate = d.scene.applyTemplate = "" + d.scene.applyTemplate, d.scene.isTpl = "" + d.scene.isTpl, d.scene.isShow = d.scene.isShow ? "" + d.scene.isShow : "0", d.oldSceneApplyState.promIds = d.scene.promIds = d.scene.promIds ? parseFloat(d.scene.promIds) : null, d.oldSceneApplyState.isTpl = d.scene.isTpl, 2 == d.scene.pageMode && (d.scene.pageMode = 0), d.scene.property ? angular.isString(d.scene.property) && (d.scene.property = JSON.parse(d.scene.property)) : d.scene.property = {}, F = d.scene.loadingLogo || d.scene.property.loadingLogo, d.scene.property.hasOwnProperty("triggerLoop") || (d.scene.property.triggerLoop = !0), d.scene.property.hasOwnProperty("slideNumber") || (d.scene.property.slideNumber = !0), d.scene.property.autoFlipTime || (d.scene.property.autoFlipTime = 3), d.scene.property.showShareCount && "0" != d.scene.property.showShareCount || (d.scene.property.shareDes = ""), d.adSpend = d.scene.property.adSpend || 0, d.isFormerScene = !1, d.scene.property.hideEqAd ? (d.adSpend = q.getPriceByADType(r.HIDE), d.scene.property.eqAdType = r.HIDE, d.eqShowType = E.EQHIDE) : d.scene.property.eqAdType ? y(d.scene.property.eqAdType) : d.scene.createTime < 14165028e5 ? (d.isFormerScene = !0, d.adSpend = q.getPriceByADType(r.HIDE), y(r.HIDE)) : d.scene.property.isAdvancedUser ? d.scene.property.bottomLabel && d.scene.property.bottomLabel.id ? (d.isFormerScene = !0, d.adSpend = q.getPriceByADType(r.CUSTOM_BOTTOM), y(r.CUSTOM_BOTTOM)) : (d.isFormerScene = !0, d.adSpend = q.getPriceByADType(r.DEFAULT_BOTTOM), y(r.DEFAULT_BOTTOM)) : (d.adSpend = q.getPriceByADType(r.FREEPAGE), y(r.FREEPAGE)), d.scene.startDate && d.scene.endDate && (d.startDate = new Date(d.scene.startDate), d.endDate = new Date(d.scene.endDate), d.alwaysOpen = !1), d.scene.type = "" + d.scene.type, p.activitiesPromise.then(function(a) {
					d.activities = a.data.list || [], d.getActivityPageTpl()
				}), d.scene.bgAudio && (d.scene.bgAudio = angular.isString(d.scene.bgAudio) ? JSON.parse(d.scene.bgAudio) : d.scene.bgAudio);
				var a = d.$watch("$parent.scene.bgAudio", function(a) {
					d.scene.bgAudio = angular.isString(a) ? JSON.parse(a) : a
				});
				d.$on("$destroy", function() {
					a()
				})
			})
		}, d.types = s.getSceneType(), d.tplPrices = [];
		var G = p.sceneTplPricesPromise.then(function(a) {
			for (var b = 0; b < a.data.list.length; b++)"免费" != a.data.list[b].name && -1 == a.data.list[b].name.indexOf("秀点") && (a.data.list[b].name += "秀点");
			d.tplPrices = a.data.list || []
		}),
			H = [];
		d.sceneTags = [];
		var I = p.sceneTagsPromise.then(function(a) {
			d.sceneTags = H = a.data.list || []
		});
		a.all([G, I]).then(function() {
			d.getSceneDetail()
		});
		var J = d.$watch("scene.type", function(a) {
			a && (d.sceneTags = [], angular.forEach(H, function(b) {
				a == b.bizType && d.sceneTags.push(b)
			}))
		});
		d.$on("$destroy", function() {
			J()
		}), d.pagemodes = [{
			id: 0,
			name: "上下翻页"
		}, {
			id: 4,
			name: "左右翻页"
		}, {
			id: 1,
			name: "上下惯性翻页"
		}, {
			id: 3,
			name: "左右惯性翻页"
		}, {
			id: 11,
			name: "上下连续翻页"
		}, {
			id: 5,
			name: "左右连续翻页"
		}, {
			id: 6,
			name: "立体翻页"
		}, {
			id: 7,
			name: "卡片翻页"
		}, {
			id: 8,
			name: "放大翻页"
		}, {
			id: 9,
			name: "交换翻页"
		}, {
			id: 10,
			name: "翻书翻页"
		}, {
			id: 12,
			name: "掉落翻页"
		}, {
			id: 13,
			name: "淡入翻页"
		}];
		var K = [11, 12];
		if (!d.isAllowedToAccessNewPageFlip) for (var L = 0; L < d.pagemodes.length; L++) for (var M = 0; M < K.length; M++) d.pagemodes[L].id == K[M] && (d.pagemodes.splice(L, 1), L--);
		p.pageTplsPromise.then(function(a) {
			a.data.list && a.data.list.length > 0 ? d.pageTpls = a.data.list : d.pageTpls = []
		}), p.bottomPageTplsPromise.then(function(a) {
			a.data.list && a.data.list.length > 0 ? d.bottomPageTpls = a.data.list : d.bottomPageTpls = []
		}), d.chooseLastPage = function(a) {
			d.scene.property.lastPageId = a, y(r.FREEPAGE, !0)
		}, d.chooseCustomBottomLabel = function(a) {
			d.scene.property.bottomLabel || (d.scene.property.bottomLabel = {}), d.scene.property.bottomLabel.id = a, y(r.CUSTOM_BOTTOM, !0)
		}, d.maxLength30 = function() {
			if (d.scene.description && (d.scene.description = d.scene.description.replace(/\n|\r/g, " ")), d.scene.description && d.scene.description.length > 30) {
				var a = d.scene.description.replace(/[^\x00-\xff]/g, "xx");
				if (a.length > 60) {
					var b = a.substring(0, 60).replace(/xx/g, "中").length;
					d.scene.description = d.scene.description.substring(0, b)
				}
			}
		}, d.maxLength24 = function() {
			if (d.scene.name && (d.scene.name = d.scene.name.replace(/\n|\r/g, " ")), d.scene.name && d.scene.name.length > 24) {
				var a = d.scene.name.replace(/[^\x00-\xff]/g, "xx");
				if (a.length > 48) {
					var b = a.substring(0, 48).replace(/xx/g, "中").length;
					d.scene.name = d.scene.name.substring(0, b)
				}
			}
		}, d.uploadLoadingLogo = function() {
			j.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(a) {
				d.scene.loadingLogo = a.data, c.$broadcast("showLoading", d.scene.loadingLogo, a.data)
			}, function(a) {})
		}, d.moreActivities = function() {}, d.isLoadingLogoAccessible = l.isAllowToAccess(l.accessDef.LOADING_LOGO), d.isTemplatePaymentAccessible = l.isAllowToAccess(l.accessDef.TEMPLATE_PAYMENT), d.cancelSceneSetting = function() {
			d.$parent.sceneSetting.showFlag = !1
		}, d.fourNumberPassword = function() {
			d.scene.accessCode && (d.scene.accessCode = d.scene.accessCode.replace(/\D/g, ""), d.scene.accessCode.length > 4 && (d.scene.accessCode = d.scene.accessCode.substr(0, 4)))
		}, d.isScenePasswordAccessible = l.isAllowToAccess(l.accessDef.SCENE_PASSWORD), d.activityPageTpls = [], d.selectedActivity = null, d.getActivityPageTpl = function(a) {
			if (d.oldSceneApplyState.promIds && d.scene.promIds !== d.oldSceneApplyState.promIds) return o.openMsgDialog({
				msg: "该场景已经参与活动，不可参与其他活动；请复制该场景展示后，再次选择参与活动。"
			}), void(d.scene.promIds = d.oldSceneApplyState.promIds);
			if (d.scene.promIds) {
				var b = null;
				angular.forEach(d.activities, function(a) {
					a.id === d.scene.promIds && (b = a.sceneId, d.selectedActivity = a)
				}), b ? m.getPageTpls(b).then(function(b) {
					b.data.list && b.data.list.length > 0 ? (d.activityPageTpls = b.data.list, (!d.scene.property.activityPageId || a) && (d.activityPageTpls.length ? (d.scene.property.activityPageId = d.activityPageTpls[0].id, d.chooseActivityPageTpl(d.scene.property.activityPageId)) : d.scene.property.activityPageId = null)) : d.activityPageTpls = []
				}) : d.activityPageTpls = []
			} else d.activityPageTpls = [], d.scene.property.activityPageId = null
		}, d.chooseActivityPageTpl = function(a) {
			d.scene.property.activityPageId = a, t.replaceActivePage(a)
		}, d.openCustomActive = function() {
			return 1 != d.user.checkPhone ? void o.openMsgDialog({
				msg: "请先绑定手机!"
			}) : 2 == d.user.type && !d.user.memberType || 5 != d.user.type ? void d.freeUpgrade() : void j.open({
				windowClass: "seven-contain",
				templateUrl: "scene/console/customActivities.tpl.html",
				controller: "CustomActivitiesCtrl",
				resolve: {
					activityInfo: function() {
						return d.activityObj
					},
					userXd: function() {
						return d.userXd
					}
				}
			}).result.then(function(a) {
				d.activityObj = a
			})
		}
	}]).value("eqADTypeChoice", {
		HIDE: 0,
		FREEPAGE: 1,
		DEFAULT_BOTTOM: 2,
		CUSTOM_BOTTOM: 3
	}).service("memberHandler", ["usercenterService", "security", "eqADTypeChoice", function(a, b, c) {
		function d(a, b) {
			return /^\d+$/.test(b) ? 0 : a * parseFloat(b)
		}
		var e = {},
			f = null;
		return e.isVipUser = "1" != b.currentUser.type, e.initUserMemberDetail = function(c) {
			a.getUserMemberDetail(b.currentUser.id).then(function(a) {
				f = a.data.obj, c && c(f)
			})
		}, e.getCurrentSelectionPrice = function(a, b, d, f) {
			var g = e.getPriceByADType(a.property.eqAdType);
			g = e.isVipUser && a.property.eqAdType != c.HIDE ? 0 : e.getPriceWithMemberPrivilege(g);
			var h = g - b;
			return d && 0 !== h ? h = g : 0 > h && (h = 0), !f && a.loadingLogo && (h += e.getPriceWithMemberPrivilege(100, !0)), h
		}, e.getPriceWithMemberPrivilege = function(a, c) {
			return 2 === b.currentUser.type && b.currentUser.memberType && (new Date).getTime() < b.currentUser.expiryTime || 21 === b.currentUser.type ? c ? d(a, f.loadingLogo || "1.0") : d(a, f.tailPage || "1.0") : a
		}, e.getPriceByADType = function(a) {
			switch (a) {
			case c.HIDE:
				return 100;
			case c.FREEPAGE:
				return 0;
			case c.DEFAULT_BOTTOM:
				return 15;
			case c.CUSTOM_BOTTOM:
				return 30
			}
		}, e
	}]).service("sceneSettingCache", ["sceneService", "pageTplService", function(a, b) {
		return {
			sceneTplPricesPromise: a.getSceneTemplatePrices(),
			sceneTagsPromise: b.getTagSysListWithType(),
			pageTplsPromise: b.getPageTpls(1301),
			bottomPageTplsPromise: b.getPageTpls(1311),
			activitiesPromise: a.getActivities()
		}
	}]).directive("sceneSettingComponent", [function() {
		return {
			scope: !0,
			controller: "SceneSettingComponentController",
			templateUrl: "scene/console/scene-setting-component.tpl.html",
			link: function(a, b, c) {
				setTimeout(function() {
					b.find(".scene-setting-info.fade").addClass("in")
				})
			}
		}
	}]), angular.module("scene.create.console.setting", ["scene.create.console.setting.style", "scene.create.console.setting.anim", "scene.create.console.setting.trigger"]), angular.module("scene.create.console.setting").directive("styleModal", ["sceneService", "$compile", "storageService", function(a, b, c) {
		return {
			restrict: "AE",
			replace: !0,
			scope: {},
			templateUrl: "scene/console/setting.tpl.html",
			link: function(b, d, e) {
				d.bind("keydown", function(a) {
					a.stopPropagation()
				}), b.elemDef = a.currentElemDef, b.styleSettingPosition = JSON.parse(c.get("styleSettingPosition")), b.styleSettingPosition && (d.context.style.top = b.styleSettingPosition.top, d.context.style.left = b.styleSettingPosition.left), a.currentTab = "style", d.bind("mouseup", function(a) {
					var d = this.style.top,
						e = this.style.left;
					b.position = {
						top: d,
						left: e
					}, c.push("styleSettingPosition", JSON.stringify(b.position))
				});
				var f = "style";
				b.$on("showStylePanel", function(c, d) {
					f = b.activeTab, b.activeTab = "", b.$apply(), b.elemDef = a.currentElemDef, d && d.activeTab ? b.activeTab = d.activeTab : b.activeTab = f, b.$apply()
				}), b.activeTab = e.activeTab, b.cancel = function() {
					$(d).hide()
				}, b.$on("close.style.panel", function(a) {
					d.hide(), $(".edit_area").find(".boom, .boom1").remove()
				}), b.$on("$locationChangeStart", function() {
					b.cancel()
				}), b.activeTab = "style", b.showSettingTab = function(c) {
					b.activeTab = c, a.currentTab = c
				}, b.$watch("activeTab", function(c, d) {
					c != d && (a.currentTab = b.activeTab)
				}), b.$watch("elemDef", function() {
					!b.elemDef || "w01" != b.elemDef.type && "w02" != b.elemDef.type || "trigger" == a.currentTab && (a.currentTab = "style", b.activeTab = "style"), b.elemDef || (a.currentTab = "trigger", b.activeTab = "trigger")
				})
			},
			controller: ["$scope", function(a) {}]
		}
	}]), angular.module("scene.create.console.shape", []).controller("ShapeConsoleCtrl", ["$rootScope", "$scope", "ModalService", "obj", "shapeService", "fileService", function(a, b, c, d, e, f) {
		var g = b.fileType = 7;
		b.systemImages = !1;
		var h = 1;
		b.currentPage = 1, b.toPage = 1;
		var i = b.pageSize = 18;
		b.sysCategoryList = [{
			name: "图形",
			value: "8201"
		}, {
			name: "文字",
			value: "8203"
		}, {
			name: "图标",
			value: "8202"
		}], b.sysTagList = [], b.imgList = [], b.totalItems = 0, b.currentPage = 1, b.$watch("currentPage", function(a, c) {
			a != c && (b.toPage = a, f.getSystemFiles1(a, i, g, b.sysCatId, b.sysTagId))
		}), b.getImgByPage = function() {
			return b.toPage < 1 || b.toPage > b.totalItems / 18 + 1 ? void alert("此页超出范围") : void(b.currentPage = b.toPage)
		}, b.cancel = function() {
			b.$dismiss()
		}, b.selectSvg = function(a, c) {
			var d = a.target.dataset.url;
			e.getSvgElement(d).then(function(a) {
				for (var e, f = $(a.data), g = f.length, h = 0; g > h; h++) if ("svg" == f[h].tagName) {
					e = f[h];
					break
				}
				var i = parseFloat($(e).attr("width")),
					j = parseFloat($(e).attr("height"));
				i > j ? (i = 100 * i / j + "px", j = "100px") : (j = 100 * j / i + "px", i = "100px");
				var k = $(e).find("[fill], [style*='fill']"),
					l = [],
					m = [],
					n = {};
				$.each(k, function(a, b) {
					var c = $(b).attr("style");
					if (c) {
						for (var d = c.split(";"), e = 0, f = d.length; f > e; e++) if (d[e].indexOf("fill:") >= 0) {
							m.push(d[e].split(":")[1]);
							break
						}
					} else m.push($(b).attr("fill"))
				});
				for (var o = 0; o < m.length; o++) n[m[o]] || (n[m[o]] = 1, "none" != m[o] ? l.push({
					fill: m[o],
					svgFill: m[o]
				}) : l.push({
					fill: "",
					svgFill: "none"
				}));
				b.$close({
					data: d,
					id: c,
					width: i,
					height: j,
					items: l
				})
			})
		}, b.getSystemCategoryList = function() {
			b.userTagId = "", b.systemImages = !0, b.sysTagList = [], b.sysCategoryList.length && b.getSysCatAndList(b.sysCategoryList[0].value)
		}, b.getSysCatAndList = function(a) {
			b.sysCatId = a, f.getSysTagByCatId(a)
		}, b.getSysImgByTag = function(a) {
			b.sysTagId = a, f.getSystemFiles1(h, i, g, b.sysCatId, a)
		}, b.$on("sysTag.update", function(a) {
			b.sysTagList = f.sysTagList, b.imgList = [], b.totalItems = 0, b.currentPage = 1, b.sysTagList.length && b.getSysImgByTag(b.sysTagList[0].id)
		}), b.$on("imgList.update", function(a) {
			b.imgList = f.imgList, b.totalItems = f.totalItems, b.currentPage = f.pageNo
		}), b.switchToSystemImages = function(a) {
			b.systemImages = "true" === a
		}, b.getHistory = function() {
			b.userTagId = "history", f.getFilesHistory(g).then(function(a) {
				a.data.success && (b.imgList = a.data.list)
			})
		}, b.confirm = function() {
			b.authError = "请您先选择图片！"
		}, b.getSystemCategoryList()
	}]).factory("shapeService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getSvgElement = function(a) {
			return b({
				method: "GET",
				url: PREFIX_FILE_HOST + a
			})
		}, c
	}]), angular.module("scene.create.console.soundComponent", ["app.directives.addelement"]), angular.module("scene.create.console.soundComponent").controller("SoundComponentConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, b, c, d, e) {
		a.model = {
			title: d.properties.title,
			imgSrc: d.properties.imgSrc,
			sound: d.sound
		}, a.authError = "", a.buttons = [{
			id: 1,
			text: "有惊喜",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 2,
			text: "听一听",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 3,
			text: "点我听歌",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 4,
			text: "点播歌曲",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}], a.openImageModal = function() {
			e.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(b) {
				a.model.title = "", a.btnIndex = -1, a.model.btnStyle = {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: "transparent"
				}, a.model.imgSrc = d.properties.imgSrc = b.data
			}, function(a) {})
		}, angular.forEach(a.buttons, function(b, c) {
			"" !== a.model.title && d.css.backgroundColor && d.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
		}), a.confirm = function() {
			return null != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? !a.model.sound || $.isEmptyObject(a.model.sound) ? void(a.authError = "您还没有选择音效") : (d.sound = a.model.sound, d.properties.title = a.model.title, void a.$close(a.model)) : (a.authError = "按钮名称不能为空", void $('.form-list input[type="text"].btn-name').focus())
		}, a.openSoundModal = function() {
			e.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/sound.tpl.html",
				controller: "soundCtrl",
				resolve: {
					obj: function() {
						return {
							elemDef: d,
							type: 4
						}
					}
				}
			}).result.then(function(b) {
				a.model.sound = b
			}, function() {})
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseTabButton = function(b, c) {
			a.model.title = b.text, a.model.btnStyle = b.btnStyle, a.btnIndex = c, a.model.imgSrc = d.properties.imgSrc = null
		}
	}]), angular.module("scene.create.console.sound", ["services.file", "soundLink"]).controller("soundCtrl", ["$rootScope", "$scope", "soundService", "ModalService", "obj", "uploaderService", "$modal", "fileService", "dataCacheService", function(a, b, c, d, e, f, g, h, i) {
		var j = b.sounds = [],
			k = b.type = e.type;
		b.selectSoundError = "";
		b.uploader = f.uploader(e.type, 4194304, 1);
		var l = b.pageSize = 10,
			m = 1;
		b.actionContent = !1, b.pagination = {}, b.sound = {}, b.soundLink = {
			src: ""
		};
		var n = !1;
		window.localStorage ? (n = 2 == k ? localStorage.getItem("musicTag") : localStorage.getItem("soundTag"), "true" == n ? b.isMySound = !0 : "false" != n && n ? b.isMySound = "history" : b.isMySound = !1) : b.isMySound = !1, b.alertAction = !0, b.soundAction = !1, b.popSoundAction = function() {
			b.soundAction = !0
		}, b.closeAction = function() {
			b.soundAction = !1, o.indexOf(a.user.id) > -1 && (b.alertAction = !1)
		}, b.actionShow = !1;
		var o = [];
		if (window.localStorage) {
			var p = localStorage.getItem("setSoundAction");
			p && (o = p.split(","), o.indexOf(a.user.id) > -1 && (b.alertAction = !1))
		}
		if (b.isCheckbox = function(b) {
			b && (o.push(a.user.id), localStorage.setItem("setSoundAction", o.join(",")))
		}, 4 == k && e.elemDef.sound && e.elemDef.sound.src && (b.sound = e.elemDef.sound), 2 == k && e.elemDef.bgAudio) if ("string" == typeof e.elemDef.bgAudio) {
			var q = JSON.parse(e.elemDef.bgAudio);
			b.sound = q, q && q.src && (b.sound.url = q.src)
		} else b.sound = e.elemDef.bgAudio, e.elemDef.bgAudio.src && (b.sound.url = e.elemDef.bgAudio.src);
		b.$on("uploadfiles.add", function(a) {
			2 == b.type ? i.clear("mySounds") : i.clear("fileService1"), b.selectTab(!0)
		});
		b.$on("thumbnailList.update", function(a, c) {
			for (var d, e = 0; e < b.uploader.queue.length; e++) if (100 == b.uploader.queue[e].progress) {
				b.uploader.queue.splice(e, 1), d = c, j.unshift(d);
				for (var f = 0; 10 > f; f++) 0 === j[e].size ? j[e].size = null : j[e].size > 0 && j[e].size < 1024 ? j[e].size = j[e].size + " KB" : j[e].size >= 1024 && (j[e].size = (j[e].size / 1024).toPrecision(2) + " MB")
			}
			j.length > 0 && (b.actionContent = !1), 2 == b.type ? i.clear("mySounds") : i.clear("fileService1")
		});
		var r = function() {
				b.isMySound = !0, b.selectTab(!0)
			};
		b.getSounds = function(a) {
			b.toPage = a, 4 == k ? b.isMySound ? c.getMySounds(a) : b.getSysMusicList(b.sysCatId, a) : 2 == k && (b.isMySound ? c.getMyAudios(a) : b.getSysMusicList(b.sysCatId, a))
		}, b.sysCate = !b.isMySound, b.selectTab = function(a) {
			window.localStorage && (2 == b.type ? localStorage.setItem("musicTag", a) : localStorage.setItem("soundTag", a)), a ? b.sysCate = !1 : b.sysCate = !0, b.isMySound = a, "history" == a ? b.getHistory() : b.getSounds(1)
		}, b.getHistory = function() {
			h.getFilesHistory(2).then(function(c) {
				c.data.success && a.$broadcast("sounds.update", c.data, k, b.type)
			})
		}, b.urlLink = function() {
			g.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/soundLink.tpl.html",
				controller: "SoundLinkCtrl",
				resolve: {
					obj: function() {
						return e.type
					}
				}
			}).result.then(function() {
				r()
			}, function() {})
		}, b.isSoundSelected = function(a, b, c) {
			return 2 === a ? b.id ? b.id == c.id : b.url == c.url : 4 === a ? b.id ? b.id == c.id : b.src == c.src : void 0
		}, b.selectSound = function(a, c, d) {
			d ? b.sound = {} : b.sound = a
		}, b.playSound = function(b, c) {
			b.stopPropagation(), a.$broadcast("sound.play", j[c])
		}, b.deleteMySound = function(a, e) {
			a.stopPropagation(), d.openConfirmDialog({
				msg: "确定删除此音乐吗？"
			}, function() {
				2 == b.type ? i.clear("mySounds") : i.clear("fileService1"), c.deleteMySound(j[e].id)
			})
		}, b.clear = function() {
			b.sound = {}
		}, b.ok = function() {
			var a, c = b.sound;
			4 == k && (a = c.src ? {
				name: c.name,
				src: c.src,
				id: c.id
			} : {}, b.$close(a)), 2 == k && (q = c.url ? {
				url: c.url,
				name: c.name,
				id: c.id
			} : {}, b.$close(q))
		}, b.cancel = function() {
			b.$dismiss()
		}, b.$on("sounds.update", function(a, c, d) {
			if (j.length = 0, c.list.length > 0) {
				b.actionContent = !1, $.each(c.list, function(a, b) {
					0 === b.path.indexOf("http://") && (b.isValue = !0), b.size < 1024 && b.size > 0 ? b.size = b.size + " KB" : b.size >= 1024 ? b.size = (b.size / 1024).toPrecision(2) + " MB" : 0 === b.size && (b.size = null), 4 == d ? j.push({
						id: b.id,
						name: b.name,
						src: b.path,
						isPlaying: !1,
						size: b.size,
						isValue: b.isValue
					}) : 2 == d && j.push({
						id: b.id,
						name: b.name,
						url: b.path,
						isPlaying: !1,
						size: b.size,
						isValue: b.isValue
					})
				});
				var e = c.map;
				e && (b.pagination = {
					totalItems: e.count,
					pageSize: e.pageSize,
					currentPage: e.pageNo,
					numPages: Math.ceil(e.count / e.pageSize)
				})
			} else b.pagination.totalItems = 0, b.actionContent = !0
		}), b.$on("mySounds.delete", function(a, d) {
			d === b.sound.id && (b.sound = {}), 2 == k ? c.getMyAudios(b.pagination.currentPage) : 4 == k && c.getMySounds(b.pagination.currentPage)
		});
		var s = function(a) {
				h.getSysMusicCategory(a)
			};
		b.$on("sysMusic.update", function(a) {
			b.sysMusicList = h.sysMusicList
		}), s(k), b.getSysMusicList = function(a, d) {
			b.sysCatId = a, c.getSysMusicList(d, l, k, a)
		}, "history" == b.isMySound ? b.getHistory() : b.isMySound ? 4 == k ? c.getMySounds(m) : c.getMyAudios(m) : b.getSysMusicList(0, m)
	}]).factory("soundService", ["$rootScope", "$modal", "fileService", "dataCacheService", "$http", function(a, b, c, d, e) {
		var f = {};
		return f.getSysMusicList = function(b, e, f, g) {
			c.getSystemFiles(b, e, f, g).then(function(b) {
				b.data.success ? (d.getAsyncUrl() && (d.push("fileService1", d.getAsyncUrl(), b), d.setAsyncUrl()), a.$broadcast("sounds.update", b.data, f)) : alert(b.data.msg)
			}, function() {
				alert(networkOut)
			})
		}, f.getMyAudios = function(b) {
			c.getFileByCategory(b, 10, "0", "2").then(function(b) {
				b.data.success ? (d.getAsyncUrl() && (d.push("mySounds", d.getAsyncUrl(), b), d.setAsyncUrl()), a.$broadcast("sounds.update", b.data, 2)) : alert(b.data.msg)
			}, function() {
				alert(networkOut)
			})
		}, f.getMySounds = function(b) {
			c.getUserFiles(b, 10, 4, 0).then(function(b) {
				b.data.success ? (d.getAsyncUrl() && (d.push("fileService1", d.getAsyncUrl(), b), d.setAsyncUrl()), a.$broadcast("sounds.update", b.data, 4)) : alert(b.data.msg)
			}, function() {
				alert(networkOut)
			})
		}, f.deleteMySound = function(b) {
			c.deleteFile1(b).success(function(c) {
				c.success ? a.$broadcast("mySounds.delete", b) : alert(c.msg)
			}).error(function() {
				alert(networkOut)
			})
		}, f.getMiuteByTime = function(a) {
			return Math.round(a % 60) > 10 ? Math.floor(a / 60) + ":" + Math.round(a % 60) : Math.floor(a / 60) + ":0" + Math.round(a % 60)
		}, f.soundCrop = function(a, b, c) {
			var d = "m/scene/mp3/transfer";
			return d += "?sourcefile=" + a + "&startTime=" + b + "&endTime" + c, e({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, f
	}]).directive("eqxAudio", function() {
		function a(a, c) {
			var d = {};
			c.bind("pause", function() {
				c.attr("src") && a.$apply(function() {
					d.isPlaying = !1
				})
			}).bind("play", function() {
				c.attr("src") && a.$apply(function() {
					d.isPlaying = !0
				})
			});
			var e = c.get(0);
			a.$on("sound.play", function(a, c) {
				b(d, c, e), d = c
			})
		}
		function b(a, b, c) {
			var d, e = {};
			e.src = b.src || b.url, d = 0 === e.src.indexOf("http://") ? e.src : PREFIX_FILE_HOST + e.src;
			var f = d.substr(d.lastIndexOf("/") + 1),
				g = c.src.substr(d.lastIndexOf("/") + 1);
			null == a.id ? f == g && b.isPlaying ? c.pause() : f != g || b.isPlaying ? (c.src = d, c.play(), a.isPlaying = !1, b.isPlaying = !0) : c.play() : a.id == b.id && b.isPlaying ? c.pause() : a.id != b.id || b.isPlaying ? (c.src = d, c.play(), a.isPlaying = !1, b.isPlaying = !0) : c.play()
		}
		return {
			link: a
		}
	}).filter("maxLength", function() {
		return function(a, b) {
			return a ? a.length <= b ? a : a.substr(0, b) + "…" : void 0
		}
	}), angular.module("scene.create.console.cropSound", ["services.file"]).controller("soundCropCtrl", ["$rootScope", "$scope", "uploaderService", "obj", "soundService", "sound", function(a, b, c, d, e, f) {
		b.startTime = 0, b.endTime = 0, b.currentTime = 0, b.minuteS = 0, b.secondS = 0, b.uploader = c.uploader(d.type, 4194304, 1), b.soundSrc = PREFIX_FILE_HOST + f.url, b.title = f.name, b.cropLen = "0:00", b.cancel = function() {
			b.$dismiss()
		}, b.ok = function() {
			e.soundCrop(f.url, b.startTime, b.endTime).then(function(a) {})
		}, b.play = function() {
			"start" != b.state ? b.state = "start" : b.state = "pause"
		}, b.$watch("startTime", function(a, c) {
			a != c && (b.minuteS = Math.floor(a / 60), b.secondS = Math.round(a % 60), b.cropLen = e.getMiuteByTime(b.endTime - b.startTime))
		}), b.$watch("endTime", function(a, c) {
			a != c && (b.minuteE = Math.floor(a / 60), b.secondE = Math.round(a % 60), b.cropLen = e.getMiuteByTime(b.endTime - b.startTime))
		}), b.changeStartTime = function() {
			b.startTime = 60 * b.minuteS + b.secondS, b.startTime > b.endTime && (b.minuteS = Math.floor(b.endTime / 60), b.secondS = Math.round(b.endTime % 60), b.startTime = b.endTime)
		}, b.changeEndTime = function() {
			b.endTime = 60 * b.minuteE + b.secondE, b.endTime > b.duration ? (b.minuteE = Math.floor(b.duration / 60), b.secondE = Math.round(b.duration % 60), b.endTime = b.duration) : b.endTime < b.startTime && (b.minuteE = Math.floor(b.endTime / 60), b.secondE = Math.round(b.endTime % 60), b.endTime = b.startTime)
		}, b.$on("thumbnailList.update", function(a, c) {
			for (var d = 0; d < b.uploader.queue.length; d++) 100 == b.uploader.queue[d].progress && (b.uploader.queue.splice(d, 1), b.title = c.name, b.soundSrc = PREFIX_FILE_HOST + c.url)
		}), b.setStartTime = function() {
			"start" == b.state && (b.startTime = b.currentTime)
		}, b.setEndTime = function() {
			"start" == b.state && (b.endTime = b.currentTime)
		}
	}]).directive("soundCropPanel", ["$interval", "soundService", function(a, b) {
		return {
			scope: {
				startTime: "=",
				endTime: "=",
				currentTime: "=",
				soundSrc: "@",
				state: "=",
				duration: "="
			},
			restrict: "A",
			templateUrl: "scene/console/soundCropPanel.tpl.html",
			link: function(a, c, d, e) {
				function f(a) {
					i = a.target.dataset.state, s = a.clientX
				}
				function g(b) {
					if (i) {
						var c = 0;
						"s" == i ? (c = p + b.clientX - s, c >= q ? c = q : 0 >= c && (c = 0), a.startTime = Math.round(c / 850 * a.duration)) : "e" == i ? (c = q + b.clientX - s, s = b.clientX, p >= c ? c = p : c >= 850 && (c = 850), a.endTime = Math.round(c / 850 * a.duration)) : (c = r + b.clientX - s, s = b.clientX, p >= c ? c = p : c >= q && (c = q), a.currentTime = Math.round(c / 850 * a.duration)), s = b.clientX, a.$apply()
					}
				}
				function h(b) {
					i && ("s" == i ? (p += b.clientX - s, p >= q ? p = q : 0 >= p && (p = 0), a.startTime = Math.round(p / 850 * a.duration)) : "e" == i ? (q += b.clientX - s, p >= q ? q = p : q >= 850 && (q = 850), a.endTime = Math.round(q / 850 * a.duration)) : (r += b.clientX - s, p > r ? r = p : r > q && (q = q), j.get(0).currentTime = a.currentTime), i = null)
				}
				var i, j = c.find("audio"),
					k = c.find(".bar-s"),
					l = c.find(".bar-e"),
					m = c.find(".bar-c"),
					n = c.find(".left-dis"),
					o = c.find(".right-dis"),
					p = 0,
					q = 850,
					r = 0,
					s = 0;
				a.curT = "0:00", j.attr("src", a.soundSrc), m.hide(), c.on("$destroy", function() {}), k.on("mousedown", f), l.on("mousedown", f), m.on("mousedown", f), c.on("mousemove", g), c.on("mouseup mouseleave", h), c.find("audio").on("loadedmetadata", function() {
					if (!isNaN(j.get(0).duration)) {
						a.endTime = a.duration = j.get(0).duration, c.find(".dur").html(b.getMiuteByTime(a.endTime));
						for (var d = 850 / a.duration, e = a.duration / 6 + 1, f = [], g = 1; e >= g; g++) f.push(b.getMiuteByTime(6 * g));
						a.scales = f, a.liW = 6 * d + "px", a.endLi = 850 - 6 * d * (Math.floor(e) - 1) + "px", $("#loading").hide(), a.$apply()
					}
				}), c.find("audio").on("timeupdate", function() {
					"c" != i && (a.currentTime = j.get(0).currentTime, a.$apply())
				}), a.$watch("state", function(b, c) {
					b != c && ("start" == b ? a.currentTime < a.endTime ? (j.get(0).play(), m.show()) : a.state = "pause" : "pause" == b && (j.get(0).pause(), m.hide()))
				}), a.$watch("endTime", function(b, c) {
					b != c && (q = b / a.duration * 850, l.css("left", q - 5 + "px"), o.css("width", 850 - q + "px"), r > q && (a.currentTime = b, j.get(0).currentTime = b))
				}), a.$watch("startTime", function(b, c) {
					b != c && (p = b / a.duration * 850, k.css("left", p - 5 + "px"), n.css("width", p + "px"), p > r && (a.currentTime = b, j.get(0).currentTime = b))
				}), a.$watch("currentTime", function(c, d) {
					c != d && (a.curT = b.getMiuteByTime(c), r = Math.round(c / a.duration * 850), r >= q && (r = q, a.state = "pause"), m.css("left", r - 5 + "px"))
				}), a.$watch("soundSrc", function(a, b) {
					a != b && j.attr("src", a)
				})
			}
		}
	}]), angular.module("soundLink", ["soundLink"]), angular.module("soundLink").controller("SoundLinkCtrl", ["$rootScope", "$scope", "sceneService", "obj", function(a, b, c, d) {
		b.authError = "", b.soundLink = {
			src: ""
		}, b.selectLink = function() {
			b.sound = {}
		}, b.confirm = function() {
			var a = b.soundLink.src;
			if (a.length && a.lastIndexOf(".mp3") !== a.length - 4) return void(b.authError = "请输入mp3格式的音乐链接");
			if (0 === a.length) return b.authError = "链接地址不能为空", void $(".link").focus();
			var e;
			b.sound;
			a && (e = {
				name: "外链音乐",
				src: a
			}), c.soundLink(a, d).then(function(a) {
				200 == a.data.code ? b.$close(e) : (b.authError = a.data.msg, $(".link").focus())
			})
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("scene.create.console.statistics", []), angular.module("scene.create.console.statistics").controller("StatisticsConsoleCtrl", ["$scope", "obj", function(a, b) {
		a.model = {
			title: b.title,
			properties: {
				layout: b.properties.layout,
				size: b.properties.size,
				color: b.properties.color,
				icon: b.properties.icon,
				imgSrc: b.properties.imgSrc
			}
		}, a.authError = "", a.confirm = function() {
			angular.extend(b, a.model);
			var c = parseInt(b.css.height, 10) || 0;
			a.model.properties.imgSrc && 115 > c && (a.model.btnStyle = {
				width: "320px",
				height: "115px",
				lineHeight: "115px",
				backgroundColor: "transparent"
			}), "counter-tb" === a.model.properties.layout && (!a.model.properties.imgSrc && 80 > c && (a.model.btnStyle = {
				height: "80px",
				lineHeight: "80px"
			}), a.model.properties.imgSrc && 155 > c && (a.model.btnStyle = a.model.btnStyle || {}, a.model.btnStyle.height = a.model.btnStyle.lineHeight = "155px")), a.$close(a.model)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseEqfont = function(b) {
			a.model.properties.icon = b, a.model.properties.imgSrc = null
		}
	}]), angular.module("scene.create.console.setting.style", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput", "services.history", "scene.create.console.map"]), angular.module("scene.create.console.setting.style").controller("StyleConsoleCtrl", ["$scope", "sceneService", "historyService", "$modal", "$rootScope", function(a, b, c, d, e) {
		var f = a.elemDef = b.currentElemDef || {
			css: {}
		};
		delete f.css.borderTopLeftRadius, delete f.css.borderTopRightRadius, delete f.css.borderBottomLeftRadius, delete f.css.borderBottomRightRadius, delete f.css.border;
		var g = f.css,
			h = $("#inside_" + a.elemDef.id + " > .element-box");
		if (a.model = {
			backgroundColor: g.backgroundColor || "",
			opacity: 100 - 100 * g.opacity || 0,
			color: g.color || "#676767",
			borderWidth: parseInt(g.borderWidth, 10) || 0,
			borderStyle: g.borderStyle || "solid",
			borderColor: g.borderColor || "rgba(0,0,0,1)",
			paddingBottom: parseInt(g.paddingBottom, 10) || 0,
			paddingTop: parseInt(g.paddingTop, 10) || 0,
			lineHeight: g.lineHeight || 1,
			borderRadius: parseInt(g.borderRadius, 10) || 0,
			transform: g.transform && parseInt(g.transform.replace("rotateZ(", "").replace("deg)", ""), 10) || 0,
			content: f.content || ""
		}, f.type + "" == "m") a.model.address = f.properties.address;
		else if (f.type + "" == "h") a.shapeAttrs = f.properties.items, a.scrollShow = !1, a.changePos = function(b) {
			a.scrollTop = b.y, a.$apply()
		}, a.shapeAttrs && a.shapeAttrs.length > 6 && (a.scrollShow = !0), a.$watch("shapeAttrs", function(a, b) {
			if (a && a != b) {
				var c = a.length,
					d = f.properties.src;
				if (d) {
					if (!c) return;
					var e = h.find("[fill], [style*='fill']");
					$.each(e, function(c, d) {
						var e, f = $(d).attr("style");
						if (f) {
							for (var g = f.split(";"), h = 0, i = g.length; i > h; h++) if (g[h].indexOf("fill:") >= 0) {
								e = g[h].split(":")[1];
								break
							}
						} else e = $(d).attr("fill");
						e = e.replace(/\s*/g, ""), "none" != e && (e = jQuery.Color(e).toString()), e.indexOf("rgba") >= 0 ? e = eqShow.convertToHexColor(eqShow.getRGB(e)) : e.indexOf("rgb") >= 0 && (e = eqShow.convertToHexColor(e));
						for (var j = 0; j < b.length; j++) {
							var k = b[j].fill.replace(/\s*/g, "");
							if (k = jQuery.Color(k).toString(), k.indexOf("rgba") >= 0 ? k = eqShow.convertToHexColor(eqShow.getRGB(k)) : k.indexOf("rgb") >= 0 && (k = eqShow.convertToHexColor(k)), "none" == e && "none" == b[j].svgFill && "" != a[j].fill) {
								$(d).css({
									fill: jQuery.Color(a[j].fill).toString()
								});
								break
							}
							if (e.toLowerCase() == k.toLowerCase()) {
								$(d).css({
									fill: jQuery.Color(a[j].fill).toString()
								});
								break
							}
						}
					})
				}
			}
		}, !0);
		else if (f.type + "" == "201") {
			for (var i = b.getElements(), j = 0; j < i.length; j++) if (i[j].id == f.properties.comid) var k = i[j];
			a.model.fontSize = f.css.fontSize, a.model.niketype = f.properties.type
		} else if (f.type + "" == "401") {
			for (var i = b.getElements(), j = 0; j < i.length; j++) if (i[j].id == f.properties.comid) {
				var k = i[j];
				a.model.fontSize = k.css.fontSize, a.model.backgroundColor = k.css.backgroundColor;
				var l = $("#inside_" + k.id + " > .element-box");
				a.model.content = k.content, a.model.color = k.css.color
			}
			a.model.niketype = f.properties.type
		}
		if (a.setPosition = function() {
			d.open({
				windowClass: "img_console",
				templateUrl: "scene/console/map.tpl.html",
				controller: "MapCtrl",
				resolve: {
					elemDef: function() {
						return f
					}
				}
			}).result.then(function(b) {
				f.properties.zoom = b.zoom, f.properties.lat = b.center.lat, f.properties.lng = b.center.lng, b.label && (f.content = b.label, f.properties.address = b.label);
				var c = $("#" + f.id).data("map");
				if (c.panTo(b.center), c.setZoom(b.zoom), $("#" + f.id).data("label")) {
					var d = $("#" + f.id).data("label");
					d.setPosition(b.center)
				}
				var e = $("#" + f.id).data("marker");
				e.setPosition(b.center), b.label && (a.model.content = b.label, a.model.address = b.label)
			})
		}, a.maxRadius = Math.min(h.outerWidth(), h.outerHeight()) / 2 + 10, g.borderRadiusPerc ? a.model.borderRadiusPerc = parseInt(g.borderRadiusPerc, 10) : g.borderRadius ? "999px" == g.borderRadius ? a.model.borderRadiusPerc = 100 : (a.model.borderRadiusPerc = parseInt(100 * parseInt(g.borderRadius, 10) * 2 / Math.min(h.outerWidth(), h.outerHeight()), 10), a.model.borderRadiusPerc > 100 && (a.model.borderRadiusPerc = 100)) : a.model.borderRadiusPerc = 0, a.tmpModel = {
			boxShadowDirection: 0,
			boxShadowX: 0,
			boxShadowY: 0,
			boxShadowBlur: 0,
			boxShadowSize: 0,
			boxShadowColor: "rgba(0,0,0,0.5)"
		}, g.boxShadow) {
			var m = g.boxShadow.split(" ");
			a.tmpModel.boxShadowX = parseInt(m[0], 10), a.tmpModel.boxShadowY = parseInt(m[1], 10), a.tmpModel.boxShadowDirection = parseInt(g.boxShadowDirection, 10) || 0, a.tmpModel.boxShadowBlur = parseInt(m[2], 10), a.tmpModel.boxShadowColor = m[3], a.tmpModel.boxShadowSize = parseInt(g.boxShadowSize, 10) || 0
		}
		a.clear = function() {
			a.model = {
				backgroundColor: "",
				opacity: 0,
				color: "#676767",
				borderWidth: 0,
				borderStyle: "solid",
				borderColor: "rgba(0,0,0,1)",
				paddingBottom: 0,
				paddingTop: 0,
				lineHeight: 1,
				borderRadius: 0,
				transform: 0
			}, a.tmpModel = {
				boxShadowDirection: 0,
				boxShadowX: 0,
				boxShadowY: 0,
				boxShadowBlur: 0,
				boxShadowSize: 0,
				boxShadowColor: (g.boxShadowSize, "rgba(0,0,0,0.5)")
			}
		}, a.$watch("tmpModel", function(b, c) {
			var d = {};
			$.extend(!0, d, a.model), d.borderRadius += "px", d.borderTopLeftRadius = d.borderTopRightRadius = d.borderBottomLeftRadius = d.borderBottomRightRadius = d.borderRadius, d.opacity = (100 - a.model.opacity) / 100, d.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor, d.boxShadowDirection = a.tmpModel.boxShadowDirection, d.boxShadowSize = a.tmpModel.boxShadowSize, d.transform = "rotateZ(" + a.model.transform + "deg)", $.extend(!0, f.css, d)
		}, !0), a.$watch("model", function(c, d) {
			var e = {};
			if ($.extend(!0, e, a.model), e.borderRadius += "px", e.borderTopLeftRadius = e.borderTopRightRadius = e.borderBottomLeftRadius = e.borderBottomRightRadius = e.borderRadius, e.opacity = (100 - a.model.opacity) / 100, e.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor, e.boxShadowDirection = a.tmpModel.boxShadowDirection, e.boxShadowSize = a.tmpModel.boxShadowSize, e.transform = "rotateZ(" + a.model.transform + "deg)", $.extend(!0, f.css, e), "m" == f.type) {
				var g;
				if (e.content) {
					var h = $("#" + f.id).data("map");
					$("#" + f.id).data("label") ? (g = $("#" + f.id).data("label"), g.setContent(e.content), g.getMap() || g.setMap(h), $("#" + f.id).data("label", g)) : (g = new qq.maps.Label({
						position: h.getCenter(),
						map: h,
						content: e.content
					}), $("#" + f.id).data("label", g))
				} else g = $("#" + f.id).data("label"), g && g.setMap(null);
				f.content = e.content
			} else if (f.type + "" == "201") f.content != e.content && (f.content = e.content, $("#" + f.id).html(f.content)), f.properties.type = e.niketype, k && (k.properties.type = e.niketype), f.css.fontSize = e.fontSize, $("#" + f.id).css("fontSize", e.fontSize + "px");
			else if (f.type + "" == "401") {
				b.getElements();
				k && (k.content != e.content && (k.content = e.content, $("#" + k.id).html(e.content)), k.css.fontSize = e.fontSize, $("#" + k.id).css("fontSize", e.fontSize + "px"), k.properties.type = e.niketype, k.css.backgroundColor = e.backgroundColor, k.css.color = e.color, l.css({
					color: e.color,
					backgroundColor: e.backgroundColor
				})), f.properties.type = e.niketype
			}
		}, !0)
	}]).directive("styleInput", ["multiCompResize", "$rootScope", function(a, b) {
		return {
			restrict: "AE",
			link: function(a, c, d) {
				var e = $("#inside_" + a.elemDef.id + " > .element-box");
				$("#inside_" + a.elemDef.id, "#nr");
				a.$watch(function() {
					return $(c).val()
				}, function(f, g) {
					if (f != g) {
						if ("borderWidth" == d.cssItem) {
							e.css({
								borderStyle: a.model.borderStyle,
								borderWidth: $(c).val()
							});
							var h = {
								width: e.width(),
								height: e.height()
							};
							if (4 == a.elemDef.type) {
								var i = e.find("img"),
									j = i.width() / i.height(),
									k = h.width / h.height;
								j >= k ? (i.outerHeight(h.height), i.outerWidth(h.height * j), i.css("marginLeft", -(i.outerWidth() - h.width) / 2), i.css("marginTop", 0)) : (i.outerWidth(h.width), i.outerHeight(h.width / j), i.css("marginTop", -(i.outerHeight() - h.height) / 2), i.css("marginLeft", 0)), a.elemDef.properties.imgStyle.marginTop = i.css("marginTop"), a.elemDef.properties.imgStyle.marginLeft = i.css("marginLeft"), a.elemDef.properties.imgStyle.width = i.outerWidth(), a.elemDef.properties.imgStyle.height = i.outerHeight()
							}
						}
						if ("borderRadius" == d.cssItem && e.css({
							borderRadius: a.model.borderRadius
						}), "opacity" == d.cssItem && e.css({
							opacity: (100 - $(c).val()) / 100
						}), "backgroundColor" == d.cssItem && e.css({
							backgroundColor: $(c).val()
						}), "color" == d.cssItem && (e.css({
							color: $(c).val()
						}), "h" == a.elemDef.type)) {
							var l = e.find("svg");
							l.find("g").length ? l.find("g").attr("fill", $(c).val()) : l.children().attr("fill", $(c).val())
						}
						"borderStyle" == d.cssItem && e.css({
							borderStyle: a.model.borderStyle
						}), "borderColor" == d.cssItem && e.css({
							borderColor: a.model.borderColor
						}), "padding" == d.cssItem && e.css({
							paddingTop: a.model.paddingTop,
							marginTop: -a.model.paddingBottom
						}), "lineHeight" == d.cssItem && e.css({
							lineHeight: a.model.lineHeight
						}), "transform" == d.cssItem && (e.parents("li").css({
							transform: "rotateZ(" + a.model.transform + "deg)"
						}), b.$broadcast("boxOuter")), "boxShadow" == d.cssItem && (a.tmpModel.boxShadowX = -Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize, a.tmpModel.boxShadowY = Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize, e.css({
							boxShadow: Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor
						}))
					}
				})
			}
		}
	}]).directive("angleKnob", function() {
		return {
			restrict: "AE",
			templateUrl: "scene/console/angle-knob.tpl.html",
			link: function(a, b, c) {
				function d(a, b) {
					var c = Math.sqrt((a - 28) * (a - 28) + (b - 28) * (b - 28)) / 28,
						d = 28 + (a - 28) / c,
						e = 28 + (b - 28) / c;
					g.css({
						top: Math.round(e),
						left: Math.round(d)
					})
				}
				function e(a, b) {
					var c = a - 28,
						d = 28 - b,
						e = 180 * Math.atan(c / d) / Math.PI;
					return b > 28 && (e += 180), 28 >= b && 28 > a && (e += 360), Math.round(e)
				}
				var f = $(b).find(".sliderContainer"),
					g = $(b).find(".sliderKnob");
				a.$watch(function() {
					return a.tmpModel.boxShadowDirection
				}, function(a) {
					g.css({
						top: 28 - 28 * Math.cos(a * Math.PI / 180),
						left: 28 + 28 * Math.sin(a * Math.PI / 180)
					})
				}), 0 !== a.tmpModel.boxShadowDirection && g.css({
					top: 28 - 28 * Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180),
					left: 28 + 28 * Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180)
				}), f.bind("mousedown", function(b) {
					b.stopPropagation();
					var c = f.offset().left,
						g = f.offset().top;
					d(b.pageX - c, b.pageY - g);
					var h = e(b.pageX - c, b.pageY - g);
					a.tmpModel.boxShadowDirection = h, a.$apply(), $(this).bind("mousemove", function(b) {
						b.stopPropagation(), d(b.pageX - c, b.pageY - g);
						var f = e(b.pageX - c, b.pageY - g);
						a.tmpModel.boxShadowDirection = f, a.$apply()
					}), $(this).bind("mouseup mouseleave", function(a) {
						$(this).unbind("mousemove"), $(this).unbind("mouseup mouseleave")
					})
				})
			}
		}
	}).controller("MapCtrl", ["$scope", "elemDef", function(a, b) {
		a.elemDef = b, a.zoom = b.properties.zoom ? b.properties.zoom : 11, a.center = b.properties.lat ? {
			lat: b.properties.lat,
			lng: b.properties.lng
		} : {
			lat: 39.916527,
			lng: 116.397128
		}, "设置位置" != b.properties.address && (a.address = b.properties.address, a.markerP = new qq.maps.LatLng(a.center.lat, a.center.lng));
		var c = new qq.maps.SearchService({
			complete: function(b) {
				var c = b.detail.pois;
				a.searchEnd(c)
			}
		});
		a.searchEnd = function(b) {
			a.pois = b, a.choosePosition(b[0]), a.choosePoi = b[0], a.$apply()
		}, a.choosePosition = function(b) {
			a.center = b.latLng, a.choosePoi = b, a.markerP = a.center
		}, a.cancel = function() {
			a.$dismiss()
		}, a.ok = function() {
			a.$close({
				zoom: a.zoom,
				center: a.center,
				label: a.choosePoi ? a.choosePoi.name : null
			})
		}, a.searchAddress = function(a) {
			a && (c.setPageIndex(0), c.setPageCapacity(10), c.search(a))
		}, a.change = function(b) {
			a.zoom = b.zoom, a.bounds = b.bounds, a.center = b.center
		}
	}]), angular.module("scene.create.console.tel", ["app.directives.addelement"]), angular.module("scene.create.console.tel").controller("TelConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, b, c, d, e) {
		a.model = {
			title: d.properties.title,
			number: d.properties.number,
			imgSrc: d.properties.imgSrc
		}, a.authError = "", a.buttons = [{
			id: 1,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 2,
			text: "热线电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 3,
			text: "拨打电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}, {
			id: 4,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}], a.openImageModal = function() {
			e.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(b) {
				a.model.title = "", a.btnIndex = -1, a.model.btnStyle = {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: "transparent"
				}, a.model.imgSrc = d.properties.imgSrc = b.data
			}, function(a) {})
		}, angular.forEach(a.buttons, function(b, c) {
			"" !== a.model.title && d.css.backgroundColor && d.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
		}), a.confirm = function() {
			return null != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? a.model.number && 0 !== a.model.title.number ? void a.$close(a.model) : (a.authError = "电话号码不能为空", void $('.form-list input[type="text"].tel-button').focus()) : (a.authError = "按钮名称不能为空", void $('.form-list input[type="text"].btn-name').focus())
		}, a.cancel = function() {
			a.$dismiss()
		}, a.chooseTabButton = function(b, c) {
			a.model.title = b.text, a.model.btnStyle = b.btnStyle, a.btnIndex = c, a.model.imgSrc = d.properties.imgSrc = null
		}
	}]), angular.module("scene.create.console.setting.trigger", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput", "scene.edit.trigger"]), angular.module("scene.create.console.setting.trigger").controller("TriggerConsoleCtrl", ["$scope", "$rootScope", "sceneService", "triggerService", "$modal", "ModalService", "i18nNotifications", "security", function(a, b, c, d, e, f, g, h) {
		function j() {
			var b = d.getTrigger(n.id);
			if (b && b.sends.length) for (l(b.sends), i = 0; i < b.sends.length && a.triggerEvents[i]; i++) i > 0 ? b.sends[i].delay = b.sends[i - 1].delay + a.triggerEvents[i].delay : b.sends[i].delay = a.triggerEvents[i].delay;
			var c;
			$.each(o, function(a, b) {
				d.clearTrigger(a), c = d.getTrigger(a), c && c.sends.length && l(c.sends), c ? b.trigger = c : delete b.trigger
			}), 2 == a.sendType.value && (c = d.getTrigger(a.elemDef.id), c && c.sends.length && l(c.sends), a.elemDef.properties || (a.elemDef.properties = {}), a.elemDef.properties.trigger = c)
		}
		function k() {
			if (!n) return void(a.triggerEvents = []);
			var b = d.getTrigger(n.id);
			if (b && b.sends.length) {
				l(b.sends), a.triggerEvents = [];
				var c = angular.copy(b.sends);
				angular.forEach(c, function(b, d) {
					if (a.triggerEvents.push({}), angular.forEach(b.handles, function(b, c) {
						1 != b.type && 2 != b.type || !b.ids.length ? 3 == b.type && b.ids.length && (a.triggerEvents[d] = angular.copy(a.eventTypes[1]), a.triggerEvents[d].type = 2) : (a.triggerEvents[d] = angular.copy(a.eventTypes[0]), a.triggerEvents[d].type = 1)
					}), d > 0) for (i = 0; d > i; i++) b.delay -= c[i].delay;
					a.triggerEvents[d].handles = b.handles, b.delay ? a.triggerEvents[d].delay = b.delay : a.triggerEvents[d].delay = 0
				})
			}
			a.triggerEvents.length && $.each(a.triggerEvents, function(a, b) {
				b.triggerElements = [], b.handles && b.handles.length && $.each(b.handles, function(a, c) {
					c.ids.length && $.each(c.ids, function(a, d) {
						b.triggerElements.push({
							id: d,
							handleType: c
						})
					})
				})
			})
		}
		function l(a) {
			for (var b = 0; b < a.length; b++)"undefined" == typeof a[b].sendIndex && a[b].hasOwnProperty("sendIndex") && (a.splice(b, 1), b--)
		}
		var m = utilTrigger.getSendType();
		a.sendTypes = m, a.sendType = a.sendTypes.CLICK;
		var n = a.elemDef = c.currentElemDef,
			o = c.getElementsMap(),
			p = (utilTrigger.getHandleType(), c.getSceneObj().obj);
		if (p && p.elements.length) {
			a.triggerSources = [];
			var q = angular.copy(p.elements);
			$.each(q, function(b, c) {
				("2" == c.type || "4" == c.type || "h" == c.type || "x" == c.type) && ("2" == c.type ? c.name = "文字" : "4" == c.type ? c.name = "图片" : "h" == c.type ? c.name = "形状" : "x" == c.type && (c.name = "秀字体"), a.triggerSources.push(c))
			}), $.each(a.triggerSources, function(a, b) {
				b.name += a + 1
			})
		}
		a.$watch("elemDef", function(b, c) {
			b && (n = b, $.each(a.triggerSources, function(c, d) {
				d.id == b.id && (a.sourceElem = d)
			}))
		}, !0), a.$watch("sendType", function(b) {
			a.triggerEvents = [], 1 == b.value ? n = a.elemDef = c.currentElemDef : 2 == b.value && (n = a.elemDef = p), k()
		}, !0), a.eventTypes = [{
			name: "existElement",
			value: 1,
			title: "选择界面已有元素",
			children: [{
				type: "SHOW",
				title: "显示"
			}, {
				type: "HIDE",
				title: "隐藏"
			}]
		}, {
			name: "randomEvent",
			value: 2,
			title: "随机图片"
		}], n && 1 == a.sendType.value && (4 == n.type ? a.triggerOriginal = "图片1" : "2" == n.type ? a.triggerOriginal = "文字1" : "h" == n.type ? a.triggerOriginal = "形状1" : "x" == n.type && (a.triggerOriginal = "秀字体1")), a.selectTriggerOriginal = function() {
			b.$broadcast("select.trigger.original")
		}, a.triggerEvents = [], a.addTriggerEvent = function(b, c) {
			if (!a.sourceElem && 1 == a.sendType.value) return void g.pushForCurrentRoute("select.trigger.source", "notify.success");
			if (a.triggerEvents.length) for (var d = 0; d < a.triggerEvents.length; d++) {
				var e = !0;
				if (a.triggerEvents[d].handles) for (var f = 0; f < a.triggerEvents[d].handles.length; f++) a.triggerEvents[d].handles[f].ids.length && (e = !1);
				e && (a.triggerEvents.splice(d, 1), d--)
			}
			0 == a.triggerEvents.length && (c = 0), a.triggerEvents.push({
				title: b.title,
				value: b.value,
				delay: 0
			});
			a.triggerEvents.length;
			1 == b.value ? a.addTriggerItem(a.triggerEvents[c], c) : 2 == b.value && a.addRandomImg(a.triggerEvents[c], c)
		}, a.addTriggerItem = function(c, d, e) {
			a.currentTriggerEvent = c, d >= a.triggerEvents.length && (d = a.triggerEvents.length - 1), a.currentIndex = d, b.$broadcast("element.triggered.add", c, d)
		}, a.addRandomImg = function(b, d) {
			a.currentTriggerEvent = b, a.currentIndex = d, c.createComp("n")
		}, a.$on("create.randomevent.trigger", function(c, d) {
			b.$broadcast("show.random.trigger", n, d, a.currentIndex)
		}), a.$on("receive.element.update", function(b, c, e, f, g) {
			a.triggeredElements = [];
			a.currentTriggerEvent ? a.currentTriggerEvent.handles = [] : a.triggerEvents && (a.triggerEvents[g].handles = []);
			var h = d.getTrigger(n.id).sends;
			h.length && l(h), angular.forEach(h, function(b, c) {
				a.triggerEvents[g].handles = b.handles
			}), j(), k()
		}), a.switchShow = function(a, c) {
			var d, e;
			a.triggerType ? 1 == a.triggerType ? (e = a.triggerType = 2, d = !1) : (e = a.triggerType = 1, d = !0) : 1 == a.handleType.type ? (e = a.handleType.type = 2, d = !1) : (e = a.handleType.type = 1, d = !0), b.$broadcast("switch.triggered.state", d, e, a.id, c)
		}, a.removeTrigger = function(b, c) {
			var e = n.id,
				f = d.getTrigger(e);
			if (f && f.sends) {
				if (l(f.sends), !f.sends[b]) return void a.triggerEvents.splice(b, 1);
				d.deleteTriggerBySendIndex(b, e), $.each(f.sends, function(a, b) {
					b.sendIndex = a
				})
			}
			a.triggerEvents.splice(b, 1)
		}, a.getTriggerSources = function(b) {
			a.triggerEvents = [], b && ($("#nr").find("#inside_" + b.id).trigger("mousedown"), n = a.elemDef = o[b.id], k())
		}, k(), a.confirm = function() {
			j(), b.$broadcast("close.style.panel")
		}, a.cancelTriggerElem = function(a, c) {
			var d = n.id;
			b.$broadcast("cancel.element.trigger", a, d, c), k()
		}, a.editRandomElem = function() {}, a.clear = function() {
			d.resetTrigger(n.id), a.triggerEvents = []
		}
	}]).directive("eqxTrigger", ["$compile", "sceneService", "triggerService", function(a, b, c) {
		function d(a, d, n) {
			var o = b.currentElemDef;
			a.$watch("sendType", function(c) {
				1 == c.value ? o = a.elemDef = b.currentElemDef : 2 == c.value && (o = a.elemDef = b.getSceneObj().obj)
			}, !0);
			var p, q = $("#nr");
			q.find(".edit_area").find("li");
			a.$on("element.triggered.add", function(b, c, d) {
				$(".switch-original").remove(), p = $("#inside_" + a.elemDef.id);
				var f = $('<div class="switch-original">');
				p.append(f).children(".bar").hide(), e(a, a.elemDef, c, d)
			}), a.$on("create.trigger.menu", function(b, c, d) {
				var e = f(a, c, !! c.find(".switch-original").length);
				k(e, "triggerMenu", d)
			}), a.$on("switch.triggered.state", function(b, c, d, e, f) {
				var i = $("#inside_" + e);
				d.type;
				c ? g(i, a.sendType, l, o.id, e, f) : h(i, a.sendType, l, o.id, e, f)
			}), a.$on("show.random.trigger", function(b, d, e, f) {
				c.getSendIds(l.RANDOMEVENT.value, d.id);
				var g = utilTrigger.getHandleType().RANDOMEVENT.value;
				j(a.sendType, g, d.id, e.id, f);
				c.getTrigger(d.id)
			}), a.$on("cancel.element.trigger", function(c, d, e, f) {
				if (p = $("#inside_" + d), i(p, a.sendType, l, e, d, f), "n" == m[d].type && ($("#nr").find("#inside_" + d).remove(), b.deleteElement(d)), a.triggerEvents.length) for (var g = 0; g < a.triggerEvents.length; g++) {
					var h = !0;
					if (a.triggerEvents[g].handles) for (var j = 0; j < a.triggerEvents[g].handles.length; j++) a.triggerEvents[g].handles[j].ids.length && (h = !1);
					h && (a.triggerEvents.splice(g, 1), g--)
				}
			}), a.$on("select.trigger.original", function(c) {
				var d = q.find(".edit_area").children("li");
				$('<div class="mask-trigger">').insertAfter(".edit_area").click(function() {
					$(this).remove(), d.each(function() {
						var a = $(this),
							b = a.attr("ctype"),
							c = parseInt(a.attr("id").replace("inside_", ""), 10);
						(2 == b || 4 == b || "h" == b || "x" == b) && a.css({
							"background-color": "",
							"z-index": m[c].css.zIndex
						})
					});
					var c = parseInt($(".switch-original").parent().attr("id").replace("inside_", ""), 10);
					o = a.elemDef = b.currentElemDef = m[c], "4" == o.type ? $scope.triggerOriginal = "图片1" : "2" == o.type ? $scope.triggerOriginal = "文字1" : "h" == o.type ? $scope.triggerOriginal = "形状1" : "x" == o.type && ($scope.triggerOriginal = "秀字体1"), a.$apply()
				}), d.each(function() {
					var a = $(this),
						b = a.attr("ctype");
					(2 == b || 4 == b || "h" == b || "x" == b) && a.css({
						"background-color": "rgba(255,255,255,0.9)",
						"z-index": 10001
					})
				})
			})
		}
		function e(b, d, e, f) {
			var g = $("#nr"),
				h = g.find(".edit_area").children("li");
			g.find(".mask-trigger").remove(), a('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(b).appendTo(".content"), $('<div class="mask-trigger">').insertAfter("#nr .edit_area");
			var i;
			if (c.getTrigger(d.id) && (i = c.getTrigger(d.id).sends), h.each(function() {
				var a = $(this),
					b = a.attr("ctype");
				(2 == b || 4 == b || "h" == b || "x" == b) && (a.css({
					"background-color": "rgba(255,255,255,0.9)",
					"z-index": 10001
				}), i && i.length && $.each(i, function(b, c) {
					b != f && $.each(c.handles, function(b, c) {
						c.ids.length && $.each(c.ids, function(b, c) {
							a.attr("id") == "inside_" + c && a.css({
								"background-color": "",
								"z-index": ""
							})
						})
					})
				}))
			}), d) {
				var j = [];
				$.each(l, function(a, b) {
					if (2 != b.value) {
						var e = c.getSendIds(b.value, d.id);
						$.each(e, function(a, b) {
							j.push(b)
						})
					}
				}), $.each(j, function(a, b) {
					var c = g.find("#inside_" + b);
					c.css({
						"background-color": "",
						"z-index": ""
					})
				}), $("#comp_setting").css({
					zIndex: ""
				})
			}
		}
		function f(a, b, c) {
			var d = a.currentIndex,
				e = c ? "" : '<li class="trigger-show" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1"></div>显示</a></li>',
				f = $('<ul id="triggerMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1">' + e + '<li class="trigger-hide" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1" style="color: #5F5F5F;"></div>隐藏</a></li><li class="trigger-none" role="presentation"><a role="menuitem" tabindex="-1"><div style="width: 21px;"></div>取消</a></li></ul>').css({
					position: "absolute",
					"user-select": "none"
				}),
				j = $(".edit_area").find(".switch-original"),
				k = parseInt(j.parent().attr("id").replace("inside_", ""), 10),
				m = parseInt(b.attr("id").replace("inside_", ""), 10);
			return f.children(".trigger-show").click(function() {
				g(b, a.sendType, l, k, m, d), f.hide(), a.$apply()
			}), f.children(".trigger-hide").click(function() {
				h(b, a.sendType, l, k, m, d), f.hide(), a.$apply()
			}), f.children(".trigger-none").click(function() {
				i(b, a.sendType, l, k, m, d), f.hide(), $.each(a.triggerElements, function(a, b) {
					m == b.id && (b.checked = !1, b.triggerType = "")
				}), a.$apply()
			}), f
		}
		function g(a, b, d, e, f, g) {
			a.children(".boom").length || (a.children(".boom1").remove(), $('<div class="boom">').appendTo(a), c.deleteTrigger(b.value, d.HIDE.value, e, f, g), c.addTrigger(b.value, d.SHOW.value, e, f, g))
		}
		function h(a, b, d, e, f, g) {
			a.children(".boom1").length || (a.children(".boom").remove(), $('<div class="boom1">').appendTo(a), c.deleteTrigger(b.value, d.SHOW.value, e, f, g), c.addTrigger(b.value, d.HIDE.value, e, f, g))
		}
		function i(a, b, d, e, f, g) {
			a.children(".boom, .boom1").remove(), c.deleteTrigger(b.value, d.SHOW.value, e, f, g), c.deleteTrigger(b.value, d.HIDE.value, e, f, g), c.deleteTrigger(b.value, d.RANDOMEVENT.value, e, f, g)
		}
		function j(a, b, d, e, f) {
			c.deleteTrigger(a.value, b, d, e, f), c.addTrigger(a.value, b, d, e, f)
		}
		function k(a, b, c) {
			var d = $("#eq_main");
			$("#" + b).remove(), a.css({
				left: c.pageX + d.scrollLeft() + 15,
				top: c.pageY + d.scrollTop(),
				zIndex: 10001
			}).appendTo(d), d.mousemove(function(c) {
				a = $("#" + b), (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(), $(this).unbind("mousemove"))
			})
		}
		var l = (utilTrigger.getSendType(), utilTrigger.getHandleType()),
			m = b.getElementsMap();
		return {
			restrict: "EA",
			link: d
		}
	}]).directive("leavePanel", function() {
		function a(a, b, c) {
			b.hover(function() {}, function() {
				a.obj = {
					showTriggerPanel: !1
				}, a.$apply()
			})
		}
		return {
			restrict: "EA",
			link: a
		}
	}).directive("triggerElemList", ["sceneService", "triggerService", function(a, b) {
		function c(c, e, f) {
			var g = angular.copy(a.getSceneObj().obj.elements),
				h = a.getElementsMap(),
				i = {};
			c.triggerElements = [];
			var j;
			1 == c.sendType.value ? j = c.elemDef.trigger : 2 == c.sendType.value && (c.elemDef.properties || (c.elemDef.properties = {}), j = c.elemDef.properties.trigger);
			var k = $("#nr").find(".edit_area").children("li");
			$.each(g, function(a, b) {
				("2" == b.type || "4" == b.type || "h" == b.type || "x" == b.type) && (i[b.type] || (i[b.type] = []), i[b.type].push(b))
			}), $.each(i, function(a, b) {
				$.each(b, function(a, b) {
					"4" == b.type ? b.name = "图片" : "2" == b.type ? b.name = "文字" : "h" == b.type ? b.name = "形状" : "x" == b.type && (b.name = "秀字体"), b.name += a + 1, b.id != c.elemDef.id ? c.triggerElements.push(b) : c.triggerElements.push(b)
				})
			}), j && j.sends && $.each(j.sends, function(a, b) {
				a != c.currentIndex && $.each(b.handles, function(a, b) {
					b.ids.length && $.each(b.ids, function(a, b) {
						for (var d = 0; d < c.triggerElements.length; d++) c.triggerElements[d].id == b && (c.triggerElements.splice(d, 1), d--)
					})
				})
			}), c.changed = function(a, e) {
				var f = $("#inside_" + a.id);
				return e ? void(a.checked ? ($('<div class="boom1">').appendTo(f), b.deleteTrigger(c.sendType.value, d.HIDE.value, c.elemDef.id, a.id, c.currentIndex), b.addTrigger(c.sendType.value, d.HIDE.value, c.elemDef.id, a.id, c.currentIndex)) : (f.children(".boom1").remove(), b.deleteTrigger(c.sendType.value, d.HIDE.value, c.elemDef.id, a.id, c.currentIndex))) : void(a.checked ? (f.children(".boom1").remove(), $('<div class="boom">').appendTo(f), b.deleteTrigger(c.sendType.value, d.HIDE.value, c.elemDef.id, a.id, c.currentIndex), b.addTrigger(c.sendType.value, d.SHOW.value, c.elemDef.id, a.id, c.currentIndex)) : (f.children(".boom1").remove(), f.children(".boom").remove(), b.deleteTrigger(c.sendType.value, d.SHOW.value, c.elemDef.id, a.id, c.currentIndex), b.deleteTrigger(c.sendType.value, d.HIDE.value, c.elemDef.id, a.id, c.currentIndex)))
			}, c.confirmList = function() {
				$(".mask-trigger").remove(), $(".trigger-list").remove(), c.elemDef && ($(".switch-original").remove(), $("#triggerMenu").hide(), $(".edit_area").find(".boom, .boom1").remove()), k.each(function() {
					var a = $(this),
						b = a.attr("ctype"),
						c = parseInt(a.attr("id").replace("inside_", ""), 10);
					(2 == b || 4 == b || "h" == b || "x" == b) && a.css({
						"background-color": "",
						"z-index": h[c].css.zIndex
					})
				});
				var a, b = !1;
				1 == c.sendType.value ? a = c.elemDef.trigger : 2 == c.sendType.value && (c.elemDef.properties || (c.elemDef.properties = {}), a = c.elemDef.properties.trigger), a && a.sends && a.sends[c.currentIndex] ? ($.each(a.sends[c.currentIndex].handles, function(a, c) {
					c.ids.length && (b = !0)
				}), b || c.triggerEvents.splice(c.currentIndex, 1)) : c.triggerEvents.splice(c.currentIndex, 1)
			}, c.$watch("elemDef", function(a) {
				var b;
				1 == c.sendType.value ? b = a.trigger : 2 == c.sendType.value && (a.properties || (a.properties = {}), b = a.properties.trigger), b && b.sends && $.each(b.sends, function(a, b) {
					$.each(b.handles, function(a, b) {
						$.each(b.ids, function(a, d) {
							$.each(c.triggerElements, function(a, c) {
								c.id == d && (c.checked = !0, c.triggerType = b.type)
							})
						})
					})
				})
			}, !0)
		}
		var d = (utilTrigger.getSendType(), utilTrigger.getHandleType());
		return {
			restrict: "EA",
			templateUrl: "scene/console/triggerelemlist.tpl.html",
			replace: !1,
			link: c
		}
	}]).directive("highlightElement", function() {
		function a(a, b, c) {
			var d, e = $("#nr").find("li");
			setTimeout(function() {
				b.find(".trigger-elem").hover(function(b) {
					d = $(this).attr("id").substring(8), $.each(e, function(b, c) {
						"inside_" + a.elemDef.id != $(c).attr("id") && $(c).css({
							zIndex: "",
							"background-color": ""
						})
					}), $("#inside_" + d).css({
						"z-index": 10001,
						"background-color": "rgba(255,255,255,0.9)"
					})
				}, function() {
					$.each(a.triggerElements, function(a, b) {
						$("#inside_" + b.id).css({
							"z-index": 10001,
							"background-color": "rgba(255,255,255,0.9)"
						})
					})
				})
			}, 0)
		}
		return {
			restrict: "EA",
			link: a
		}
	}), angular.module("scene.create.console.video", []), angular.module("scene.create.console.video").controller("VideoCtrl", ["$scope", "$timeout", "obj", function(a, b, c) {
		function d(a) {
			var b = a.substring(a.indexOf("src=") + 4),
				c = b.substring(b.indexOf("://") + 3),
				d = c.substring(0, c.indexOf("/"));
			return d.indexOf("v.qq") >= 0 || d.indexOf("tudou") >= 0 || d.indexOf("youku") >= 0 ? !0 : !1
		}
		a.model || (a.model = {}), a.authError = "", a.model.src = c.properties.src, a.confirm = function() {
			if (!a.model.src) return $("textarea").focus(), void(a.authError = "请输入视频地址");
			var b = d(a.model.src);
			return b ? void a.$close(a.model.src) : ($("textarea").addClass("error"), $("textarea").change(function() {
				$(this).removeClass("error")
			}), void(a.authError = "暂不支持添加此视频！"))
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("scene.create", ["app.directives.editor", "services.scene", "confirm-dialog", "services.modal", "app.directives.component", "services.pagetpl", "save.template", "scene.create.console", "app.directives.comp.editor", "app.directives.addelement", "scene.my.upload", "services.i18nNotifications", "services.history", "security.service", "scene.edit.select", "scene.edit.common", "scene.edit.keymap", "scene.edit.bg", "scene.userGuide", "services.staticRes", "scene.create.pageTpl", "scene.create.hoverElement", "scene.preview", "services.file"]), angular.module("scene.create").controller("CreateSceneCtrl", ["$timeout", "$compile", "$rootScope", "$scope", "$routeParams", "$route", "$location", "sceneService", "pageTplService", "$modal", "ModalService", "security", "$window", "i18nNotifications", "historyService", "panStateTracker", "selectService", "continueUrl", "triggerService", "staticResService", "dataCacheService", "fileService", "storageService", "gridGuide", function(a, b, c, d, e, f, g, h, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y) {
		function z() {
			var a = !1;
			return angular.forEach(d.tpl.obj.elements, function(b) {
				6 == ("" + b.type).charAt(0) && (a = !0)
			}), a
		}
		function A(a, b, e, f, i) {
			d.loading = !0, d.pageId = d.pages[a - 1].id, h.getSceneByPage(d.pageId, b, e, i).then(function(f) {
				d.loading = !1, d.tpl = f.data, K = d.tpl.obj.properties, K && K.trigger && t.setTrigger(d.tpl.obj.id, K.trigger), K && K.longPage ? (d.isLong = !0, d.pageLength = K.longPage, d.switchPhone(!0)) : i ? (d.pageLength = i, d.isLong = !0, d.switchPhone(!0)) : (d.isLong = !1, d.pageLength = 1, d.showPhone = "false" == x.get("create.phoneView") ? !1 : !0, c.$broadcast("switchBox", d.showPhone)), y.grid.refreshGrid(d.pageLength), delete d.tpl.obj.scene, d.sceneId = d.tpl.obj.sceneId, d.controlView.showBgTag = !1, angular.forEach(d.tpl.obj.elements, function(a, b) {
					3 == a.type && (d.controlView.showBgTag = !0, d.currentBgDef = a)
				}), K && (K.image || K.scratch) && (d.effectName = "涂抹"), K && K.finger && (d.effectName = "指纹"), K && K.effect && ("money" == K.effect.name ? d.effectName = "数钱" : "snowFly" == K.effect.name ? d.effectName = "飘雪" : "fireWorks" == K.effect.name ? d.effectName = "烟花" : "none" == K.effect.name && (d.effectName = "无")), K && K.fallingObject && (d.effectName = "环境"), (b || e) && (g.$$search = {}, g.search("pageId", ++a), d.getPageNames()), d.pageNum = a, $("#nr").empty();
				var j = angular.copy(d.tpl.obj);
				j.elements = p.addPage(j.id, j.elements), h.templateEditor.parse({
					def: d.tpl.obj,
					appendTo: "#nr",
					mode: "edit"
				}), d.originData = JSON.stringify(d.tpl), c.$broadcast("dom.changed"), c.$broadcast("refreshPageBg")
			}, function() {
				d.loading = !1
			})
		}
		function B() {
			o.pushForCurrentRoute("scene.save.success.nopublish", "notify.success")
		}
		d.loading = !1, d.PREFIX_FILE_HOST = PREFIX_FILE_HOST, d.tpl = {}, d.originData = "";
		var C, D = "",
			E = 21,
			F = 1,
			G = 0,
			H = !1;
		d.templateType = 1, d.controlView = {}, d.showSearch = !0, d.completeHtml2Canvas = null, d.lastPageTypes = [{
			name: "易企秀尾页",
			value: "eqFree"
		}, {
			name: "易企秀底标",
			value: "eqLink"
		}, {
			name: "去掉易企秀展示",
			value: "eqHide"
		}], d.pageTpl = {}, d.isAppEditor = !1, d.tabid = "template", d.$watch("user", function(a) {
			if (a) for (var b = 0; b < a.roleIdList.length; b++) 13 == a.roleIdList[b] && (d.isAppEditor = !0), (4 == a.roleIdList[b] || 12 == a.roleIdList[b] || 13 == a.roleIdList[b]) && (d.isTplEditor = !0)
		}, !0), d.refreshTpl = function() {
			G > F && !H && (H = !0, d.getPageTpls(++F))
		}, d.showPhoneTip = "false" == x.get("create.showPhoneTip") ? !1 : !0, d.showAddPageTip = "false" == x.get("create.showAddPageTip") ? !1 : !0, d.showAddEffTip = "false" == x.get("create.showAddEffTip") ? !1 : !0, d.wechatWTip = "false" == x.get("wechatWTip") ? !1 : !0, d.switchPhone = function(a) {
			a ? d.showPhone = !1 : (d.showPhone = !d.showPhone, x.push("create.phoneView", d.showPhone)), c.$broadcast("switchBox", d.showPhone), x.get("create.showPhoneTip") || (x.push("create.showPhoneTip", !1), d.showPhoneTip = !1)
		};
		var I = ["l", "s"];
		if (d.createComp = function(a, b, c) {
			return d.sceneSetting.showFlag = !1, "6" == a && z() ? void l.openMsgDialog({
				msg: "当前页面的提交按钮已经存在，请不要重复添加。"
			}) : !d.isInteractionAccessable && -1 != I.indexOf(a) || !d.isInteractionCounterAccessable && "i" == a ? void l.openConfirmDialog({
				msg: "免费升级企业账号即可使用该功能",
				confirmName: "免费升级",
				cancelName: "我知道了"
			}, function() {
				window.open("/#/privilege")
			}) : void h.createComp(a, c, b, d.pageLength)
		}, d.$on("hisChange", function() {
			p.addPageHistory(d.tpl.obj.id, d.tpl.obj.elements)
		}), j.getPageTagLabel(11001).then(function(a) {
			d.tplFormatList = a.data.list
		}), j.getPageTagLabel(11003).then(function(a) {
			d.tplInteractionList = a.data.list
		}), j.getPageTagLabel(11002).then(function(a) {
			d.tplStyleList = a.data.list
		}), d.getPageTplTypestemp = function(a, b, c, e) {
			j.getPageTplTypestemp(a, b, c, e).then(function(a) {
				if (H = !1, a.data.list && a.data.list.length > 0) {
					F > 1 ? d.pageTpls = d.pageTpls.concat(a.data.list) : d.pageTpls = a.data.list, G = Math.ceil(a.data.map.count / E);
					var b = a.config.url.split("&time")[0];
					v.contains(b) || (v.push("pageTpl", v.getAsyncUrl(), a), v.setAsyncUrl())
				} else d.pageTpls = [], G = 0
			})
		}, d.enterPress = function(a) {
			var b = a || window.event;
			13 == b.keyCode && d.getPageTpls()
		}, d.getPageTpls = function(a) {
			var b = "";
			a || (a = F = 1);
			for (var c in d.pageTpl)"name" != c && d.pageTpl[c] && (b += d.pageTpl[c] + ",");
			"" !== b && (b = b.substr(0, b.length - 1)), d.pageTpl.name && "" !== d.pageTpl.name && (d.showSearch = !1), d.getPageTplTypestemp(b, d.pageTpl.name, E, a)
		}, d.getPageTpls(), d.resetTplFilter = function() {
			d.pageTpl.name = null, d.showSearch = !0, d.getPageTpls()
		}, d.support = function() {
			return window.sessionStorage && "false" === sessionStorage.getItem("checkSuport") ? !1 : navigator.userAgent.match(/Trident/) && navigator.userAgent.match(/rv:11/) || navigator.userAgent.match(/Chrome/) ? !1 : navigator.userAgent.match(/iPad/) && navigator.userAgent.match(/CriOS/) ? !1 : (s.setUrl(g.path()), g.path("scene/support"), !0)
		}, !d.support()) {
			d.createCompGroup = function(a, b) {
				d.sceneSetting.showFlag = !1, "g101" == a && z() && (l.openMsgDialog({
					msg: "当前页面的提交按钮已经存在，本操作将会删除已添加的按钮。"
				}), angular.forEach(d.tpl.obj.elements, function(a) {
					6 == ("" + a.type).charAt(0) && ($("#nr").find("#inside_" + a.id).remove(), r.deleteElement(a.id), h.deleteElement(a.id))
				})), h.createCompGroup(a, null, b)
			}, d.isRadioCheckboxRatingAccessable = m.isAllowToAccess(m.accessDef.RADIO_CHECKBOX_RATING), d.isInteractionAccessable = m.isAllowToAccess(m.accessDef.INTERACTION), d.isInteractionCounterAccessable = m.isAllowToAccess(m.accessDef.INTERACTION_COUNTER), d.isInteractionAccessableWechat = m.isAllowToAccess(m.accessDef.ACCESS_WX_AUTH), d.updateCompPosition = h.updateCompPosition, d.updateCompAngle = h.updateCompAngle, d.updateCompSize = h.updateCompSize, d.openAudioModal = h.openAudioModal, d.openTriggerMode = function() {
				return d.sceneSetting.showFlag = !1, d.isInteractionAccessable || -1 == I.indexOf(type) ? void h.openTriggerMode() : void l.openConfirmDialog({
					msg: "免费升级企业账号即可使用该功能",
					confirmName: "免费升级",
					cancelName: "我知道了"
				}, function() {
					window.open("/#/privilege")
				})
			}, d.$on("dom.changed", function(a) {
				b($("#nr"))(d), c.$broadcast("boxOuter")
			});
			var J = null;
			d.$on("showCropPanel", function(a, e) {
				var f = $(".content").eq(0);
				J ? (c.$broadcast("changeElemDef", e), J.show()) : J = b("<div crop-image></div>")(d), f.append(J)
			}), d.openPageEffectModal = function(a) {
				var b = angular.copy(a);
				k.open({
					windowClass: "console six-contain effect-console",
					templateUrl: "scene/pageeffect/pageeffect.tpl.html",
					controller: "pageEffectCtrl",
					resolve: {
						properties: function() {
							return b
						}
					}
				}).result.then(function(a) {
					d.tpl.obj.properties || (d.tpl.obj.properties = {}), d.tpl.obj.properties.scratch = null, d.tpl.obj.properties.finger = null, d.tpl.obj.properties.fallingObject = null, d.tpl.obj.properties.effect = null, "无" != a.name && (d.tpl.obj.properties[a.value] = a.properties[a.value]), d.effectName = a.name
				}, function() {
					c.$broadcast("clear.scratch.interval")
				})
			};
			var K, L = null;
			d.$on("showStylePanel", function(a, c) {
				var e = $(".content").eq(0);
				L ? L.show() : "style" == c.activeTab ? L = b('<div style-modal active-tab="style"></div>')(d) : "anim" == c.activeTab ? L = b('<div style-modal active-tab="anim"></div>')(d) : "trigger" == c.activeTab && (L = b('<div style-modal active-tab="trigger"></div>')(d)), e.append(L)
			}), d.$on("hideStylePanel", function(a) {
				L && L.hide()
			}), d.refreshPage = function(a, b) {
				if (d.completeHtml2Canvas) return void d.completeHtml2Canvas.then(function() {
					d.refreshPage(a, b)
				});
				parseInt(b, 10);
				h.resetCss(), $("#nr").empty(), h.templateEditor.parse({
					def: d.tpl.obj,
					appendTo: "#nr",
					mode: "edit"
				}), c.$broadcast("dom.changed"), c.$broadcast("refreshPageBg")
			}, d.navTo = function(a, b) {
				d.controlView.pageList = !0, h.comPosition = {
					top: 0
				}, d.isTplEditor && (d.pageLabelAll.length = 0, d.pageIdTag = a.id, d.getPageTagLabel()), a.id != d.tpl.obj.id && (d.setEditableStatus(), d.controlView.showBgTag = !1, d.saveUsedFiles(function() {
					d.saveScene(null, function() {
						A(b + 1), g.$$search = {}, g.search("pageId", a.num)
					})
				}), q.clear())
			};
			d.saveUsedFiles = function(a) {
				var b = [];
				$.extend(b, d.tpl.obj.elements);
				for (var c = JSON.parse(d.originData).obj.elements, e = 0; e < b.length; e++) {
					var f = b[e];
					if (f.sound || f.type + "" == "3" || f.type + "" == "4" || f.type + "" == "h") for (var g = 0; g < c.length; g++) {
						var h = c[g];
						if (f.id == h.id) {
							f.type + "" == "3" || f.type + "" == "4" ? f.properties.id != h.properties.id && v.pushUsedFile(1, f.properties.id) : f.type + "" == "h" ? v.pushUsedFile(7, f.properties.id) : !f.sound || h.sound && h.sound.id == f.sound.id || v.pushUsedFile(2, f.sound.id);
							break
						}
						g == c.length - 1 && (f.type + "" == "3" || f.type + "" == "4" ? v.pushUsedFile(1, f.properties.id) : f.type + "" == "h" ? v.pushUsedFile(7, f.properties.id) : v.pushUsedFile(2, f.sound.id))
					}
				}
				var i = v.getUsedFiles();
				v.clearUsedFiles(), i ? w.saveFilesHistory(i.file, i.type).then(function() {
					a && a()
				}) : a && a()
			}, d.stopCopy = function() {
				copied = !1
			}, d.getOriginPageName = function(a) {
				D = a.name
			}, d.getPageNames = function() {
				var a = e.sceneId;
				h.getPageNames(a).then(function(a) {
					d.pages = a.data.list, angular.forEach(d.pages, function(a, b) {
						a.name || (a.name = "第" + (b + 1) + "页")
					}), A(g.search().pageId ? g.search().pageId : d.pages[0].num)
				})
			}, d.scene = null, h.getSceneDetail(e.sceneId, c.branchid).then(function(a) {
				d.scene = h.getCurrentScene(), d.sceneSetting.oldBgAudio = d.scene.bgAudio, d.getPageNames()
			}), d.editableStatus = [], d.setEditableStatus = function(a, b, c) {
				if (a !== undefined) d.editableStatus[a] = b;
				else for (var e = 0; e < d.editableStatus.length; e++) d.editableStatus[e] = !1
			}, d.savePageNames = function(a, b) {
				a.name || (a.name = "第" + (b + 1) + "页"), d.tpl.obj.name = a.name, D != a.name && h.savePageNames(d.tpl.obj).then(function(a) {
					o.pushForCurrentRoute("page.change.success", "notify.success")
				})
			}, d.removeScratch = function(a) {
				a.stopPropagation(), d.tpl.obj.properties.scratch = null, d.tpl.obj.properties.finger = null, d.tpl.obj.properties.fallingObject = null, d.tpl.obj.properties.effect = null
			}, d.$on("text.click", function(c, e) {
				$("#btn-toolbar").remove(), $("body").append(b("<toolbar></toolbar>")(d));
				var f = $(e).offset().top;
				a(function() {
					$("#btn-toolbar").css("top", f - 50), $("#btn-toolbar").show(), $("#btn-toolbar").bind("click mousedown", function(a) {
						a.stopPropagation()
					}), $(e).wysiwyg_destroy(), $(e).wysiwyg(), $(e).trigger("dblclick").focus(), setTimeout(function() {
						if (window.getSelection) {
							var a = window.getSelection();
							a.modify("move", "left", "documentboundary"), a.modify("extend", "right", "documentboundary")
						}
					})
				})
			}), d.updatePosition = function(a) {
				var b, c, e = d.tpl.obj.elements,
					f = [];
				for (c = 0; c < e.length; c++) if ("3" == e[c].type) {
					e[c].num = 0, f.push(e[c]), e.splice(c, 1);
					break
				}
				for (b = 0; b < a.length; b++) for (c = 0; c < e.length; c++) if (e[c].num == a[b]) {
					e[c].num = b + 1, f.push(e[c]), e.splice(c, 1);
					break
				}
				d.tpl.obj.elements = f
			}, d.updateEditor = function() {
				$("#nr").empty(), h.templateEditor.parse({
					def: d.tpl.obj,
					appendTo: "#nr",
					mode: "edit"
				}), b($("#nr"))(d)
			};
			var M = !1;
			d.openSetting = function() {
				d.sceneSetting.showFlag = !d.sceneSetting.showFlag
			}, d.setOriginData = function(a) {
				d.originData = a
			}, d.$on("changeCss", function(a, b) {
				d.changeCssIndex = b.changZindex, h.resetCss()
			}), d.saveScene = function(a, b) {
				if (!d.scene.name && a && !d.sceneSetting.showFlag) return void l.openMsgDialog({
					msg: "尚未设置标题，请设置后再执行此操作",
					btn: "去设置"
				}, function() {
					d.sceneSetting.showFlag = !0
				});
				if (!M) {
					if (d.sceneSetting.showFlag) return void d.sceneSetting.saveSceneSetting().then(function() {
						d.saveScene(a, b)
					});
					if (d.sceneSetting.oldBgAudio != d.scene.bgAudio) return void h.saveSceneSettings(d.scene).then(function() {
						d.scene.bgAudio ? w.saveFilesHistory(d.scene.bgAudio.id, 2).then(function() {
							v.clear("fileService1"), d.sceneSetting.oldBgAudio = d.scene.bgAudio, d.saveScene(a, b)
						}) : (d.sceneSetting.oldBgAudio = d.scene.bgAudio, d.saveScene(a, b))
					});
					if (d.completeHtml2Canvas) return void d.completeHtml2Canvas.then(function() {
						d.saveScene(a, b)
					});
					if (M = !0, d.changeCssIndex && h.resetCss(), d.originData == JSON.stringify(d.tpl)) return b && b(), a && (!d.scene.publishTime || d.scene.updateTime > d.scene.publishTime ? B() : o.pushForCurrentRoute("scene.save.success.published", "notify.success")), void(M = !1);
					delete d.tpl.obj.scene, h.saveScene(d.tpl.obj).then(function(c) {
						return v.clear("sceneList"), a && d.saveUsedFiles(), M = !1, c.data.success ? (d.scene.updateTime = (new Date).getTime(), d.originData = JSON.stringify(d.tpl), C && (h.recordTplUsage(C), C = null), b && b(), void(a && B())) : void alert("保存失败，服务器忙碌请稍后再试。")
					}, function() {
						M = !1, alert("保存失败，服务器忙碌请稍后再试。")
					})
				}
			}, d.publishScene = function(a) {
				return d.scene.name || d.sceneSetting.showFlag ? "2" == a && d.scene.publishTime && d.scene.updateTime <= d.scene.publishTime && !d.allowPublish ? void l.openConfirmDialog({
					msg: "您未对已驳回场景做任何修改，请查看驳回消息，如不修改继续审核，还是不会被通过",
					confirmName: "坚持审核",
					cancelName: "退出"
				}, function() {
					d.allowPublish = !0, d.publishScene(a)
				}, function() {}) : 2 != d.scene.status || d.allowPublish ? d.sceneSetting.showFlag ? void d.sceneSetting.saveSceneSetting().then(function() {
					d.publishScene()
				}) : d.sceneSetting.oldBgAudio != d.scene.bgAudio ? void h.saveSceneSettings(d.scene).then(function() {
					d.scene.bgAudio ? w.saveFilesHistory(d.scene.bgAudio.id, 2).then(function() {
						v.clear("fileService1"), d.sceneSetting.oldBgAudio = d.scene.bgAudio, d.publishScene()
					}) : (d.sceneSetting.oldBgAudio = d.scene.bgAudio, d.publishScene())
				}) : d.completeHtml2Canvas ? void d.completeHtml2Canvas.then(function() {
					d.publishScene()
				}) : !a && !d.allowPublish && d.scene.publishTime && d.scene.updateTime <= d.scene.publishTime && d.originData == JSON.stringify(d.tpl) ? void g.path("spread/share/" + d.sceneId + "/socialShare").search("openSetting", null) : void d.saveUsedFiles(function() {
					d.saveScene(null, function() {
						h.publishScene(d.tpl.obj.sceneId, a).then(function(b) {
							b.data.success ? (v.clear("sceneList"), a ? l.openMsgDialog({
								msg: '该场景已经提交审核，系统会尽快给出审核结果并已经系统消息形式给出，请耐心等待<a style="color:#08a1ef;" href="" target="_blank">了解审核规则</a>',
								confirmName: "确定"
							}, function() {
								g.path("spread/share/" + d.sceneId + "/socialShare").search("openSetting", null)
							}) : (o.pushForNextRoute("scene.publish.success", "notify.success"), g.path("spread/share/" + d.sceneId + "/socialShare").search("openSetting", null))) : a && l.openMsgDialog({
								msg: b.data.msg
							}, function() {})
						})
					})
				}) : void l.openConfirmDialog({
					msg: "当前场景为不允许访问状态，发布场景将重新对外开放访问 ",
					confirmName: "坚持发布",
					cancelName: "保存退出"
				}, function() {
					d.allowPublish = !0, a ? d.publishScene(a) : d.publishScene()
				}, function() {
					d.saveScene(null, function() {
						g.path("spread/share/" + d.sceneId + "/socialShare").search("openSetting", null)
					})
				}) : void l.openMsgDialog({
					msg: "尚未设置标题，请设置后再执行此操作",
					btn: "去设置"
				}, function() {
					d.sceneSetting.showFlag = !0
				})
			}, d.exitScene = function() {
				JSON.parse(d.originData);
				g.$$search = {}, d.originData == JSON.stringify(d.tpl) ? g.path("main") : l.openConfirmDialog({
					msg: "是否保存更改内容？",
					confirmName: "保存",
					cancelName: "不保存"
				}, function() {
					d.saveScene(), g.path("main")
				}, function() {
					g.path("main")
				})
			}, d.duplicatePage = function() {
				d.saveScene(null, function() {
					A(d.pageNum, !1, !0)
				})
			}, d.longAction = function() {
				if (d.addLong = !0, window.localStorage) {
					var a = localStorage.getItem("setLongAction");
					a && a.indexOf(c.user.id) > -1 && (d.addLong = !1, d.insertPage())
				}
			}, d.insertPage = function(b) {
				return b && 1 == d.user.type ? void l.openConfirmDialog({
					msg: "免费升级企业账号即可使用该功能",
					confirmName: "免费升级",
					cancelName: "我知道了"
				}, function() {
					window.open("/#/privilege")
				}) : (d.saveUsedFiles(function() {
					d.saveScene(null, function() {
						A(d.pageNum, !0, !1, null, b)
					})
				}), void($("#pageList").height() >= 360 && a(function() {
					var a = document.getElementById("pageList");
					a.scrollTop = a.scrollHeight
				}, 200)))
			}, d.selectPageLength = function() {
				d.showPageSet = !1, d.insertPage(d.newPageLength)
			}, d.deletePage = function(a) {
				if (a.stopPropagation(), 1 != d.pages.length && !d.loading) {
					for (d.loading = !0, d.action = !1, i = 0; i < d.tpl.obj.elements.length; i++) {
						var b = d.tpl.obj.elements;
						5 == b[i].type.toString()[0] && (d.action = !0)
					}
					d.action === !0 ? l.openConfirmDialog({
						msg: "确定删除此页，将同时删除该场景已收集的数据?"
					}, function() {
						N()
					}) : N()
				}
			};
			var N = function() {
					h.deletePage(d.tpl.obj.id).then(function() {
						d.loading = !1, g.$$search = {}, d.pages.length == d.pageNum ? (d.pages.pop(), g.search("pageId", --d.pageNum), A(d.pageNum, !1, !1)) : (d.pages.splice(d.pageNum - 1, 1), g.search("pageId", d.pageNum), A(d.pageNum, !1, !1))
					}, function() {
						d.loading = !1
					})
				};
			d.removeBG = function(a) {
				var b, e = d.tpl.obj.elements;
				for (b = 0; b < e.length; b++) if (3 == e[b].type) {
					e.splice(b, 1);
					var f;
					for (f = b; f < e.length; f++) e[f].num--;
					break
				}
				c.$broadcast("remove.scene.bg")
			}, d.removeBGAudio = function(a) {
				a.stopPropagation(), d.scene.bgAudio = null
			}, $(".scene_title").on("paste", function(a) {
				a.preventDefault();
				var b = (a.originalEvent || a).clipboardData.getData("text/plain") || prompt("Paste something..");
				document.execCommand("insertText", !1, b)
			}), d.myName = [{
				name: "我的"
			}], d.myCompany = [{
				name: "企业"
			}], d.creatCompanyTemplate = function() {
				var a = $.extend(!0, {}, d.tpl.obj);
				if (delete a.scene, c.user) {
					var b = parseInt(c.user.companyTplId, 10);
					b ? a.sceneId = b : c.companySceneId ? a.sceneId = c.companySceneId : a.sceneId = null, h.saveCompanyTpl(a).then(function(a) {
						a.data.success && (o.pushForCurrentRoute("companytpl.setting.success", "notify.success"), c.companySceneId = a.data.obj, d.getPageTplsByCompanyType())
					})
				} else d.myCompanyTpls = []
			}, c.$on("saveCompanyTemplate", function() {
				d.creatCompanyTemplate()
			});
			var O = null;
			d.getPageTplsByCompanyType = function() {
				if (d.myCompanyTpls = [], d.myCompany[0].active = !0, !O) if (c.companySceneId) O = c.companySceneId;
				else {
					var a = parseInt(c.user.companyTplId, 10);
					a && (O = c.companySceneId = a)
				}
				O ? h.previewScene(O).then(function(a) {
					d.myCompanyTpls = a.data.list, d.tabid = "company"
				}) : d.tabid = "company"
			}, d.getRecentlyUsedTpls = function() {
				d.tabid = "recentlyUsed", h.recentlyUsedTpls().then(function(a) {
					d.myRecentlyTpls = a.data.list
				})
			}, d.setTplTab = function() {
				d.tabid = "template"
			}, d.creatMyTemplate = function() {
				var a = $.extend(!0, {}, d.tpl.obj);
				if (delete a.scene, c.user) {
					var b = JSON.parse(c.user.property);
					b && b.myTplId ? a.sceneId = b.myTplId : c.mySceneId ? a.sceneId = c.mySceneId : a.sceneId = null, h.saveMyTpl(a).then(function(a) {
						o.pushForCurrentRoute("mytpl.setting.success", "notify.success");
						c.mySceneId = a.data.obj, d.getPageTplsByMyType()
					})
				} else d.myPageTpls = []
			}, d.$on("saveMyTemplate", function() {
				d.creatMyTemplate()
			});
			var P = null;
			d.getPageTplsByMyType = function() {
				if (d.myPageTpls = [], d.myName[0].active = !0, !P) if (c.mySceneId) P = c.mySceneId;
				else {
					var a = JSON.parse(c.user.property);
					a && a.myTplId && (P = c.mySceneId = a.myTplId)
				}
				P ? h.previewScene(P).then(function(a) {
					d.myPageTpls = a.data.list, d.tabid = "myCollection"
				}) : d.tabid = "myCollection"
			}, d.$on("myPageList.update", function(a, b, c, e) {
				if ("my-tpl" == b) for (i = 0; i < d.myPageTpls.length; i++) d.myPageTpls[i].id == e && d.myPageTpls.splice(i, 1);
				if ("company-tpl" == b) for (i = 0; i < d.myCompanyTpls.length; i++) d.myCompanyTpls[i].id == e && d.myCompanyTpls.splice(i, 1)
			}), d.$on("myPageList.delete", function(a, b, d) {
				"company-tpl" == b && 21 == c.user.type && (d.context.firstElementChild.outerHTML = "")
			});
			var Q = {};
			d.getPageTplsByType = function(a) {
				Q[a] ? (d.childCatrgoryList = Q[a], d.getPageTplTypestemp(d.childCatrgoryList[0].id), childTagCut()) : (d.childCatrgoryList = Q[a] = u.getPageTpls(a), d.getPageTplTypestemp(d.childCatrgoryList[0].id), childTagCut())
			};
			var R = {};
			d.getPageTagLabel = function(a) {
				R[a] ? (d.pageLabel = R[a], T()) : d.scene && d.isAppEditor ? j.getPageTagLabel(1601).then(function(a) {
					d.pageLabel = R[1601] = a.data.list, T()
				}) : (d.pageLabel = R[a] = u.getPageTpls(a), T())
			}, d.pageLabelAll = [];
			var S, T = function(a) {
					j.getPageTagLabelCheck(d.pageIdTag).then(function(a) {
						S = a.data.list;
						for (var b = 0; b < d.pageLabel.length; b++) {
							for (var c = {
								id: d.pageLabel[b].id,
								name: d.pageLabel[b].name
							}, e = 0; e < S.length; e++) {
								if (S[e].id === d.pageLabel[b].id) {
									c.ischecked = !0;
									break
								}
								c.ischecked = !1
							}
							d.pageLabelAll.push(c)
						}
					})
				};
			d.exitPageTplPreview = function() {
				$("#nr").empty(), h.templateEditor.parse({
					def: d.tpl.obj,
					appendTo: "#nr",
					mode: "edit"
				}), c.$broadcast("dom.changed")
			}, d.insertPageTpl = function(a) {
				d.loading = !0;
				var b = function(a) {
						h.getSceneTpl(a).then(function(a) {
							if (d.controlView.showBgTag = !1, d.loading = !1, C = a.data.obj.id, d.tpl.obj.elements = h.getElements(), 1 == d.pageLength) for (var b = 0; b < d.tpl.obj.elements.length; b++) if (3 == d.tpl.obj.elements[b].type) {
								delete d.tpl.obj.elements[b].properties.croptype, delete d.tpl.obj.elements[b].properties.pageLength;
								break
							}
							$("#nr").empty(), p.addPageHistory(d.tpl.obj.id, d.tpl.obj.elements), h.templateEditor.parse({
								def: d.tpl.obj,
								appendTo: "#nr",
								mode: "edit"
							}), angular.forEach(d.tpl.obj.elements, function(a, b) {
								3 == a.type && (d.controlView.showBgTag = !0, d.currentBgDef = a)
							}), c.$broadcast("dom.changed")
						}, function() {
							d.loading = !1
						})
					};
				d.tpl.obj.elements && d.tpl.obj.elements.length > 0 ? l.openConfirmDialog({
					msg: "页面模板会覆盖编辑区域已有组件，是否继续？",
					confirmName: "是",
					cancelName: "取消"
				}, function() {
					b(a)
				}) : b(a)
			}, d.chooseThumb = function() {
				k.open({
					windowClass: "console img_console",
					templateUrl: "scene/console/bg.tpl.html",
					controller: "BgConsoleCtrl",
					resolve: {
						obj: function() {
							return {
								fileType: "0"
							}
						}
					}
				}).result.then(function(a) {
					d.tpl.obj.properties || (d.tpl.obj.properties = {}), d.tpl.obj.properties.thumbSrc = a.data
				}, function() {
					d.tpl.obj.properties.thumbSrc = null
				})
			}, $(window).bind("beforeunload", function() {
				return "请确认您的场景已保存"
			}), d.$on("$destroy", function() {
				$(window).unbind("beforeunload"), p.clearHistory(), h.setCopy(!1), utilPictures.clearInterval()
			}), d.sortableOptions = {
				placeholder: "ui-state-highlight ui-sort-position",
				containment: "#containment",
				update: function(a, b) {
					var c = b.item.sortable.dropindex + 1,
						e = d.pages[b.item.sortable.index].id;
					d.saveScene(null, function() {
						h.changePageSort(c, e).then(function(a) {
							A(c, !1, !1, !0), g.$$search = {}, g.search("pageId", c), d.pageNum = c
						})
					})
				}
			}, d.$on("history.changed", function() {
				d.canBack = p.canBack(d.tpl.obj.id), d.canForward = p.canForward(d.tpl.obj.id)
			}), d.back = function() {
				return d.completeHtml2Canvas ? void d.completeHtml2Canvas.then(function() {
					d.back()
				}) : (d.controlView.showBgTag = !1, void h.historyBack())
			}, d.forward = function() {
				return d.completeHtml2Canvas ? void d.completeHtml2Canvas.then(function() {
					d.forward()
				}) : void h.historyForward()
			}, d.openEffects = function() {
				d.tpl.obj.properties && (d.tpl.obj.properties.scratch || d.tpl.obj.properties.finger || d.tpl.obj.properties.fallingObject || d.tpl.obj.properties.effect) || d.openPageEffectModal(d.tpl.obj.properties)
			}, d.openBgPanel = function() {
				d.controlView.showBgTag || d.createComp("3", d.longPage)
			}, d.openAudioPanel = function() {
				d.scene.bgAudio || d.openAudioModal()
			}, d.closeOtherPanel = function(a) {
				var b = !d.$eval(a);
				d.showBackgroundPanel = !1, d.showMusicPanel = !1, d.showEffectsPanel = !1, d.gridGuideSetting.showFlag = !1, d.$broadcast("hideBgOption"), d.showBgOptionPanel = !1, d.$eval(a + "=" + b)
			}, d.removeAudio = function(a) {
				d.scene.bgAudio = null
			}, d.sceneSetting = {
				showFlag: !1,
				oldBgAudio: null
			}, d.settingScene = function() {
				d.sceneSetting.showFlag = !0
			}, "show" == g.search().openSetting && a(function() {
				d.sceneSetting.showFlag = !0
			}, 100), d.$on("show.edit.bg", function(a, b) {
				d.controlView.showBgTag = !0, d.currBgSrc = b
			}), d.gridGuideSetting = {
				showFlag: !1
			}, d.replaceBg = function(a) {
				h.openBgModal(a, d.pageLength), $("#nr").find(".wrapper-background").css({
					animation: "",
					"animation-fill-mode": ""
				})
			};
			var U = [],
				V = [],
				W = [],
				X = [],
				Y = [];
			d.showFirstTimeTip = function(a) {
				if (d.sceneSetting.showFlag = !1, "x" == a) {
					if (d.showXiuFontTip = !0, window.localStorage) {
						var b = localStorage.getItem("setXiuFontAction");
						b && (U = b.split(","), U.indexOf(c.user.id) > -1 && (d.showXiuFontTip = !1, h.createComp("x")))
					}
				} else if ("w" == a) {
					if (d.showHeadTip = !0, window.localStorage) {
						var e = localStorage.getItem("setHeadAction");
						e && (V = e.split(","), V.indexOf(c.user.id) > -1 && (d.showHeadTip = !1, h.createComp("w")))
					}
				} else if ("wp" == a) {
					if (d.showImageTip = !0, window.localStorage) {
						var f = localStorage.getItem("setImageAction");
						f && (W = f.split(","), W.indexOf(c.user.id) > -1 && (d.showImageTip = !1, h.createComp("wp")))
					}
				} else if ("wr" == a && (d.showVoiceTip = !0, window.localStorage)) {
					var g = localStorage.getItem("setVoiceAction");
					g && (X = g.split(","), X.indexOf(c.user.id) > -1 && (d.showVoiceTip = !1, h.createComp("wr")))
				}
			}, d.switchShowFontTip = function(a, b) {
				"x" == b ? a && (U.push(c.user.id), localStorage.setItem("setXiuFontAction", U.join(","))) : "w" == b ? a && (V.push(c.user.id), localStorage.setItem("setHeadAction", V.join(","))) : "wp" == b ? a && (W.push(c.user.id), localStorage.setItem("setImageAction", W.join(","))) : "wr" == b ? a && (X.push(c.user.id), localStorage.setItem("setVoiceAction", X.join(","))) : "long" == b && a && (Y.push(c.user.id), localStorage.setItem("setLongAction", Y.join(",")))
			}, d.addLongPage = function() {
				d.showPage = !1, k.open({
					windowClass: "login-container six-contain",
					templateUrl: "scene/newLongPage.tpl.html",
					controller: "PageNewCtrl"
				}).result.then(function(a) {
					d.insertPage(a)
				})
			}, d.hidePageTip = function() {
				x.get("create.showAddPageTip") || (x.push("create.showAddPageTip", !1), d.showAddPageTip = !1)
			}, d.hideEffTip = function() {
				x.get("create.showAddEffTip") || (x.push("create.showAddEffTip", !1), d.showAddEffTip = !1)
			}, d.hideHeartTip = function(a) {
				x.get(a) || (x.push(a, !1), d[a] = !1)
			}
		}
	}]).directive("changeColor", function() {
		return {
			link: function(a, b, c) {
				b.bind("click", function() {
					$(b).addClass("current")
				})
			}
		}
	}).directive("thumbTpl", ["sceneService", "ModalService", function(a, b) {
		return {
			scope: {
				myTpl: "="
			},
			replace: !1,
			template: '<div class="delete-element hint--bottom hint--rounded" ng-click="deleteMyTpl($event)" data-hint="删除此模板"><span class="eqf-scene-delete"></span></div>',
			link: function(c, d, e) {
				c.$emit("myPageList.delete", e.id, d), e.noDel && d.empty(), c.deleteMyTpl = function(f) {
					f.stopPropagation(), b.openConfirmDialog({
						msg: "确定删除此模板?"
					}, function() {
						a.deletePage(c.myTpl.id).then(function() {
							c.$emit("myPageList.update", e.id, d, c.myTpl.id)
						}, function(a) {
							alert("服务器异常!")
						})
					})
				}, $('<div class = "tmp-bg"></div>').appendTo(d), a.templateEditor.parse({
					def: c.myTpl,
					appendTo: d,
					mode: "view"
				});
				var f = $(".edit_area", d).height();
				486 != f ? $(".edit_area", d).css("transform", "scale(0.25) translateX(-480px) translateY(-" + (729 + 729 * (f / 486 - 1)) + "px)") : $(".edit_area", d).css("transform", "scale(0.25) translateX(-480px) translateY(-729px)")
			}
		}
	}]).directive("gridGuideSetting", ["gridGuide", function(a) {
		return {
			scope: !0,
			template: '<div class="grid-guide-setting"><div class="setting-group"><span>网格开关</span><div class="setting-choice"><switch-btn ng-model="config.gridState"></switch-btn></div></div><div class="setting-group" style="height:60px;"><span style="height:24px;">网格颜色</span><div class="color-contain"><input class="color-picker-input" ng-model="grid.color" type="text" /><a class="color-picker" ng-style="{backgroundColor: grid.color}" ng-model="grid.color" colorpicker="rgba" disable="{{gridGuideSetting.showFlag}}"></a></div></div><div class="setting-group"><span>智能参考</span><div class="setting-choice"><switch-btn ng-model="config.guideState"></switch-btn></div></div><div class="setting-group"><span>吸附效果</span><div class="setting-choice"><switch-btn ng-model="config.snapState"></switch-btn></div></div></div>',
			link: function(a, b) {
				function c() {
					a.$apply(function() {
						a.gridGuideSetting.showFlag = !1
					})
				}
				var d = $(document);
				b.on("$destroy", function() {
					d.unbind("click", c)
				}), d.click(c)
			},
			controller: ["$scope", function(b) {
				b.grid = a.grid, b.guide = a.guide, b.config = {
					gridState: b.grid.getVisable() || "enable",
					guideState: "false" == b.grid.getGuideState() ? "disable" : "enable",
					snapState: "false" == b.grid.getSnapState() ? "disable" : "enable"
				}, b.$watch("config.gridState", function(a) {
					"enable" === a ? (b.$parent.gridGuideSetting.isGridEnabled = !0, b.grid.show()) : "disable" === a && (b.$parent.gridGuideSetting.isGridEnabled = !1, b.grid.hide()), b.grid.setVisable(a)
				}), b.$watch("grid.color", function(a) {
					a && (b.grid.paint(), b.grid.setColor(a))
				}), b.$watch("config.guideState", function(a) {
					"enable" === a ? (b.guide.options.enabled = !0, b.grid.setGuideState(!0)) : "disable" === a && (b.guide.options.enabled = !1, b.grid.setGuideState(!1))
				}), b.$watch("config.snapState", function(a) {
					"enable" === a ? (b.guide.options.snap = !0, b.grid.setSnapState(!0)) : "disable" === a && (b.guide.options.snap = !1, b.grid.setSnapState(!1))
				})
			}]
		}
	}]).directive("converToImage", ["selectService", function(a) {
		function b(a, b, c) {
			b.mousedown(function(a) {
				$(".content").trigger("mousedown")
			})
		}
		return {
			restrict: "EA",
			link: b
		}
	}]).directive("switchBtn", [function() {
		return {
			require: "ngModel",
			restrict: "AE",
			template: '<div class="switch" ng-click="switch()"><div class="circle-con"><i class="circle"></i></div></div>',
			link: function(a, b, c, d) {
				var e = b.find(".switch");
				d.$render = function() {
					e.toggleClass("switch-open", angular.equals(d.$modelValue, "enable")), e.toggleClass("switch-close", angular.equals(d.$modelValue, "disable"))
				}, e.bind("click", function() {
					var b = e.hasClass("switch-open");
					a.$apply(function() {
						d.$setViewValue(b ? "disable" : "enable"), d.$render()
					})
				})
			}
		}
	}]).directive("pageTplColor", [function() {
		return {
			require: "ngModel",
			restrict: "AE",
			template: '<em value="1" style="background-color:#ff5448"></em><em value="2" style="background-color:#f2a653"></em><em value="3" style="background-color:#f9ce49"></em><em value=4"" style="background-color:#44cb83"></em><em value="5" style="background-color:#56c6ff"></em><em value="6" style="background-color:#08a1ef"></em><em value="7" style="background-color:#7171ef"></em><em value="8" style="background-color:#cc62c7"></em><em value="9" style="background-color:#7c4611"></em><em value="10" style="background-color:#000000"></em><em value="124" style="border:1px solid #ccd5db;color:#000000;"></em><em style="position:relative;"><em style="background-color:#ff5448;top:0;left:0;"></em><em style="background-color:#f2a653;top:0;left:9px;"></em><em style="background-color:#08a1ef;top:9px;left:0;"></em><em style="background-color:#44cb83;top:9px;left:9px;"></em></em>',
			link: function(a, b, c, d) {
				function e() {
					f.unbind("click", e), a.$apply(function() {
						a.pageTpl.showColorPanel = !1
					})
				}
				for (var f = $(document), g = b.find("> em"), h = 0; h < g.length; h++) a.pageTpl.color == $(g[h]).attr("value") && $(g[h]).addClass("eqf-yes2");
				b.on("$destroy", function() {
					f.unbind("click", e), g.unbind("click")
				}), f.click(e), g.bind("click", function() {
					e(), d.$setViewValue($(this).attr("value")), "124" == $(this).attr("value") ? $(".select-color .tpl-color").css("border", "1px solid #ccd5db") : $(".select-color .tpl-color").css("border", "none"), $(".select-color .tpl-color").css("background-color", $(this).css("background-color"))
				})
			}
		}
	}]).directive("loadErr", [function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				b.bind("error", function() {
					c.$set("src", "assets/images/create/pic.svg"), b.addClass("load-err")
				})
			}
		}
	}]).directive("closePanel", [function() {
		return {
			scope: {
				pause: "@",
				model: "@"
			},
			restrict: "A",
			templateUrl: "",
			link: function(a, b, c, d) {
				function e(b) {
					"false" == a.pause && b.stopPropagation()
				}
				function f(b) {
					a.$apply(function() {
						a.$eval("$parent." + a.model + "=false")
					})
				}
				var g = $(document);
				b.click(e), g.click(f), b.on("$destroy", function() {
					g.unbind("click", f), b.unbind("click")
				})
			}
		}
	}]).directive("pageScroll", ["sceneService", function(a) {
		return {
			scope: {
				pageH: "@"
			},
			restrict: "A",
			link: function(b, c, d, e) {
				var f = c.height(),
					g = f / 2 - 260;
				c.on("mousewheel", function(d) {
					if (1 != b.pageH) {
						var e = this.scrollTop + d.originalEvent.deltaY,
							h = 486 * b.pageH - f + g;
						0 >= e && (e = 0), e > h && (e >= h + g / 2 + 100 && d.preventDefault(), e = this.scrollTop), c.find(".history").css("top", e), a.comPosition = {
							top: e
						}
					}
				}), b.$on("scene.bg.replace", function() {
					1 != b.pageH && b.pageH
				}), b.$on("refreshPageBg", function() {
					1 != b.pageH && b.pageH
				}), b.$watch("pageH", function(a, b) {
					a != b && (c.find(".history").css("top", 0), c.scrollTop(0))
				})
			}
		}
	}]).controller("PageNewCtrl", ["$scope", function(a) {
		a.newPageLength = 2, a.pageLengths = [{
			name: "2页",
			value: 2
		}, {
			name: "3页",
			value: 3
		}, {
			name: "4页",
			value: 4
		}, {
			name: "5页",
			value: 5
		}], a.cancel = function() {
			a.$dismiss()
		}, a.create = function() {
			a.$close(a.newPageLength)
		}, a.changePageLength = function(b) {
			a.newPageLength = b
		}
	}]), angular.module("scene.create.new", ["services.scene", "services.staticRes"]), angular.module("scene.create.new").controller("SceneNewCtrl", ["$scope", "$rootScope", "$location", "sceneService", "items", "ModalService", "staticResService", "dataCacheService", "groupCom", function(a, b, c, d, e, f, g, h, i) {
		if (a.scene = {
			name: ""
		}, a.scene.types = g.getSceneType(), e) {
			var j = !0;
			angular.forEach(a.scene.types, function(b, c) {
				if (j) {
					var d = "" + e.type;
					b.value === d ? (a.scene.type = b, j = !1) : a.scene.type = a.scene.types[0]
				}
			})
		} else a.scene.type = a.scene.types[0];
		a.create = function() {
			if (e) {
				var g = {};
				g = i ? {
					id: e.id,
					type: a.scene.type.value,
					pageMode: a.scene.pageMode.id,
					price: e.price,
					groupCom: i
				} : {
					id: e.id,
					type: a.scene.type.value,
					pageMode: a.scene.pageMode.id,
					price: e.price
				}, d.createByTpl(g).then(function(a) {
					200 == a.data.code ? (b.$broadcast("userXd"), h.clear("sceneList"), c.path("scene/create/" + a.data.obj), c.search("pageId", 1)) : f.openMsgDialog({
						msg: a.data.msg
					})
				}, function(a) {})
			} else d.createBlankScene(null, a.scene.type.value, a.scene.pageMode.id).then(function(a) {
				h.clear("sceneList"), c.path("scene/create/" + a.data.obj), c.search("pageId", 1)
			});
			a.$close()
		}, a.cancel = function() {
			a.$dismiss()
		}, a.pagemodes = [{
			id: 2,
			name: "上下翻页"
		}, {
			id: 1,
			name: "左右翻页"
		}], a.scene.pageMode = a.pagemodes[0]
	}]), function() {
		angular.module("create.userGuide", []).controller("CreateUserGuideCtrl", ["$rootScope", "$scope", function(a, b) {
			if (window.localStorage) {
				var c = JSON.parse(localStorage.getItem("createUserGuide"));
				c && c[a.user.id] ? b.firstLogin = !1 : (b.firstLogin = !0, c = c || {}, c[a.user.id] = 1, localStorage.setItem("createUserGuide", JSON.stringify(c)))
			}
			b.myInterval = -1, b.userGuideSlides = [{
				image: CLIENT_CDN + "assets/images/scene/user-guide1.png"
			}, {
				image: CLIENT_CDN + "assets/images/scene/user-guide2.png"
			}, {
				image: CLIENT_CDN + "assets/images/scene/user-guide3.png"
			}, {
				image: CLIENT_CDN + "assets/images/scene/user-guide4.png"
			}, {
				image: CLIENT_CDN + "assets/images/scene/user-guide5.png"
			}, {
				image: CLIENT_CDN + "assets/images/scene/user-guide6.png"
			}], b.close = function() {
				b.firstLogin = !1
			}, b.currentIndex = 0;
			var d = b.$watch("userGuideSlides", function() {
				angular.forEach(b.userGuideSlides, function(a, c) {
					a.active && (b.currentIndex = c)
				})
			}, !0);
			b.$on("$destroy", d)
		}])
	}(), angular.module("scene.edit.bg", ["services.scene", "services.history"]), angular.module("scene.edit.bg").controller("editBgCtrl", ["$scope", "$rootScope", "sceneService", "historyService", function(a, b, c, d) {
		a.cropBg = function(e) {
			a.$broadcast("hide.editbg.panel");
			var f = {
				type: 3,
				properties: {
					src: e.properties.imgSrc,
					pageLength: a.pageLength
				}
			};
			c.openCropModal(f, function(c) {
				1 != a.pageLength && (e.properties.pageLength = a.pageLength, e.properties.croptype = c.type), b.$broadcast("scene.bg.replace", {
					type: "imgSrc",
					src: c.src
				}, e), e.properties.imgSrc = c.src, d.addPageHistory(e.pageId, a.tpl.obj.elements)
			}, function() {})
		}, a.scaleUpBg = function(a) {
			a || (a = {}), a.effect = {
				type: "scaleUp",
				duration: 1,
				blurSize: 5
			}
		}, a.scaleDownBg = function(a) {
			a || (a = {}), a.effect = {
				type: "scaleDown",
				duration: 1,
				blurSize: 5
			}
		}, a.blurBg = function(a) {
			a || (a = {}), a.effect = {
				type: "blur",
				duration: 1,
				blurSize: 5
			}
		}, a.sharpBg = function(a) {
			a || (a = {}), a.effect = {
				type: "sharp",
				duration: 1,
				sharpSize: 5
			}
		}, a.removeBgEffect = function(b) {
			a.currentBgDef.effect = null
		}, a.$on("hideBgOption", function() {
			a.showBgOptionPanel = !1
		}), a.switchBgOption = function(b) {
			a.showBgOptionPanel = b
		}
	}]), function() {
		function a(a, b, c, d, e, f, g, h) {
			function i(a, c) {
				function f() {
					k(m)
				}
				a.$on("element.delete", function() {
					m = e.getElements();
					for (var a = 0, b = m.length; b > a; a++) {
						var c = $("#nr").find("#inside_" + m[a]).attr("ctype");
						if ("5" == c.charAt(0) || "a" == c || "r" == c || "c" == c) return void g.openConfirmDialog({
							msg: "将删除已收集的数据",
							confirmName: "确定",
							cancelName: "取消"
						}, f)
					}
					k(m)
				}), a.$on("element.selectall", function() {
					l()
				}), a.$on("scene.bg.replace", function(c, d, e) {
					var f = $("#nr .edit_area").parent();
					a.currentBgDef = e;
					var g = $(".wrapper-background").get(0),
						h = "100%";
					if ((2 == e.properties.croptype || "backgroundColor" == d.type && 1 == e.properties.croptype) && (h = 486 * a.pageLength + "px"), g || (g = document.createElement("div"), $(g).prependTo(f).addClass("wrapper-background").css({
						position: "absolute",
						width: "100%",
						height: h,
						backgroundSize: "cover",
						backgroundPosition: "50% 50%"
					}).attr("id", e.id)), "imgSrc" == d.type) {
						var i = d.src;
						g.style.backgroundImage = "url(" + PREFIX_FILE_HOST + i + ")", e.properties.bgColor = null, e.properties.imgSrc = i, e.properties.id = d.id, b.$broadcast("show.edit.bg", i), 2 == e.properties.croptype ? $(g).css({
							backgroundSize: "cover",
							backgroundPosition: "50% 50%",
							height: h
						}) : $(g).css({
							backgroundSize: "cover",
							backgroundPosition: "50% 50%",
							height: "100%"
						}), $(g).parent().css("overflow", "hidden")
					} else "backgroundColor" == d.type && (g.style.backgroundImage = "none", g.style.backgroundColor = d.color, e.properties.imgSrc = null, e.properties.bgColor = d.color, $(g).css("height", h), b.$broadcast("show.edit.bg"), $(g).parent().css("overflow", "visible"))
				}), a.$on("remove.scene.bg", function(b) {
					$(".wrapper-background").css({
						backgroundColor: "transparent",
						backgroundImage: "none"
					}).removeAttr("id"), a.controlView.showBgTag = !1
				}), a.$on("delete.random.elem", function(a, b) {
					"n" == n[b].type && ($("#nr").find("#inside_" + b).remove(), d.deleteElement(b))
				}), a.$on("convert.html.canvas", function(a, b, c) {}), a.$on("select.less.id", function(b, c) {
					n[c] && j(a, n[c], $("#nr #" + c).get(0))
				}), a.$on("select.less", function(b, c) {
					c && c.length && $.each(c, function(b, c) {
						n[c] && j(a, n[c], $("#nr #" + c).get(0))
					})
				})
			}
			function j(b, c, d) {
				if ("x" == c.type) {
					var e = a.defer();
					b.completeHtml2Canvas = e.promise;
					var f = $(d).closest("li").clone();
					f.appendTo("#nr .edit_area").css({
						position: "absolute",
						zIndex: 2,
						opacity: 0,
						transform: ""
					});
					var g = 518 == $(".box").height() ? $(document).height() : $(".workspace").height() / 2 - 260 + 50 + $(".box").height() + 50;
					setTimeout(function() {
						var a = f.find(".element-box").get(0),
							d = f.width(),
							h = f.height();
						$(a).attr("style", "").css({
							color: c.css.color,
							width: d + "px",
							height: h + "px"
						}), f.css({
							transform: ""
						}), html2canvas(a, {
							width: d,
							height: h,
							innerHeight: g,
							onrendered: function(a) {
								f.remove();
								var d = a.toDataURL();
								c.properties.dataUrl = d, e.resolve(), b.completeHtml2Canvas = null
							}
						})
					}, 0)
				}
			}
			function k(a) {
				var c = d.getSceneObj(),
					g = d.getElementsMap();
				utilTrigger.getHandleType();
				f.addPageHistory(c.obj.id, c.obj.elements), $.each(a, function(a, b) {
					h.resetTrigger(parseInt(b, 10)), $("#nr").find("#inside_" + b).remove(), d.deleteElement(b)
				}), $.each(g, function(a, b) {
					h.clearTrigger(a);
					var c = h.getTrigger(a);
					c ? b.trigger = c : delete b.trigger
				}), f.addPageHistory(c.obj.id, c.obj.elements), e.clearElements(), b.$broadcast("hideStylePanel"), b.$broadcast("boxOuter"), $("#popMenu").hide()
			}
			function l() {
				e.clearElements();
				var a = $("#nr").find("ul").find("li");
				a.children(".bar").show(), a.each(function(a, b) {
					e.addElement($(b).attr("id").split("_")[1])
				})
			}
			var m, n = d.getElementsMap();
			return {
				restrict: "EA",
				link: i
			}
		}
		angular.module("scene.edit.common", ["services.scene", "services.select", "services.history"]).directive("editCommon", ["$q", "$rootScope", "$location", "sceneService", "selectService", "historyService", "ModalService", "triggerService", a])
	}(), function() {
		function a(a, b, c, d) {
			function e(c, e, f, g) {
				var h = $(document);
				c.$on("$destroy", function() {
					h.unbind("keydown")
				});
				var i, j = {
					deltaX: 0,
					deltaY: 0
				};
				h.unbind("keydown").keydown(function(e) {
					if (8 == e.keyCode || 46 == e.keyCode) {
						if ($(".modal-dialog").length || $("#pageList").find("input").is(":focus")) return;
						d.getElements().length && (e.preventDefault(), a.$broadcast("element.delete"))
					}
					if ((37 == e.keyCode || 38 == e.keyCode || 39 == e.keyCode || 40 == e.keyCode) && (d.getElements().length && e.preventDefault(), i || (i = !0, g.compDragStart(j)), 37 == e.keyCode && (j.deltaX -= 1, g.compDragMove(j)), 38 == e.keyCode && (j.deltaY -= 1, g.compDragMove(j)), 39 == e.keyCode && (j.deltaX += 1, g.compDragMove(j)), 40 == e.keyCode && (j.deltaY += 1, g.compDragMove(j))), (e.ctrlKey || e.metaKey) && 65 == e.keyCode) {
						if ($(".modal-dialog").length) return;
						if (e.preventDefault(), i) return;
						i = !0, a.$broadcast("element.selectall")
					}
					if ((e.ctrlKey || e.metaKey) && 90 == e.keyCode && b.historyBack(), (e.ctrlKey || e.metaKey) && 89 == e.keyCode && b.historyForward(), (e.ctrlKey || e.metaKey) && 67 == e.keyCode) {
						if ($(".modal-dialog").length) return;
						b.copyElement()
					}
					if ((e.ctrlKey || e.metaKey) && 86 == e.keyCode) {
						if ($(".modal-dialog").length) return;
						b.getCopy() && b.pasteElement()
					}
					c.$apply()
				}).unbind("keyup").keyup(function(a) {
					i = !1, (j.deltaX || j.deltaY) && g.compDragEnd(j), j.deltaX = 0, j.deltaY = 0, c.$apply()
				})
			}
			return {
				restrict: "A",
				link: e,
				require: "^multiCompDrag"
			}
		}
		angular.module("scene.edit.keymap", ["services.scene", "services.history", "services.select"]).directive("editKeymap", ["$rootScope", "sceneService", "historyService", "selectService", a])
	}(), angular.module("scene.edit.select", ["services.history", "services.scene"]).controller("selectCtrl", ["$scope", function(a) {
		a.pasteOpacity = .3, a.$on("select.more", function() {
			a.safeApply(function() {
				a.showSelectPanel = !0
			})
		}), a.$on("select.less", function() {
			a.safeApply(function() {
				a.showSelectPanel = !1
			})
		}), a.$on("copyState.update", function(b, c) {
			a.safeApply(function() {
				a.pasteOpacity = c ? 1 : .3
			})
		})
	}]).directive("eqxAlignLeft", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointA.x;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointA.x;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top,
								left: c.startPosition.left + d
							};
							c.element.css("left", e.left), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxAlignHorizontalCenter", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointO.x;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointO.x;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top,
								left: c.startPosition.left + d
							};
							c.element.css("left", e.left), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxAlignRight", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointB.x;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointB.x;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top,
								left: c.startPosition.left + d
							};
							c.element.css("left", e.left), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxAlignTop", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointA.y;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointA.y;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top + d,
								left: c.startPosition.left
							};
							c.element.css("top", e.top), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxAlignVerticalCenter", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointO.y;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointO.y;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top + d,
								left: c.startPosition.left
							};
							c.element.css("top", e.top), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxAlignBottom", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return {
			link: function(a, f) {
				f.click(function() {
					a.$apply(function() {
						e.initCollisionDetectorWithElements();
						var a = d.bigDetectionBoxPointB.y;
						angular.forEach(d.editArea.detectionBoxs, function(c) {
							var d = a - c.startPointB.y;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: c.startPosition.top + d,
								left: c.startPosition.left
							};
							c.element.css("top", e.top), b.updateCompPosition(c.element.attr("id"), e, !0)
						});
						var f = b.getSceneObj();
						c.addPageHistory(f.obj.id, f.obj.elements)
					})
				})
			}
		}
	}]).directive("eqxVerticalAverage", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return function(f, g) {
			g.click(function() {
				var g = a.getElements(),
					h = g.length;
				2 > h || f.$apply(function() {
					e.initCollisionDetectorWithElements();
					var a = d.editArea.detectionBoxs;
					a.sort(function(a, b) {
						return a.startPointO.y > b.startPointO.y
					});
					var f = a[0].startPointO.y,
						g = a[h - 1].startPointO.y,
						i = (g - f) / (h - 1);
					angular.forEach(a, function(a, c) {
						if (0 !== c && c != h) {
							var d = f + c * i - a.startPointO.y;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: a.startPosition.top + d,
								left: a.startPosition.left
							};
							a.element.css("top", e.top), b.updateCompPosition(a.element.attr("id"), e, !0)
						}
					});
					var j = b.getSceneObj();
					c.addPageHistory(j.obj.id, j.obj.elements)
				})
			})
		}
	}]).directive("eqxHorizontalAverage", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize", function(a, b, c, d, e) {
		return function(f, g) {
			g.click(function() {
				var g = a.getElements(),
					h = g.length;
				2 > h || f.$apply(function() {
					e.initCollisionDetectorWithElements();
					var a = d.editArea.detectionBoxs;
					a.sort(function(a, b) {
						return a.startPointO.x > b.startPointO.x
					});
					var f = a[0].startPointO.x,
						g = a[h - 1].startPointO.x,
						i = (g - f) / (h - 1);
					angular.forEach(a, function(a, c) {
						if (0 !== c && c != h) {
							var d = f + c * i - a.startPointO.x;
							d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
							var e = {
								top: a.startPosition.top,
								left: a.startPosition.left + d
							};
							a.element.css("left", e.left), b.updateCompPosition(a.element.attr("id"), e, !0)
						}
					});
					var j = b.getSceneObj();
					c.addPageHistory(j.obj.id, j.obj.elements)
				})
			})
		}
	}]).directive("eqxCopy", ["selectService", "sceneService", function(a, b) {
		return {
			link: function(a, c) {
				var d = $(c);
				d.click(function() {
					b.copyElement()
				})
			}
		}
	}]).directive("eqxPaste", ["sceneService", "historyService", function(a, b) {
		return {
			link: function(c, d) {
				var e = $(d);
				e.click(function() {
					if (a.getCopy()) {
						a.pasteElement();
						var d = a.getSceneObj();
						b.addPageHistory(d.obj.id, d.obj.elements), c.$apply()
					}
				})
			}
		}
	}]).directive("eqxDeleteMore", ["$rootScope", function(a) {
		return {
			link: function(b, c) {
				var d = $(c);
				d.click(function() {
					a.$broadcast("element.delete")
				})
			}
		}
	}]), angular.module("scene.edit.trigger", []).factory("triggerService", ["$rootScope", function(a) {
		function b(a, b, c, d, e) {
			var g = f(a, b, c, e).ids,
				h = g.indexOf(d);
			h >= 0 || g.push(d)
		}
		function c(a, b, c, d, e) {
			var g = m[c];
			if (g && g.sends.length) {
				var h = f(a, b, c, e).ids,
					i = h.indexOf(d);
				0 > i || h.splice(i, 1)
			}
		}
		function d(b, c, d, e) {
			var f = i(b, d, e).ids,
				g = f.indexOf(c);
			g >= 0 || (f.push(c), a.$broadcast("receive.element.update", b, c, d, e))
		}
		function e(b, c, d, e) {
			var f = i(b, d, e).ids,
				g = f.indexOf(c);
			0 > g || (f.splice(g, 1), a.$broadcast("receive.element.update", b, c, d, e))
		}
		function f(a, b, c, d) {
			var e = g(a, c, d).handles,
				f = j(e, b);
			if (f) return f;
			var h = {
				type: b,
				ids: []
			};
			return e.push(h), h
		}
		function g(a, b, c) {
			var d = h(b),
				e = d.sends,
				f = k(e, c);
			if (f) return f;
			var g = {
				sendIndex: c,
				delay: 0,
				type: a,
				handles: []
			};
			return e.push(g), g
		}
		function h(a) {
			return m[a] || (m[a] = {
				sends: [],
				receives: []
			}), m[a]
		}
		function i(a, b, c) {
			var d = h(b),
				e = d.receives,
				f = j(e, a);
			if (f) return f;
			var g = {
				type: a,
				ids: []
			};
			return e.push(g), g
		}
		function j(a, b) {
			for (var c = 0; c < a.length; c++) if (b == a[c].type) return a[c];
			return null
		}
		function k(a, b) {
			for (var c = 0; c < a.length; c++) if (b == a[c].sendIndex) return a[c];
			return null
		}
		var l = {},
			m = {};
		return l.getTrigger = function(a) {
			return m[a]
		}, l.getReceiveIds = function(a, b, c) {
			if ("number" != typeof a || "number" != typeof b || "number" != typeof c) return [];
			var d = f(a, b, c).ids;
			return angular.copy(d)
		}, l.getSendIds = function(a, b) {
			if ("number" != typeof a || "number" != typeof b) return [];
			var c = i(a, b).ids;
			return angular.copy(c)
		}, l.setTrigger = function(a, b) {
			"number" == typeof a && "object" == typeof b && (m[a] = b)
		}, l.addTrigger = function(a, c, e, f, h) {
			"number" == typeof a && "number" == typeof c && "number" == typeof e && "number" == typeof f && (m[e] && m[e].sends[h] || g(a, e, h), b(a, c, e, f, m[e].sends[h].sendIndex), d(c, e, f, h))
		}, l.deleteTrigger = function(a, b, d, f, g) {
			"number" == typeof a && "number" == typeof b && "number" == typeof d && "number" == typeof f && m[d] && m[d].sends[g] && (c(a, b, d, f, m[d].sends[g].sendIndex), e(b, d, f, g))
		}, l.clearTrigger = function(a) {
			var b = m[a];
			if (b) {
				for (var c = !1, d = !1, e = 0; e < b.sends.length; e++) {
					if ("number" == typeof b.sends[e].sendIndex) for (var f = 0; f < b.sends[e].handles.length; f++) if (b.sends[e].handles[f].ids.length) {
						c = !0;
						break
					}
					if (c) break
				}
				for (var g = 0; g < b.receives.length; g++) if (b.receives[g].ids.length) {
					d = !0;
					break
				}
				c || d || delete m[a]
			}
		}, l.resetTrigger = function(a) {
			if ("number" == typeof a) {
				var b = utilTrigger.getSendType(),
					c = utilTrigger.getHandleType();
				for (var d in b) for (var e in c) {
					var f = b[d].value,
						g = c[e].value,
						h = i(g, a).ids;
					h.length && $.each(h, function(b, c) {
						if (l.getTrigger(c)) {
							for (var d = l.getTrigger(c).sends, e = 0; e < d.length; e++)"undefined" == typeof d[e].sendIndex && d[e].hasOwnProperty("sendIndex") && (d.splice(e, 1), e--);
							var h = c;
							$.each(d, function(b, c) {
								var d = b;
								$.each(c.handles, function(b, c) {
									c.value;
									if (c.ids.length) {
										var i = c.ids;
										for (e = 0; e < i.length; e++) i[e] == a && l.deleteTrigger(f, g, h, a, d)
									}
								})
							})
						}
					});
					var j = l.getTrigger(a);
					if (j && j.sends && j.sends.length) for (var k = 0; k < j.sends.length; k++)"undefined" == typeof j.sends[k].sendIndex && triggerSends[k].hasOwnProperty("sendIndex") ? (j.sends.splice(k, 1), k--) : l.deleteTriggerBySendIndex(k, a)
				}
			}
		}, l.deleteTriggerBySendIndex = function(b, c) {
			var d = m[c];
			if (d && d.sends.length) {
				for (var e = 0; e < d.sends.length; e++)"undefined" == typeof d.sends[e].sendIndex && triggerSends[e].hasOwnProperty("sendIndex") && (d.sends.splice(e, 1), e--);
				var f = d.sends[b].type;
				$.each(d.sends[b].handles, function(d, e) {
					var g = e.type;
					if (e.ids.length) for (var h = 0; h < e.ids.length; h++) a.$broadcast("delete.random.elem", e.ids[h]), l.deleteTrigger(f, g, c, e.ids[h], b), h--
				}), d.sends.splice(b, 1)
			}
		}, l.getSend = g, l
	}]), angular.module("scene.create.pageTpl", []), angular.module("scene.create.pageTpl").controller("PageTplController", ["$scope", "pageTplService", function(a, b) {
		a.$watch("tpl", function(b) {
			if (a.tplElements = [], b && b.obj && b.obj.elements) {
				var c = angular.copy(b.obj.elements);
				$.each(c, function(b, c) {
					"4" == c.type && (c.isEditable || (c.isEditable = 1), a.tplElements.push(c))
				})
			}
		}, !0), a.pageChildLabel = function() {
			var c, d = [];
			for (c = 0; c < a.pageLabelAll.length; c++) a.pageLabelAll[c].ischecked && d.push(a.pageLabelAll[c].id);
			a.tpl.obj.elements && $.each(a.tplElements, function(b, c) {
				$.each(a.tpl.obj.elements, function(a, b) {
					c.id == b.id && (-1 == c.isEditable ? b.isEditable = -1 : delete b.isEditable)
				})
			}), b.updataChildLabel(d, a.pageIdTag).then(function() {
				alert("分配成功！"), a.controlView.pageList = !1
			}, function() {})
		}
	}]), angular.module("scene.pageeffect.fall", []), angular.module("scene.pageeffect.fall").controller("fallEffectCtrl", ["$scope", function(a) {
		var b = a.properties;
		a.fallings = [{
			name: "圣诞节",
			path: CLIENT_CDN + "assets/images/create/fallings/wazi.png",
			rotate: 180,
			vy: 4,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/christmas.png"
		}, {
			name: "礼物",
			path: CLIENT_CDN + "assets/images/create/fallings/gift.png",
			rotate: 180,
			vy: 4,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/gift_1.png"
		}, {
			name: "春节",
			path: CLIENT_CDN + "assets/images/create/fallings/denglongcj.png",
			rotate: 60,
			vy: 1,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/lantern.png"
		}, {
			name: "福字",
			path: CLIENT_CDN + "assets/images/create/fallings/fuzi1.png",
			rotate: 180,
			vy: 3,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/blessing.png"
		}, {
			name: "红包",
			path: CLIENT_CDN + "assets/images/create/fallings/hongbao2.png",
			rotate: 180,
			vy: 3,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/red_packet.png"
		}, {
			name: "绿枫叶",
			path: CLIENT_CDN + "assets/images/create/fallings/lvfengye.png",
			rotate: 180,
			vy: 3,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/greenery.png"
		}, {
			name: "星星",
			path: CLIENT_CDN + "assets/images/create/fallings/xing.png",
			rotate: 180,
			vy: 3,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/star.png"
		}, {
			name: "雪花",
			path: CLIENT_CDN + "assets/images/create/fallings/snow.png",
			rotate: 0,
			vy: 1,
			bgpath: CLIENT_CDN + "assets/images/create/fallings/snow_1.png"
		}], b && b.fallingObject ? (a.controlView.effectType = "fallingObject", a.falling = b.fallingObject, angular.forEach(a.fallings, function(b, c) {
			b.path == a.falling.src.path && (a.falling.src = b)
		})) : a.falling = {
			src: a.fallings[0],
			density: 2
		}, a.$on("save.falling.effect", function() {
			b = {}, b.fallingObject = a.falling, angular.forEach(a.fallings, function(a, b) {
				a.bgpath && delete a.bgpath
			}), a.$close({
				properties: b,
				name: "落物",
				value: "fallingObject"
			})
		})
	}]), angular.module("scene.pageeffect.finger", []), angular.module("scene.pageeffect.finger").controller("fingerEffectCtrl", ["$scope", function(a) {
		var b, c = a.properties;
		a.fingerZws = [{
			name: "粉色指纹",
			path: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
		}, {
			name: "白色指纹",
			path: CLIENT_CDN + "assets/images/create/fingers/zhiwen2.png"
		}, {
			name: "蓝色指纹",
			path: CLIENT_CDN + "assets/images/create/fingers/zhiwen3.png"
		}], a.fingerBackgrounds = [{
			name: "粉红回忆",
			path: CLIENT_CDN + "assets/images/create/fingers/bg1.jpg"
		}, {
			name: "深蓝花纹",
			path: CLIENT_CDN + "assets/images/create/fingers/bg2.jpg"
		}, {
			name: "淡绿清新",
			path: CLIENT_CDN + "assets/images/create/fingers/bg3.jpg"
		}, {
			name: "深紫典雅",
			path: CLIENT_CDN + "assets/images/create/fingers/bg4.jpg"
		}, {
			name: "淡紫水滴",
			path: CLIENT_CDN + "assets/images/create/fingers/bg5.jpg"
		}, {
			name: "蓝白晶格",
			path: CLIENT_CDN + "assets/images/create/fingers/bg6.jpg"
		}, {
			name: "蓝色水滴",
			path: CLIENT_CDN + "assets/images/create/fingers/bg7.jpg"
		}, {
			name: "朦胧绿光",
			path: CLIENT_CDN + "assets/images/create/fingers/bg8.jpg"
		}, {
			name: "灰色金属",
			path: CLIENT_CDN + "assets/images/create/fingers/bg9.jpg"
		}], c && c.finger ? (a.controlView.effectType = "finger", a.finger = c.finger, angular.forEach(a.fingerZws, function(b, c) {
			b.path == a.finger.zwImage.path && (a.finger.zwImage = b)
		}), angular.forEach(a.fingerBackgrounds, function(b, c) {
			b.path == a.finger.bgImage.path && (a.finger.bgImage = b)
		})) : a.finger = {
			zwImage: a.fingerZws[0],
			bgImage: a.fingerBackgrounds[0]
		}, b = angular.copy(a.finger.bgImage), a.replaceImg = function(c) {
			return c.bgImage ? void(b = angular.copy(a.finger.bgImage)) : void a.$emit("select.effect.image", "finger")
		}, a.$on("replace.effect.image", function(c, d, e) {
			"finger" == e && (a.finger.bgImage || (a.finger.bgImage = {}), a.finger.bgImage.path = PREFIX_FILE_HOST + d.data, a.fingerBackgrounds[0].name || a.fingerBackgrounds.shift(), a.fingerBackgrounds.unshift(a.finger.bgImage), b = angular.copy(a.finger.bgImage))
		}), a.$on("cancel.effect.replace", function(c, d) {
			"finger" == d && angular.forEach(a.fingerBackgrounds, function(c, d) {
				b.name ? b.name == c.name && (a.finger.bgImage = c) : c.name || (a.finger.bgImage = c)
			})
		}), a.$on("save.finger.effect", function() {
			c = {}, c.finger = a.finger, a.$close({
				properties: c,
				name: "指纹",
				value: "finger"
			})
		})
	}]).directive("fingerMove", function() {
		function a(a, b, c) {
			b.css({
				animation: "move 2s ease 0",
				"animation-iteration-count": "infinite"
			})
		}
		return {
			restrict: "EA",
			link: a
		}
	}), angular.module("scene.pageeffect.fireworks", []), angular.module("scene.pageeffect.fireworks").controller("fireWorksCtrl", ["$scope", function(a) {
		var b = a.properties;
		b && b.effect && "fireWorks" == b.effect.name && (a.controlView.effectType = "fireWorks", a.controlView.effectIndex = 5), a.$on("save.fireworks.effect", function() {
			b = {}, b.effect = {
				name: "fireWorks"
			}, a.$close({
				properties: b,
				name: "烟花",
				value: "effect"
			})
		})
	}]), angular.module("common.directives.inputNumber", []).directive("eqdInputNumber", function() {
		function a(a, j, k, l) {
			j.on("$destroy", function() {
				j.unbind("mousedown")
			});
			var m = "string" == typeof k.min ? k.min : -Number.MAX_VALUE,
				n = "string" == typeof k.max ? k.max : Number.MAX_VALUE,
				o = "string" == typeof k.unit ? k.unit : "px",
				p = "string" == typeof k.step ? k.step : "1",
				q = 0;
			p.indexOf(".") > -1 && (q = p.split(".")[1].length), "px" == o ? (l.$parsers.push(b), l.$formatters.push(c)) : "deg" == o ? (o = "", l.$parsers.push(d), l.$formatters.push(e)) : "%" == o ? (l.$parsers.push(f), l.$formatters.push(g)) : l.$parsers.push(h), j.mousedown(function(b) {
				function c(b) {
					b.preventDefault(), e = b.pageX - g;
					var c = +(f + e * p).toFixed(q);
					c >= m && n >= c ? c += o : m > c ? c = m + o : c > n && (c = n + o), l.$viewValue != c && (l.$setViewValue(c), l.$render(), a.$apply())
				}
				function d() {
					i.unbind("mousemove", c), i.unbind("mouseup", d)
				}
				var e, f = parseFloat(j.val()) || 0,
					g = b.pageX;
				i.mousemove(c), i.mouseup(d)
			}).keydown(function(a) {
				var b = a.keyCode;
				return !!(b >= 48 && 57 >= b || b >= 96 && 105 >= b || 36 == b || 35 == b || 37 == b || 39 == b || 8 == b || 46 == b)
			})
		}
		function b(a) {
			return a = /-?\d+/.exec(a), a ? parseFloat(a) + "px" : "0"
		}
		function c(a) {
			return /-?\d+/.exec(a) + "px"
		}
		function d(a) {
			return a = /\d+/.exec(a), a ? "rotateZ(" + parseFloat(a) + "deg)" : "rotateZ(0)"
		}
		function e(a) {
			return /\d+/.exec(a)
		}
		function f(a) {
			return a = /\d+/.exec(a), a ? a / 100 + "" : "0"
		}
		function g(a) {
			return 100 * a + "%"
		}
		function h(a) {
			return "" === a && (a = "0"), parseFloat(a) + ""
		}
		var i = $(document);
		return {
			restrict: "E",
			require: "ngModel",
			template: '<input class="eqc-input-number"/>',
			replace: !0,
			link: a
		}
	}), angular.module("scene.pageeffect.money", []), angular.module("scene.pageeffect.money").controller("moneyEffectCtrl", ["$scope", function(a) {
		var b = a.properties;
		b && b.effect && "money" == b.effect.name ? (a.controlView.effectType = "money", a.money = {
			tip: b.effect.tip
		}) : a.money = {
			tip: "握紧钱币，数到手抽筋吧"
		}, a.checkCharLength = function() {
			return a.tipError = "", countCharacters(a.money.tip) > 28 ? (a.tipError = "提示文字不能超过14个中文或28个英文字母", !1) : !0
		}, a.$on("save.money.effect", function() {
			a.checkCharLength() && (b = {}, b.effect = {
				name: "money",
				tip: a.money.tip
			}, a.$close({
				properties: b,
				name: "数钱",
				value: "effect"
			}))
		})
	}]), angular.module("scene.pageeffect.none", []), angular.module("scene.pageeffect.none").controller("noneEffectCtrl", ["$scope", function(a) {
		var b = a.properties;
		b && b.effect && "none" == b.effect.name && (a.controlView.effectType = "none"), a.$on("save.none.effect", function() {
			b = {}, b.effect = {
				name: "none"
			}, a.$close({
				name: "无"
			})
		})
	}]), angular.module("scene.pageeffect.console", ["scene.pageeffect.scratch", "scene.pageeffect.finger", "scene.pageeffect.money", "scene.pageeffect.fall", "scene.pageeffect.snow", "scene.pageeffect.fireworks", "scene.pageeffect.none"]), angular.module("scene.pageeffect.console").controller("pageEffectCtrl", ["$scope", "$rootScope", "$modal", "properties", "sceneService", "storageService", function(a, b, c, d, e, f) {
		a.properties = d, a.controlView = {}, a.effectList = [{
			type: "scratch",
			name: "涂抹",
			src: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
		}, {
			type: "finger",
			name: "指纹",
			src: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
		}, {
			type: "money",
			name: "数钱",
			src: CLIENT_CDN + "assets/images/create/money_thumb1.jpg"
		}, {
			type: "fallingObject",
			name: "环境",
			src: CLIENT_CDN + "assets/images/create/falling.png"
		}, {
			type: "snowFly",
			name: "飘雪",
			src: CLIENT_CDN + "assets/images/create/snowfly.png"
		}, {
			type: "fireWorks",
			name: "烟花",
			src: CLIENT_CDN + "assets/images/create/fireworks.jpg"
		}, {
			type: "none",
			name: "无",
			src: ""
		}], d && (!d || d.scratch || d.finger || d.fallingObject || d.effect) || (d = {}, a.controlView.effectType = "scratch", a.controlView.effectIndex = 0), f.get("create.showAddEffTip") || (f.push("create.showAddEffTip", !1), a.controlView.effectType = "fallingObject", a.controlView.effectIndex = 3), a.selectEffect = function(b, c) {
			a.controlView.effectType = b.type, a.controlView.effectIndex = c
		}, a.confirm = function() {
			"scratch" == a.controlView.effectType ? a.$broadcast("save.scratch.effect") : "finger" == a.controlView.effectType ? a.$broadcast("save.finger.effect") : "money" == a.controlView.effectType ? a.$broadcast("save.money.effect") : "fallingObject" == a.controlView.effectType ? a.$broadcast("save.falling.effect") : "snowFly" == a.controlView.effectType ? a.$broadcast("save.snow.effect") : "fireWorks" == a.controlView.effectType ? a.$broadcast("save.fireworks.effect") : "none" == a.controlView.effectType && a.$broadcast("save.none.effect")
		}, a.$on("select.effect.image", function(a, d) {
			c.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 0
						}
					}
				}
			}).result.then(function(a) {
				var c = {
					type: 3,
					properties: {
						src: a.data
					}
				};
				a.height / a.width >= 1008 / 642 && a.height / a.width <= 1.578125 ? b.$broadcast("replace.effect.image", a, d) : e.openCropModal(c, function(a) {
					var c = {
						data: a.src
					};
					b.$broadcast("replace.effect.image", c, d)
				}, function() {
					b.$broadcast("cancel.effect.replace", d)
				})
			}, function(a) {
				b.$broadcast("cancel.effect.replace", d)
			})
		}), a.cancel = function() {
			b.$broadcast("clear.scratch.interval"), a.$dismiss()
		}
	}]), angular.module("scene.pageeffect.scratch", ["common.directives.inputNumber"]), angular.module("scene.pageeffect.scratch").controller("scratchEffectCtrl", ["$scope", "$rootScope", "i18nNotifications", function(a, b, c) {
		var d, e = a.properties;
		a.scratches = [{
			name: "水滴",
			path: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
		}, {
			name: "细沙",
			path: CLIENT_CDN + "assets/images/create/sand.jpg"
		}, {
			name: "花瓣",
			path: CLIENT_CDN + "assets/images/create/flowers.jpg"
		}, {
			name: "金沙",
			path: CLIENT_CDN + "assets/images/create/goldsand.jpg"
		}, {
			name: "白雪",
			path: CLIENT_CDN + "assets/images/create/snowground.jpg"
		}, {
			name: "模糊",
			path: CLIENT_CDN + "assets/images/create/mohu.jpg"
		}, {
			name: "落叶",
			path: CLIENT_CDN + "assets/images/create/leaves.jpg"
		}, {
			name: "薄雾",
			path: CLIENT_CDN + "assets/images/create/smoke.png"
		}], e && (e.image || e.scratch) ? (a.controlView.effectType = "scratch", (e.image || e.scratch) && (e.scratch ? (a.scratch = e.scratch, e.scratch.percentage.value && (a.scratch.percentage = e.scratch.percentage.value), e.scratch.opacity || (a.scratch.opacity = .2)) : e.image && (a.scratch = {
			image: e.image,
			percentage: e.percentage.value
		}, e.tip && (a.scratch.tip = e.tip), a.scratch.opacity = .2), angular.forEach(a.scratches, function(b, c) {
			a.scratch.image.name == b.name && (a.scratch.image = b)
		}), a.scratch.image.name || a.scratches.unshift(a.scratch.image))) : a.scratch = {
			image: a.scratches[0],
			percentage: .15,
			opacity: .2
		};
		var f = a.$watch("scratch.opacity", function(c, d) {
			b.$broadcast("show.scratch.draw", a.scratch)
		}, !0);
		setTimeout(function() {
			d = angular.copy(a.scratch.image), b.$broadcast("show.scratch.draw", a.scratch, !1)
		}, 0), a.$on("$destroy", function() {
			f()
		}), a.replaceImage = function(c) {
			return c.image ? (d = angular.copy(a.scratch.image), void b.$broadcast("show.scratch.draw", c, !1)) : void a.$emit("select.effect.image", "scratch")
		}, a.$on("replace.effect.image", function(c, e, f) {
			"scratch" == f && (a.scratch.image || (a.scratch.image = {}), a.scratch.image.path = PREFIX_FILE_HOST + e.data, a.scratches[0].name || a.scratches.shift(), a.scratches.unshift(a.scratch.image), d = angular.copy(a.scratch.image), b.$broadcast("show.scratch.draw", a.scratch, !1))
		}), a.$on("cancel.effect.replace", function(b, c) {
			"scratch" == c && angular.forEach(a.scratches, function(b, c) {
				d.name ? d.name == b.name && (a.scratch.image = b) : b.name || (a.scratch.image = b)
			})
		}), a.$on("save.scratch.effect", function() {
			return e = {}, e.scratch = a.scratch, e.scratch.percentage > 1 ? void c.pushForCurrentRoute("scratch.percentage.overflow", "notify.success") : (b.$broadcast("clear.scratch.interval"), void a.$close({
				properties: e,
				name: "涂抹",
				value: "scratch"
			}))
		})
	}]).directive("scratchEffect", function() {
		function a(a, d, e) {
			var f = new Image;
			a.$on("show.scratch.draw", function(a, c, d) {
				f.onload = function() {
					b(this, c)
				}, f.src = c.image.path
			}), a.$on("change.scratch.opacity", function(a, b) {
				$(".scratch-img").css({
					opacity: 1 - parseFloat(b).toFixed(2)
				})
			}), a.$on("clear.scratch.interval", function(a) {
				clearInterval(c)
			})
		}
		function b(a, f) {
			c && clearInterval(c);
			var g = '<canvas class="scratchCanvas" style="position:absolute; top: 0; left: 0;" width="196" height="308"></canvas>',
				h = $(".scratch-img");
			if (h.empty(), h.append(g), d = h.find("canvas").get(0)) {
				e = d.getContext("2d"), e.lineCap = "round", e.lineJoin = "round", e.lineWidth = 20, e.globalAlpha = 1 - parseFloat(f.opacity).toFixed(2), e.drawImage(a, 0, 0, d.width, d.height), e.globalCompositeOperation = "destination-out";
				var i = 130,
					j = 80;
				c = setInterval(function() {
					e.moveTo(i, j), i >= 70 && 140 >= j ? (e.lineTo(i - 2, j + 2), e.stroke(), i -= 2, j += 2) : 120 >= i && 165 >= j ? (e.lineTo(i + 2, j + 1), e.stroke(), i += 2, j += 1) : i >= 70 && 215 >= j ? (e.lineTo(i - 2, j + 2), e.stroke(), i -= 2, j += 2) : (clearInterval(c), b(a, f))
				}, 50)
			}
		}
		var c, d, e;
		return {
			restrict: "EA",
			link: a
		}
	}), angular.module("scene.pageeffect.snow", []), angular.module("scene.pageeffect.snow").controller("snowEffectCtrl", ["$scope", function(a) {
		var b = a.properties;
		b && b.effect && "snowFly" == b.effect.name && (a.controlView.effectType = "snowFly"), a.$on("save.snow.effect", function() {
			b = {}, b.effect = {
				name: "snowFly"
			}, a.$close({
				properties: b,
				name: "飘雪",
				value: "effect"
			})
		})
	}]), angular.module("save.template", []), angular.module("save.template").controller("saveTemplateCtrl", ["$scope", "$rootScope", "security", function(a, b, c) {
		a.btnGroup = {
			selectItem: 1,
			caretSwitch: !1
		};
		var d;
		window.localStorage && (d = JSON.parse(localStorage.getItem("templateInfo")), d && d[c.currentUser.id] ? a.btnGroup.selectItem = d[c.currentUser.id] : (d = d || {}, d[c.currentUser.id] = 1, localStorage.setItem("templateInfo", JSON.stringify(d)))), a.btnGroup = {
			selectItem: d[c.currentUser.id],
			caretSwitch: !1
		}, a.selectedTemplate = function(b) {
			"myTemplate" == b ? a.btnGroup.selectItem = 2 : "companyTemplate" == b && (a.btnGroup.selectItem = 1), window.localStorage && (d[c.currentUser.id] = a.btnGroup.selectItem, localStorage.setItem("templateInfo", JSON.stringify(d)))
		}, a.openMenu = function() {
			a.btnGroup.caretSwitch = !a.btnGroup.caretSwitch
		}
	}]), angular.module("scene", ["scene.create", "scene.support", "services.scene", "services.staticRes", "scene.create.new", "app.directives.addelement", "create.userGuide", "scene.custom.activities"]), angular.module("scene").controller("SceneCtrl", ["$window", "$scope", "$rootScope", "$location", "sceneService", "$modal", "ModalService", "usercenterService", "staticResService", "customActivitiesService", "security","$http", function(a, b, c, d, e, f, g, h, i, j, k,z) {
		b.PREFIX_FILE_HOST = PREFIX_FILE_HOST, b.PREFIX_CLIENT_HOST = PREFIX_HOST, b.user = k.currentUser, b.isActive = "scene", b.scene = {
			type: null
		}, b.totalItems = 0, b.currentPage = 1, b.toPage = "", b.tabindex = 0, b.childcat = 0, b.order = "new", b.pageSizeList = 11;
		var l = 0;
		b.pageNoNum = 1, b.blankSample = !0, b.canvasUrl = PREFIX_HOST, b.aa=function() {
			var a = "index.php?c=statics&a=typelist";
			return z({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + a
		})} ,b.pageTplTypesLista = b.aa().success(function(a) {
			 b.pageTplTypesList = a.list
		}), b.getCompanyTpl = function(a, c) {
			b.childcat = 1;
			var d = 11;
			b.childCatrgoryList = [], e.getCompanyTpls(b.pageNoNum, d).then(function(a) {
				a.data.list && a.data.list.length > 0 ? (b.tpls = a.data.list, b.totalItems = a.data.map.count + 1, b.currentPage = a.data.map.pageNo, b.allPageCount = a.data.map.count, b.toPage = "") : b.tpls = []
			})
		}, b.pageChanged = function(a) {
			return m.targetPage = a, b.pageNoNum = a, b.toPage = a, b.pageNoNum > 1 ? (b.blankSample = !1, b.pageSizeList = 12) : (b.blankSample = !0, b.pageSizeList = 11), 1 > a || a > b.totalItems / 11 + 1 ? void alert("此页超出范围") : void(1 == b.childcat ? b.getCompanyTpl(a, b.pageSizeList) : b.getPageTpls(1, m.sceneType, m.tagId, a, b.pageSizeList, m.order, null, m.name))
		}, b.preview = function(a) {
			var b = PREFIX_HOST + "/view.html?sceneId=" + a;
			window.open(b, "_blank")
		}, b.getStyle = function(a) {
			return {
				"background-image": "url(" + PREFIX_FILE_HOST + a + ")",
				"background-size": "cover"
			}
		}, j.getActivite().then(function(a) {
			a.data.obj && (b.activityObj = a.data.obj)
		}), b.openCustomActive = function() {
			return 1 != b.user.checkPhone ? void g.openMsgDialog({
				msg: "请先绑定手机!"
			}) : b.user.memberType ? void f.open({
				windowClass: "seven-contain",
				templateUrl: "scene/console/customActivities.tpl.html",
				controller: "CustomActivitiesCtrl",
				resolve: {
					activityInfo: function() {
						return b.activityObj
					},
					userXd: function() {
						return b.userXd
					}
				}
			}).result.then(function(a) {
				b.activityObj = a
			}) : void g.openConfirmDialog({
				msg: "请升级会员类型以使用该功能",
				confirmName: "立即升级",
				cancelName: "我知道了"
			}, function() {
				window.open("/#/privilege")
			})
		}, b.previewScene = function(a) {
			c.tplObj = a, d.path("/v-" + a.code)
		}, b.createScene = function(a) {
			if (a && 1 == b.user.type && 1 == a.isCompanyTemp) return void g.openConfirmDialog({
				msg: "免费升级企业会员可使用 会员专属场景",
				confirmName: "免费升级",
				cancelName: "再看看"
			}, function() {
				return "eqs" == k.currentUser.loginName.substr(0, 3) && null == k.currentUser.email ? void g.openMsgDialog({
					msg: "您当前为第三方账号，未绑定已有账号，请先去绑定"
				}) : void window.open("/#/privilege")
			});
			if (a && a.price) {
				var c = parseFloat(a.price) || 0;
				c && c > b.userXd ? g.openConfirmDialog({
					msg: '<div class="text-center">当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个)</div>",
					confirmName: "立即购买",
					cancelName: "取消"
				}, function() {
					b.buyXd()
				}) : g.openConfirmDialog({
					msg: '<div class="text-center">当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (b.userXd || 0) + "</font>个</div>"
				}, function() {
					f.open({
						windowClass: "login-container six-contain",
						templateUrl: "scene/createNew.tpl.html",
						controller: "SceneNewCtrl",
						resolve: {
							items: function() {
								return a
							},
							groupCom: function() {
								return null
							}
						}
					}).result.then(function() {})
				})
			} else f.open({
				windowClass: "login-container six-contain",
				templateUrl: "scene/createNew.tpl.html",
				controller: "SceneNewCtrl",
				resolve: {
					items: function() {
						return a
					},
					groupCom: function() {
						return null
					}
				}
			})
		}, c.tplId && h.getUserXd().then(function(a) {
			b.userXd = a.data.obj || 0
		}).then(function() {
			b.createScene(c.tplId)
		}).then(function() {
			c.tplId = null
		}), b.getStyle = function(a) {
			return {
				"background-image": "url(" + PREFIX_FILE_HOST + a + ")"
			}
		}, b.show = function(a) {
			console.log(a.target), $(a.target).children(".cc").css("display", "block")
		}, b.pageTplTypes = i.getSceneType(), b.filterTpl = function(a, c) {
			"default" == c ? (b.selete = !1, m.order = null) : (b.selete = !0, a ? m.order = 1 : m.order = 2), b.getPageTpls(null, m.sceneType, m.tagId, l, 11, m.order)
		};
		var m = {
			sceneType: null,
			tagId: "",
			order: "",
			pageNo: "0",
			targetPage: "",
			name: ""
		},
			n = {},
			o = [];
		b.getPageTplsByType = function(a) {
			m.sceneType = a, b.childcat = a, b.categoryId = 0, n[a] ? (o = n[a], o.length && (p(), b.blankSample = !0, b.getPageTpls(1, m.sceneType, o[0].id, l, 11, m.order))) : e.getPageTplTypesTwo(a, a).then(function(c) {
				o = n[a] = c.data.list, o.length && (p(), b.blankSample = !0, b.getPageTpls(1, m.sceneType, o[0].id, l, 11, m.order))
			})
		};
		var p = function() {
				var a, c = null,
					d = [];
				for (var e in o) o[e].groupId !== c && (a = [], c = o[e].groupId, d.push(a)), a.push(o[e]);
				d.splice(4, 1), d.length ? b.newArrayGroupCat = d : b.newArrayGroupCat = []
			};
		b.allpage = function(a) {
			m.sceneType = a, b.childcat = 0, b.getPageTpls(1, null, null, 1, 11, m.order), b.newArrayGroupCat = [], b.blankSample = !0
		}, b.freeTplChoice = "", b.freeTpl = function(a) {
			b.freeTplChoice = a, b.tplnew(b.order)
		}, b.getPageTpls = function(a, c, d, f, g, h) {
			11 == g && (b.blankSample = !0), b.categoryId = d, m.tagId = d;
			var i = b.freeTplChoice ? b.freeTplChoice + "=1" : "";
			e.getPageTpls(a, c, d, f, g, m.order, i, m.name)
		}, b.getPageTpls(1, null, null, 1, 11), b.$on("getSampleList", function(a) {
			var c = e.scenes;
			if (c.list && c.list.length > 0) {
				b.tpls = c.list, b.totalItems = c.map.count, b.currentPage = c.map.pageNo, b.allPageCount = c.map.count, b.toPage = c.map.pageNo;
				for (var d = 0; d < b.tpls.length; d++) b.tpls[d].avatar && (0 === b.tpls[d].avatar.indexOf("http://") ? b.tpls[d].avatar = b.tpls[d].avatar : b.tpls[d].avatar = PREFIX_FILE_HOST + b.tpls[d].avatar)
			} else b.tpls = [], b.totalItems = 0, b.blankSample = !1
		}), b.name = null, b.EnterPress = function(a, c) {
			var d = a || window.event;
			13 == d.keyCode && b.submit(c)
		}, b.searchButton = !0;
		var q = {};
		b.submit = function(a) {
			m.name = a, b.name = a, e.getPageTpls(1, null, null, l, 11, m.order, null, a), b.blankSample = !0, b.searchButton = !1, q.refresh = !0
		}, b.changeName = function(a) {
			b.searchButton = !0, "" === a && q.refresh && (m.name = "", e.getPageTpls(1, null, null, l, 11, m.order, null, a), b.blankSample = !0)
		}, b.clearSearch = function() {
			b.searchButton = !0, b.name = "", m.name = "", e.getPageTpls(1, null, null, l, 11, m.order, null), b.blankSample = !0
		}, b.userScene = function(a) {
			e.getPageTpls(1, null, null, l, b.pageSizeList, m.order, null, null, a)
		}
	}]), angular.module("scene.preview", ["services.scene"]), angular.module("scene.preview").directive("sceneView", ["sceneService", "sceneViewService", "sceneDataParseService", function(a, b, c) {
		return {
			scope: {
				sceneId: "@",
				sceneName: "@",
				sceneCover: "@",
				sceneDescription: "@"
			},
			restrict: "A",
			templateUrl: "scene/preview.tpl.html",
			link: function(a, d, e, f) {
				function g(d, f) {
					b.getSceneData(e.sceneId).then(function(e) {
						e.data.success && (d && (d = parseInt(d, 10) - 1, e.data.list[d].elements = f.obj.elements, e.data.list[d].properties = f.obj.properties), a.$parent.scene.property.activityPageId ? b.getActivityPage(a.$parent.scene.property.activityPageId).then(function(a) {
							e.data.list.push(a.data.obj), c.parse(e.data)
						}) : c.parse(e.data))
					})
				}
				function h() {
					k(), d.find(".password-numbers>span").click(j), d.find(".password-operation>span").click(k), d.find(".verifyCode").show()
				}
				function i() {
					d.find(".password-numbers>span").unbind("click"), d.find(".password-operation>span").unbind("click"), d.find(".verifyCode").hide()
				}
				function j(b) {
					k($(b.target).text()), 4 == l.pass.length && (a.$parent.scene.accessCode == l.pass ? i() : k())
				}
				function k(a) {
					a && "object" != typeof a ? l.pass += a : l.pass = "", d.find(".password-indicator li").each(function(a, b) {
						a < l.pass.length ? $(b).addClass("active") : $(b).removeClass("active")
					})
				}
				var l = {
					play: !1
				};
				a.sceneId && (a.$parent.mginData == angular.toJson(a.$parent.tpl) ? g() : g(a.$parent.pageNum, $.extend(!0, {}, a.$parent.tpl))), a.$watch("sceneId", function(a, b) {
					a != b && g()
				}), d.on("$destroy", function() {
					utilSound.pause(), $(document).unbind("flipend")
				}), a.$on("changeView", function(a, b) {
					b ? d.find(".wechat-share").show() : d.find(".wechat-share").hide(), d.find(".loading").hide(), i()
				}), a.$on("showLoading", function(a, b, c) {
					b ? (c ? (d.find(".loadbg").css({
						background: "url(" + PREFIX_FILE_HOST + c + ")",
						backgroundSize: "118px 118px"
					}).show(), d.find(".loadlogo").hide()) : (d.find(".loadbg").css("background", "").hide(), d.find(".loadlogo").show()), d.find(".loading").show(), d.find(".wechat-share").hide()) : d.find(".loading").hide(), i()
				}), a.$on("processBar", function(a, b) {
					b ? d.find(".progress").show() : d.find(".progress").hide()
				}), a.$on("passPanelSwitch", function(a, b) {
					b ? h() : i()
				}), d.on("$destroy", function() {
					clearInterval(eqShow.progressInterval), c.app.pauseAutoFlip()
				})
			}
		}
	}]).factory("sceneViewService", ["$http", function(a) {
		var b = {};
		return b.getSceneData = function(b) {
			var c = "index.php?c=scene&a=view&id=" + b + "&time=" + (new Date).getTime();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, b.getSelfLastPage = function(b) {
			var c = "index.php?c=scene&a=getlastpagebg&id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_S1_URL + c
			})
		}, b.getActivityPage = function(b) {
			var c = "eqs/trailer/" + b;
			return a({
				method: "GET",
				url: PREFIX_S2_URL + c
			})
		}, b
	}]).factory("sceneDataParseService", ["sceneViewService", "sceneService", function(a, b) {
		function c(b, c) {
			b.obj.property.lastPageId ? a.getSelfLastPage(b.obj.property.lastPageId).then(function(a) {
				a.data.obj ? (e(b.obj, a.data), b.list.push(a.data.obj), o.lastPage = c[c.length - 1], i(c, b)) : (d(b.obj), o.lastPage = c[c.length - 1], i(c, b))
			}) : (d(b.obj, c), o.lastPage = c[c.length - 1], i(c, b))
		}
		function d(a, b) {
			var c = "http://eqxiu.com",
				d = '{"id":439882,"pageId":129810,"sceneId":16060,"num":1,"type":"4","isInput":0,"title":null,"content":null,"status":1,"css":{"borderRadius":"10px","borderStyle":"solid","zIndex":"9","borderColor":"rgba(0,0,0,1)","paddingTop":"0px","height":"141","backgroundColor":"","color":"","boxShadow":"0px 0px 0px #333333","borderWidth":"0px","width":"142.13709677419354","left":"92px","paddingBottom":"0px","top":"177px"},"properties":{"height":"100px","imgStyle":{"width":142,"height":142,"marginTop":"-0.5px","marginLeft":"0px"},"width":"100px","src":"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg"}}',
				e = '{"id":"","sceneId":"","num":2,"name":null,"properties":null,"elements":[{"id":439880,"pageId":129810,"sceneId":16060,"num":0,"type":"3","isInput":0,"title":null,"content":null,"status":1,"css":{},"properties":{"bgColor":"#E6E9EE"}},{"id":439881,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"text-align: center;\\"><span style=\\"line-height: 1; background-color: initial;\\"><font size=\\"4\\" color=\\"#888888\\"><b>场景名称</b></font></span></div>","status":1,"css":{"height":"65","zIndex":"10","width":"320","left":"0px","top":"77px"},"properties":{}},{"id":439882,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div class=\\"bottom-logo\\" style=\\"text-align: center;cursor:pointer;height:142px;width:142px;border-radius:10px;\\"><em style=\\"color:white;line-height:142px;font-size:30px;\\" class=\\"eqf-love\\"></em></div>","status":1,"css":{"height":"157","width":"172","left":"77px","top":"170px"},"properties":{}},{"id":439883,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;\\"></div>","status":1,"css":{"height":"24","width":"280","left":"21px","top":"122px"},"properties":{}},{"id":439885,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"text-align: center;padding-top: 0;\\"><span style=\\"font-size: small; line-height: 1; background-color: initial;\\"><a href=\\"' + PREFIX_S1_URL + "index.php?c=scene&a=link&id=16060&amp;url=" + encodeURIComponent(lastpagelink) + '\\" target=\\"_blank\\"><font color=\\"#888888\\">创建一个场景？→</font><font color=\\"#23a3d3\\">'+lastpagetext+'</font></a></span></div>","status":1,"css":{"borderRadius":"0px","borderStyle":"solid","height":"30","paddingTop":"0px","borderColor":"rgba(222,220,227,1)","zIndex":"12","boxShadow":"0px 0px 0px rgba(200,200,200,0.6)","color":"","backgroundColor":"rgba(255,255,255,0)","borderWidth":"0px","width":"320","left":"1px","paddingBottom":"20px","top":"420px"},"properties":{"anim":{"type":1,"direction":3,"duration":"1","delay":"0.6"}}}]}';
			e = e.replace(/id=16060/, "id=" + a.id);
			var f = JSON.parse(e);
			f.num = b.length + 1, a.cover && "group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg" != a.cover && (f.elements[2] = JSON.parse(d), f.elements[2].properties.src = a.cover), f.elements[1].content = f.elements[1].content.replace(/场景名称/, a.name ? a.name : ""), b.push(f)
		}
		function e(a, b) {
			var c = '{"id":81395,"pageId":"","sceneId":"","num":1,"type":"4","isInput":0,"title":null,"content":null,"status":1,"css":{"borderRadius":"%","borderStyle":"solid","height":"158","zIndex":"1000","paddingTop":"0px","borderColor":"rgba(0,0,0,1)","boxShadow":"0 0px 0px #333333","color":"#000000","backgroundColor":"white","borderWidth":"0px","width":"158","left":"84px","paddingTop":"11px","paddingLeft":"10px","top":"170px"},"properties":{"height":"100px","imgStyle":{"width":139,"height":136,"marginTop":"0px","marginLeft":"0px"},"width":"100px","src":"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"}}',
				d = '{"id":439882,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div class=\\"bottom-logo\\" style=\\"text-align: center;cursor:pointer;height:136px;width:139px;\\"><em style=\\"color:white;line-height:136px;font-size:120px;\\" class=\\"eqf-eqxiu\\"></em></div>","status":1,"css":{"height":"158","width":"158","left":"84px","top":"170px","backgroundColor":"white"},"properties":{}}',
				e = '{"id":81465,"pageId":"","sceneId":"","num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"text-align: center;\\"><font color=\\"#ffffff\\" size=\\"3\\">击此处进行编辑</font></div>","status":1,"css":{"zIndex":"102","height":"65","width":"320","left":"0px","top":"70px"},"properties":{}}',
				f = '{"id":2557867,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div class=\\"logo-shadow1\\" style=\\"text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;\\"></div>","status":1,"css":{"height":"257","width":"257","left":"78px","top":"175px"},"properties":{}}',
				g = '{"id":439883,"pageId":129810,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;\\"></div>","status":1,"css":{"height":"24","width":"280","left":"21px","top":"122px"},"properties":{}}';
			b.obj.sceneId = a.id;
			for (var h, i = 0; i < b.obj.elements.length; i++)"4" != b.obj.elements[i].type || "group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg" != b.obj.elements[i].properties.src && "group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png" != b.obj.elements[i].properties.src && "group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png" != b.obj.elements[i].properties.src && "group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png" != b.obj.elements[i].properties.src ? "2" == b.obj.elements[i].type && (b.obj.elements.splice(i, 1), i--) : (b.obj.elements.splice(i, 1), i--);
			"group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg" != a.cover ? (h = JSON.parse(c), h.properties.src = a.cover) : h = JSON.parse(d), b.obj.elements.push(h), b.obj.elements.push(JSON.parse(f)), b.obj.elements.push(JSON.parse(g));
			var j = JSON.parse(e);
			j.content = j.content.replace(/击此处进行编辑/, a.name), b.obj.elements.push(j);
			for (var k = 0; k < b.obj.elements.length; k++)"2" == b.obj.elements[k].type && /http:\/\/service.eqxiu.com\/eqs\/link/.test(b.obj.elements[k].content) && (b.obj.elements[k].content = b.obj.elements[k].content.replace(/;url=.*com"/, ";url=" + encodeURIComponent(redirectUrl) + '"'))
		}
		function f(b, c) {
			a.getSelfLastPage(b.obj.property.bottomLabel.id).then(function(a) {
				if (a.data.success) {
					var d = c[c.length - 1];
					d.elements || (d.elements = []);
					var e = a.data.obj.elements;
					if (d.properties && d.properties.longPage) for (var f = d.properties.longPage - 1, g = 0; g < e.length; g++) e[g].css.top += 486 * f;
					d.elements = d.elements.concat(e), i(c, b)
				}
			})
		}
		function g(a, b) {
			h(a, b), i(b, a)
		}
		function h(a, b) {
			var c = "http://eqxiu.com",
				d = "易企秀技术支持",
				e = '{"id":480292,"pageId":136042,"sceneId":16060,"num":1,"type":"2","isInput":0,"title":null,"content":"<div style=\\"text-align: center;transform: none;-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;\\"><a href=\\"' + PREFIX_S1_URL + "eqs/link?id=16060&amp;url=" + encodeURIComponent(c) + '\\" target=\\"_blank\\" style=\\"font-size: x-small;display:block;line-height: 10px;\\"><font color=\\"#ffffff\\">' + d + '</font></a></div>","status":1,"css":{"zIndex":"1000","height":"20","width":"129","left":"97px","top":"418px","backgroundColor":"rgba(0,0,0,0.6)","borderRadius":"20px"},"properties":{"anim":{"type":0,"direction":0,"duration":2,"delay":"0"}}}',
				f = b[b.length - 1].elements;
			b[b.length - 1].properties && b[b.length - 1].properties.longPage && (e = e.replace("418px", 486 * b[b.length - 1].properties.longPage - 68 + "px")), e = e.replace(/id=16060/, "id=" + a.id), b[b.length - 1].elements || (f = b[b.length - 1].elements = []), f.push(JSON.parse(e))
		}
		function i(a, b) {
			var c = b.obj.pageMode;
			b.obj.property.slideNumber ? b.obj.property.slideDisplay = "block" : b.obj.property.slideDisplay = "none", b.obj.property.slideNumber = !0;
			for (var d = {
				bgAudio: b.obj.bgAudio
			}, e = 1; e <= a.length; e++) {
				$('<section class="main-page"><div class="m-img" id="page' + e + '"></div></section>').appendTo(".phone-view"), a.length > 1 && ($('<section class="u-arrow-bottom"><div class="pre-wrap"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>').appendTo("#page" + e), $('<section class="u-arrow-right"><div class="pre-wrap-right"><div class="pre-box3"><div class="pre3"></div></div><div class="pre-box4"><div class="pre4"></div></div></div></section>').appendTo("#page" + e)), 1 == e && $(".phone-view .main-page").eq(0).addClass("z-current");
				var f = e;
				if (a[f - 1].properties && !$.isEmptyObject(a[f - 1].properties) ? a[f - 1].properties.image || a[f - 1].properties.scratch ? addScratchEffect(d, a, f) : a[f - 1].properties.finger ? (p = [], p.push({
					num: f,
					finger: a[f - 1].properties.finger
				}), lockEffect(d, a, p, $(".m-img").width(), $(".m-img").height())) : a[f - 1].properties.fallingObject ? fallingObject(a, f) : a[f - 1].properties.effect ? !
				function(b) {
					window[a[b - 1].properties.effect.name].doEffect(d, b, a, renderPage)
				}(f) : renderPage(eqShow, f, a) : (renderPage(eqShow, f, a), 1 == f && eqShow.playVideo(d)), e == a.length) {
					eqxiu.app($(".phone-view"), b.obj.pageMode, a, b)
				}
			}
			0 === c || 1 == c || 2 == c || 6 == c || 7 == c || 8 == c || 11 == c || 12 == c || 13 == c ? $(".phone-view .u-arrow-right").hide() : (3 == c || 4 == c || 5 == c || 9 == c || 10 == c) && $(".phone-view .u-arrow-bottom").hide()
		}
		function j(b) {
			var c = [];
			$.extend(!0, c, n._pages), o.activePage && c.push(o.activePage);
			var f = c.length + 1;
			if (!b) {
				d({
					name: o.sceneName
				}, c), o.lastPage = c[c.length - 1];
				var g = c[c.length - 1];
				return o.haseLastPage ? k(o.lastPageNum, g) : ($(".phone-view .main-page").last().after('<section class="main-page"><div class="m-img" id="page' + f + '"></div></section>'), o.lastPageNum = f, renderPage(eqShow, o.lastPageNum, c), o.haseLastPage = !0), n.app.changeAppPage(), void n.app.setPageData(c)
			}
			a.getSelfLastPage(b).then(function(a) {
				if (a.data.success) {
					if (o.lastPage = a.data.obj, o.haseLastPage) {
						var b = {
							id: "1",
							name: o.sceneName,
							cover: o.sceneCover
						};
						e(b, a.data), k(o.lastPageNum, a.data.obj)
					} else $(".phone-view .main-page").last().after('<section class="main-page"><div class="m-img" id="page' + f + '"></div></section>'), o.lastPageNum = f, renderPage(eqShow, o.lastPageNum, c.concat([a.data.obj])), o.haseLastPage = !0;
					n.app.changeAppPage(), n.app.setPageData(c)
				}
			})
		}
		function k(a, c) {
			$("#page" + a).empty(), b.templateEditor.parse({
				def: c,
				appendTo: "#page" + a,
				mode: "view"
			})
		}
		function l(a, b, c, d) {
			var e = 0;
			for (a.length; e < a.length; e++) {
				var f = a[e];
				if (f.pageId = b.id, c.name && c.url && "http://" != c.url) 2 == f.type && f.content.indexOf("EQXIU.COM科技公司") > 0 && (f.content = f.content.replace(/EQXIU.COM科技公司/, '<a href="' + PREFIX_S1_URL + "eqs/link?id=" + d + "&amp;url=" + encodeURIComponent(c.url) + '" target=_blank>' + c.name + "</a>"));
				else if (c.name) 2 == f.type && f.content.indexOf("EQXIU.COM科技公司") > 0 && (f.content = f.content.replace(/EQXIU.COM科技公司/, c.name));
				else if (/易企秀技术支持/.test(f.content)) {
					f.content = '<div style="text-align: center;">' + f.content + "</div>";
					var g = {
						zIndex: "1000",
						height: "33",
						width: "129",
						left: "97px"
					};
					$.extend(f.css, g)
				} else 2 == f.type && f.content && (f.content = "");
				f.css.zIndex = 200
			}
		}
		function m() {
			n.app.removeLastPage(), n.app.changeAppPage(), o.haseLastPage = !1
		}
		var n = {};
		n.app = eqxiu;
		var o = {
			haseLastPage: !1,
			sceneName: "",
			sceneCover: "",
			lastPage: null,
			activePage: null,
			activePageNum: null,
			lastPageNum: null
		};
		n._pages = [], n.parse = function(a) {
			o.activePage = null, a.obj.property && (a.obj.property = JSON.parse(a.obj.property) || {}), a.obj.name && (o.sceneName = a.obj.name), a.obj.cover && (o.sceneCover = a.obj.cover), a.obj.bgAudio && "string" == typeof a.obj.bgAudio ? a.obj.bgAudio = JSON.parse(a.obj.bgAudio) : $("#audio_btn").hide();
			var b = (a.obj.pageMode, a.list);
			if ($.extend(!0, n._pages, a.list), a.obj.property.hideEqAd) i(b, a);
			else switch (a.obj.property.eqAdType) {
			case 1:
				o.haseLastPage = !0, o.lastPageNum = b.length + 1, c(a, b);
				break;
			case 2:
				g(a, b);
				break;
			case 3:
				f(a, b);
				break;
			default:
				o.haseLastPage = !0, c(a, b)
			}
		};
		var p = [];
		return n.changeBottomType = function(b, c, d, e) {
			if ("eqFree" == b) j(c), n.app.lastPage();
			else if ("eqLink" == b) {
				if (o.lastPageNum = null, o.haseLastPage && (m(), o.lastPage = null), n.app.lastPage( !! o.activePage), 2 == e) {
					var f = [];
					$.extend(!0, f, n._pages);
					var g = f[f.length - 1];
					return g.elements || (g.elements = []), h(g, f), void k(n._pages.length, g)
				}
				if (!d || !d.id) return;
				a.getSelfLastPage(d.id).then(function(a) {
					if (a.data.success) {
						var b = {};
						$.extend(!0, b, n._pages[n._pages.length - 1]), b.elements || (b.elements = []), l(a.data.obj.elements, b, d, n._pages[0].sceneId);
						var c = a.data.obj.elements;
						if (b.properties && b.properties.longPage) for (var e = b.properties.longPage - 1, f = 0; f < c.length; f++) c[f].css.top += 486 * e;
						b.elements = b.elements.concat(c), k(n._pages.length, b)
					}
				})
			} else o.lastPageNum = null, o.haseLastPage ? (m(), o.lastPage = null) : k(n._pages.length, n._pages[n._pages.length - 1]), n.app.lastPage()
		}, n.removeActivePage = function() {
			n.app.removeLastPage(o.haseLastPage), n.app.changeAppPage(), n.app.lastPage(), o.activePageNum = null
		}, n.playVideo = function(a) {
			var b = {
				bgAudio: a
			};
			a || (b.bgAudio = {
				url: ""
			}), eqShow.playVideo(b), a || $("#audio_btn").hide()
		}, n.changeScrollMode = function(a) {
			n.app.changeScrollMode(a), 0 === a || 1 == a || 2 == a || 6 == a || 7 == a || 8 == a || 11 == a || 12 == a || 13 == a || 14 == a ? ($(".phone-view .u-arrow-right").hide(), $(".phone-view .u-arrow-bottom").show()) : 3 == a || 4 == a || 5 == a || 9 == a || 10 == a ? ($(".phone-view .u-arrow-bottom").hide(), $(".phone-view .u-arrow-right").show()) : ($(".phone-view .u-arrow-bottom").hide(), $(".phone-view .u-arrow-right").hide())
		}, n.changeSceneName = function(a) {
			o.sceneName = a
		}, n.changeSceneCover = function(a) {
			o.sceneCover = a
		}, n.replaceActivePage = function(b) {
			a.getActivityPage(b).then(function(a) {
				var b, c = [];
				o.haseLastPage ? ($.extend(!0, c, n._pages), o.lastPage && c.push(o.lastPage), c.push(a.data.obj), b = c.length, o.activePage ? k(o.activePageNum, a.data.obj) : ($(".phone-view .main-page").last().prev().after('<section class="main-page"><div class="m-img" id="page' + b + '"></div></section>'), o.activePageNum = b, renderPage(eqShow, o.activePageNum, c)), n.app.setPageData(c), n.app.changeAppPage()) : ($.extend(!0, c, n._pages), c.push(a.data.obj), b = c.length, o.activePage ? k(o.activePageNum, a.data.obj) : ($(".phone-view .main-page").last().after('<section class="main-page"><div class="m-img" id="page' + b + '"></div></section>'), o.activePageNum = b, renderPage(eqShow, o.activePageNum, c)), n.app.changeAppPage(), n.app.setPageData(c)), o.activePage = a.data.obj
			})
		}, n
	}]), angular.module("scene.support", []), angular.module("scene.support").controller("SupportCtrl", ["$location", "$scope", "continueUrl", function(a, b, c) {
		b["continue"] = function() {
			window.sessionStorage && sessionStorage.setItem("checkSuport", !1), a.path(c.getUrl())
		}, b.setLinkUrl = function() {
			navigator.language ? navigator.language.toLowerCase() : navigator.systemLanguage.toLowerCase();
			b.download_Chorme = "https://www.baidu.com/s?wd=Chrome", b.download_IE = "https://www.baidu.com/s?wd=ie11", b.download_360fast = "http://chrome.360.cn/", b.download_360 = "http://se.360.cn/"
		}, b.setLinkUrl()
	}]).factory("continueUrl", function() {
		function a(a) {
			c = a
		}
		function b() {
			return c
		}
		var c = "";
		return {
			setUrl: a,
			getUrl: b
		}
	}), function() {
		angular.module("scene.userGuide", []).controller("SceneUserGuideCtrl", ["$rootScope", "$scope", function(a, b) {
			if (window.localStorage) {
				var c = JSON.parse(localStorage.getItem("sceneUserGuide"));
				c && c[a.user.id] ? b.firstLogin = !1 : (b.firstLogin = !0, c = c || {}, c[a.user.id] = 1, localStorage.setItem("sceneUserGuide", JSON.stringify(c)))
			}
			b.currentGuideIndex = 0, b.guideLength = 5, b.showNextGuide = function() {
				b.currentGuideIndex += 1, b.guideLength == b.currentGuideIndex && (b.firstLogin = !1)
			}
		}])
	}(), angular.module("active1", ["services.show", "services.activity", "app.directives.addBanner"]), angular.module("active1").controller("Active1Ctrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "configSerService", function(a, b, c, d, e, f, g) {
		c.pageNo = 1, c.pageSize = 10, c.childCat = "active", c.join = function(a) {
			f.path("/show/active/" + a)
		}, c.attend = function() {
			a.user ? f.path("/main") : c.openLogin()
		};
		var h = function(a) {
				e.getActiveList(1, null, a, c.pageSize), c.$on("activeList", function(a, b) {
					c.activeList = b.data.list;
					for (var d = Date.parse(new Date), e = 0; e < c.activeList.length; e++) c.activeList[e].endDate > d ? c.activeList[e].join = !0 : c.activeList[e].join = !1;
					c.totalItems = b.data.map.count, c.currentPage = b.data.map.pageNo, c.allPageCount = b.data.map.count, c.toPage = b.data.map.pageNo
				})
			};
		h(c.pageNo), c.pageChanged = function(a) {
			return 1 > a || a > c.totalItems / 10 + 1 ? void alert("此页超出范围") : void h(a)
		}, c.pageCode = "active", g.getFriendLinks(c.pageCode).then(function(a) {
			c.friendLinks = a.data.list, c.friendLinks.length > 16 && (c.friendLinks.length = 16)
		})
	}]), angular.module("activeXq", ["services.show", "services.activity", "app.directives.addBanner"]), angular.module("activeXq").controller("ActiveXqCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", "configSerService", function(a, b, c, d, e, f, g, h) {
		c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.PREFIX_CLIENT_HOST = PREFIX_HOST, c.PREFIX_SERVER_HOST = PREFIX_URL, c.pageNo = 1, c.pageSize = 16, c.activeId = g.id, c.childCat = "active", c.totalItems = 0, c.join = function(a) {
			f.path("/show/active/" + a)
		}, c.attend = function() {
			a.user ? f.path("/main") : c.openLogin()
		};
		var i = function() {
				e.activitySceneList(c.activeId, 1, c.pageNo, 4).then(function(a) {
					if (c.recSceneList = a.data.list, a.data.list) for (var b = 0; b < c.recSceneList.length; b++) c.recSceneList[b].headImg ? 0 === c.recSceneList[b].headImg.indexOf("http://") ? c.recSceneList[b].headImg = c.recSceneList[b].headImg : c.recSceneList[b].headImg = PREFIX_FILE_HOST + c.recSceneList[b].headImg : c.recSceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
				})
			};
		i(c.activeId, 1, c.pageNo, 4);
		var j = function() {
				e.activitySceneList(c.activeId, null, c.pageNo, c.pageSize).then(function(a) {
					if (c.sceneList = a.data.list, c.totalItems = a.data.map.count, c.currentPage = a.data.map.pageNo, c.toPage = a.data.map.pageNo, a.data.list) for (var b = 0; b < c.sceneList.length; b++) c.sceneList[b].headImg ? 0 === c.sceneList[b].headImg.indexOf("http://") ? c.sceneList[b].headImg = c.sceneList[b].headImg : c.sceneList[b].headImg = PREFIX_FILE_HOST + c.sceneList[b].headImg : c.sceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
				})
			};
		j(c.activeId, null, c.pageNo, c.pageSize), e.activityMes(c.activeId), c.$on("activeMes", function(a, b) {
			c.activeMes = b.data.obj
		}), c.pageChanged = function(a) {
			return c.pageNo = a, 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void j(c.activeId, null, a, c.pageSize)
		}, c.pageCode = "pro_" + c.activeId, h.getFriendLinks(c.pageCode).then(function(a) {
			c.friendLinks = a.data.list, c.friendLinks.length > 16 && (c.friendLinks.length = 16)
		})
	}]), angular.module("category", ["services.show", "services.activity", "app.directives.addBanner"]), angular.module("category").controller("CategoryCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", "security", function(a, b, c, d, e, f, g, h) {
		c.recommend = 1, c.pageSize = 16, e.getActiveList(null, c.recommend, c.pageNo, 3), c.$on("activeList", function(a, b) {
			c.activeList = b.data.list
		}), c.join = function(a) {
			f.path("/show/active/" + a)
		};
		var i = g.id;
		c.bizType = i;
		var j = {};
		c.getCategoryTpl = function(a) {
			c.childCat = a, j[a] ? (c.childCatrgoryList = j[a], c.childCatrgoryList.length && (k.tagId = c.categoryId = c.childCatrgoryList[0].id, c.getPageTpls(null, c.childCatrgoryList[0].id))) : d.getPageTagLabel(a).then(function(b) {
				c.childCatrgoryList = j[a] = b.data.list, c.childCatrgoryList.length && (k.tagId = c.categoryId = c.childCatrgoryList[0].id, c.getPageTpls(null, c.childCatrgoryList[0].id))
			})
		}, c.getCategoryTpl(i);
		var k = {
			sceneType: "",
			tagId: "",
			orderBy: null,
			bizType: "",
			template: "",
			pageNo: "1",
			targetPage: ""
		};
		c.tplNew = function(a) {
			c.order = a, k.orderBy = a, c.getPageTpls(a, null, k.tagId, k.pageNo, c.pageSize)
		}, c.getPageTpls = function(a, b) {
			b && (k.tagId = b), c.categoryId = k.tagId, d.getSceneList(k.orderBy, null, k.tagId, k.pageNo, c.pageSize), c.$on("sceneList", function(a, b) {
				c.tpls = b.list, c.totalItems = b.map.total, c.currentPage = b.map.pageNo, c.allPageCount = b.map.count, c.toPage = b.map.pageNo;
				for (var d = 0; d < c.tpls.length; d++) 2 == c.tpls[d].isTemplate && (c.tpls[d].isTemplate = !0), c.tpls[d].headImg ? 0 === c.tpls[d].headImg.indexOf("http://") ? c.tpls[d].headImg = c.tpls[d].headImg : c.tpls[d].headImg = PREFIX_FILE_HOST + c.tpls[d].headImg : c.tpls[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
			})
		}, c.userTpl = function(b) {
			h.closeLoginDialog(), f.path("/scene"), a.tplId = b
		}, c.pageChanged = function(a) {
			return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : (k.pageNo = a, void c.getPageTpls(k.orderBy, null, k.tagId, a, c.pageSize))
		}
	}]), angular.module("nav", ["services.show", "services.staticRes"]), angular.module("nav").controller("NavCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "$routeParams", "staticResService", function(a, b, c, d, e, f, g) {
		c.isActive = "show", g.getSceneTypea().then(function(a) {
				a.data.list && a.data.list.length > 0 && (c.sceneType = a.data.list), angular.forEach(c.sceneType, function(a) {
				a.value === f.id && (c.$parent.catName = a.name)
			})
		}), c.getCategoryPage = function(a, b) {
			e.path("show/category/" + a)
		};
		var h = null;
		c.search = function(a) {
			h = a
		}, c.submit = function() {
			h ? e.path("show/search/" + h) : e.path("show")
		}, c.EnterPress = function(a, b) {
			var d = a || window.event;
			13 == d.keyCode && c.submit(b)
		}
	}]), angular.module("app.directives.addBanner", []).directive("slides2", ["configSerService", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e = $(c).find(".slides_container");
				a.getActivityBanner(d.id).then(function(a) {
					for (var b = a.data.list, f = 0; f < b.length; f++) {
						var g = $('<a href="' + b[f].url + '" style="display:block;" target="' + b[f].target + '" ></a>');
						g.append('<img src="' + b[f].path + '" width="' + d.width + '" height="' + d.height + '" alt="' + b[f].title + '" title="' + b[f].title + '" > '), e.append(g)
					}
					$(c).slides({
						preload: !0,
						play: 5e3,
						pause: 2500,
						hoverPause: !0
					})
				})
			}
		}
	}]), angular.module("show", ["services.show", "services.activity", "app.directives.addBanner"]), angular.module("show").controller("ShowCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "configSerService", "security", function(a, b, c, d, e, f, g, h) {
		c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.PREFIX_CLIENT_HOST = PREFIX_HOST, c.PREFIX_SERVER_HOST = PREFIX_URL, c.pageNo = 1, c.pageSize = 16, c.recommend = 1, c.childCat = "index", e.getActiveList(null, c.recommend, c.pageNo, 3), c.$on("activeList", function(a, b) {
			c.activeList = b.data.list
		}), c.join = function(a) {
			f.path("/show/active/" + a)
		}, d.getSceneList(null, c.recommend, null, c.pageNo, c.pageSize), c.$on("sceneList", function(a, b) {
			c.sceneList = b.list;
			for (var d = 0; d < c.sceneList.length; d++) 2 === c.sceneList[d].isTemplate && (c.sceneList[d].isTemplate = !0), c.sceneList[d].headImg ? 0 === c.sceneList[d].headImg.indexOf("http://") ? c.sceneList[d].headImg = c.sceneList[d].headImg : c.sceneList[d].headImg = PREFIX_FILE_HOST + c.sceneList[d].headImg : c.sceneList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
		}), c.userTpl = function(b) {
			h.closeLoginDialog(), f.path("/scene"), a.tplId = b
		}, c.pageCode = "index", g.getFriendLinks(c.pageCode).then(function(a) {
			c.friendLinks = a.data.list, c.friendLinks.length > 16 && (c.friendLinks.length = 16)
		})
	}]), angular.module("recommend", ["services.show"]), angular.module("recommend").controller("RecommendCtrl", ["$rootScope", "$http", "$scope", "showService", "security", "$location", "ModalService", function(a, b, c, d, e, f, g) {
		c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.PREFIX_CLIENT_HOST = PREFIX_HOST, c.PREFIX_SERVER_HOST = PREFIX_URL, c.pageNo = 1, c.pageSize = 16, c.childCat = "recommend", c.order = null;
		var h = function(a) {
				d.getSceneList(c.order, 1, null, a, c.pageSize), c.$on("sceneList", function(a, b) {
					c.recommendList = b.list, c.totalItems = b.map.total, c.currentPage = b.map.pageNo, c.allPageCount = b.map.total, c.toPage = b.map.pageNo;
					for (var d = 0; d < c.recommendList.length; d++) 2 == c.recommendList[d].isTemplate && (c.recommendList[d].isTemplate = !0), c.recommendList[d].headImg ? 0 === c.recommendList[d].headImg.indexOf("http://") ? c.recommendList[d].headImg = c.recommendList[d].headImg : c.recommendList[d].headImg = PREFIX_FILE_HOST + c.recommendList[d].headImg : c.recommendList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
				})
			};
		h(c.pageNo), c.tplNew = function(a) {
			c.order = a, h(a, 1, null, c.pageNo, c.pageSize)
		}, c.userTpl = function(b) {
			e.closeLoginDialog(), f.path("/scene"), a.tplId = b
		}, c.pageChanged = function(a) {
			return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void h(a)
		}
	}]), angular.module("search", ["services.show", "services.activity", "app.directives.addBanner"]), angular.module("search").controller("SearchCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", function(a, b, c, d, e, f, g) {
		var h = {
			name: "",
			pageNo: 1,
			pageSize: 16
		};
		c.name = g.name, c.pageNo = 1, c.pageSize = 16, c.val = c.name, h.name = c.name, c.EnterPress = function(a, b) {
			var d = a || window.event;
			13 == d.keyCode && c.submit(b)
		}, c.submit = function(a) {
			c.name = a, a ? f.path("show/search/" + c.name) : f.path("show")
		};
		var i = function(a) {
				d.search(a), c.$on("searchList", function(a, b) {
					c.searchList = b.list, c.totalItems = b.map.total, c.currentPage = b.map.pageNo, c.toPage = b.map.pageNo;
					for (var d = 0; d < c.searchList.length; d++) c.searchList[d].headImg ? 0 === c.searchList[d].headImg.indexOf("http://") ? c.searchList[d].headImg = c.searchList[d].headImg : c.searchList[d].headImg = PREFIX_FILE_HOST + c.searchList[d].headImg : c.searchList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
				})
			};
		i(h), c.pageChanged = function(a) {
			return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : (h.pageNo = a, void i(h))
		}
	}]), angular.module("services.activity", []).factory("activityService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getActiveList = function(c, d, e, f) {
			var g = PREFIX_S2_URL + "index.php?c=eqs&a=activity_info";
			return c && (g += /\?/.test(g) ? "&" : "?", g += "joinNum=" + c), d && (g += /\?/.test(g) ? "&" : "?", g += "recommend=" + d), e && (g += /\?/.test(g) ? "&" : "?", g += "pageNo=" + e), f && (g += /\?/.test(g) ? "&" : "?", g += "pageSize=" + f), b({
				method: "GET",
				url: g
			}).then(function(b) {
				if (b.data.success) {
					var c = b;
					a.$broadcast("activeList", c)
				}
			})
		}, c.activitySceneList = function(a, c, d, e) {
			var f = PREFIX_S2_URL + "index.php?c=eqs&a=activity_info/scene?promId=" + a;
			return c && (f += /\?/.test(f) ? "&" : "?", f += "recommend=" + c), d && (f += /\?/.test(f) ? "&" : "?", f += "pageNo=" + d), e && (f += /\?/.test(f) ? "&" : "?", f += "pageSize=" + e), b({
				method: "GET",
				url: f
			})
		}, c.activityMes = function(c) {
			var d = PREFIX_S2_URL + "index.php?c=eqs&a=activity_info/info?id=" + c;
			return b({
				method: "GET",
				url: d
			}).then(function(b) {
				if (b.data.success) {
					var c = b;
					a.$broadcast("activeMes", c)
				}
			})
		}, c
	}]), angular.module("services.configSer", []).factory("configSerService", ["$http", function(a) {
		var b = function(b) {
				var c = PREFIX_S2_URL + "index.php?c=ad&a=friendlinks&pageCode=" + b;
				return a({
					method: "GET",
					url: c
				})
			},
			c = function(b) {
				var c = PREFIX_S2_URL + "index.php?c=ad&a=banners&pageCode=" + b;
				new Date;
				return a({
					method: "GET",
					url: c
				})
			};
		return {
			getFriendLinks: b,
			getActivityBanner: c
		}
	}]), angular.module("services.show", []).factory("showService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getPageTagLabel = function(a) {
			var c = "index.php?c=upfile&a=systag&type=2";
			null != a && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + a);
			new Date;
			return b({
				method: "GET",
				url: PREFIX_S2_URL + c
			})
		}, c.getSceneList = function(c, d, e, f, g) {
			var h = PREFIX_S2_URL + "index.php?c=eqs&a=promotion";
			return c && (h += /\?/.test(h) ? "&" : "?", h += "template=" + c), d && (h += /\?/.test(h) ? "&" : "?", h += "recommend=" + d), e && (h += /\?/.test(h) ? "&" : "?", h += "tagId=" + e), f && (h += /\?/.test(h) ? "&" : "?", h += "pageNo=" + f), g && (h += /\?/.test(h) ? "&" : "?", h += "pageSize=" + g), b({
				method: "GET",
				url: h
			}).then(function(b) {
				if (b.data.success) {
					var c = b.data;
					a.$broadcast("sceneList", c)
				}
			})
		}, c.search = function(c) {
			var d = "index.php?c=eqs&a=search";
			return b({
				method: "POST",
				url: PREFIX_S2_URL + d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(c)
			}).then(function(b) {
				if (b.data.success) {
					var c = b.data;
					a.$broadcast("searchList", c)
				}
			})
		}, c
	}]), angular.module("services.visitor", []).factory("visitorService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getRecommendVisitor = function() {
			var a = "showker/recommend";
			return b({
				method: "GET",
				url: PREFIX_S2_URL + a
			})
		}, c.getVisitorMsg = function(a) {
			var c = "showker/detail?userId=" + a;
			return b({
				method: "GET",
				url: PREFIX_S2_URL + c
			})
		}, c.getVisitorList = function(a, c, d, e, f) {
			var g = "showker/list";
			return a && (g += /\?/.test(g) ? "&" : "?", g += "addr=" + a), c && (g += /\?/.test(g) ? "&" : "?", g += "pay=" + c), d && (g += /\?/.test(g) ? "&" : "?", g += "good=" + d), e && (g += /\?/.test(g) ? "&" : "?", g += "pageNo=" + e), f && (g += /\?/.test(g) ? "&" : "?", g += "pageSize=" + f), b({
				method: "GET",
				url: PREFIX_S2_URL + g
			})
		}, c.getVisitorMesList = function(a, c, d) {
			var e = "showker/represent?userId=" + a;
			return c && (e += /\?/.test(e) ? "&" : "?", e += "pageNo=" + c), d && (e += /\?/.test(e) ? "&" : "?", e += "pageSize=" + d), b({
				method: "GET",
				url: PREFIX_S2_URL + e
			})
		}, c
	}]), angular.module("visitorXq", ["services.visitor"]), angular.module("visitorXq").controller("VisitorXqCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "$routeParams", "visitorService", function(a, b, c, d, e, f, g) {
		c.childCat = "visitor", c.pageNo = 1, c.pageSize = 16, c.serverTag = [], c.cateTag = [], c.payTag = [], c.userId = f.id, c.qqAction = "QQ号：", c.getUserDetail = function() {
			g.getVisitorMsg(c.userId).then(function(a) {
				c.visitorMsg = a.data.obj, null === c.visitorMsg.tel && c.visitorMsg.phone ? c.visitorMsg.tel = c.visitorMsg.phone : c.visitorMsg.tel && c.visitorMsg.phone && (c.visitorMsg.tel = c.visitorMsg.phone);
				var b = a.data.obj.tagList;
				if (b) for (var d = 0; d < b.length; d++)"province" == b[d].type ? c.serverTag.push({
					tagId: b[d].tagId,
					name: b[d].name
				}) : "company_industry" == b[d].type ? c.cateTag.push({
					tagId: b[d].tagId,
					name: b[d].name
				}) : "payType" == b[d].type && c.payTag.push({
					tagId: b[d].tagId,
					name: b[d].name
				});
				c.visitorMsg.headImg && (0 === c.visitorMsg.headImg.indexOf("http://") ? c.visitorMsg.headImg = c.visitorMsg.headImg : c.visitorMsg.headImg = PREFIX_FILE_HOST + c.visitorMsg.headImg), null === c.visitorMsg.qq && (c.qqAction = "", $(".qq").addClass("hui"), c.visitorMsg.qq = "该秀客没有留下QQ号"), null === c.visitorMsg.tel && ($(".phone").addClass("hui"), c.visitorMsg.tel = "该秀客没有留下电话号码"), null === c.visitorMsg.wechat && ($(".weixin").addClass("hui"), c.visitorMsg.wechat = "该秀客没有留下微信号")
			})
		}, c.getUserDetail(), c.totalItems = 0, c.currentPage = 1, c.getUserWorks = function() {
			g.getVisitorMesList(c.userId, c.pageNo, c.pageSize).then(function(a) {
				c.visitorWorks = a.data.list, c.totalItems = a.data.map.count, c.toPage = a.data.map.pageNo;
				for (var b = 0; b < c.visitorWorks.length; b++) c.visitorWorks[b].headImg ? 0 === c.visitorWorks[b].headImg.indexOf("http://") ? c.visitorWorks[b].headImg = c.visitorWorks[b].headImg : c.visitorWorks[b].headImg = PREFIX_FILE_HOST + c.visitorWorks[b].headImg : c.visitorWorks[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
			})
		}, c.getUserWorks(), c.pageChanged = function(a) {
			return c.pageNo = a, 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void c.getUserWorks(c.userId, a, c.pageSize)
		}
	}]), angular.module("visitor", ["services.visitor"]), angular.module("visitor").controller("VisitorCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "usercenterService", "visitorService", function(a, b, c, d, e, f, g) {
		c.childCat = "visitor", c.visitorId = "12", c.pageNo = 1, c.pageSize = 12, c.visitorXq = function(a) {
			e.path("/show/visitor/" + a)
		};
		var h = function(a) {
				f.getAPPlyMessage(a).then(function(b) {
					"province" === a ? c.serverLabel = b.data.list : "company_industry" === a ? c.cateLabel = b.data.list : "payType" === a && (c.payLabel = b.data.list)
				})
			};
		h("province"), h("company_industry"), h("payType"), c.getLimitedServeRegion = function(a) {
			return c.serverLabel.indexOf(a) < 8
		}, c.getOtherServeRegion = function(a) {
			return c.serverLabel.indexOf(a) >= 8 && (c.moreArea = !0), c.serverLabel.indexOf(a) >= 8
		}, c.getLimitedCateRegion = function(a) {
			return c.cateLabel.indexOf(a) < 11
		}, c.getOtherCateRegion = function(a) {
			return c.cateLabel.indexOf(a) >= 11 && (c.moreLabel = !0), c.cateLabel.indexOf(a) >= 11
		};
		g.getRecommendVisitor().then(function(a) {
			if (c.recommendVisitor = a.data.obj, c.recommendVisitor.represent1) {
				var b = c.recommendVisitor.represent1,
					d = b.substring(0, b.indexOf("_")),
					e = b.substring(b.indexOf("_") + 1, b.length);
				c.work1Code = d, c.work1Name = e
			}
			if (c.recommendVisitor.represent2) {
				var f = c.recommendVisitor.represent2,
					g = f.substring(0, f.indexOf("_")),
					h = f.substring(f.indexOf("_") + 1, f.length);
				c.work2Code = g, c.work2Name = h
			}
			if (c.recommendVisitor.represent3) {
				var i = c.recommendVisitor.represent3,
					j = i.substring(0, i.indexOf("_")),
					k = i.substring(i.indexOf("_") + 1, i.length);
				c.work3Code = j, c.work3Name = k
			}
			c.recommendVisitor.headImg && (0 === c.recommendVisitor.headImg.indexOf("http://") ? c.recommendVisitor.headImg = c.recommendVisitor.headImg : c.recommendVisitor.headImg = PREFIX_FILE_HOST + c.recommendVisitor.headImg)
		});
		var i = {
			pay: null,
			addr: null,
			good: null
		};
		c.serverAll = "all", c.cateAll = "all", c.payAll = "all", c.serverWu = function(a, b) {
			c[b] = "all", "province" == a ? (i.addr = null, c.currentServer = null) : "company_industry" == a ? (i.good = null, c.currentCate = null) : "payType" == a && (i.pay = null, c.currentPay = null), j(i.addr, i.pay, i.good, c.pageNo, c.pageSize)
		}, c.subServer = function(a) {
			c.currentServer = a, c.serverAll = null, i.addr = a.id, j(i.addr, i.pay, i.good, c.pageNo, c.pageSize)
		}, c.subLabel = function(a) {
			c.currentCate = a, c.cateAll = null, i.good = a.id, j(i.addr, i.pay, i.good, c.pageNo, c.pageSize)
		}, c.subPay = function(a) {
			c.currentPay = a, c.payAll = null, i.pay = a.id, j(i.addr, i.pay, i.good, c.pageNo, c.pageSize)
		}, c.totalItems = 0;
		var j = function() {
				g.getVisitorList(i.addr, i.pay, i.good, c.pageNo, c.pageSize).then(function(a) {
					c.visitorList = a.data.list, c.totalItems = a.data.map.count, c.currentPage = a.data.map.pageNo, c.toPage = a.data.map.pageNo;
					for (var b = 0; b < c.visitorList.length; b++) {
						if (c.visitorList[b].represent1) {
							var d = c.visitorList[b].represent1,
								e = d.substring(0, d.indexOf("_")),
								f = d.substring(d.indexOf("_") + 1, d.length);
							c.visitorList[b].represent1Code = e, c.visitorList[b].represent1Name = f
						}
						if (c.visitorList[b].represent2) {
							var g = c.visitorList[b].represent2,
								h = g.substring(0, g.indexOf("_")),
								i = g.substring(g.indexOf("_") + 1, g.length);
							c.visitorList[b].represent2Code = h, c.visitorList[b].represent2Name = i
						}
						if (c.visitorList[b].represent3) {
							var j = c.visitorList[b].represent3,
								k = j.substring(0, j.indexOf("_")),
								l = j.substring(j.indexOf("_") + 1, j.length);
							c.visitorList[b].represent3Code = k, c.visitorList[b].represent3Name = l
						}
						c.visitorList[b].headImg && (0 === c.visitorList[b].headImg.indexOf("http://") ? c.visitorList[b].headImg = c.visitorList[b].headImg : c.visitorList[b].headImg = PREFIX_FILE_HOST + c.visitorList[b].headImg)
					}
				})
			};
		j(), c.pageChanged = function(a) {
			return c.pageNo = a, 1 > a || a > c.totalItems / 12 + 1 ? void alert("此页超出范围") : void j(i, a, c.pageSize)
		}
	}]), angular.module("app.spread.console", []).controller("ApplyConsoleCtrl", ["$scope", "$rootScope", "applyObj", "sceneSettingCache", "SpreadService", "pageTplService", function(a, b, c, d, e, f) {
		a.apply || (a.apply = {}), a.applyObj = c, 2 == c.type ? (a.title = "申请加入秀场", a.description = "申请加入易企秀官方秀场平台，获取更多朋友的关注", d.sceneTagsPromise.then(function(b) {
			var c = b.data.list || [];
			a.$watch("applyObj.sceneType", function(b) {
				b && (a.sceneTags = [], angular.forEach(c, function(c) {
					b == c.bizType && a.sceneTags.push(c)
				}))
			})
		})) : 1 == c.type ? (a.title = "申请成为样例", a.description = "申请易企秀官方推荐，成为其他用户创建场景的原型样例，还可以赚取秀点", 4 == b.user.type && d.sceneTplPricesPromise.then(function(b) {
			a.tplPrices = b.data.list || [], a.apply.tplObj = a.tplPrices[0]
		})) : 3 == c.type ? (a.title = "加入活动", a.description = "与其他高手过招，展示自我深厚的制作功力，有机会获得活动大奖", f.getPageTpls(c.value).then(function(b) {
			a.activityPageTpls = b.data.list || []
		})) : 4 == c.type && (a.title = "申请为企业样例");
		var g, h;
		a.apply = function() {
			if (2 == c.type) {
				if (!a.apply.showObj) return void(a.authError = "请先选择场景类型！");
				g = a.apply.showObj.id
			} else if (1 == c.type) g = 4 == b.user.type ? a.apply.tplObj.value : 0;
			else if (3 == c.type) if (0 == a.activityPageTpls.length) g = c.id;
			else {
				if (!i) return void(a.authError = "请先选择活动尾页！");
				g = c.id + "," + i
			}
			e.applyShareWay(c.sceneId, c.type, g)
		}, a.$on("apply.scene.share", function(b, c) {
			c.success ? a.$close({
				value: g,
				src: h
			}) : (alert(c.msg), a.$dismiss())
		});
		var i;
		a.selectActivePage = function(b) {
			$.each(a.activityPageTpls, function(a, b) {
				b.checked = !1
			}), b.checked = !0, i = b.id, b.properties && b.properties.thumbSrc && (h = b.properties.thumbSrc)
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]), angular.module("spread", ["app.directives.pieChart", "app.directives.numChangeAnim", "spread.tab", "app.directives.qrcode", "app.directives.switchInput", "app.directives.copyButton", "app.spread.console", "services.i18nNotifications"]), angular.module("spread").controller("SpreadCtrl", ["$scope", "$rootScope", "$location", "$routeParams", "MineService", "sceneService", "dataService", "security", "ModalService", "i18nNotifications", "dataCacheService", "$modal", function(a, b, c, d, e, f, g, h, i, j, k, l) {
		a.viewControl = {}, a.viewControl.tab = d.tab, a.sceneId = d.sceneId;
		var m, n = b.branchid;
		a.$watch("user", function(a) {
			a && (m = b.user && b.user.domain ? "http://" + b.user.domain : b.PREFIX_CLIENT_HOST, o())
		}, !0), a.getMyScene = o, a.editScene = function(a) {
			return 1 == a.isExpedited ? void i.openMsgDialog({
				msg: "该场景已在加急审核中，暂时无法编辑场景，请耐心等待",
				btn: "确认"
			}, function() {}) : void(30 == a.bizType ? l.open({
				windowClass: "seven-contain",
				templateUrl: "main/mobileTansform.tpl.html"
			}).result.then(function() {
				c.path("/scene/create/" + a.id).search("pageId", 1)
			}, function() {}) : c.path("/scene/create/" + a.id).search("pageId", 1))
		}, a.sceneSettings = function(b, d) {
			return 1 == d.isExpedited ? void i.openMsgDialog({
				msg: "该场景已在加急审核中，暂时无法设置场景，请耐心等待",
				btn: "确认"
			}, function() {}) : (b && b.stopPropagation(), void(30 == d.bizType ? l.open({
				windowClass: "seven-contain",
				templateUrl: "main/mobileTansform.tpl.html"
			}).result.then(function() {
				c.path("scene/create/" + a.sceneId).search({
					pageId: 1,
					openSetting: "show"
				})
			}, function() {}) : c.path("scene/create/" + a.sceneId).search({
				pageId: 1,
				openSetting: "show"
			})))
		};
		var o = function() {
				a.sceneDetailPromise = f.getSceneDetail(a.sceneId, n), a.sceneDetailPromise.then(function(b) {
					a.scene = b.data.obj, a.url = a.selectedUrl = m + "/v-" + a.scene.code, a.scene.accessCode ? a.sceneStadus = "加密访问" : 1 == a.scene.status ? a.sceneStadus = "开放访问" : a.sceneStadus = "关闭访问"
				})
			};
		a.viewScene = function(b) {
			return n ? void window.open(a.selectedUrl) : void(a.scene.publishTime ? a.scene.publishTime && a.scene.updateTime > a.scene.publishTime ? i.openConfirmDialog({
				msg: "场景有更新需要再次发布才能预览最新内容，坚持预览会看到修改之前的场景",
				confirmName: "发布",
				cancelName: "坚持预览"
			}, function() {
				a.publishScene(b, a.scene)
			}, function() {
				b && b.stopPropagation(), window.open(a.selectedUrl)
			}) : (b && b.stopPropagation(), window.open(a.selectedUrl)) : i.openConfirmDialog({
				msg: "尚未发布场景无法预览，请先发布",
				confirmName: "发布",
				cancelName: "取消"
			}, function() {
				a.publishScene(b, a.scene)
			}))
		}, a.publishScene = function(b, c, d) {
			if (b && b.stopPropagation(), !c.name) return void i.openMsgDialog({
				msg: "尚未设置标题，请设置后再执行此操作",
				btn: "去设置"
			}, function() {
				a.sceneSettings(b, c.id)
			});
			if (!d) var e = window.open();
			f.publishScene(c.id, d).then(function(b) {
				b.data.success ? (k.clear("sceneList"), c.publishTime = (new Date).getTime(), d ? i.openMsgDialog({
					msg: '该场景已经提交审核，系统会尽快给出审核结果并以系统消息形式给出，请耐心等待<br /><a style="color:#08a1ef;" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890&extra=page%3D1" target="_blank">了解审核规则</a>',
					btn: "关闭"
				}, function() {
					a.scene.isExpedited = "1", a.scene.status = "1"
				}) : e.location = a.selectedUrl) : d && i.openMsgDialog({
					msg: b.data.msg,
					btn: "关闭"
				})
			})
		}, a.showShare = function(b) {
			a.viewControl.tab = b, a.viewControl.subtab || (a.viewControl.subtab = "socialShare"), c.path("spread/share/" + d.sceneId + "/socialShare", !1)
		}, a.showStatistics = function(b) {
			a.viewControl.tab = b, c.path("spread/statistics/" + d.sceneId, !1)
		}, a.dataCollect = function(b) {
			a.viewControl.tab = b, c.path("spread/dataCollect/" + d.sceneId, !1)
		}, a.openScene = function(b, c) {
			c ? f.openScene(a.scene.id).then(function(b) {
				b.data.success && (a.scene.status = 1)
			}) : f.closeScene(a.scene.id).then(function(b) {
				b.data.success && (a.scene.status = 2)
			})
		}
	}]), angular.module("spread.dataCollect", []), angular.module("spread.dataCollect").controller("DataCollectCtrl", ["$rootScope", "$scope", "$timeout", "dataService", "ModalService", "i18nNotifications", "$modal", function(a, b, c, d, e, f, g) {
		function h(a, c, e) {
			d.getDataBySceneId(a, c, e, m).then(function(a) {
				a.data.list.length > 0 && (l = a.data.list.shift().slice(1));
				for (var c = 0; c < a.data.list.length; c++) a.data.list[c].$$id = a.data.list[c][0], a.data.list[c].splice(0, 1);
				if (k.length < 1) for (c = 0; c < l.length; c++) k.push({
					title: l[c],
					selected: !1,
					id: c
				});
				if (b.dataShow.length > 0) for (b.dataShowList.length = 0, c = 0; c < b.dataShow.length; c++) for (var d = 0; d < b.dataHeaders.length; d++) b.dataShow[c].id == b.dataHeaders[d].id && (b.dataHeaders[d].selected = !0);
				else if (k.length > 0 && k.length < 8) for (c = 0; c < k.length; c++) k[c].selected = !0, isTimeColumnSelected = !0;
				else if (k.length > 7) for (var e = 0; 8 > e; e++) k[e].selected = !0;
				b.dataList = a.data.list, b.totalItems = a.data.map.count, b.page.currentPage = a.data.map.pageNo, b.toPage = a.data.map.pageNo, j(), b.totalItems < 1e3 ? b.showUp = !1 : (b.showUp = !0, p())
			})
		}
		function j() {
			b.dataShow.length = 0;
			for (var a = 0; a < k.length; a++) k[a].selected && (b.dataShow.push({
				title: k[a].title,
				selected: !0,
				id: k[a].id
			}), b.dataContain = !0);
			if (b.dataShow.length < 1) b.dataShowList.length = 0;
			else for (var c = 0; c < b.dataList.length; c++) {
				var d = b.dataShowList[c] = [];
				for (d.push(b.dataList[c].$$id), d.$$id = d[0], d.splice(0, 1), a = 0; a < b.dataShow.length; a++) {
					var e = b.dataShow[a].id;
					d.push(b.dataList[c][e])
				}
			}
			0 === b.dataShow.length ? b.dataContain = !1 : 1 == b.dataShow.length ? b.tdW = "100%" : 2 == b.dataShow.length ? b.tdW = "50%" : 3 == b.dataShow.length ? b.tdW = "33.3%" : 4 == b.dataShow.length ? b.tdW = "25%" : 5 == b.dataShow.length ? b.tdW = "20%" : 6 == b.dataShow.length ? b.tdW = "16.5%" : 7 == b.dataShow.length && (b.tdW = "14.5%")
		}
		b.totalItems = 0, b.page = {
			currentPage: 1
		}, b.toPage = "", b.dataList = [];
		var k = b.dataHeaders = [],
			l = [];
		b.dataShow = [], b.dataShowList = [];
		var m = a.branchid;
		b.downApp = function() {
			g.open({
				windowClass: "console",
				templateUrl: "main/downApp.tpl.html",
				backdrop: "static"
			}).result.then(function() {})
		}, b.branchEdit = !0, b.branchDelete = !0, b.branchExport = !0, c(function() {
			21 == b.user.type && (b.user.extPermi ? (/^([\d,]+,)?1(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchEdit = !0 : b.branchEdit = !1, /^([\d,]+,)?2(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchDelete = !0 : b.branchDelete = !1, /^([\d,]+,)?3(,[\d,]*)?$/.test(b.user.extPermi) ? b.branchExport = !0 : b.branchExport = !1) : (b.branchEdit = !1, b.branchDelete = !1, b.branchExport = !1))
		}, 100), b.selectHeader = function(a, b, c) {
			j()
		};
		var n = PREFIX_S3_URL + "index.php??c=scenedata&a=excel&flag=noheader&id=" + b.sceneId + (m ? "&user=" + m : ""),
			o = PREFIX_S3_URL + "index.php?c=scenedata&a=excel&id=" + b.sceneId + (m ? "&user=" + m : "");
		b.dataOutNoHeader = function() {
			location.href = n
		}, b.dataOutNoHeaderPage = function(a, c) {
			var d;
			d = n + (/\?/.test(n) ? "&" : "?") + "start=" + a + "&end=" + c, location.href = d, b.dataPageList = !1
		}, b.dataOutDirect = function() {
			location.href = o
		}, b.dataOutPage = function(a, c) {
			var d;
			d = o + (/\?/.test(o) ? "&" : "?") + "start=" + a + "&end=" + c, location.href = d, b.dataPageList = !1
		};
		var p = function(a, c) {
				b.dataPageNums = [], b.dataPageobg = {};
				for (var d = Math.ceil(b.totalItems / 10, 16), e = Math.ceil(d / 100, 16), f = 1; e + 1 > f; f++) b.start = 100 * (f - 1) + 1, b.end = 100 * f, f == e && (b.end = d), b.dataPageobg = {
					start: b.start,
					end: b.end
				}, b.dataPageNums.push(b.dataPageobg)
			};
		b.dataDelete = function(a, c) {
			var g, j;
			for (selectIds = [], i = 0; i < b.dataShowList.length; i++) b.dataShowList[i].selected && selectIds.push(b.dataShowList[i].$$id);
			return selectIds.length ? (g = {
				ids: selectIds
			}, j = "确认删除选中数据？", void e.openConfirmDialog({
				msg: j
			}, function() {
				d.deleteDataBySceneId(b.sceneId, g).then(function(a) {
					200 == a.data.code && (f.pushForCurrentRoute("data.delete.success", "notify.success"), b.allSelect.selected = !1, h(b.sceneId, b.page.currentPage, 10))
				})
			})) : void alert("您还没有选择数据")
		}, b.allSelect = {
			selected: !1
		}, b.selectAll = function() {
			for (var a = 0, c = b.dataShowList.length; c > a; a++) b.dataShowList[a].selected = b.allSelect.selected
		}, b.selectData = function(a) {
			a.selected || (b.allSelect.selected = !1)
		}, b.pageChanged = function(a) {
			return 1 > a || a > b.totalItems / 10 + 1 ? void alert("此页超出范围") : (b.allSelect.selected = !1, b.page.currentPage = a, void h(b.sceneId, a, 10))
		}, h(b.sceneId, b.page.currentPage, 10), b.clickDown = function() {
			$(".origin-ul").css({
				height: "auto"
			})
		}
	}]), angular.module("spread.share", ["spread.share.subtab"]), angular.module("spread.share").controller("ShareCtrl", ["$rootScope", "$scope", "$routeParams", "$location", "security", function(a, b, c, d, e) {
		c.subtab && (b.viewControl.subtab = c.subtab), b.isDomainAccessable = e.isAllowToAccess(e.accessDef.ACCESS_DOMAIN_BIND), 2 != b.user.type || b.user.memberType || (b.isDomainAccessable = !1), b.showSelectSubTab = function(a) {
			b.viewControl.subtab = a, d.path("spread/share/" + b.sceneId + "/" + a, !1)
		}
	}]), angular.module("spread.statistics", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim"]), angular.module("spread.statistics").controller("StatisticsCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", "$filter", "$modal", function(a, b, c, d, e, f, g, h, i, j) {
		a.PREFIX_FILE_HOST = PREFIX_FILE_HOST, a.PREFIX_CLIENT_HOST = PREFIX_HOST, a.PREFIX_SERVER_HOST = PREFIX_URL, a.spreadViewGridOptions = {}, a.spreadMobileGridOptions = {}, a.spreadClickGridOptions = {}, a.sceneDeviceData = [], a.expandWebs = [], a.totalItems = 0, a.page = {
			currentPage: 1
		}, a.startDay = 0, a.toPage = "", a.dataPieChart = [], a.downApp = function() {
			j.open({
				windowClass: "console",
				templateUrl: "main/downApp.tpl.html",
				backdrop: "static"
			}).result.then(function() {})
		}, a.pageChanged = function(b) {
			return 1 > b || b > a.totalItems / 10 + 1 ? void alert("此页超出范围") : (a.pageData = a.mapOption.data.slice(10 * (b - 1), 10 * b - 1), void(a.currentPage = b))
		};
		var k = f.branchid;
		a.isAllowedToAccessExpandWebsite = h.isAllowToAccess(h.accessDef.EXPAND_WEBSITE), a.viewStyle = "line", a.dataLineChartDataOption = {
			data: [
				[],
				[]
			],
			xAxis: []
		}, a.dataMobileChartOption = {
			data: [
				[],
				[],
				[],
				[]
			],
			xAxis: []
		}, a.contentDataOption = {
			data: [
				[],
				[]
			],
			xAxis: []
		}, a.showLine = function() {
			a.viewStyle = "line"
		}, a.showPie = function() {
			a.viewStyle = "pie"
		}, a.$on("scene.detail", function(b, c, d) {
			a.scene = c, a.scene && (101 == a.scene.type ? a.sceneType = "行业" : 102 == a.scene.type ? a.sceneType = "个人" : 103 == a.scene.type ? a.sceneType = "企业" : 104 == a.scene.type ? a.sceneType = "节假" : 105 == a.scene.type && (a.sceneType = "风格"))
		}), a.devicePie = !1, a.deviceTime = 1, a.getDeviceDate = function(b, c) {
			e.getDevicePv(b, c), a.deviceTime = c
		}, a.$on("scene.device", function(b, c, d) {
			return c ? void(0 === c.sum ? (a.sceneDeviceData = [], a.dataDeviceShow = !1) : (a.sceneDeviceData = c.device, a.dataDeviceShow = !0)) : (a.sceneDeviceData = [], void(a.dataDeviceShow = !1))
		}), a.$on("scene.data", function(b, c, d, e, f, g) {
			a.stats = c, l(d, e, f, g)
		});
		var l = function(b, c, d, e) {
				a.pageView = 0, a.spreadClickGridOptions.data = a.stats, a.xAxisData = [], a.viewLineChartData = [], a.dataLineChartData = [], a.dataLineChartFriendGroup = [], a.dataLineChartFriends = [], a.dataLineChartFriend = [], a.dataLineChartOther = [], a.viewLineTel = [], a.viewLineTab = [], a.dataPieChart = [];
				for (var f = 0, g = 0, h = 0, i = 0, j = 0, k = 0; k < a.stats.length; k++) a.xAxisData.push(a.stats[k].STAT_DATE), a.viewLineChartData.push(a.stats[k].SHOW), a.dataLineChartData.push(a.stats[k].DATA), a.dataLineChartFriendGroup.push(a.stats[k].S_WX_TIMELINE), a.dataLineChartFriends.push(a.stats[k].S_WX_GROUP), a.dataLineChartFriend.push(a.stats[k].S_WX_SINGLE), a.viewLineTel.push(a.stats[k].TEL), a.viewLineTab.push(a.stats[k].LINK), a.dataOthers = a.stats[k].S_MOBILE - a.stats[k].S_WX_TIMELINE - a.stats[k].S_WX_SINGLE - a.stats[k].S_WX_GROUP, a.dataLineChartOther.push(a.dataOthers), a.pageView += a.stats[k].SHOW, f += a.stats[k].S_MOBILE, g += a.stats[k].S_WX_TIMELINE, h += a.stats[k].S_WX_SINGLE, i += a.stats[k].S_WX_GROUP;
				a.spreadMobile = !0, f > 0 ? (j = f - g - h - i, a.dataPieChart = [{
					value: g,
					name: "微信朋友圈"
				}, {
					value: i,
					name: "微信群"
				}, {
					value: h,
					name: "微信朋友"
				}, {
					value: j,
					name: "其他访问"
				}]) : a.spreadMobile = !1, 0 == a.viewLineChartData.length && 0 == a.dataLineChartData ? a.dataLineShow = !1 : a.dataLineShow = !0, 0 == a.dataLineChartFriendGroup.length && 0 == a.dataLineChartFriends.length && 0 == a.dataLineChartFriend.length && 0 == a.dataLineChartOther.length ? a.dataMobileShow = !1 : a.dataMobileShow = !0, 0 == a.viewLineTel.length && 0 == a.viewLineTab.length ? a.dataViewClickShow = !1 : a.dataViewClickShow = !0, a.dataLineChartDataOption = {
					data: [a.viewLineChartData, a.dataLineChartData],
					xAxis: a.xAxisData
				}, a.dataMobileChartOption = {
					data: [a.dataLineChartFriendGroup, a.dataLineChartFriends, a.dataLineChartFriend, a.dataLineChartOther],
					xAxis: a.xAxisData
				}, a.contentDataOption = {
					data: [a.viewLineTel, a.viewLineTab],
					xAxis: a.xAxisData
				}, $(".myGrid1").height(50 * (a.stats.length + 1) + 1), $(".myGrid1 .ui-grid-viewport").height(50 * a.stats.length + 1)
			};
		a.getAllStats = function(b, c, d) {
			a.model = {
				startTime: c,
				endTime: d
			}, e.getSceneData(b, c, d, k, a.expandId)
		}, a.getAllStats(a.sceneId, -7, 0), a.$on("webs.update", function(b) {
			a.expandWebs = e.expandWebs
		}), a.viewExpandDetail = function(b, c) {
			a.selectIndex = c, a.expandId = b, a.model ? a.getAllStats(a.scene.id, a.model.startTime, a.model.endTime) : a.getAllStats(a.scene.id, -6, 1)
		}, c.sceneId && e.getWebList(c.sceneId, !0, k), a.$on("region.update", function(b, c) {
			if (!c) return void(a.mapOption = {
				data: [],
				maxValue: 0
			});
			for (var d = 0; d < c.region.length; d++)(c.region[d].name.indexOf("省") > -1 || c.region[d].name.indexOf("市") > -1) && (c.region[d].name = c.region[d].name.substr(0, c.region[d].name.length - 1)), "内蒙古自治区" == c.region[d].name && (c.region[d].name = "内蒙古"), "广西壮族自治区" == c.region[d].name && (c.region[d].name = "广西"), "西藏自治区" == c.region[d].name && (c.region[d].name = "西藏"), "新疆维吾尔自治区" == c.region[d].name && (c.region[d].name = "新疆"), "香港特别行政区" == c.region[d].name && (c.region[d].name = "香港"), "宁夏回族自治区" == c.region[d].name && (c.region[d].name = "宁夏"), "澳门特别行政区" == c.region[d].name && (c.region[d].name = "澳门");
			if (c.max > 0) {
				var e = c.max.toString();
				c.max = (parseInt(e[0], 10) + 1) * Math.pow(10, e.length - 1)
			}
			a.mapOption = {
				data: c.region,
				maxValue: c.max
			}, a.totalItems = c.region.length, a.totalItems > 10 ? a.pageData = a.mapOption.data.slice(0, 9) : a.pageData = c.region
		}), a.changeMap = function(b) {
			b != a.startDay && (a.startDay = b, e.queryRegion(c.sceneId, b))
		}, 2 == h.currentUser.type && (a.getDeviceDate(c.sceneId, 1), a.changeMap(1))
	}]).directive("spreadMap", ["$parse", function(a) {
		return {
			restrict: "E",
			scope: {
				option: "@"
			},
			template: '<div class="echartView"></div>',
			link: function(a, b, c) {
				a.echart = echarts.init(b.find("div")[0], "gray");
				var d = {
					title: {
						text: "",
						subtext: "",
						x: "center"
					},
					tooltip: {
						trigger: "item"
					},
					legend: {
						orient: "vertical",
						x: "right",
						data: ["pv"]
					},
					dataRange: {
						min: 0,
						max: 2500,
						text: ["高", "低"],
						calculable: !0,
						precision: 0
					},
					series: [{
						name: "pv",
						type: "map",
						mapType: "china",
						itemStyle: {
							normal: {
								label: {
									show: !0
								}
							},
							emphasis: {
								color: "#59c3f9",
								label: {
									show: !0
								}
							}
						},
						data: a.data
					}]
				};
				a.$watch("option", function(b, c) {
					if (b != c) {
						var e = JSON.parse(b);
						d.series[0].data = e.data, d.dataRange.max = e.maxValue, a.echart.clear(), a.echart.setOption(d)
					}
				})
			}
		}
	}]).directive("eqdLineChart", [function() {
		return {
			restrict: "E",
			scope: {
				option: "@",
				legend: "@"
			},
			template: '<div class="lineChartView"></div>',
			link: function(a, b, c) {
				a.echart = echarts.init(b.find("div")[0], "macarons");
				var d = JSON.parse(c.legend),
					e = {
						title: {
							text: "访问次数",
							x: "center"
						},
						legend: {
							data: d,
							x: "left"
						},
						calculable: !0,
						tooltip: {
							trigger: "axis"
						},
						xAxis: [{
							type: "category",
							boundaryGap: !1,
							data: []
						}],
						yAxis: [{
							type: "value"
						}],
						series: [{
							name: "",
							type: "line",
							smooth: !0,
							itemStyle: {
								normal: {
									areaStyle: {
										type: "default"
									}
								}
							},
							data: []
						}]
					},
					f = JSON.parse(c.option);
				e.xAxis[0].data = f.xAxis;
				for (var g = 1; g < f.data.length; g++) e.series[g] = angular.copy(e.series[0]);
				for (var h = 0; h < f.data.length; h++) e.series[h].name = d[h], e.series[h].data = f.data[h];
				a.echart.setOption(e), a.$watch("option", function(b, c) {
					if (b != c) {
						var d = JSON.parse(b);
						e.xAxis[0].data = d.xAxis;
						for (var f = 0; f < d.data.length; f++) e.series[f].data = d.data[f];
						a.echart.showLoading(), a.echart.hideLoading(), a.echart.setOption(e, !0)
					}
				})
			}
		}
	}]).directive("eqdPieChart", [function() {
		return {
			restrict: "E",
			scope: {
				data: "@",
				name: "@"
			},
			template: '<div class="pieChartView"></div>',
			link: function(a, b, c) {
				a.echart = echarts.init(b.find("div")[0], "macarons");
				for (var d = JSON.parse(c.data), e = [], f = 0; f < d.length; f++) e.push(d[f].name);
				var g = {
					tooltip: {
						trigger: "item",
						formatter: "{a} <br/>{b} : {c} ({d}%)"
					},
					legend: {
						orient: "vertical",
						x: "left",
						data: e
					},
					calculable: !0,
					series: [{
						name: c.name,
						type: "pie",
						radius: "55%",
						center: ["50%", "60%"],
						data: d
					}]
				};
				a.echart.setOption(g), a.$watch("data", function(b, c) {
					if (b != c) {
						var d = JSON.parse(b);
						g.series[0].data = d;
						for (var e = [], f = 0; f < d.length; f++) e.push(d[f].name);
						g.legend.data = e, a.echart.showLoading(), a.echart.hideLoading(), a.echart.setOption(g)
					}
				})
			}
		}
	}]), angular.module("spread.share.buyerMess", ["spread.share.messagePost"]), angular.module("spread.share.buyerMess").controller("buyMessage", ["$scope", "dataService", "messageNumberFn", "i18nNotifications", function(a, b, c, d) {
		a.messageNumber = c, a.cancel = function() {
			a.$close()
		}, a.getUserXd(), a.getMessModel = function() {
			b.getMessModel(2).then(function(b) {
				a.getMessModels = b.data.list
			})
		}, a.getMessModel(), a.model = {
			layout: ""
		}, a.confirm = function() {
			return a.model.layout ? a.model.layout.price > a.userXd ? void d.pushForCurrentRoute("spread.share.messagebuyxdless", "notify.success") : (a.userXd -= a.model.layout.price, b.buyMess(a.model.layout.id).then(function(b) {
				b.data.success && a.messageNumber()
			}), void a.$close()) : void d.pushForCurrentRoute("spread.share.messagebuylayout", "notify.success")
		}
	}]), angular.module("spread.share.checkScene", ["services.usercenter"]), angular.module("spread.share.checkScene").controller("CheckSceneCtrl", ["$scope", "$rootScope", "usercenterService", "ModalService", "$modal", "$timeout", function(a, b, c, d, e, f) {
		var g = function(b) {
				return !a.scene.publishTime || a.scene.publish && a.scene.updateTime <= a.scene.publishTime ? void d.openConfirmDialog({
					msg: a.scene.publish ? "该场景有更新，进行审核时，会保存发布场景" : "该场景未发布，进行审核时，会先发布场景",
					confirmName: "同意",
					cancelName: "不同意"
				}, function() {
					a.publishScene(null, a.scene, b)
				}) : 2 == a.scene.status ? void d.openConfirmDialog({
					msg: "当前场景为不允许访问状态，发布场景将重新对外开放访问 ",
					confirmName: "坚持发布",
					cancelName: "退出"
				}, function() {
					a.publishScene(null, a.scene, b)
				}) : void a.publishScene(null, a.scene, b)
			};
		f(function() {
			a.scene && (2 == a.user.type && a.user.memberType && (3 == a.user.memberType || 4 == a.user.memberType) || 5 == a.user.type) ? a.checkQian = !0 : a.checkQian = !1, 2 == a.user.type && a.user.memberType || 4 == a.user.type || 5 == a.user.type ? a.checkBo = !0 : a.checkBo = !1
		}, 300), a.checkScene = function(b) {
			if ("1" == a.scene.isExpedited) return void d.openMsgDialog({
				msg: "场景已在加急审核中，请耐心等待",
				btn: "关闭"
			});
			if (-2 == a.scene.status) {
				if ("1" == b) return void d.openMsgDialog({
					msg: "场景审核中不能使用前置审核，如果想要加急，可以使用驳回加急审核",
					btn: "关闭"
				});
				if ("2" == b) return void g(b)
			}
			if (-1 != a.scene.status) return "2" == b ? void d.openMsgDialog({
				msg: "场景未被驳回，暂不能使用",
				btn: "关闭"
			}) : void g(b);
			if ("1" == b) return void d.openMsgDialog({
				msg: "场景被驳回，请使用驳回加急审核",
				btn: "关闭"
			});
			if ("2" == b) {
				if (a.scene.publishTime && a.scene.updateTime <= a.scene.publishTime) return void d.openMsgDialog({
					msg: "您未对已驳回场景做任何修改，无法提交审核",
					btn: "关闭"
				});
				g(b)
			}
		};
		var h = Date.parse(new Date),
			i = function() {
				c.getPhoneMessageTime().then(function(b) {
					b.data.success && (a.dataTime = b.data.obj, a.dataTime && a.dataTime > h ? a.messageTime = !0 : a.messageTime = !1)
				})
			};
		i(), a.messageAction = function() {
			1 != b.user.checkPhone ? d.openConfirmDialog({
				msg: "您未绑定手机号，不能接受短信消息，立即去绑定",
				confirmName: "确定",
				cancelName: "取消"
			}, function() {
				e.open({
					windowClass: "six-contain mobile-contain",
					templateUrl: "usercenter/console/checkMobile.tpl.html",
					controller: "CheckMobileCtrl",
					scope: a,
					resolve: {
						userinfo: function() {
							return {
								title: "绑定手机号",
								phone: ""
							}
						}
					}
				}).result.then(function(a) {
					b.user.phone = a, b.user.checkPhone = 1
				}, function() {})
			}, function() {}) : a.userXd < 10 ? d.openConfirmDialog({
				msg: "您的秀点不足抵扣10个秀点，立即购买秀点",
				confirmName: "确定",
				cancelName: "取消"
			}, function() {
				e.open({
					windowClass: "console",
					templateUrl: "?c=pay",
					controller: "BuyXdController",
					resolve: {
						getUserXd: function() {
							return function() {}
						}
					}
				}).result.then(function() {}, function() {})
			}, function() {}) : d.openConfirmDialog({
				msg: "开通消息提醒，需要使用10个秀点",
				confirmName: "确定",
				cancelName: "取消"
			}, function() {
				c.phoneMessage().then(function(a) {
					a.data.success ? (b.$broadcast("userXd"), d.openMsgDialog({
						msg: "短信接收场景审核消息功能已开通",
						btn: "确定"
					}, function() {
						i()
					})) : 130001 == a.data.code && d.openConfirmDialog({
						msg: "您的秀点不足抵扣10个秀点，立即购买秀点",
						confirmName: "确定",
						cancelName: "取消"
					}, function() {
						e.open({
							windowClass: "console",
							templateUrl: "?c=pay",
							controller: "BuyXdController",
							resolve: {
								getUserXd: function() {
									return function() {}
								}
							}
						}).result.then(function() {}, function() {})
					}, function() {})
				})
			})
		}
	}]), angular.module("spread.share.domainBind", ["services.usercenter", "services.i18nNotifications"]), angular.module("spread.share.domainBind").controller("DomainBindCtrl", ["$scope", "$rootScope", "usercenterService", "i18nNotifications", "security", function(a, b, c, d, e) {
		a.showController = {}, a.userType = e.currentUser.type, a.goStep = function(b) {
			a.showController.step = b
		}, a.bindDomain = function() {
			a.showController.agreeBind = !0
		}, a.reApply = function() {
			a.isShowBindPanel = !0, a.showController.agreeBind = !1
		};
		var f = function() {
				c.getDomain().then(function(b) {
					if (b.data.success) if (a.domainInfo = b.data.obj, a.model.day = b.data.obj.typeList[0], a.typeIndex = 0, b.data.obj.id) {
						a.isShowBindPanel = !1, a.domainInfo.ipAddress = "202.173.11.90";
						var c = a.status = b.data.obj.status;
						1 === c ? (a.domainMes = "正常使用", a.unbind = !1, a.domainInfo.restTime = Math.floor((a.domainInfo.endDate - a.domainInfo.startDate) / 864e5)) : 2 === c ? (a.domainMes = "审核中", a.unbind = !1) : 3 === c ? (a.domainMes = "审核失败", a.unbind = !0) : 4 === c ? a.domainMes = "停用" : (new Date).getTime() > b.data.obj.endDate && (a.status = 5, a.domainMes = "到期", a.unbind = !0)
					} else a.isShowBindPanel = !0
				})
			};
		f(), a.getUserXd = function() {
			c.getUserXd().then(function(b) {
				b.data.success && (a.xdCounts = b.data.obj)
			})
		}, a.getUserXd(), a.model || (a.model = {});
		var g = a.model;
		a.checkDomainFormat = function(b) {
			return b.url ? (a.domainFormatErr = "", !0) : (a.domainFormatErr = "请填写您要绑定的域名", !1)
		}, a.checkDayFormat = function(b) {
			return b.day ? (a.dayFormatErr = "", !0) : (a.dayFormatErr = "请选择有效期", !1)
		}, a.checkAppIdAndSecret = function(b) {
			return b.appId && !b.secretId ? (a.appIdFormatErr = "请填写您的APPSECRET", !1) : !b.appId && b.secretId ? (a.appSecretErr = "请填写您的APPID", !1) : (a.appIdFormatErr = "", a.appSecretErr = "", !0)
		}, a.submit = function() {
			if (a.checkDomainFormat(g) && a.checkDayFormat(g) && a.checkAppIdAndSecret(g)) if (5 == a.userType ? (a.cost = g.day.label = 0, g.day.value = "365") : a.cost = g.day.label, a.xdCounts >= parseInt(a.cost, 10)) {
				var b = {
					url: g.url,
					buyTime: g.day.value,
					appId: g.appId,
					secretId: g.secretId
				};
				c.bindDomain(b).then(function(b) {
					b.data.success ? (alert("域名绑定申请已经提交"), a.status = 2, a.isShowBindPanel = !1, a.domainInfo.ipAddress = "202.173.11.90", a.domainInfo.url = g.url) : a.actionerror = b.data.msg
				}, function() {
					alert("服务器异常")
				})
			} else d.pushForCurrentRoute("xd.insufficient", "notify.success")
		}, a.switchDomainType = function(b) {
			a.typeIndex = b
		}
	}]), angular.module("spread.share.expandWeb", []), angular.module("spread.share.expandWeb").controller("ExpandWebCtrl", ["$rootScope", "$scope", "$routeParams", "SpreadService", "ModalService", function(a, b, c, d, e) {
		var f = a.branchid,
			g = function() {
				d.getWebList(b.sceneId, !0, f)
			};
		g(), b.$on("webs.update", function(a) {
			b.expandWebs = d.expandWebs || []
		}), b.addExpandWeb = function(c) {
			c.unshift({
				name: b.scene.name + "_扩展" + (c.length + 1),
				url: b.selectedUrl,
				showCount: 0
			}), a.$broadcast("make.input.focus")
		}, b.deleteWeb = function(a, c) {
			e.openConfirmDialog({
				msg: "删除后场景原地址无法访问，相应数据无法查看。"
			}, function() {
				var e = {
					id: c.id,
					index: a
				};
				c.id ? d.deleteWeb(e) : b.expandWebs.splice(a, 1)
			})
		};
		var h;
		b.recordName = function(a) {
			h = a
		}, b.updateName = function(a) {
			var c = {
				sceneId: b.sceneId,
				name: a.name
			};
			if (a.id) {
				if (h == a.name) return;
				c.id = a.id
			}
			d.updateName(c).then(function(c) {
				c.data.success && (a.id || (a.id = c.data.obj.id, a.url = b.selectedUrl + "?qrc=" + a.id))
			}, function(a) {
				alert("服务器异常！")
			})
		}, b.qrcodeList = [{
			type: 1,
			name: "小（256px）",
			size: 256
		}, {
			type: 2,
			name: "中（512px）",
			size: 512
		}, {
			type: 3,
			name: "大（1024px）",
			size: 1024
		}], b.downloadQrcode = function(b) {
			a.$broadcast("download.canvas", b.size)
		}
	}]), angular.module("spread.share.messageCustomer", []), angular.module("spread.share.messageCustomer").controller("messageCustomer", ["$rootScope", "$scope", "dataService", "i18nNotifications", "security", "res", function(a, b, c, d, e, f, g, h) {
		var i = {};
		b.select = 0;
		var g = f.customers;
		if (b.model = {}, b.model.toPage = f.toPage, g.length > 0) for (var j = 0; j < g.length; j++) i[g[j].id] = 1;
		var k = a.branchid;
		b.dataShow = "message", b.useMessNum = 0, b.customerDatas = f.res.data.list, b.totalItems = f.res.data.map.count, b.model.currentPage = f.res.data.map.pageNo, b.totalNum = Math.ceil(b.totalItems / f.res.data.map.pageSize), b.customerBFlag = !0;
		for (var j = 0, l = b.customerDatas.length; l > j; j++) for (var m = 0; m < g.length; m++) b.customerDatas[j].id == g[m].id && (b.customerDatas[j].selected = !0);
		b.cancel = function() {
			b.$close(g)
		}, b.$on("customDatas", function(a, c) {
			b.customCount = c
		}), b.customer = {
			group: null,
			origin: null
		}, b.groups = [], b.getGroups = function() {
			b.groups.length > 0 || c.getGroups(k).then(function(a, c) {
				b.groups = a.data.list
			}, function(a) {})
		}, b.getGroups(), b.model.currentPage = 0, b.toPage = "", b.pageChanged = function(a, c, d, e) {
			if (1 > a || a > b.totalItems / 10 + 1) return void alert("此页超出范围");
			for (var f = 0, h = b.customerDatas.length; h > f; f++) for (var i = 0; i < g.length; i++) b.customerDatas[f].id == g[i].id && (b.customerDatas[f].selected = !0);
			b.model.currentPage = a, b.getDataBySceneId(a, c, d, e)
		};
		var n = [];
		b.getDataBySceneId = function(a, d, e, f) {
			a || (a = 1), c.getAllData(a, d, e, f).then(function(a) {
				if (a.data.success) {
					b.customerDatas = a.data.list, b.totalItems = a.data.map.count, b.model.currentPage = a.data.map.pageNo, b.totalNum = Math.ceil(b.totalItems / a.data.map.pageSize);
					for (var c = 0, d = b.customerDatas.length; d > c; c++) for (var e = 0; e < g.length; e++) b.customerDatas[c].id == g[e].id && (b.customerDatas[c].selected = !0);
					b.allCheckbox()
				}
			})
		}, b.allCheckbox = function() {
			for (var a = 0, c = 0; c < b.customerDatas.length; c++) b.customerDatas[c].selected && a++;
			a == b.customerDatas.length ? b.allImages.selected = !0 : b.allImages.selected = !1
		}, b.linkMan = function() {
			for (var a = 0, c = b.customerDatas.length; c > a; a++) b.customerDatas[a].selected && n.push(b.customerDatas[a]);
			for (var a = 0; a < n.length; a++) i[n[a].id] || (i[n[a].id] = 1, g.push(n[a]));
			for (var a = 0; a < b.customerDatas.length; a++) for (var d = 0; d < g.length; d++) b.customerDatas[a].selected || b.customerDatas[a].id == g[d].id && (delete i[g[d].id], g.splice(d, 1), d--);
			b.allCheckbox(), n = []
		}, b.isAllowedToAccessGrouping = e.isAllowToAccess(e.accessDef.GROUP_CUSTOMER), b.isAllowedToAccessGrouping && (b.allImages = {
			selected: !1
		}, b.selectAll = function() {
			for (var a = 0, c = b.customerDatas.length; c > a; a++) b.customerDatas[a].selected = b.allImages.selected;
			b.linkMan()
		}, b.selectCustomer = function(a) {
			a.selected || (b.allImages.selected = !1), b.linkMan()
		}), b.$watch("model.currentPage", function(a, c) {
			a && a != c && (b.model.toPage = a)
		}, !0), b.confirm = function() {
			b.$close(g)
		}
	}]), angular.module("spread.share.messageDetail", []), angular.module("spread.share.messageDetail").controller("messageDetail", ["$scope", "dataService", "datas", "msgid", function(a, b, c, d) {
		a.datas = c, a.msgid = d, a.sendDetails = c.list, a.model.DetailPage = 0, a.detailTotal = 0, a.detailTotal = c.map.count, a.detailTotalPage = Math.ceil(c.map.count / c.map.pageSize), a.model.detailPage = 1, a.DetailChangePage = function(c, d) {
			return 1 > d || d > a.detailTotal / 10 + 1 ? void alert("此页超出范围") : (a.model.DetailPage = d, void b.sendDetail(c, a.model.DetailPage).then(function(b) {
				b.data.success && (a.sendDetails = b.data.list)
			}))
		}, a.$watch("model.DetailPage", function(b, c) {
			b && b != c && (a.model.detailPage = b)
		}, !0), a.cancel = function() {
			a.$close()
		}
	}]), angular.module("spread.share.messagePost", []), angular.module("spread.share.messagePost").controller("messagePostCtrl", ["$rootScope", "$scope", "$timeout", "dataService", "$modal", "i18nNotifications", "security", "$timeout", "sceneService", function(a, b, c, d, e, f, g, c, h) {
		b.select = 0, b.toPage = 1, b.model = {};
		a.branchid;
		b.dataShow = "message", b.useMessNum = 0, b.model.bFlag = "messageWrite", b.model.messageContent = "", b.obj = {
			selectedPeople: []
		}, b.model.mobileArr = [], b.tabwirte = function(a) {
			b.model.bFlag = a
		}, b.tagTransform = function(a) {
			var b = {
				name: a,
				id: a,
				type: "phone"
			};
			return b
		}, b.modelMessFn = function() {
			d.modelMess(b.sceneId).success(function(a) {
				a.success && (b.messageContents = a.list)
			})
		}, b.messageNumberFn = function() {
			d.messageNumber().then(function(a) {
				a.data.success && (b.messageNumber = a.data.obj || 0)
			})
		}, b.modelMessFn(), b.messageNumberFn(), b.getDataBySceneId = function(a, c, f, g) {
			a || (a = 1), d.getAllData(a, c, f, g).then(function(a) {
				if (a.data.success) {
					var c = [];
					e.open({
						windowClass: "six-contain message-customer",
						templateUrl: "spread/tab/subtab/message-customer.tpl.html",
						controller: "messageCustomer",
						backdrop: "static",
						scope: b,
						resolve: {
							res: function() {
								return {
									res: a,
									customers: $.extend(!0, c, b.obj.selectedPeople),
									toPage: b.toPage
								}
							}
						}
					}).result.then(function(a) {
						for (var c = 0; c < a.length; c++) a[c].id = a[c].id.toString(), a[c].isTag = !1;
						b.obj.selectedPeople = [], $.extend(!0, b.obj.selectedPeople, a), b.mobileFn()
					}, function(a) {
						b.obj.selectedPeople = a
					})
				}
			})
		}, b.buyMess = function() {
			e.open({
				windowClass: "six-contain buy-message",
				templateUrl: "spread/tab/subtab/buy-message.tpl.html",
				controller: "buyMessage",
				scope: b,
				resolve: {
					messageNumberFn: function() {
						return b.messageNumberFn
					}
				}
			}).result.then(function() {}, function() {})
		}, b.sendMess = function() {
			if (0 == b.obj.selectedPeople.length) return void f.pushForCurrentRoute("spread.share.messagecustomer", "notify.success");
			if (!b.model.messageContent) return void f.pushForCurrentRoute("spread.share.messagecontent", "notify.success");
			if (b.useMessNum > b.messageNumber) return f.pushForCurrentRoute("spread.share.messageless", "notify.success"), void b.buyMess();
			for (var a = [], e = "", g = [], h = "", i = 0; i < b.obj.selectedPeople.length; i++) b.obj.selectedPeople[i].type ? g.push(b.obj.selectedPeople[i].name) : a.push(b.obj.selectedPeople[i].id);
			e = a.join(","), h = g.join(","), d.sendMess(e, b.model.messageContent.id, h, b.sceneId).then(function(a) {
				a.data.success ? (b.loadingShow = !0, c(function() {
					b.loadingShow = !1, f.pushForCurrentRoute("spread.share.messagesendsuccess", "notify.success"), b.messageNumberFn(), b.tabwirte("messageList"), b.obj.selectedPeople = [], b.model.messageContent = null, b.model.customerName = "", b.sendTatolDetail(1)
				}, 1e4)) : (alert(a.data.msg), b.messageNumberFn(), b.obj.selectedPeople = [], b.model.messageContent = null, b.model.customerName = "")
			})
		}, b.mobileFn = function() {
			for (var a = 0; a < b.obj.selectedPeople.length; a++) if (b.obj.selectedPeople[a].type) b.model.mobileArr = b.model.mobileArr.concat(b.obj.selectedPeople[a].name.split(" "));
			else {
				if (!b.obj.selectedPeople[a].mobile) continue;
				b.model.mobileArr = b.model.mobileArr.concat(b.obj.selectedPeople[a].mobile.split(","))
			}
			b.useMessNum = b.model.mobileArr.length, b.model.mobileArr = []
		}, b.$watch("obj", function(a, d) {
			var e = /^[0-9]{11}$/;
			b.mobileFn(), 0 != a.selectedPeople.length && a != d && (a.selectedPeople[a.selectedPeople.length - 1] && a.selectedPeople[a.selectedPeople.length - 1].type ? e.test(a.selectedPeople[a.selectedPeople.length - 1].name) || c(function() {
				a.selectedPeople.pop(), b.mobileFn(), alert("请输入正确的手机号码")
			}) : a.selectedPeople[a.selectedPeople.length - 1] || c(function() {
				a.selectedPeople.pop(), b.mobileFn(), alert("请输入正确的手机号码")
			}), b.mobileFn())
		}, !0), b.model.sendDetailPage = 0, b.model.messPage = 1, b.sendMessTotal = 0, b.sendDetailChangePage = function(a) {
			return 1 > a || a > b.sendMessTotal / 10 + 1 ? void alert("此页超出范围") : (b.model.sendDetailPage = a, void b.sendTatolDetail(a))
		}, b.$watch("model.sendDetailPage", function(a, c) {
			a && a != c && (b.model.messPage = a)
		}, !0), b.sendTatolDetail = function(a) {
			d.sendTatolDetail(a).then(function(a) {
				a.data.success && (b.sendTatolDetails = a.data.list, b.sendMessTotal = a.data.map.count, b.totalMessNum = Math.ceil(b.sendMessTotal / a.data.map.pageSize))
			})
		}, b.sendTatolDetail(1), b.sendDetail = function(a, c) {
			d.sendDetail(a, c).then(function(c) {
				c.data.success && (b.datas = c.data, e.open({
					windowClass: "six-contain",
					templateUrl: "spread/tab/subtab/message-detail.tpl.html",
					controller: "messageDetail",
					scope: b,
					resolve: {
						datas: function() {
							return b.datas
						},
						msgid: function() {
							return a
						}
					}
				}).result.then(function() {}, function() {}))
			})
		}
	}]).directive("showLoading", function() {
		return {
			restrict: "EA",
			template: '<div id="loading" style="display:block;"><div class="loading-con"><img ng-src="{{CLIENT_CDN}}assets/images/puff.svg"><p>发送中，请稍后</p></div><div class="loading-bg"></div></div>'
		}
	}), angular.module("spread.share.siteImport", []), angular.module("spread.share.siteImport").controller("SiteImportCtrl", ["$rootScope", "$scope", "$routeParams", "sceneService", function(a, b, c, d) {
		function e() {
			b.contentTexts = [{
				textOne: "以iframe的方式嵌入",
				textTwo: "该嵌入方式不能自适应高度，请谨慎使用。",
				textThree: "点击“复制代码”后，将代码粘贴至网页HTML期望的位置即可",
				url: '<iframe width=322px frameborder=0 height=641px src="' + b.selectedUrl + '"></iframe>',
				title: "在网页中以iFrame的方式嵌入场景"
			}]
		}
		b.$watch("user", function(c) {
			if (c) {
				var f;
				f = a.user && a.user.domain ? "http://" + a.user.domain : a.PREFIX_CLIENT_HOST, d.getSceneDetail(b.sceneId).then(function(a) {
					b.url = b.selectedUrl = f + "/v-" + b.scene.code, e()
				})
			}
		}, !0)
	}]), angular.module("spread.share.socialShare", ["app.directives.disableKeydown"]), angular.module("spread.share.socialShare").controller("SocialShareCtrl", ["$rootScope", "$scope", "$routeParams", "$modal", "i18nNotifications", "sceneSettingCache", "SpreadService", "pageTplService", function(a, b, c, d, e, f, g, h) {
		b.obj = {}, b.qrcodeList = [{
			type: 1,
			name: "小（256px）",
			size: 256
		}, {
			type: 2,
			name: "中（512px）",
			size: 512
		}, {
			type: 3,
			name: "大（1024px）",
			size: 1024
		}], b.shareList = [{
			id: 1,
			type: "sina",
			icon: "eqf-weibo",
			title: "新浪微博",
			"class": "sina"
		}, {
			id: 2,
			type: "tencent",
			icon: "eqf-txweibo",
			title: "腾讯微博",
			"class": "tencent"
		}, {
			id: 3,
			type: "qqzone",
			icon: "eqf-QQzone",
			title: "qq空间",
			"class": "qqzone"
		}, {
			id: 4,
			type: "timeline",
			icon: "eqf-friend",
			title: "微信朋友圈",
			"class": "timeline"
		}, {
			id: 5,
			type: "yixin",
			icon: "eqf-yixin",
			title: "易信",
			"class": "yixin"
		}, {
			id: 6,
			type: "tieba",
			icon: "eqf-tieba",
			title: "百度贴吧",
			"class": "tieba"
		}, {
			id: 7,
			type: "laiwang",
			icon: "eqf-laiwang",
			title: "来往",
			"class": "laiwang"
		}], b.downloadQrcode = function(b) {
			a.$broadcast("download.canvas", b.size)
		};
		var i = function() {
				g.getShareWayList(b.sceneId)
			};
		i(), b.$on("shareway.update", function(a, c) {
			$.each(b.shareList, function(a, b) {
				$.each(c, function(a, c) {
					c.type == b.id && 1 == c.status && (b.isLighted = !0)
				})
			})
		}), b.activeShareWay = function(a) {
			g.activeShareWay(b.sceneId, a)
		}, b.$on("active.shareway", function(a, c) {
			$.each(b.shareList, function(a, b) {
				c == b.id && (b.isLighted = !0)
			})
		}), b.$watch("scene", function(a, c) {
			a && (-1 == a.status ? b.tip = "审核被拒绝不能申请" : -2 == a.status && (b.tip = "审核中不能申请"), f.activitiesPromise.then(function(c) {
				if (b.activities = c.data.list || [], a.promIds) {
					$.each(b.activities, function(c, d) {
						a.promIds == d.id && (b.obj.selectedActivity = d)
					});
					var d = JSON.parse(a.property);
					if (!b.obj.selectedActivity.sceneId) return;
					h.getPageTpls(b.obj.selectedActivity.sceneId).then(function(a) {
						b.activityPageTpls = a.data.list || [], $.each(b.activityPageTpls, function(a, c) {
							d.activityPageId == c.id && c.properties && (b.appliedImgSrc = c.properties.thumbSrc)
						})
					})
				}
			}), 0 == a.applyTemplate ? b.obj.applySample = !1 : 1 == a.applyTemplate ? b.obj.applySample = !0 : 2 == a.applyTemplate || -1 == a.applyTemplate, b.obj.publishTime = a.publishTime, 0 == a.isShow ? b.obj.applyShow = !1 : 1 == a.isShow ? b.obj.applyShow = !0 : 2 == a.isShow || -1 == a.isShow, 3 == a.isTpl && (b.obj.applyCompTpl = !0), f.sceneTagsPromise.then(function(c) {
				var d = c.data.list || [];
				b.sceneTags = [], angular.forEach(d, function(c) {
					a.type == c.bizType && b.sceneTags.push(c)
				}), a.tagId && $.each(b.sceneTags, function(c, d) {
					a.tagId == d.id && (b.obj.sceneTag = d)
				})
			}), f.sceneTplPricesPromise.then(function(c) {
				b.tplPrices = c.data.list || [], $.each(b.tplPrices, function(c, d) {
					a.price == d.value && (b.obj.tplPrice = d)
				})
			}))
		}, !0), b.applyFunc = function(a, c, d, f) {
			if (a) {
				if (2 == c && (1 == b.scene.isShow || 2 == b.scene.isShow)) return e.pushForCurrentRoute("already.apply.discovery", "notify.success"), void $.each(b.sceneTags, function(a, c) {
					b.scene.type == c.id && (b.obj.sceneTag = c)
				});
				if (1 == c && (1 == b.scene.applyTemplate || 2 == b.scene.applyTemplate)) return e.pushForCurrentRoute("already.apply.sample", "notify.success"), void $.each(b.tplPrices, function(a, c) {
					b.scene.price == c.value && (b.obj.tplPrice = c)
				});
				if (3 == c) return -1 == b.scene.status ? void e.pushForCurrentRoute("scene.deny.apply", "notify.success") : -2 == b.scene.status ? void e.pushForCurrentRoute("scene.incheck.apply", "notify.success") : b.scene.accessCode ? void e.pushForCurrentRoute("scene.accessCode.apply", "notify.success") : 2 == b.scene.status ? void e.pushForCurrentRoute("scene.accessClose.apply", "notify.success") : d ? b.scene.promIds ? (e.pushForCurrentRoute("already.apply.activity", "notify.success"), void $.each(b.activities, function(a, c) {
					b.scene.promIds == c.id && (b.obj.selectedActivity = c)
				})) : void(window.localStorage && localStorage.getItem("hideApplyActivityTip") ? j(a, c, d, f) : b.showApplyTip = !0) : void g.applyShareWay(b.scene.id, 3, f);
				j(a, c, d, f)
			}
		}, b.switchApplyActivityTip = function(a, b, c, d, e) {
			e && window.localStorage && localStorage.setItem("hideApplyActivityTip", !0), j(a, b, c, d)
		}, b.$on("apply.scene.share", function(a, b) {
			b.success && e.pushForCurrentRoute("scene.apply.success", "notify.success")
		});
		var j = function(a, c, f, g) {
				a && d.open({
					windowClass: "console six-contain",
					templateUrl: "spread/console/apply.tpl.html",
					controller: "ApplyConsoleCtrl",
					resolve: {
						applyObj: function() {
							return {
								sceneId: b.sceneId,
								type: c,
								value: f,
								id: g,
								sceneType: b.scene.type
							}
						}
					}
				}).result.then(function(a) {
					var d = a.value;
					e.pushForCurrentRoute("scene.apply.success", "notify.success"), 2 == c ? ($.each(b.sceneTags, function(a, c) {
						d == c.id && (b.obj.sceneTag = c)
					}), b.scene.isShow = 1) : 1 == c ? ($.each(b.tplPrices, function(a, c) {
						d == c.value && (b.obj.tplPrice = c)
					}), b.scene.applyTemplate = 1) : 3 == c ? (a.src && (b.appliedImgSrc = a.src), b.scene.promIds = a.value) : 4 == c && (b.scene.isTpl = 3)
				}, function() {
					2 == c ? b.obj.applyShow = !1 : 1 == c ? b.obj.applySample = !1 : 3 == c ? b.obj.selectedActivity = null : 4 == c && (b.obj.applyCompTpl = !1)
				})
			};
		b.applyCompTpl = function(a, c) {
			a && g.applyShareWay(b.sceneId, c)
		}, b.closeActivityModal = function() {
			b.showApplyTip = !1, b.obj.selectedActivity = null
		}
	}]), angular.module("spread.share.subtab", ["spread.share.socialShare", "spread.share.expandWeb", "spread.share.domainBind", "spread.share.siteImport", "spread.share.checkScene", "spread.share.messagePost", "spread.share.buyerMess", "spread.share.messageDetail", "spread.share.messageCustomer"]), angular.module("spread.tab", ["spread.share", "spread.statistics", "spread.dataCollect"]), angular.module("usercenter.branch", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.branch").controller("BranchCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		b.originData = b.branch = angular.copy(j), b.dept = {}, b.depts = [], b.resetDefalt = !1, j ? b.resetDefalt = !0 : (b.resetDefalt = !1, setTimeout(function() {
			$("button").css("background-color", "#ccc")
		}, 0), b.branch = {}), b.openResetModal = function(a) {
			g.open({
				windowClass: "console six-contain",
				templateUrl: "usercenter/console/resetbranchpass.tpl.html",
				controller: "ResetBranchPassCtrl",
				resolve: {
					branch: function() {
						return a
					}
				}
			}).result.then(function() {
				k.pushForCurrentRoute("branch.reset.success", "notify.success")
			}, function() {})
		}, b.getDepts = function() {
			e.getDepts().then(function(a) {
				if (b.depts = a.data.list, b.branch.deptName || b.branch.deptId) for (var c = 0; c < b.depts.length; c++) if (b.depts[c].id == b.branch.deptId) return void(b.branch.dept = b.depts[c])
			}, function() {
				alert("服务器异常")
			})
		}, b.getDepts(), b.authError = "", b.checkDeptFormat = function(a) {
			return a.name ? countCharacters(a.name) > 30 ? ($(".dept-name").addClass("error"), $(".dept-name").change(function() {
				$(this).removeClass("error")
			}), b.deptFormatError = "部门名称不能超过30个字符！", !1) : (b.deptFormatError = "", !0) : (b.deptFormatError = "请输入部门名称！", $(".dept-name").focus(), deptF = {}, !1)
		}, b.addDept = function() {
			b.checkDeptFormat(b.dept) && e.addDept(b.dept).then(function(a) {
				a.data.success && (b.showAddSec = !1, b.depts.unshift({
					id: a.data.obj,
					name: b.dept.name
				}), k.pushForCurrentRoute("dept.create.success", "notify.success"), b.dept = {})
			}, function() {
				b.authError = "服务器异常"
			})
		}, b.branchPermi = {
			edit: !0,
			"delete": !0,
			"export": !0
		}, b.branch.extPermi && (/^([\d,]+,)?1(,[\d,]*)?$/.test(b.branch.extPermi) && (b.branchPermi.edit = !0), /^([\d,]+,)?2(,[\d,]*)?$/.test(b.branch.extPermi) && (b.branchPermi["delete"] = !0), /^([\d,]+,)?3(,[\d,]*)?$/.test(b.branch.extPermi) && (b.branchPermi["export"] = !0)), b.checkEmailFormat = function(a) {
			return b.branch.loginName ? /^[-_a-z0-9\.@]{6,40}$/g.test(b.branch.loginName) ? (b.emailFormatError = "", !0) : (b.emailFormatError = "分账号格式不正确！", !1) : (b.emailFormatError = "分账号不能为空!", !1)
		}, b.checkNameFormat = function(a) {
			return a.name ? countCharacters(a.name) > 30 ? (b.nameFormatErr = "用户名不能超过30个字符！", !1) : (b.nameFormatErr = "", !0) : ($(".branch-name").focus(), b.nameFormatErr = "用户名不能为空！", !1)
		}, b.confirm = function() {
			if (b.checkEmailFormat(b.branch) && b.checkNameFormat(b.branch)) {
				var a = {};
				b.branch.dept && (b.branch.deptName = b.branch.dept.name, b.branch.dept.id && (a.deptId = b.branch.deptId = b.branch.dept.id));
				var c = [];
				$.each(b.branchPermi, function(a, b) {
					"edit" == a && b ? c.push("1") : "export" == a && b ? c.push("3") : "delete" == a && b && c.push("2")
				}), b.branch.extPermi = c.join(","), j ? ($.extend(a, {
					id: b.branch.id,
					name: b.branch.name,
					extPermi: b.branch.extPermi
				}), e.updateBranch(a).then(function(a) {
					a.data.success && (b.$close(b.branch), k.pushForCurrentRoute("branch.update.success", "notify.success"))
				}, function(a) {
					b.serverError = "服务器异常！"
				})) : ($.extend(a, {
					loginName: b.branch.loginName,
					name: b.branch.name,
					extPermi: b.branch.extPermi
				}), e.createBranch(a).then(function(a) {
					a.data.success ? (b.branch.id = a.data.obj.id, k.pushForCurrentRoute("branch.create.success", "notify.success"), b.$close(b.branch)) : b.serverError = a.data.msg
				}, function(a) {
					b.serverError = "服务器异常"
				}))
			}
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.checkMobil", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.checkMobil").controller("CheckMobileCtrl", ["$rootScope", "$scope", "$window", "usercenterService", "$modal", "ModalService", "$location", "$timeout", "userinfo", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j) {
		function k() {
			0 === l ? (b.isCodeAccessiable = !1, b.codeTip = "获取验证码", l = 60) : (b.isCodeAccessiable = !0, b.codeTip = "重新发送(" + l + ")", h(function() {
				l--, k()
			}, 1e3))
		}
		switch (b.title = i.title, b.userinfo = i, b.userinfo.code = "", b.title) {
		case "绑定手机":
			b.dec = "绑定手机，确保账号安全";
			break;
		case "手机验证":
			b.dec = "正确验证手机号";
			break;
		case "修改手机号":
			b.dec = "修改为常用手机号，保证账号安全"
		}
		b.checkMobile = function() {
			return /^1\d{10}$/.test(b.userinfo.phone) ? (b.mobileError = "", !0) : ($(".mobile").focus(), b.mobileError = "请填写正确的手机号", !1)
		}, b.checkCode = function() {
			return b.userinfo.code ? (b.codeError = "", !0) : ($(".code").focus(), b.codeError = "验证码不能为空", !1)
		}, b.getCode = function() {
			b.userinfo.phone ? (b.mobileError = "", d.relMobileCode(b.userinfo.phone).then(function(a) {
				a.data.success ? k() : b.relErr = a.data.msg
			})) : (b.mobileError = "请先输入手机号码才能验证！", $(".mobile").focus())
		};
		var l = 60;
		b.relAccount = function() {
			b.checkMobile() && b.checkCode() && (b.mobileError = "", b.codeError = "", d.relMobile(b.userinfo.phone, b.userinfo.password, b.userinfo.code).then(function(a) {
				a.data.success ? f.openMsgDialog({
					msg: a.data.msg
				}, function() {
					b.$close(b.userinfo.phone)
				}) : b.relErr = a.data.msg
			}))
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.companyinfo", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.companyinfo").controller("companyInfoCtrl", ["$scope", "$modal", "userinfo", "usercenterService", "i18nNotifications", function(a, b, c, d, e) {
		a.companyUserInfo = {}, a.companyUserInfo.nick = c.nick, a.type = c.type;
		var f = function() {
				d.getCompanyInfo().then(function(b) {
					a.companyUserInfo = b.data.obj
				})
			};
		a.checkEmail = function(b) {
			var c = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
			return b.email && !c.test(b.email) ? (a.authError = "请正确填写邮箱", !1) : (a.authError = "", !0)
		}, a.checkAdress = function(b) {
			return countCharacters(b.address) > 50 ? (a.authError = "联系地址不能超过50个字符", !1) : (a.authError = "", !0)
		}, (2 == a.type || 5 == a.type) && (f(), a.title = "企业会员基本信息"), 1 == a.type && (a.title = "个人用户基本信息"), 3 == a.type && (a.title = "高级用户基本信息"), a.saveUserInfo = function(b) {
			b.id = c.id, d.saveUserInfo(b).then(function(c) {
				c.data.success && (a.$close(b), e.pushForCurrentRoute("save.success", "notify.success"))
			})
		}, a.saveCompanyInfo = function(b) {
			return a.checkEmail(b) ? (b.nick = a.companyUserInfo.nick, void d.saveCompanyInfo(b).then(function(c) {
				c.data.success ? (e.pushForCurrentRoute("account.success", "notify.success"), a.$close(b)) : a.codeError = c.data.msg
			})) : !1
		}, a.cancel = function() {
			a.$close()
		}, a.invoice = function() {
			b.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/invoice.tpl.html",
				controller: "InvoiceCtrl",
				scope: a,
				resolve: {
					userinfo: function() {
						return {}
					}
				}
			}).result.then(function(a) {}, function() {})
		}
	}]), angular.module("invitation", ["app.directives.copyButton"]), angular.module("invitation").controller("InvitationCtrl", ["security", "$scope", "usercenterService", "$timeout", "ModalService", "i18nNotifications", function(a, b, c, d, e, f) {
		b.tabid = "email", b.showUrl = PREFIX_HOST + "/#/home/register?u=" + a.currentUser.id, b.url = "我做的企业秀，用的是易企秀，免费好用，你试试吧：\r\n" + PREFIX_HOST + "/#/home/register?u=" + a.currentUser.id, b.sendEmail = function(a) {
			!b.emailFormatErr && a && c.sendEmail({
				email: a
			}).then(function(a) {
				a.data.success ? f.pushForCurrentRoute("invitation.sendemail.success", "notify.success") : f.pushForCurrentRoute("invitation.sendemail.error", "notify.warning")
			})
		}, b.checkEmailFormat = function(a) {
			var c = /^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
			c.test(a) ? b.emailFormatErr = "" : b.emailFormatErr = "邮件格式不正确"
		}
	}]), angular.module("usercenter.invoicelist", []).controller("GetInvoiceListCtrl", ["$scope", "usercenterService", "$modal", "ModalService", function(a, b, c, d) {
		a.pageNo = 1, a.pageSize = 5, a.obj = {};
		var e = [],
			f = function(a, c) {
				b.getInvoiceList(a, c)
			};
		f(1, 5), a.$on("get.invoice.list", function(b, c) {
			a.invoiceList = c.list || [];
			for (var d = 0; d < c.list.length; d++) a.invoiceList[d].totalFee = a.invoiceList[d].totalFee / 100, 0 == c.list[d].payType ? a.invoiceList[d].payType = "微信支付" : 1 == c.list[d].payType ? a.invoiceList[d].payType = "支付宝支付" : 2 == c.list[d].payType ? a.invoiceList[d].payType = "银联支付" : 3 == c.list[d].payType && (a.invoiceList[d].payType = "其他");
			a.totalItems = c.map.count, a.currentPage = a.obj.toPage = c.map.pageNo
		}), a.pageChanged = function(c) {
			return 1 > c || c > a.totalItems / 5 + 1 ? void alert("此页超出范围") : (b.getInvoiceList(c, a.pageSize), a.selectAll.selected = !1, void a.switchSelectAll())
		}, a.cancel = function() {
			a.$dismiss()
		}, a.view = !0, a.ok = function() {
			var b = angular.copy(e);
			b.length > 0 ? c.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/invoice.tpl.html",
				controller: "InvoiceCtrl",
				scope: a,
				resolve: {
					userinfo: function() {
						return {
							view: a.view,
							orderIds: b
						}
					}
				}
			}).result.then(function(b) {
				b && (f(1, 5), a.selectAll.selected = !1, e = [])
			}, function() {}) : d.openMsgDialog({
				msg: "请选择需要开发票的订单列表",
				btn: "去选择"
			}, function() {})
		}, a.selectAll = {
			selected: !1
		}, a.switchSelectAll = function() {
			e = [];
			for (var b = 0; b < a.invoiceList.length; b++) a.invoiceList[b].selected = a.selectAll.selected, a.selectAll.selected && e.push(a.invoiceList[b].id)
		}, a.switchSelect = function(b) {
			b.selected ? e.push(b.id) : (a.selectAll.selected = !1, $.each(e, function(a, c) {
				c == b.id && e.splice(a, 1)
			}))
		}
	}]), angular.module("usercenter.invoice", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.invoice").controller("InvoiceCtrl", ["$scope", "$rootScope", "usercenterService", "$modal", "i18nNotifications", "userinfo", "ModalService", function(a, b, c, d, e, f, g) {
		a.invoiceStatus = "", a.changeType = function(b) {
			a.invoiceStatus = b
		}, a.editInfo = {
			isEditable: !0
		}, f.view && (a.view = f.view, a.editInfo.isEditable = !1, f.orderIds = f.orderIds.join(","));
		var h = [];
		a.authError = "", a.picture = {}, a.puPicture = {}, a.invoice = {
			receiver: "",
			phone: "",
			address: ""
		}, a.reset = function() {
			a.editInfo.isEditable = !0
		}, a.invoiceListPu = {
			invoiceType: 1
		}, a.invoiceListzhuan = {
			invoiceType: 2
		};
		var i = function() {
				c.getUserInvoice().then(function(b) {
					if (200 == b.data.code) {
						b.data.obj && (a.invoice = b.data.obj), b.data.map.invoiceType ? a.invoiceStatus = b.data.map.invoiceType : a.invoiceStatus = 1;
						for (var c = b.data.list, d = 0; d < c.length; d++) 1 == c[d].invoiceType && (a.invoiceListPu = c[0], a.puPicture = {
							tax: c[0].licenseImgsJson
						}), 2 == c[d].invoiceType && (a.invoiceListzhuan = c[1], h = c[1].licenseImgsJson.split(","), a.picture = {
							tax: h[0],
							bank: h[1],
							people: h[2],
							mes: h[3]
						})
					}
				})
			};
		i(), a.addPictures = function(b) {
			d.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1,
							count: 1
						}
					}
				}
			}).result.then(function(c) {
				"tax" == b ? a.picture.tax = c.data : "bank" == b ? a.picture.bank = c.data : "people" == b ? a.picture.people = c.data : "mes" == b ? a.picture.mes = c.data : "puTax" == b && (a.puPicture.tax = c.data), e.pushForCurrentRoute("upload.success", "notify.success")
			})
		};
		var j = function() {
				return a.picture.tax ? a.picture.bank ? a.picture.people ? a.picture.mes ? !0 : (b.$broadcast("error", "请上传开票信息加盖公章"), !1) : (b.$broadcast("error", "请上传一般纳税人资质证明"), !1) : (b.$broadcast("error", "请上传银行许可证"), !1) : (b.$broadcast("error", "根据最新税务部门规定，开具增值税专票需要开票方的税务登记证信息，请更新发票信息"), !1)
			};
		a.$on("error", function(b, c) {
			g.openConfirmDialog({
				msg: c,
				confirmName: "立即更新",
				cancelName: "取消"
			}, function() {
				a.reset()
			})
		}), a.$on("error2", function(a, b) {
			g.openMsgDialog({
				msg: b
			})
		}), a.submit = function(d) {
			if (!a.invoice.receiver) return void b.$broadcast("error", "请填写收件人");
			if (!a.invoice.phone) return void b.$broadcast("error", "请填写联系电话");
			if (!a.invoice.address) return void b.$broadcast("error", "请填写收货地址");
			var d = {
				orderIds: f.orderIds,
				receiver: a.invoice.receiver,
				address: a.invoice.address,
				phone: a.invoice.phone
			};
			if (1 == a.invoiceStatus) {
				if (d.invoiceType = 1, d.title = a.invoiceListPu.title, d.taxId = a.invoiceListPu.taxId, d.licenseImgsJson = a.puPicture.tax, !d.taxId) return void b.$broadcast("error", "根据最新税务部门规定，开具增值税普票需要开票方的税务登记号信息，请更新发票信息");
				if (!a.puPicture.tax) return void b.$broadcast("error", "根据最新税务部门规定，开具增值税普票需要开票方的税务登记证信息，请更新发票信息");
				d.licenseImgsJson = a.puPicture.tax
			}
			if (2 == a.invoiceStatus) {
				if (!j()) return !1;
				if (!a.invoiceListzhuan.taxId) return void b.$broadcast("error", "根据最新税务部门规定，开具增值税专票需要开票方的税务登记号信息，请更新发票信息");
				d.invoiceType = 2, d.title = a.invoiceListzhuan.title, d.taxId = a.invoiceListzhuan.taxId, d.licenseImgsJson = a.picture.tax + "," + a.picture.bank + "," + a.picture.people + "," + a.picture.mes
			}
			3 == a.invoiceStatus && (d.invoiceType = 3), c.saveOrderInvoice(d).then(function(c) {
				c.data.success ? (a.$close(d), e.pushForCurrentRoute("save.success", "notify.success")) : b.$broadcast("error", c.data.msg)
			})
		}, a.saveUserInvoice = function(d) {
			if (!a.invoice.receiver) return void b.$broadcast("error2", "请填写收件人");
			if (!a.invoice.phone) return void b.$broadcast("error2", "请填写联系电话");
			if (!a.invoice.address) return void b.$broadcast("error2", "请填写收货地址");
			var d = {};
			if (d.invoiceDeliver = {
				receiver: a.invoice.receiver,
				address: a.invoice.address,
				phone: a.invoice.phone
			}, d.invoiceList = [], a.invoiceListPu.title) {
				if (!a.invoiceListPu.taxId) return void b.$broadcast("error2", "根据最新税务部门规定，开具增值税普票需要开票方的税务登记号信息，请更新发票信息");
				if (!a.puPicture.tax) return void b.$broadcast("error2", "根据最新税务部门规定，开具增值税普票需要开票方的税务登记证信息，请更新发票信息");
				var g = {
					invoiceType: a.invoiceListPu.invoiceType,
					title: a.invoiceListPu.title,
					taxId: a.invoiceListPu.taxId,
					licenseImgsJson: a.puPicture.tax
				};
				d.invoiceList.push(g)
			}
			if (a.invoiceListzhuan.title) {
				if (!a.invoiceListzhuan.taxId) return void b.$broadcast("error2", "根据最新税务部门规定，开具增值税专票需要开票方的税务登记号信息，请更新发票信息");
				if (!a.picture.tax) return void b.$broadcast("error2", "根据最新税务部门规定，开具增值税专票需要开票方的税务登记证信息，请更新发票信息");
				if (!a.picture.bank) return void b.$broadcast("error2", "请上传银行许可证");
				if (!a.picture.people) return void b.$broadcast("error2", "请上传一般纳税人资质证明");
				if (!a.picture.mes) return void b.$broadcast("error2", "请上传开票信息加盖公章");
				var h = {
					invoiceType: a.invoiceListzhuan.invoiceType,
					title: a.invoiceListzhuan.title,
					taxId: a.invoiceListzhuan.taxId,
					licenseImgsJson: a.picture.tax + "," + a.picture.bank + "," + a.picture.people + "," + a.picture.mes
				};
				d.invoiceList.push(h)
			}
			c.saveUserInvoice(d).then(function(b) {
				b.data.success && (a.authError = "", f.view ? a.editInfo.isEditable = !1 : a.$close(d), e.pushForCurrentRoute("save.success", "notify.success"))
			})
		}, a.cancel = function() {
			a.$close()
		}
	}]), angular.module("usercenter.relAccount", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.relAccount").controller("RelAccountCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		b.user = j, b.bindAccount = function() {
			return b.user.email ? b.user.password ? void e.relAccount(j.id, b.user.email, b.user.password).then(function(a) {
				if (200 == a.data.code) {
					k.pushForCurrentRoute("email.save.success", "notify.success"), /qq/gi.test(b.user.loginName) && (b.relType = "qq"), /weixin/gi.test(b.user.loginName) && (b.relType = "weixin"), /weibo/gi.test(b.user.loginName) && (b.relType = "weibo");
					var c = {
						type: b.relType,
						email: angular.copy(b.user.email)
					};
					b.$close(c)
				} else b.relErr = a.data.msg
			}, function(a) {
				b.$dismiss()
			}) : (b.relErr = "密码不能为空！", void $(".third-pwd").focus()) : (b.relErr = "登录账号不能为空", void $(".third-name").focus())
		}, b.checkUpperCase = function() {
			/[A-Z]/g.test(b.user.email) && (b.user.email = b.user.email.toLowerCase(), b.relErr = "请用小写字母邮箱注册，已将邮箱中的大写字母自动转换成小写")
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.relEmail", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.relEmail").controller("RelEmailCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		switch (b.title = j.title, b.userinfo = j, b.title) {
		case "绑定邮箱":
			b.dec = "绑定保密邮箱";
			break;
		case "验证邮箱":
			b.dec = "验证已有账户邮箱";
			break;
		case "修改邮箱":
			b.dec = "修改邮箱"
		}
		b.checkEmailFormat = function(a) {
			var c = /^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
			return c.test(b.userinfo.email) ? (b.emailFormatErr = "", !0) : (b.emailFormatErr = "请输入正确的邮箱格式", !1)
		}, b.checkPassFormat = function(a) {
			return a.password ? (b.passFormatErr = "", !0) : (b.passFormatErr = "密码不能为空！", $(".email-pwd").focus(), !1)
		}, b.relEmail = function(a) {
			b.checkEmailFormat(a) && b.checkPassFormat(a) && (null == b.userinfo.checkEmail ? b.firstRel = !1 : b.firstRel = !0, e.relEmail(b.userinfo.email, b.userinfo.password, b.firstRel).then(function(a) {
				200 == a.data.code ? (b.relErr = "", h.openMsgDialog({
					msg: "申请绑定成功,已向您的邮箱发送验证邮件,请注意查收。"
				}, function() {
					b.$dismiss()
				})) : (b.firstRel = !0, b.relErr = a.data.msg)
			}, function(a) {}))
		}, b.checkUpperCase = function() {
			/[A-Z]/g.test(b.userinfo.email) && (b.userinfo.email = b.userinfo.email.toLowerCase(), b.relErr = "请用小写字母邮箱注册，已将邮箱中的大写字母自动转换成小写")
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.relForum", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.relForum").controller("relForumCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		b.userinfo.bbsId = j.bbsName, b.userinfo.bbsPwd = "", b.userinfo.eqxiuPwd = "", b.checkBbsName = function() {
			return b.BbsNameError = "", b.userinfo.bbsId ? !0 : (b.BbsNameError = "论坛账号不能为空!", !1)
		}, b.checkBbsPassword = function() {
			return b.bbsPwdError = "", b.userinfo.bbsPwd ? !0 : (b.bbsPwdError = "论坛密码不能为空！", !1)
		}, b.checkEqxiuPassword = function() {
			return b.eqxiuPwdError = "", b.userinfo.eqxiuPwd ? !0 : (b.eqxiuPwdError = "易企秀密码不能为空！", !1)
		}, b.relForum = function() {
			b.checkBbsName() && b.checkBbsPassword() && b.checkEqxiuPassword() && e.relForum(b.userinfo.bbsId, b.userinfo.bbsPwd, b.userinfo.eqxiuPwd).then(function(a) {
				b.BbsNameError = "", b.bbsPwdError = "", b.eqxiuPwdError = "", 200 == a.data.code ? (k.pushForCurrentRoute("bbs.save.success", "notify.success"), b.$close(b.userinfo.bbsId)) : 1003 == a.data.code ? b.BbsNameError = "论坛账号不存在" : 1004 == a.data.code ? b.eqxiuPwdError = "易企秀密码错误" : 110002 == a.data.code ? b.bbsPwdError = "论坛密码不能为空" : 110203 == a.data.code ? b.BbsNameError = "无效的论坛账号" : 110205 == a.data.code ? b.bbsPwdError = "论坛账号与论坛密码不匹配" : 110210 == a.data.code ? b.eqxiuPwdError = "绑定第三方账号失败，请稍候再试！" : 110306 == a.data.code ? b.eqxiuPwdError = "域名不合法或者IP地址没有绑定！" : 110229 == a.data.code ? b.BbsNameError = "此论坛账号已被其他用户绑定" : b.eqxiuPwdError = a.data.msg
			}, function(a) {})
		}, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.relRegisterAccount", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.relRegisterAccount").controller("RelRegisterAccountCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", "localizedMessages", function(a, b, c, d, e, f, g, h, i, j, k, l) {
		b.user = j, b.user.agreement = !0;
		var m = !1;
		b.cancel = function() {
			b.$dismiss("cancel")
		}, b.registerAccount = function() {
			if (b.userNotExist && b.checkUsername() && b.checkPassword() && b.checkRepeatPassword()) if (b.user.password === b.user.repeatPassword && b.user.agreement) {
				if (m) return;
				m = !0, e.relAccount(j.id, b.user.email, b.user.password, !0).then(function(a) {
					if (m = !1, 200 == a.data.code) {
						k.pushForCurrentRoute("email.save.success", "notify.success"), /qq/gi.test(b.user.loginName) && (b.relType = "qq"), /weixin/gi.test(b.user.loginName) && (b.relType = "weixin"), /weibo/gi.test(b.user.loginName) && (b.relType = "weibo");
						var c = {
							type: b.relType,
							email: angular.copy(b.user.email)
						};
						b.$close(c)
					} else b.relErr = a.data.msg
				}, function(a) {
					m = !1, b.regErr = l.get("register.error.serverError", {
						exception: x
					}), b.$dismiss()
				})
			} else b.user.password != b.user.repeatPassword ? b.regErr = l.get("register.error.match") : b.regErr = l.get("register.error.agreement")
		}, b.checkUsername = function() {
			if (b.user.email) {
				if (/^[-_a-z0-9\.@]{6,40}$/g.test(b.user.email)) return b.checkUniqueness(b.user.email), !0;
				b.usernameError = "账号为6-40个字符(英文字母或数字，只支持小写)以及-_@.的组合"
			} else b.usernameError = "账号不能为空";
			return !1
		}, b.checkUniqueness = function(a) {
			f.checkUniqueness(a).success(function(a) {
				b.userNotExist = a.success, b.userNotExist ? b.usernameError = null : b.usernameError = "账号已存在，请重新填写"
			})
		}, b.checkPassword = function() {
			if (b.user.password) {
				if (/^[a-zA-Z0-9]{6,16}$/g.test(b.user.password)) return b.passError = null, !0;
				b.passError = "密码为6~16个字符(英文字母或数字，区分大小写)"
			} else b.passError = "密码不能为空";
			return !1
		}, b.checkRepeatPassword = function() {
			if (b.user.repeatPassword) {
				if (b.user.repeatPassword == b.user.password) return b.rPassError = "", !0;
				b.rPassError = "两次密码输入不一致，请重新输入"
			} else b.rPassError = "确认密码不能为空";
			return !1
		}
	}]), angular.module("usercenter.branch.reset", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.branch.reset").controller("ResetBranchPassCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
		b.branch = j, b.reset = function() {
			e.resetBranchPass(j.id)
		}, b.cancel = function() {
			b.$dismiss()
		}, b.$on("reset.branch.success", function() {
			b.$close()
		})
	}]), angular.module("usercenter.apply", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.apply").controller("ApplyCtrl", ["$rootScope", "$scope", "usercenterService", "$modal", "ModalService", "i18nNotifications", "MineService", "userinfo", "$timeout", "security", "dataCacheService", function(a, b, c, d, e, f, g, h, j, l, m) {
		function n() {
			0 === C ? (b.isCodeAccessiable = !1, b.codeTip = "获取验证码", C = 60) : (b.isCodeAccessiable = !0, b.codeTip = "重新发送(" + C + ")", j(function() {
				C--, n()
			}, 1e3))
		}
		b.applyInfo = {}, b.applyInfo.nick = h.nick, b.invoiceStat = h.invoice, b.actionerror = "";
		b.serverLabel = [], b.cateLabel = [], b.payLabel = [];
		var o;
		b.applyXiuke = !0, b.title = h.title, 0 === h.status || 3 === h.status ? (o = 0, b.applyXiuke = !0) : (o = 1, b.applyXiuke = !1);
		var p = function(a) {
				c.getAPPlyMessage(a).then(function(c) {
					"province" === a ? (b.serverLabel = c.data.list, c.data.list.length > 0 && (b.moreArea = !0)) : "company_industry" === a ? (b.cateLabel = c.data.list, c.data.list.length > 0 && (b.moreLabel = !0)) : "payType" === a && (b.payLabel = c.data.list)
				})
			};
		p("province"), p("company_industry"), p("payType"), b.cancel = function() {
			b.$dismiss()
		}, b.cate_cancel = function(a) {
			for (var c = 0; c < b.cateLabel.length; c++) if (b.cateLabel[c].ischecked = !1, b.cateSelected.length > 0) for (var d = 0; d < b.cateSelected.length; d++) b.cateLabel[c].id === b.cateSelected[d].id && (b.cateLabel[c].ischecked = !0);
			b.cateError = "", setTimeout(function() {
				$(a.target).parents(".dropdown.open").trigger("click")
			})
		}, b.server_cancel = function(a) {
			for (i = 0; i < b.serverLabel.length; i++) if (b.serverLabel[i].ischecked = !1, b.serverSelected.length > 0) for (k = 0; k < b.serverSelected.length; k++) b.serverLabel[i].id === b.serverSelected[k].id && (b.serverLabel[i].ischecked = !0);
			setTimeout(function() {
				$(a.target).parents(".dropdown.open").trigger("click")
			}), b.serverError = ""
		}, b.scene_cancel = function(a) {
			for (i = 0; i < b.myShowScene.length; i++) if (b.myShowScene[i].ischecked = !1, b.sceneSelected.length > 0) for (k = 0; k < b.sceneSelected.length; k++) b.myShowScene[i].id === b.sceneSelected[k].id && (b.myShowScene[i].ischecked = !0);
			setTimeout(function() {
				$(a.target).parents(".dropdown.open").trigger("click")
			}), b.sceneError = ""
		}, b.checkIntroFormat = function(a) {
			return a.shortIntroduction ? countCharacters(a.shortIntroduction) > 30 ? (b.introError = "简短介绍不能超过30个字符", !1) : (b.introError = "", !0) : (b.introError = "请填写简短介绍", !1)
		}, b.checkIntroFormat1 = function(a) {
			return a.introduction ? countCharacters(a.introduction) > 400 ? (b.introError1 = "秀客介绍不能超过400个字符", !1) : (b.introError1 = "", !0) : (b.introError1 = "请填写秀客介绍", !1)
		}, c.getUserScene().then(function(a) {
			a.data.list.length > 0 ? b.myShowScene = a.data.list : b.myShowScene = null
		});
		var q = [];
		b.sceneSelected = [], b.sceneSelect = function(a, c, d) {
			return q = [], angular.forEach(b.myShowScene, function(a) {
				a.ischecked && q.push({
					code: a.code,
					name: a.name
				})
			}), 3 !== q.length ? (b.sceneError = "请选择三个代表作品", !1) : (b.sceneSelected = q, b.sceneNull = "", void(d && (setTimeout(function() {
				$(c.target).parents(".dropdown.open").trigger("click")
			}), b.sceneError = "")))
		};
		var r = function() {
				return 3 !== b.sceneSelected.length ? (b.sceneNull = "请选择三个代表作品", !1) : (b.sceneNull = "", !0)
			},
			s = [],
			t = [];
		b.serverSelected = [], b.serverSubmit = function(a, c, d) {
			return s = [], angular.forEach(b.serverLabel, function(a) {
				a.ischecked && s.push({
					name: a.name,
					id: a.id
				})
			}), s.length <= 0 ? void(b.serverError = "请选择服务地域") : s.length > 3 ? void(b.serverError = "服务地域不能超过3个") : (b.serverSelected = s, void(d && (setTimeout(function() {
				$(c.target).parents(".dropdown.open").trigger("click")
			}), b.serverError = "", b.serverNull = "")))
		};
		var u = function() {
				return b.serverSelected.length <= 0 || b.serverSelected.length > 3 ? (b.serverNull = "请选择1-3个服务地域", !1) : (b.serverNull = "", !0)
			},
			v = [],
			w = [];
		b.cateSelected = [], b.queren = function(a, c, d) {
			return v = [], angular.forEach(b.cateLabel, function(a) {
				a.ischecked && v.push({
					name: a.name,
					id: a.id
				})
			}), v.length <= 0 ? void(b.cateError = "请选择擅长领域") : v.length > 3 ? void(b.cateError = "擅长领域不能超过3个") : (b.cateSelected = v, b.cateNull = "", void(d && (setTimeout(function() {
				$(c.target).parents(".dropdown.open").trigger("click")
			}), b.cateError = "")))
		};
		var x = function() {
				return b.cateSelected.length <= 0 || b.cateSelected.length > 3 ? (b.cateNull = "请选择1-3个擅长领域", !1) : (b.cateNull = "", !0)
			},
			y = [],
			z = function() {
				y = [];
				var a = !1;
				return angular.forEach(b.payLabel, function(b) {
					b.ischecked && (y.push(b.id), a = !0)
				}), y = y.join(","), a ? (b.payError = "", !0) : (b.payError = "请选择支付方式", !1)
			},
			A = /^[0-9]*$/;
		b.checkQQFormat = function(a) {
			return a.qq && !A.test(a.qq) ? (b.qqError = "qq填写格式错误", !1) : a.qq ? (b.qqError = "", !0) : (b.qqError = "请填写QQ号码", !1)
		};
		var B = function(a) {
				return a.wechat ? (b.wechatError = "", !0) : (b.wechatError = "请填写微信号", !1)
			};
		b.checkEmailFormat = function(a) {
			var c = /^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
			return a.email && !c.test(a.email) ? (b.emailError = "邮箱格式不正确", !1) : a.email ? (b.emailError = "", !0) : (b.emailError = "邮箱不能为空", !1)
		}, b.checkCode = function(a) {
			return a.code ? (b.codeError = "", !0) : (b.codeError = "请输入手机验证码", !1)
		}, b.showPhone = !0, l.currentUser && 1 == l.currentUser.checkPhone && (b.showPhone = !1), b.getCode = function(a, d) {
			return a.phone ? (b.telError = "", void c.relMobileCode(a.phone, d).then(function(a) {
				a.data.success ? n() : b.telError = a.data.msg
			})) : (b.telError = "请填写手机号码", !1)
		};
		var C = 60;
		b.checkFormFormat = function(a) {
			return b.checkIntroFormat(a) && b.checkIntroFormat1(a) && r() && u() && x() && z() && b.checkQQFormat(a) && B(a) && b.checkEmailFormat(a) ? !0 : !1
		}, b.submit = function(a) {
			if (b.checkFormFormat(a)) {
				if (!a.phone) return void(b.telError = "请填写手机号码");
				if (b.telError = "", l.currentUser && 1 != l.currentUser.checkPhone) {
					if (!a.phone) return void(b.telError = "请填写手机号码");
					if (!a.code) return void(b.codeError = "请填写验证码")
				}
				for (t = [], w = [], k = 0; k < b.cateSelected.length; k++) w.push(b.cateSelected[k].id);
				for (_cateSelected2 = w.join(","), i = 0; i < b.serverSelected.length; i++) t.push(b.serverSelected[i].id);
				_serverSelected2 = t.join(",");
				var d = {
					shortIntroduction: a.shortIntroduction,
					introduction: a.introduction,
					represent1: b.sceneSelected[0].code + "_" + b.sceneSelected[0].name,
					represent2: b.sceneSelected[1].code + "_" + b.sceneSelected[1].name,
					represent3: b.sceneSelected[2].code + "_" + b.sceneSelected[2].name,
					qq: a.qq,
					wechat: a.wechat,
					phone: a.phone,
					email: a.email,
					addr: _serverSelected2 || "",
					pay: y || "",
					good: _cateSelected2 || "",
					code: a.code,
					type: o
				};
				c.saveApplyInfo(d).then(function(a) {
					a.data.success ? (m.clear("sysRecommend"), m.clear("companySample"), b.applyInfo = a.data.map.status, f.pushForCurrentRoute("visitor.apply", "notify.success"), b.$close(b.applyInfo)) : b.authError = a.data.msg
				})
			}
		}, b.checkFormFormat2 = function(a) {
			return b.checkIntroFormat(a) && b.checkIntroFormat1(a) && r() && u() && x() && z() && b.checkQQFormat(a) && B(a) && b.checkEmailFormat(a) ? !0 : !1
		}, b.reset = function(a) {
			if (b.sceneSelect(), b.serverSubmit(), b.queren(), b.checkFormFormat2(a)) {
				if (!a.phone) return void(b.telError = "请填写手机号码");
				if (b.telError = "", l.currentUser && 1 != l.currentUser.checkPhone) {
					if (!a.phone) return void(b.telError = "请填写手机号码");
					if (!a.code) return void(b.codeError = "请填写验证码")
				}
				for (w = [], k = 0; k < b.cateSelected.length; k++) w.push(b.cateSelected[k].id);
				for (_cateSelected2 = w.join(","), t = [], i = 0; i < b.serverSelected.length; i++) t.push(b.serverSelected[i].id);
				_serverSelected2 = t.join(",");
				var d = {
					nick: b.applyInfo.nick,
					shortIntroduction: a.shortIntroduction,
					introduction: a.introduction,
					represent1: b.sceneSelected[0].code + "_" + b.sceneSelected[0].name,
					represent2: b.sceneSelected[1].code + "_" + b.sceneSelected[1].name,
					represent3: b.sceneSelected[2].code + "_" + b.sceneSelected[2].name,
					qq: a.qq,
					wechat: a.wechat,
					email: a.email,
					addr: _serverSelected2 || "",
					pay: y || "",
					good: _cateSelected2 || "",
					type: o,
					phone: a.phone,
					code: a.code
				};
				c.resetApplyInfo(d).then(function(a) {
					a.data.success ? (f.pushForCurrentRoute("visitor.apply", "notify.success"), b.$close({
						applyInfoNew: d,
						status: a.data.map.status
					})) : b.authError = a.data.msg
				})
			}
		};
		var D;
		0 !== h.status && j(function() {
			c.getVisitorMsg().then(function(a) {
				if (a.data.obj) {
					D = b.applyInfo = a.data.obj;
					for (var c = D.represent1, d = c.substr(0, c.indexOf("_")), e = D.represent2, f = e.substr(0, e.indexOf("_")), g = D.represent3, h = g.substr(0, g.indexOf("_")), i = 0; i < b.myShowScene.length; i++)(b.myShowScene[i].code === d || b.myShowScene[i].code === f || b.myShowScene[i].code === h) && (b.myShowScene[i].ischecked = !0, b.sceneSelected.push(b.myShowScene[i]));
					var j = D.tagList;
					for (i = 0; i < j.length; i++) {
						for (var k = 0; k < b.serverLabel.length; k++) j[i].tagId === b.serverLabel[k].id && (b.serverLabel[k].ischecked = !0, b.serverSelected.push({
							name: j[i].name,
							id: j[i].tagId
						}));
						for (var l = 0; l < b.payLabel.length; l++) j[i].tagId === b.payLabel[l].id && (b.payLabel[l].ischecked = !0);
						for (var m = 0; m < b.cateLabel.length; m++) j[i].tagId === b.cateLabel[m].id && (b.cateLabel[m].ischecked = !0, b.cateSelected.push({
							name: j[i].name,
							id: j[i].tagId
						}))
					}
				}
			})
		}, 1e3), b.invoice = function() {
			d.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/invoice.tpl.html",
				controller: "InvoiceCtrl",
				scope: b,
				resolve: {
					userinfo: function() {
						return {}
					}
				}
			}).result.then(function(a) {}, function() {})
		}
	}]), angular.module("usercenter.upgrade", ["services.usercenter", "services.i18nNotifications"]), angular.module("usercenter.upgrade").controller("UsercenterupgradeCtrl", ["$rootScope", "$scope", "$window", "usercenterService", "security", "$modal", "ModalService", "i18nNotifications", "$timeout", "user", "dataCacheService", function(a, b, c, d, e, f, g, h, i, j, k) {
		function l() {
			0 === m ? (b.isCodeAccessiable = !1, b.codeTip = "获取验证码", m = 60) : (b.isCodeAccessiable = !0, b.codeTip = "重新发送(" + m + ")", i(function() {
				m--, l()
			}, 1e3))
		}
		b.companyInfo = {
			id: j.id
		}, b.userMobile = e.currentUser.checkPhone, b.checkName = function(a) {
			return a.name ? countCharacters(a.name) > 40 ? (b.nameError = "企业名称不能超过40个字符", !1) : (b.nameError = "", !0) : (b.nameError = "请填写企业名称", !1)
		}, b.checkEmail = function(a) {
			var c = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
			return a.email && !c.test(a.email) ? (b.emailError = "请正确填写邮箱", !1) : a.email ? (b.emailError = "", !0) : (b.emailError = "请填写企业邮箱", !1)
		}, b.checkcontacts = function(a) {
			return a.contacts ? countCharacters(a.contacts) > 30 ? (b.contactsError = "联系人不能超过30个字符", !1) : (b.contactsError = "", !0) : (b.contactsError = "请填写联系人", !1)
		}, b.checkAddress = function(a) {
			return a.address ? countCharacters(a.address) > 50 ? (b.addressError = "联系地址不能超过50个字符", !1) : (b.addressError = "", !0) : (b.addressError = "请填写联系地址", !1)
		}, b.checkCode = function(a) {
			return a.code ? (b.codeError = "", !0) : (b.codeError = "请输入手机验证码", !1)
		}, b.getCode = function(a) {
			return a.mobile ? (b.telError = "", void d.companyMobile(a.mobile).then(function(a) {
				a.data.success ? l() : b.telError = a.data.msg
			})) : (b.telError = "请填写手机号码", !1)
		};
		var m = 60;
		b.checkFormFormat = function(a) {
			return b.checkName(a) && b.checkEmail(a) && b.checkcontacts(a) && b.checkAddress(a) && (1 == b.userMobile || b.checkCode(a)) ? !0 : !1
		}, b.upgradeCompanyMessage = function(c) {
			b.checkFormFormat(c) && (d.saveCompanyInfo(c).then(function(d) {
				d.data.success ? (k.clear("sysRecommend"), k.clear("companySample"), h.pushForCurrentRoute("account.success", "notify.success"), a.$broadcast("companyState"), e.currentUser.type = 2, b.$close(c.mobile)) : b.codeError = d.data.msg
			}), a.$broadcast("upgradeComNewVersion"))
		}, b.quXiao = function() {
			b.$dismiss(), a.$broadcast("upgradeComNewVersion")
		}
	}]), angular.module("message", []), angular.module("message").controller("MessageCtrl", ["$scope", "$rootScope", "usercenterService", function(a, b, c) {
		a.pageSize = 10, a.currentPage = {
			msgCurrentPage: 1,
			branchCurrentPage: 1
		}, a.getUserMsg = function(b) {
			var d = b;
			c.getNewMessage(d, a.pageSize).then(function(b) {
				angular.forEach(b.data.list, function(a, b) {
					1 == a.bizType ? a.type = "系统通知" : 2 == a.bizType ? a.type = "审核通知" : 3 == a.bizType && (a.type = "活动通知")
				}), a.Msgs = b.data.list, a.msgCount = b.data.map.count, a.toPage = b.data.map.pageNo, a.msgNumPages = Math.ceil(a.msgCount / a.pageSize)
			})
		}, a.getUserMsg(a.pageNo), a.$watch("currentPage.msgCurrentPage", function(b, c) {
			b != c && (a.getUserMsg(b), a.toPage = b)
		}), a.pageChanged = function(b, c) {
			return 1 > b || b > a.msgNumPages ? void alert("此页超出范围") : void(a.currentPage[c] = b)
		}, a.setRead = function(a) {
			var d = [];
			angular.forEach(a, function(a, b) {
				1 == a.status && this.push(a.id)
			}, d);
			var e = d.join();
			e && c.setRead(e).then(function(c) {
				200 == c.data.code && (b.$broadcast("minusCount", d.length), angular.forEach(a, function(a, b) {
					a.status = 2
				}))
			})
		}
	}]), angular.module("usercenter.request", ["services.usercenter", "app.directives.qrcode"]), angular.module("usercenter.request").controller("UsercenterrequestCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", function(a, b, c, d, e, f, g, h, i) {
		b.PREFIX_CLIENT_HOST = PREFIX_HOST, b.currentUser = f.currentUser, b.cancel = function() {
			b.$dismiss()
		}
	}]), angular.module("usercenter.account", ["usercenter.relEmail", "usercenter.relForum"]), angular.module("usercenter.account").controller("UsercenterAccountCtrl", ["$location", "$rootScope", "$scope", "$window", "usercenterService", "$modal", "ModalService", "i18nNotifications", "security", "thirdpartyService", "$timeout", "dataCacheService", function(a, b, c, d, e, f, g, h, i, j, k, l) {
		function m() {
			c.progress = "0", 1 == c.userinfo.checkEmail && 1 == c.userinfo.checkPhone && (c.redColor = !1, k(function() {
				c.progress = "90"
			}, 100)), 1 != c.userinfo.checkEmail && 1 != c.userinfo.checkPhone && (k(function() {
				c.progress = "20"
			}, 100), c.redColor = !0), (1 != c.userinfo.checkEmail && 1 == c.userinfo.checkPhone || 1 == c.userinfo.checkEmail && 1 != c.userinfo.checkPhone) && (c.redColor = !1, k(function() {
				c.progress = "60"
			}, 100))
		}
		function n(a) {
			a && (a.state && /WECHAT_STATE/.test(a.state) ? (s = {
				code: a.code,
				type: "weixin"
			}, j.bindAccountCommon(s)) : j.qqBindAccount(a))
		}
		c.PREFIX_CLIENT_HOST = PREFIX_HOST, c.XdpageSize = 10, c.page = {}, c.pageChanged = function(a) {
			return 1 > a || a > c.branchesCount / 10 + 1 ? void alert("此页超出范围") : (c.currentPage = a, void c.getBranches(a))
		}, c.getBranches = function(a) {
			e.getBranches(c.XdpageSize, a).then(function(a) {
				a.data.success && (c.branches = a.data.list, c.branchesCount = a.data.map.count, c.page.currentPage = a.data.map.pageNo, c.toPage = a.data.map.pageNo, c.branchesNumPages = Math.ceil(c.branchesCount / c.XdpageSize), o())
			}, function() {})
		}, c.getBranches(c.pageNo), c.branchName = {};
		var o = function() {
				var d = a.search().branchid;
				if (d) for (var e = 0; e < c.branches.length; e++) c.branches[e].id == d && (c.branchName.name = c.branches[e].loginName);
				else b.branchid = "", a.search("branchid", null)
			};
		c.$watch("branchid", function(a, b) {
			a != b && o()
		}), c.changeCurrent = function() {
			l.clear("sceneList"), b.branchid = "", a.search("branchid", null)
		}, c.selectBranch = function(c) {
			l.clear("sceneList"), b.branchid = c.id, a.path("main"), a.search({
				branchid: b.branchid
			})
		}, c.$watch("userinfo", function(a) {
			a && m()
		});
		var p = /^EQS.*qq$/,
			q = /^EQS.*weixin$/;
		c.qqShow = !0, c.weixinShow = !0, p.test(i.currentUser.loginName) && (c.qqShow = !1), q.test(i.currentUser.loginName) && (c.weixinShow = !1);
		var r = null;
		c.goReset = function() {
			r = f.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/tab/reset.tpl.html",
				controller: "UsercenterAccountCtrl",
				scope: c
			}).result.then(function() {
				r = null
			}, function() {
				r = null
			})
		}, c.checkOldPassword = function() {
			return c.password.old ? (c.oldPassError = "", !0) : (c.oldPassError = "原始密码不能为空", !1)
		}, c.checkPassword = function() {
			if (c.password.newPw) {
				if (/^[a-zA-Z0-9]{6,16}$/g.test(c.password.newPw)) return c.passError = "", !0;
				c.passError = "密码为6~16个字符(英文字母或数字，区分大小写)"
			} else c.passError = "新密码不能为空";
			return !1
		}, c.checkRepeatPassword = function() {
			if (c.password.confirm) {
				if (c.password.confirm == c.password.newPw) return c.rPassError = "", !0;
				c.rPassError = "两次密码输入不一致，请重新输入"
			} else c.rPassError = "确认密码不能为空";
			return !1
		}, c.reset = function() {
			if (c.checkOldPassword() && c.checkPassword() && c.checkRepeatPassword()) {
				if (angular.equals(c.master, c.password)) return void(c.authError = "请不要重复提交！");
				c.oldPassError = "", c.passError = "", c.rPassError = "", i.resetPassword(c.password.old, c.password.newPw).then(function(a) {
					a.data.success ? (h.pushForCurrentRoute("reset.psw.success", "notify.success"), c.master = angular.copy(c.password), c.$close(c.master)) : c.oldPassError = a.data.msg
				})
			}
		}, c.quXiao = function() {
			c.$dismiss()
		}, c.manageBranch = function(a) {
			var b = a;
			if (!a) if (3 == i.currentUser.memberType || 4 == i.currentUser.memberType || 5 == i.currentUser.type) {
				if (c.branchesCount >= 100) return void g.openMsgDialog({
					msg: "子账号数量已达到限制!"
				})
			} else if (2 == i.currentUser.memberType || 1 == i.currentUser.memberType) {
				if (c.branchesCount >= 50) return void g.openMsgDialog({
					msg: "子账号数量已达到限制!"
				})
			} else if (c.branchesCount >= 30) return void g.openMsgDialog({
				msg: "子账号数量已达到限制!"
			});
			f.open({
				windowClass: "console six-contain branch-contain",
				templateUrl: "usercenter/console/branch.tpl.html",
				controller: "BranchCtrl",
				resolve: {
					branch: function() {
						return a
					}
				}
			}).result.then(function(d) {
				a || (a = {}), d.dept && (a.deptId = d.dept.id, a.deptName = d.dept.name), a.name = d.name, a.id = d.id, a.extPermi = d.extPermi, b || (a.loginName = d.loginName, a.status = 1, a.regTime = (new Date).getTime(), c.branches.unshift(a), c.branchesCount++, c.branches.length > 10 && c.branches.splice(c.branches.length - 1, 1)), c.$emit("addBranch", a)
			}, function() {})
		}, c.openBranch = function(a, b) {
			e.openBranch(a.id, b).then(function(c) {
				c.data.success && (b ? (a.status = 1, h.pushForCurrentRoute("branch.open.success", "notify.success")) : (a.status = 2, h.pushForCurrentRoute("branch.close.success", "notify.success")))
			}, function() {
				alert("服务器异常")
			})
		}, c.$on("rel.success", function(a, b) {
			h.pushForCurrentRoute("mail.rel.success", "notify.success"), "weixin" == b ? c.wxRel = !0 : "qq" == b && (c.qqRel = !0)
		}), c.$watch("currentPage.branchCurrentPage", function(a, b) {
			a != b && (c.getBranches(a), c.branchToPage = a)
		}), c.checkMobile = function(a) {
			f.open({
				windowClass: "six-contain mobile-contain",
				templateUrl: "usercenter/console/checkMobile.tpl.html",
				controller: "CheckMobileCtrl",
				scope: c,
				resolve: {
					userinfo: function() {
						return {
							title: a,
							phone: c.userinfo.phone
						}
					}
				}
			}).result.then(function(a) {
				c.userinfo.phone = a, c.userinfo.checkPhone = 1, i.currentUser.checkPhone = 1
			}, function() {})
		}, c.createAccount = function() {
			c.emailAccount = !1, f.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/register.tpl.html",
				controller: "RelRegisterAccountCtrl",
				scope: c,
				resolve: {
					userinfo: function() {
						return {
							id: c.userinfo.id
						}
					}
				}
			}).result.then(function(b) {
				c.userinfo.noRel = null, c.userinfo.loginName = b.email, /qq/gi.test(b.type) && (c.qqRel = !0), /weixin/gi.test(b.type) && (c.wxRel = !0), /weibo/gi.test(b.type) && (c.wbRel = !0), a.search("bindemail", null)
			}, function() {
				a.search("bindemail", null)
			})
		}, c.relAccount = function(b) {
			c.emailAccount = !1, f.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/relAccount.tpl.html",
				controller: "RelAccountCtrl",
				scope: c,
				resolve: {
					userinfo: function() {
						return {
							id: c.userinfo.id
						}
					}
				}
			}).result.then(function(b) {
				c.userinfo.noRel = null, c.userinfo.loginName = b.email, /qq/gi.test(b.type) && (c.qqRel = !0), /weixin/gi.test(b.type) && (c.wxRel = !0), /weibo/gi.test(b.type) && (c.wbRel = !0), a.search("bindemail", null)
			}, function() {
				a.search("bindemail", null)
			})
		}, c.relEmail = function(a) {
			return c.userinfo.noRel ? (alert("请先绑定账号"), void c.createAccount()) : void f.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/relEmail.tpl.html",
				controller: "RelEmailCtrl",
				scope: c,
				resolve: {
					userinfo: function() {
						return {
							id: c.userinfo.id,
							email: c.userinfo.email,
							checkEmail: c.userinfo.checkEmail,
							title: a
						}
					}
				}
			}).result.then(function() {}, function() {})
		}, c.verifyEmail = function() {
			e.verifyEmail().then(function(a) {
				200 == a.data.code && g.openMsgDialog({
					msg: "申请绑定成功,已向您的邮箱发送验证邮件,请注意查收。"
				}, function() {})
			}, function(a) {})
		};
		c.bindThirdAccount = function(a) {
			return c.userinfo.noRel ? (alert("请先绑定账号"), void c.createAccount()) : void j.openThirtyPartyWindow(a)
		}, c.unbindRelation = function(a) {
			j.unbindRelation(a)
		}, c.$on("mail.unbind.success", function(a, b) {
			h.pushForCurrentRoute("mail.unbind.success", "notify.success"), "weixin" == b ? c.wxRel = !1 : "qq" == b && (c.qqRel = !1)
		});
		var s;
		d.setValue = function(a) {
			c.bindParam = a, n(c.bindParam), c.$apply()
		}, c.emailAccount = !1, c.upgradeCompany = function() {
			"eqs" == c.userinfo.loginName.substr(0, 3) && null == c.userinfo.email ? c.emailAccount = !0 : f.open({
				windowClass: "seven-contain",
				templateUrl: "usercenter/console/upgrade_company.tpl.html",
				controller: "UsercenterupgradeCtrl",
				resolve: {
					user: function() {
						return {
							id: c.userinfo.id
						}
					}
				}
			}).result.then(function(a) {
				c.userinfo.phone = a, c.userinfo.checkPhone = 1, i.currentUser.type = 2
			}, function() {})
		}, c.companyMes = !0, c.$on("companyState", function() {
			c.companyInfo || (c.companyInfo = {}), c.companyMes = !1, c.userinfo.type = 2
		}), c.bbsShow = !0, c.relForum = function() {
			return c.userinfo.noRel ? (alert("请先绑定账号"), void c.createAccount()) : void f.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/relForum.tpl.html",
				controller: "relForumCtrl",
				scope: c,
				resolve: {
					userinfo: function() {
						return {
							id: c.userinfo.id,
							bbsName: c.userinfo.bbsName
						}
					}
				}
			}).result.then(function(a) {
				c.userinfo.bbsName = a
			}, function() {})
		}
	}]), angular.module("usercenter.member", []), angular.module("usercenter.member").controller("MemberCtrl", ["$scope", "$modal", "usercenterService", "ModalService", "$rootScope", function(a, b, c, d, e) {
		a.pageNo = 1, a.pageSize = 10, a.setUserInfo = function() {
			if (1 == a.currentUser.type) a.userType = "个人用户";
			else if (2 == a.currentUser.type ? a.upgradeInfo = "已升级" : a.upgradeInfo = "免费升级", 3 == a.currentUser.type) a.userType = "高级用户";
			else if (21 == a.currentUser.type) a.userType = "企业子用户";
			else if (4 == a.currentUser.type) a.userType = "服务商用户";
			else if (5 == a.currentUser.type) a.userType = "公共用户";
			else if (51 == a.currentUser.type) a.userType = "公共子用户";
			else if (a.userType = "企业用户", a.currentUser.memberType) {
				if (a.currentUser.expiryTime) {
					var b = (new Date).getTime();
					a.currentUser.expiryTime <= b && (a.currentUser.memberType = null)
				}
				1 == a.currentUser.memberType ? a.userPay = "(体验版)" : 2 == a.currentUser.memberType ? a.userPay = "(高级版)" : 3 == a.currentUser.memberType ? a.userPay = "(专业版)" : 4 == a.currentUser.memberType && (a.userPay = "(畅享版)")
			} else a.userPay = "(免费版)"
		}, a.setUserInfo(), a.memberPrivileges = ["拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传", "拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传", "拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传", "拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传", "拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传", "拥有编辑器组件，适用于个人企业用户，提供全面便捷的推广渠道助力企业自我营销和宣传"], a.getXdLog = function(b, d) {
			a.xdType = b, a.currentPage = d, c.getXdlog(b, d, a.pageSize).then(function(b) {
				if (b.data.success) {
					a.xdLogs = b.data.list;
					for (var c = 0; c < a.xdLogs.length; c++) 2 == a.xdLogs[c].type ? a.xdLogs[c].xd = "-" + a.xdLogs[c].xd : a.xdLogs[c].xd = "+" + a.xdLogs[c].xd;
					a.totalItems = b.data.map.count, a.currentPage = b.data.map.pageNo, a.toPage = b.data.map.pageNo, a.numPages = Math.ceil(a.totalItems / a.pageSize)
				}
			})
		}, a.getXdLog(null, 1), a.$on("buyXd", function(b) {
			a.getXdLog(null, 1)
		}), a.pageChanged = function(b, c) {
			return 1 > c || c > a.numPages && 1 != c ? void alert("此页超出范围") : (a.currentPage = c, a.toPage = c, void a.getXdLog(b, c))
		}, a.getXdStatNum = function() {
			c.getXdStat().then(function(b) {
				a.getXdStat = b.data.map
			})
		}, a.getXdStatNum(), a.transferXd = function() {
			b.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/transfer.tpl.html",
				controller: "UsercentertransferCtrl",
				resolve: {
					username: function() {
						return a.userinfo.loginName
					}
				}
			}).result.then(function() {
				a.getUserXd(), e.$broadcast("buyXd"), a.getXdStatNum()
			}, function() {})
		}, a.openInvoice = function() {
			a.openInvoiceListModal()
		}, a.openInvoiceListModal = function() {
			b.open({
				windowClass: "console seven-contain",
				templateUrl: "usercenter/console/invoice-list.tpl.html",
				controller: "GetInvoiceListCtrl"
			}).result.then(function() {}, function() {})
		}
	}]), angular.module("usercenter.privilege", []), angular.module("usercenter.privilege").controller("PrivilegeCtrl", ["$location", "usercenterService", "$scope", "$modal", "security", "ModalService", function(a, b, c, d, e, f) {
		c.tabid = "corporateMember", c.isActive = "privilege", c.$watch(function() {
			return e.currentUser
		}, function(a) {
			a && (c.currentUser = a, c.changeMemberType())
		}, !0), c.changeMemberType = function() {
			if (c.currentUser && c.currentUser.expiryTime) {
				var a = (new Date).getTime();
				c.currentUser.expiryTime <= a && (c.currentUser.memberType = null)
			}
		}, c.changeMemberType(), c.upgradeAccount = function(a, b) {
			return 1 != c.currentUser.type || c.companyInfo && 0 === c.companyInfo.status ? 1 == c.currentUser.type && c.companyInfo ? void f.openMsgDialog({
				msg: "您不是企业会员,请先申请企业会员后再进行升级！"
			}) : 2 != c.currentUser.type ? void f.openMsgDialog({
				msg: "尊敬的用户，您当前账号类型无法升级为企业用户！"
			}) : void d.open({
				windowClass: "console",
				templateUrl: "usercenter/upgrade.tpl.html",
				controller: "UpgradeCtrl",
				resolve: {
					type: function() {
						return a
					},
					isRenew: function() {
						return b
					}
				}
			}).result.then(function() {}, function() {}) : void("eqs" == c.currentUser.loginName.substr(0, 3) && null == c.currentUser.email ? f.openMsgDialog({
				msg: "第三方账号请先关联账号"
			}) : f.openMsgDialog({
				msg: "尊敬的用户，请您先申请免费企业用户，通过审核后再次升级",
				btn: "我知道了"
			}, function() {
				d.open({
					windowClass: "seven-contain",
					templateUrl: "usercenter/console/upgrade_company.tpl.html",
					controller: "UsercenterupgradeCtrl",
					resolve: {
						user: function() {
							return {
								id: c.user.id
							}
						}
					}
				}).result.then(function(a) {
					e.currentUser.type = 2
				}, function() {})
			}, function() {}))
		}, c.cancel = function() {
			c.$close()
		}, c.upgradeCompany = function() {
			d.open({
				windowClass: "seven-contain",
				templateUrl: "usercenter/console/upgrade_company.tpl.html",
				controller: "UsercenterupgradeCtrl",
				resolve: {
					user: function() {
						return {
							id: c.user.id
						}
					}
				}
			}).result.then(function() {}, function() {})
		}
	}]).controller("UpgradeCtrl", ["$modal", "$scope", "type", "usercenterService", "ModalService", "security", "$location", "isRenew", function(a, b, c, d, e, f, g, h) {
		b.confirm = function() {
			d.getCompanyQrCode(c, 1).then(function(g) {
				b.$close();
				var h;
				if (h = 1 == c ? [{
					name: "30天",
					value: 1
				}, {
					name: "180天",
					value: 6
				}] : 2 == c ? [{
					name: "180天",
					value: 1
				}, {
					name: "365天",
					value: 2
				}] : 3 == c ? [{
					name: "1年",
					value: 1
				}] : [{
					name: "1年",
					value: 1
				}], g.data.success) {
					var i = g.data.obj;
					a.open({
						windowClass: "console",
						templateUrl: "usercenter/payment.tpl.html",
						controller: "PayMentCtrl",
						resolve: {
							qrCodeUrl: function() {
								return i.url
							},
							type: function() {
								return c
							},
							money: function() {
								return i.price / 100
							},
							oprice: function() {
								return i.oprice / 100
							},
							method: function() {
								return "member"
							},
							counts: function() {
								return h
							}
						},
						size: "lg"
					}).result.then(function() {
						d.getUserInfo().then(function(a) {
							a.data.success && (f.currentUser = a.data.obj)
						}), e.openMsgDialog({
							msg: "因网络原因，部分用户开通会有延迟",
							btn: "确定"
						}, function() {
							b.openInvoice()
						})
					}, function() {})
				} else e.openMsgDialog({
					msg: g.data.msg
				})
			})
		}, b.openInvoice = function() {
			e.openConfirmDialog({
				msg: "是否开具发票？",
				confirmName: "是",
				cancelName: "否"
			}, function() {
				b.openInvoiceListModal()
			}, function() {
				g.path("/privilege")
			})
		}, b.openInvoiceListModal = function() {
			a.open({
				windowClass: "console seven-contain",
				templateUrl: "usercenter/console/invoice-list.tpl.html",
				controller: "GetInvoiceListCtrl"
			}).result.then(function() {}, function() {})
		}, b.cancel = function() {
			b.$close()
		}
	}]).controller("PayMentCtrl", ["$modal", "$scope", "qrCodeUrl", "type", "money", "usercenterService", "method", "counts", "oprice", "ModalService", function(a, b, c, d, e, f, g, h, i, j) {
		b.qrCodeUrl = c;
		var k = e,
			i = i;
		e == i ? b.money = k : b.money = i + "-" + (i - k) + "=" + k, b.type = d, 1 == d ? b.payUrl = CLIENT_CDN + "download/vip1-201512.pdf" : 2 == d ? b.payUrl = CLIENT_CDN + "download/vip2-201512.pdf" : 3 == d ? b.payUrl = CLIENT_CDN + "download/vip4-201512.pdf" : 4 == d ? b.payUrl = CLIENT_CDN + "download/vip3-201512.pdf" : 10 == d && (b.payUrl = CLIENT_CDN + "download/xd-201512.pdf"), b.counts = h, b.payWay = "alipay", h && h.length > 0 && (b.curentCount = h[0].value);
		var l = {},
			m = {};
		l["alipay1" + b.curentCount] = c, m["alipay1" + b.curentCount] = b.money, b.paymented = function() {
			b.$close()
		}, b.cancel = function() {
			b.$dismiss()
		}, "member" == g ? b.goodsType = 0 : b.goodsType = 1, b.getWeChatUrl = function(a) {
			var c = b.payWay;
			b.payWay = a;
			var e = 1;
			if ("wechat" == b.payWay && (e = 0), l[b.payWay + "" + e + b.curentCount]) return b.qrCodeUrl = l[b.payWay + "" + e + b.curentCount], void(b.money = m[b.payWay + "" + e + b.curentCount]);
			if ("member" == g) {
				var h = d,
					i = b.curentCount;
				1 == d && 6 == b.curentCount && (h = 2, i = 1), f.getCompanyQrCode(h, e, i).then(function(a) {
					a.data.success ? (l[b.payWay + "" + e + b.curentCount] = b.qrCodeUrl = a.data.obj.url, a.data.obj.price == a.data.obj.oprice ? b.money = m[b.payWay + "" + e + b.curentCount] = a.data.obj.price / 100 : b.money = m[b.payWay + "" + e + b.curentCount] = a.data.obj.oprice / 100 + "-" + (a.data.obj.oprice / 100 - a.data.obj.price / 100) + "=" + a.data.obj.price / 100) : (j.openMsgDialog({
						msg: a.data.msg
					}), b.payWay = c)
				})
			} else f.getPayXdQrCode(d, e).then(function(a) {
				a.data.success ? (l[b.payWay + "" + e + b.curentCount] = b.qrCodeUrl = a.data.obj.url, a.data.obj.price == a.data.obj.oprice ? b.money = m[b.payWay + "" + e + b.curentCount] = a.data.obj.price / 100 : b.money = m[b.payWay + "" + e + b.curentCount] = a.data.obj.oprice / 100 + "-" + (a.data.obj.oprice / 100 - a.data.obj.price / 100) + "=" + a.data.obj.price / 100) : (j.openMsgDialog({
					msg: a.data.msg
				}), b.payWay = c)
			})
		}, b.setCount = function(a, c) {
			var e = b.curentCount;
			b.curentCount = a;
			var g = 1;
			if ("wechat" == b.payWay && (g = 0), l[b.payWay + "" + g + b.curentCount]) return b.qrCodeUrl = l[b.payWay + "" + g + b.curentCount], b.money = m[b.payWay + "" + g + b.curentCount], void(b.curentCount = a);
			var h = d,
				i = a;
			1 == d && 6 == a && (h = 2, i = 1), f.getCompanyQrCode(h, g, i).then(function(a) {
				a.data.success ? (l[b.payWay + "" + g + b.curentCount] = b.qrCodeUrl = a.data.obj.url, a.data.obj.price == a.data.obj.oprice ? b.money = m[b.payWay + "" + g + b.curentCount] = a.data.obj.price / 100 : b.money = m[b.payWay + "" + g + b.curentCount] = a.data.obj.oprice / 100 + "-" + (a.data.obj.oprice / 100 - a.data.obj.price / 100) + "=" + a.data.obj.price / 100) : (j.openMsgDialog({
					msg: a.data.msg
				}), b.curentCount = e)
			})
		}
	}]), angular.module("app.usercenter.tab", ["usercenter.account", "usercenter.member", "usercenter.trash", "usercenter.apply", "usercenter.companyinfo", "usercenter.invoice", "usercenter.invoicelist"]), angular.module("usercenter.trash", []), angular.module("usercenter.trash").controller("TrashCtrl", ["$location", "$rootScope", "$scope", "usercenterService", "ModalService", "fileService", "MineService", "sceneService", "dataCacheService", function(a, b, c, d, e, f, g, h, i) {
		c.PREFIX_CLIENT_HOST = PREFIX_HOST;
		var j = b.branchid;
		c.scene = {
			type: null
		}, c.pageSize = 12, c.sceneCurrent = {
			page: "",
			total: ""
		}, c.imageCurrent = {
			page: "",
			total: ""
		}, c.historyTab = {
			page: {}
		};
		var k = function(a) {
				c.sceneHistory = a, "scene" == a ? c.historyTab = {
					pages: {
						currentPage: c.sceneCurrent.page,
						totalItems: c.sceneCurrent.total,
						pageSize: 12
					}
				} : c.historyTab = {
					pages: {
						currentPage: c.imageCurrent.page,
						totalItems: c.imageCurrent.total,
						pageSize: 21
					}
				}
			};
		c.getMyScenes = function(a, b) {
			c.sceneHistory = b, g.getMyHistoryScenes(a, c.pageSize, j).then(function(a) {
				if (a.data.list && a.data.list.length > 0) {
					c.myScenes = a.data.list;
					for (var d = 0; d < c.myScenes.length; d++) c.myScenes[d].time = new Date(c.myScenes[d].delTime).getTime() + 2592e5, c.myScenes[d].history = Math.round((c.myScenes[d].time - (new Date).getTime()) / 1e3 / 60 / 60 / 24), 0 == c.myScenes[d].history && (c.myScenes[d].history = "不足1");
					c.sceneCurrent.total = a.data.map.count, c.sceneCurrent.page = a.data.map.pageNo
				} else c.sceneTotalItems = 0, c.sceneCurrent.total = 0, c.sceneCurrent.page > 1 ? c.getMyScenes(--c.sceneCurrent.page, "scene") : c.myScenes = [];
				k(b)
			})
		}, c.getMyScenes(1, "scene"), c.deleteScene = function(a, b) {
			e.openConfirmDialog({
				msg: "确定彻底删除此场景?"
			}, function() {
				h.deleteSceneById(a, b).then(function() {
					c.getMyScenes(c.historyTab.pages.currentPage, "scene")
				})
			})
		}, c.revoke = function(a) {
			h.revoke(a).then(function() {
				i.clear("sceneList"), c.getMyScenes(c.historyTab.pages.currentPage, "scene")
			})
		}, c.$on("images.update", function(a, b, d) {
			c.images = b.list;
			for (var e = 0; e < c.images.length; e++) c.images[e].time = new Date(c.images[e].delTime).getTime() + 2592e5, c.images[e].history = Math.round((c.images[e].time - (new Date).getTime()) / 1e3 / 60 / 60 / 24);
			c.imageCurrent.total = b.map.count, c.imageCurrent.page = b.map.pageNo, k(d)
		}), c.getImages = function(a, d) {
			c.sceneHistory = d, f.userRecycle(a, 21).success(function(a) {
				a.success ? b.$broadcast("images.update", a, d) : alert(a.msg)
			}).error(function() {
				alert("网络连接超时，请稍后重试")
			})
		}, c.$on("file.delete", function(a) {
			c.getImages(c.historyTab.pages.currentPage, "image")
		}), c.deleteImg = function(a, b) {
			e.openConfirmDialog({
				msg: "确定彻底删除此图片?"
			}, function() {
				c.deleteFile(a, b)
			})
		}, c.deleteFile = function(a, c) {
			f.deleteFile1(a, c).success(function(a) {
				a.success ? b.$broadcast("file.delete") : alert(a.msg)
			}).error(function() {
				alert("网络连接超时，请稍后重试")
			})
		}, c.imageRevoke = function(a) {
			f.fileRevoke(a).success(function(a) {
				a.success ? (c.getImages(c.historyTab.pages.currentPage, "image"), i.clear("fileService")) : alert(a.msg)
			}).error(function() {
				alert("网络连接超时，请稍后重试")
			})
		}, c.pageChanged = function(a) {
			return 1 > a || a > c.historyTab.pages.totalItems / 10 + 1 ? void alert("此页超出范围") : void("scene" == c.sceneHistory ? c.getMyScenes(a, "scene") : c.getImages(a, "image"))
		}
	}]), angular.module("usercenter.transfer", ["services.usercenter"]), angular.module("usercenter.transfer").controller("UsercentertransferCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "username", function(a, b, c, d, e, f, g, h, i, j) {
		b.userXd = {
			toUser: "",
			xdCount: ""
		}, b.getUserXd = function() {
			e.getUserXd().then(function(a) {
				a.data.success && (b.xdCount = a.data.obj)
			})
		}, b.getUserXd(), b.checkEmailFormat = function(a) {
			return a.toUser ? a.toUser == j ? (b.mailFormatErr = "不能把秀点转送给自己", $(".username").addClass("error"), !1) : (b.mailFormatErr = "", !0) : (b.mailFormatErr = "账号不能为空", $(".username").focus(), !1)
		}, b.checkXdFormat = function(a) {
			return /^\+?[1-9][0-9]*$/.test(a.xdCount) ? b.userXd.xdCount > b.xdCount ? (b.xdFormatErr = "秀点不足", !1) : (b.xdFormatErr = "", !0) : (b.xdFormatErr = "正确填写秀点数目", !1)
		};
		var k = !0;
		b.confirm = function() {
			b.checkEmailFormat(b.userXd) && b.checkXdFormat(b.userXd) && k && (k = !1, e.getgiveXd(b.userXd).then(function(a) {
				200 == a.data.code ? (k = !0, b.$close()) : 1003 == a.data.code ? b.mailFormatErr = a.data.msg : 1010 == a.data.code && (b.xdFormatErr = a.data.msg)
			}))
		}, b.cancel = function() {
			b.$close()
		}
	}]), function() {
		angular.module("userCenter.userGuide", []).controller("userCenterGuideCtrl", ["$rootScope", "$scope", "security", "$routeParams", "$location", "$timeout", function(a, b, c, d, e, f) {
			function g(a, c) {
				var d = sessionStorage.getItem(k.id);
				a && a[k.id] ? a[k.id + "_isShow_" + k.type] ? b.isFirstLogin = !1 : (d || (b.isCompanyVip = c, b.isFirstLogin = !0, sessionStorage.setItem(k.id, !0)), c && setTimeout(function() {
					b.isShow()
				}, 100)) : (b.isFirstLogin = !0, b.isCompanyVip = c, j = j || {}, j[k.id] = k.type, j[k.id + "_isShow_" + k.type] = "2" == k.type, i(l, j), sessionStorage.setItem(k.id, !0))
			}
			function h(a) {
				return window.localStorage ? (j = JSON.parse(localStorage.getItem(a)), j ? j : !1) : null
			}
			function i(a, b) {
				return window.localStorage ? void localStorage.setItem(l, JSON.stringify(b)) : null
			}
			var j, k = c.currentUser,
				l = "userCenterGuide",
				m = null,
				n = e.path();
			if ("1" == k.type && n.indexOf("/account") >= 0 && (m = h(l), g(m, !1), $("#companyVip").css("background", "rgba(0,0,0,0.8")), "2" == k.type && n.indexOf("/main") >= 0) {
				m = h(l), g(m, !0);
				var o = JSON.parse(sessionStorage.getItem("emailGuide"));
				o && $("#companyVip").css("background", "rgba(0,0,0,0.8")
			}
			b.showNextGuide = function() {
				b.isFirstLogin = !1, $("#companyVip").css("background", "rgba(0,0,0,0"), f(function() {
					a.$broadcast("companyVip")
				})
			}, b.isShow = function() {
				j = h(l), j[k.id + "_isShow_" + k.type] = !j[k.id + "_isShow_" + k.type], localStorage.setItem(l, JSON.stringify(j))
			}
		}])
	}(), angular.module("usercenter", ["usercenter.transfer", "usercenter.upgrade", "usercenter.request", "services.usercenter", "services.localizedMessages", "security.service", "app.directives.addelement", "services.modal", "usercenter.relAccount", "usercenter.branch", "services.i18nNotifications", "security.thirdparty", "usercenter.branch.reset", "usercenter.checkMobil", "usercenter.relRegisterAccount", "userCenter.userGuide", "app.usercenter.tab", "usercenter.privilege"]), angular.module("usercenter").controller("UserCenterCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "$filter", "fixnumFilter", "i18nNotifications", "thirdpartyService", "$timeout", function(a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
		b.PREFIX_FILE_HOST = PREFIX_FILE_HOST, b.PREFIX_SERVER_HOST = PREFIX_URL, b.PREFIX_CLIENT_HOST = PREFIX_HOST, b.isActive = "usercenter", b.isVendorUser = f.isVendorUser(), b.editInfo = {
			isEditable: !1
		}, b.isDomainAccessable = f.isAllowToAccess(f.accessDef.ACCESS_DOMAIN_BIND), b.isAllowedHistory = f.isAllowToAccess(f.accessDef.USERCENTER_HISTORY), b.isAllowedApply = f.isAllowToAccess(f.accessDef.APPLY_XIUKE), b.password = {}, b.pageSize = 5, b.XdpageNo = 1, b.XdtoPage = "", b.pageNo = 1, b.toPage = b.XdcurrentPage = 1, b.branchToPage = 1, b.viewControl = {
			tab: d.id
		};
		b.showTab = function(a) {
			i.path("/usercenter/" + a, !1), b.viewControl.tab = a
		}, b.currentUser = f.currentUser, b.getUserInfo = function() {
			e.getUserInfo().then(function(a) {
				b.userinfo = a.data.obj, b.master = angular.copy(b.userinfo), b.url = "我做的企业秀，用的是易企秀，免费好用，你试试吧：\r\n" + PREFIX_HOST + "/#/home/register?u=" + b.userinfo.id, b.userinfo.headImg && b.userinfo.headImg.indexOf("http://") >= 0 && (b.thirdHead = !0);
				var c = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
				"eqs" != b.userinfo.loginName.substr(0, 3) || c.test(b.userinfo.loginName) || (b.userinfo.noRel = "未绑定", /(_qq)$/.test(b.userinfo.loginName) && (b.qqRel = !0), /(_weixin)$/.test(b.userinfo.loginName) && (b.wxRel = !0), /(_weibo)$/.test(b.userinfo.loginName) && (b.wbRel = !0)), /qq/gi.test(b.userinfo.relType) && (b.qqRel = !0), /weixin/gi.test(b.userinfo.relType) && (b.wxRel = !0), /weibo/gi.test(b.userinfo.relType) && (b.wbRel = !0), i.search().bindemail && b.relAccount()
			})
		}, b.getUserInfo(), b.getUserXd(), b.editMessage = function() {
			var a, c, d;
			4 == b.userinfo.type ? (a = "usercenter/console/serverinfo.tpl.html", c = "ApplyCtrl", d = "服务会员基本信息") : (a = "usercenter/console/companyinfo.tpl.html", c = "companyInfoCtrl"), g.open({
				windowClass: "six-contain",
				templateUrl: a,
				controller: c,
				scope: b,
				resolve: {
					userinfo: function() {
						return {
							nick: b.userinfo.nick,
							type: b.userinfo.type,
							id: b.userinfo.id,
							title: d
						}
					}
				}
			}).result.then(function(a) {
				4 == b.userinfo.type ? (b.applyInfo = a.status, b.userinfo.nick = a.applyInfoNew.nick) : a && (b.userinfo.nick = a.nick)
			}, function() {})
		}, b.copyCode = function() {
			var a, b;
			a = $(".invitation-contain span"), b = a.html(), clipboard.setData("text/plain", b)
		}, b.tabid = d.id, b.customerUpload = function() {
			g.open({
				windowClass: "img_console console",
				templateUrl: "scene/console/bg.tpl.html",
				controller: "BgConsoleCtrl",
				resolve: {
					obj: function() {
						return {
							fileType: 1
						}
					}
				}
			}).result.then(function(c) {
				if (c.width / c.height === 1) {
					b.userinfo.headImg = c.data;
					var d = {
						headImg: c.data,
						id: b.userinfo.id
					};
					return void e.saveUserInfo(d).then(function(d) {
						d.data.success && (b.editInfo.isEditable = !1, a.$broadcast("headImg.change", c.data))
					})
				}
				g.open({
					windowClass: "console seven-contain",
					templateUrl: "scene/console/imageCrop.tpl.html",
					controller: "imageCropCtrl",
					backdrop: "static",
					resolve: {
						obj: function() {
							return {
								type: "square",
								properties: {
									src: c.data
								}
							}
						}
					}
				}).result.then(function(c) {
					b.userinfo.headImg = c.src;
					var d = {
						headImg: c.src,
						id: b.userinfo.id
					};
					e.saveUserInfo(d).then(function(c) {
						c.data.success && (b.editInfo.isEditable = !1, a.$broadcast("headImg.change", c.data.obj.headImg))
					})
				}, function(a) {})
			}, function(a) {})
		}, b.domain = function() {
			g.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/tab/domain.tpl.html",
				controller: "UserCenterCtrl",
				resolve: {
					param: function() {
						return {
							value: b.domainMess
						}
					}
				}
			}).result.then(function() {
				getDomainMess()
			}, function() {})
		}, b.applyShow = function() {
			g.open({
				windowClass: "six-contain",
				templateUrl: "usercenter/console/serverinfo.tpl.html",
				controller: "ApplyCtrl",
				backdrop: "static",
				invoice: !0,
				resolve: {
					userinfo: function() {
						return {
							status: b.applyInfo,
							id: b.userinfo.id,
							title: "申请成为秀客获取服务商账号",
							invoice: !0
						}
					}
				}
			}).result.then(function(a) {
				b.applyInfo = a
			}, function() {})
		}, n(function() {
			("4" == f.currentUser.type || "1" == f.currentUser.type) && e.getUserStatus().then(function(a) {
				200 == a.data.code && (b.applyInfo = a.data.map.status)
			})
		}, 400), b.know = function() {
			b.xiudian = !1
		}, b.buyXd = function() {
			g.open({
				windowClass: "console",
				templateUrl: "?c=pay",
				controller: "BuyXdController",
				resolve: {
					getUserXd: function() {
						return function() {
							b.getUserXd(), a.$broadcast("buyXd")
						}
					}
				}
			}).result.then(function() {}, function() {})
		}
	}]).controller("BuyXdController", ["$scope", "$modal", "usercenterService", "ModalService", "getUserXd", function(a, b, c, d, e) {
		a.confirm = function() {
			c.getPayXdQrCode(10, 1).then(function(c) {
				if (a.$close(), c.data.success) {
					var f = c.data.obj;
					b.open({
						windowClass: "console",
						templateUrl: "usercenter/payment.tpl.html",
						controller: "PayMentCtrl",
						resolve: {
							qrCodeUrl: function() {
								return f.url
							},
							type: function() {
								return 10
							},
							money: function() {
								return f.price / 100
							},
							oprice: function() {
								return f.oprice / 100
							},
							method: function() {
								return "buyXd"
							},
							counts: function() {}
						}
					}).result.then(function() {
						e()
					}, function() {})
				} else d.openMsgDialog({
					msg: c.data.msg
				})
			})
		}, a.cancel = function() {
			a.$close()
		}
	}]), angular.module("app.directives.addelement", []).directive("addElement", ["$compile", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e = $("#emailAddress"),
					f = $("#emailAddress").size() + 1;
				c.bind("click", function() {
					var c = angular.element('<div><input type="text" id="p_scnt" style="width:100%; height: 30px; margin-top: 15px;" ng-model="attrs.addElement" name="p_scnt_' + f + '" placeholder="Input Value" /></div>');
					e.append(c);
					var d = c.find("input");
					a(d)(b), f++
				})
			}
		}
	}]).directive("showIcon", ["$compile", "$timeout", function(a, b) {
		return {
			restrict: "EA",
			require: "ngModel",
			scope: {
				check: "&callbackFn"
			},
			link: function(b, c, d, e) {
				var f, g, h = a('<a><span class = "glyphicon glyphicon-ok-circle" ng-show="enabled" style = "margin-top: 8px; color: #9ad64b; font-size: 15px;"></span></a>')(b);
				b.update = function() {
					c[0].blur(), b.check({
						arg1: {
							name: e.$name
						}
					})
				}, c.bind("focus", function() {
					f = e.$viewValue, c.parent().after(h), b.enabled = !0, ("email" === d.name || "mobile" === d.name || "tel" === d.name) && (b.enabled = !1), b.$apply()
				}).bind("blur", function() {
					b.enabled = !1, g = e.$viewValue;
					var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
					if ("mobile" === d.name && g && !a.test(c.val())) return alert("手机号码格式错误"), $('input[name="mobile"]').addClass("error"), void $('input[name="mobile"]').change(function() {
						$(this).removeClass("error")
					});
					if ("email" === d.name && g) {
						var h = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
						if (!h.test(c.val())) return alert("邮箱格式错误！"), $('input[name="email"]').addClass("error"), void $('input[name="email"]').change(function() {
							$(this).removeClass("error")
						})
					}(g || f) && f !== g && b.update(), b.$apply()
				})
			}
		}
	}]).directive("ngHover", function() {
		return {
			restrict: "EA",
			scope: {
				resource: "="
			},
			link: function(a, b, c) {
				b.hover(function() {
					a.$apply(function() {
						a.resource.show = !0
					})
				}, function() {
					a.$apply(function() {
						a.resource.show = !1
					})
				})
			}
		}
	}).directive("imgClick", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(b).bind("click", function() {
					$(b).find("img").css("border", "4px solid #F60"), $(b).siblings().find("img").css("border", 0)
				})
			}
		}
	}).directive("customFocus", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(b).siblings().bind("click", function() {
					b[0].focus()
				})
			}
		}
	}).directive("blurChildren", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(b).on("click", function(a) {
					(a.target == b[0] || $(a.target).hasClass("badge")) && $(".blurClass").find("input:visible").blur()
				})
			}
		}
	}).directive("forbiddenClose", function() {
		return {
			restrict: "EAC",
			link: function(a, b, c) {
				$(b).on("click", function(a) {
					a.stopPropagation()
				})
			}
		}
	}).directive("customeImage", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(b).hover(function() {
					$("<div><a></a></div>")
				}, function() {})
			}
		}
	}).directive("slides", ["configSerService", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e = $(c).find(".slides_container");
				a.getActivityBanner("home").then(function(a) {
					for (var b = a.data.list, d = 0; d < b.length; d++) e.append('<div class="slides-content" style="width: ' + document.documentElement.clientWidth + 'px;"><a target="_blank" href="' + b[d].url + '"><img id="banner' + d + '" src="' + b[d].path + '" width="100%" height="100%" alt="Slide 1"></a></div>');
					document.getElementById("banner0").onload = function() {
						e.find(".slides_control").height($(".slides-content").height())
					}, $(window).on("resize", function() {
						e.find(".slides-content").css("width", document.documentElement.clientWidth), e.find(".slides_control").height($(".slides-content").height())
					}), $(c).slides({
						preload: !0,
						play: 3e3,
						pause: 2500,
						hoverPause: !0
					})
				}, function() {})
			}
		}
	}]).directive("slides3", ["configSerService", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e = $(c).find(".slides_container");
				a.getActivityBanner(d.id).then(function(a) {
					for (var b = a.data.list, f = 0; f < b.length; f++) {
						var g = $('<a href="' + b[f].url + '" style="display:block;" target="' + b[f].target + '" ></a>');
						g.append('<img src="' + b[f].path + '" width="' + d.width + '" height="' + d.height + '" alt="' + b[f].title + '" title="' + b[f].title + '" > '), e.append(g)
					}
					$(c).slides({
						preload: !0,
						play: 3e3,
						pause: 2500,
						hoverPause: !0
					})
				})
			}
		}
	}]).directive("addClass", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(b).closest(".textbox-wrap").find("[autofocus]").focus(), $(b).on("blur", function() {
					$(b).closest(".textbox-wrap").removeClass("focused")
				}).on("focus", function() {
					$(b).closest(".textbox-wrap").addClass("focused")
				})
			}
		}
	}).directive("loadScript", ["$http", "$timeout", "$rootScope", function(a, b, c) {
		return {
			link: function(b, c, d) {
				var e = function() {
						b.captchaLoaded = !0
					};
				b.$watch(function() {
					return c[0].getAttribute("src")
				}, function(b, d) {
					b && a.jsonp(c[0].getAttribute("src")).success(e).error(e)
				}), b.$on("$destroy", function() {
					angular.element(".gt_widget").remove()
				})
			}
		}
	}]), angular.module("app.directives.autoclose", []).directive("autoClose", ["$compile", function(a) {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				$(document).click(function(b) {
					b.target.className;
					return $(event.target).closest(".drop-area").length ? !1 : (a.showObj = {
						showGroup: !1
					}, void a.$apply())
				})
			}
		}
	}]), angular.module("colorpicker.module", []).factory("Helper", function() {
		return {
			closestSlider: function(a) {
				var b = a.matches || a.webkitMatchesSelector || a.mozMatchesSelector || a.msMatchesSelector;
				return b.bind(a)("I") ? a.parentNode : a
			},
			getOffset: function(a, b) {
				for (var c = 0, d = 0, e = 0, f = 0; a && !isNaN(a.offsetLeft) && !isNaN(a.offsetTop);) c += a.offsetLeft, d += a.offsetTop, b || "BODY" !== a.tagName ? (e += a.scrollLeft, f += a.scrollTop) : (e += document.documentElement.scrollLeft || a.scrollLeft, f += document.documentElement.scrollTop || a.scrollTop), a = a.offsetParent;
				return {
					top: d,
					left: c,
					scrollX: e,
					scrollY: f
				}
			},
			stringParsers: [{
				re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(a) {
					return [a[1], a[2], a[3], a[4]]
				}
			}, {
				re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(a) {
					return [2.55 * a[1], 2.55 * a[2], 2.55 * a[3], a[4]]
				}
			}, {
				re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
				parse: function(a) {
					return [parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16)]
				}
			}, {
				re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
				parse: function(a) {
					return [parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16)]
				}
			}]
		}
	}).factory("Color", ["Helper", function(a) {
		return {
			value: {
				h: 1,
				s: 1,
				b: 1,
				a: 1
			},
			rgb: function() {
				var a = this.toRGB();
				return "rgb(" + a.r + "," + a.g + "," + a.b + ")"
			},
			rgba: function() {
				var a = this.toRGB();
				return "rgba(" + a.r + "," + a.g + "," + a.b + "," + a.a + ")"
			},
			hex: function() {
				return this.toHex()
			},
			RGBtoHSB: function(a, b, c, d) {
				a /= 255, b /= 255, c /= 255;
				var e, f, g, h;
				return g = Math.max(a, b, c), h = g - Math.min(a, b, c), e = 0 === h ? null : g === a ? (b - c) / h : g === b ? (c - a) / h + 2 : (a - b) / h + 4, e = (e + 360) % 6 * 60 / 360, f = 0 === h ? 0 : h / g, {
					h: e || 1,
					s: f,
					b: g,
					a: d || 1
				}
			},
			setColor: function(b) {
				b = b.toLowerCase();
				for (var c in a.stringParsers) if (a.stringParsers.hasOwnProperty(c)) {
					var d = a.stringParsers[c],
						e = d.re.exec(b),
						f = e && d.parse(e);
					if (f) return this.value = this.RGBtoHSB.apply(null, f), !1
				}
			},
			setHue: function(a) {
				this.value.h = 1 - a
			},
			setSaturation: function(a) {
				this.value.s = a
			},
			setLightness: function(a) {
				this.value.b = 1 - a
			},
			setAlpha: function(a) {
				this.value.a = parseInt(100 * (1 - a), 10) / 100
			},
			toRGB: function(a, b, c, d) {
				a || (a = this.value.h, b = this.value.s, c = this.value.b), a *= 360;
				var e, f, g, h, i;
				return a = a % 360 / 60, i = c * b, h = i * (1 - Math.abs(a % 2 - 1)), e = f = g = c - i, a = ~~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a], {
					r: Math.round(255 * e),
					g: Math.round(255 * f),
					b: Math.round(255 * g),
					a: d || this.value.a
				}
			},
			toHex: function(a, b, c, d) {
				var e = this.toRGB(a, b, c, d);
				return "#" + (1 << 24 | parseInt(e.r, 10) << 16 | parseInt(e.g, 10) << 8 | parseInt(e.b, 10)).toString(16).substr(1)
			}
		}
	}]).factory("Slider", ["Helper", function(a) {
		var b = {
			maxLeft: 0,
			maxTop: 0,
			callLeft: null,
			callTop: null,
			knob: {
				top: 0,
				left: 0
			}
		},
			c = {};
		return {
			getSlider: function() {
				return b
			},
			getLeftPosition: function(a) {
				return Math.max(0, Math.min(b.maxLeft, b.left + ((a.pageX || c.left) - c.left)))
			},
			getTopPosition: function(a) {
				return Math.max(0, Math.min(b.maxTop, b.top + ((a.pageY || c.top) - c.top)))
			},
			setSlider: function(d, e) {
				var f = a.closestSlider(d.target),
					g = a.getOffset(f, e);
				b.knob = f.children[0].style, b.left = d.pageX - g.left - window.pageXOffset + g.scrollX, b.top = d.pageY - g.top - window.pageYOffset + g.scrollY, c = {
					left: d.pageX,
					top: d.pageY
				}
			},
			setSaturation: function(a, c) {
				b = {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setLightness"
				}, this.setSlider(a, c)
			},
			setHue: function(a, c) {
				b = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setHue"
				}, this.setSlider(a, c)
			},
			setAlpha: function(a, c) {
				b = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setAlpha"
				}, this.setSlider(a, c)
			},
			setKnob: function(a, c) {
				b.knob.top = a + "px", b.knob.left = c + "px"
			}
		}
	}]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper", function(a, b, c, d, e) {
		return {
			scope: {
				disable: "@",
				y: "@"
			},
			require: "?ngModel",
			restrict: "A",
			link: function(f, g, h, i) {
				var j, k = {
					x: parseInt(h.x, 10) || 0,
					y: parseInt(f.y, 10) || 0
				},
					l = h.colorpicker ? h.colorpicker : "hex",
					m = angular.isDefined(h.colorpickerPosition) ? h.colorpickerPosition : "bottom",
					n = angular.isDefined(h.colorpickerInline) ? h.colorpickerInline : !1,
					o = angular.isDefined(h.colorpickerFixedPosition) ? h.colorpickerFixedPosition : !1,
					p = angular.isDefined(h.colorpickerParent) ? g.parent() : angular.element(document.body),
					q = angular.isDefined(h.colorpickerWithInput) ? h.colorpickerWithInput : !1,
					r = q ? '<input type="text" name="colorpicker-input">' : "",
					s = n ? "" : '<button type="button" class="close close-colorpicker">&times;</button>',
					t = '<div class="colorpicker dropdown" ng-click="$event.stopPropagation();"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + r + s + "</div></div>",
					u = angular.element(t),
					v = c,
					w = u.find("colorpicker-hue"),
					x = u.find("colorpicker-saturation"),
					y = u.find("colorpicker-preview"),
					z = u.find("i");
				if (b(u)(f), f.disable && f.$watch("disable", function(a, b) {
					a != b && "false" == a && J()
				}), f.$watch("y", function(a, b) {
					a && a != b && (k.y = parseInt(a, 10))
				}), q) {
					var A = u.find("input");
					A.on("mousedown", function(a) {
						a.stopPropagation()
					}).on("keyup", function(a) {
						var b = this.value;
						g.val(b), i && f.$apply(i.$setViewValue(b)), a.stopPropagation(), a.preventDefault()
					}), g.on("keyup", function() {
						A.val(g.val())
					})
				}
				var B = function() {
						a.on("mousemove", D), a.on("mouseup", E)
					};
				"rgba" === l && (u.addClass("alpha"), j = u.find("colorpicker-alpha"), j.on("click", function(a) {
					d.setAlpha(a, o), D(a)
				}).on("mousedown", function(a) {
					d.setAlpha(a, o), B()
				})), w.on("click", function(a) {
					d.setHue(a, o), D(a)
				}).on("mousedown", function(a) {
					d.setHue(a, o), B()
				}), x.on("click", function(a) {
					d.setSaturation(a, o), D(a)
				}).on("mousedown", function(a) {
					d.setSaturation(a, o), B()
				}), o && u.addClass("colorpicker-fixed-position"), u.addClass("colorpicker-position-" + m), "true" === n && u.addClass("colorpicker-inline"), p.append(u), i && (i.$render = function() {
					g.val(i.$viewValue)
				}, f.$watch(h.ngModel, function() {
					F()
				})), g.on("$destroy", function() {
					u.remove()
				});
				var C = function() {
						try {
							y.css("backgroundColor", v[l]())
						} catch (a) {
							y.css("backgroundColor", v.toHex())
						}
						x.css("backgroundColor", v.toHex(v.value.h, 1, 1, 1)), "rgba" === l && (j.css.backgroundColor = v.toHex())
					},
					D = function(a) {
						var b = d.getLeftPosition(a),
							c = d.getTopPosition(a),
							e = d.getSlider();
						d.setKnob(c, b), e.callLeft && v[e.callLeft].call(v, b / 100), e.callTop && v[e.callTop].call(v, c / 100), C();
						var h = v[l]();
						return g.val(h), i && f.$apply(i.$setViewValue(h)), q && A.val(h), !1
					},
					E = function() {
						a.off("mousemove", D), a.off("mouseup", E)
					},
					F = function() {
						v.setColor(g.val()), z.eq(0).css({
							left: 100 * v.value.s + "px",
							top: 100 - 100 * v.value.b + "px"
						}), z.eq(1).css("top", 100 * (1 - v.value.h) + "px"), z.eq(2).css("top", 100 * (1 - v.value.a) + "px"), C()
					},
					G = function() {
						var a, b = e.getOffset(g[0]);
						return angular.isDefined(h.colorpickerParent) && (b.left = 0, b.top = 0), "top" === m ? a = {
							top: b.top - 147 + k.y,
							left: b.left + k.x
						} : "right" === m ? a = {
							top: b.top + k.y,
							left: b.left + 126 + k.x
						} : "bottom" === m ? a = {
							top: b.top + g[0].offsetHeight + 2 + k.y,
							left: b.left + k.x
						} : "left" === m ? a = {
							top: b.top + k.y,
							left: b.left - 150 + k.x
						} : "sceneToobar" === m && (a = {
							top: b.top + k.y - 110,
							left: b.left - 150 + k.x + 40
						}), {
							top: a.top + "px",
							left: a.left + "px"
						}
					},
					H = function() {
						J()
					};
				n === !1 ? g.on("click", function() {
					F(), u.addClass("colorpicker-visible").css(G()), a.on("mousedown", H)
				}) : (F(), u.addClass("colorpicker-visible").css(G())), u.on("mousedown", function(a) {
					a.stopPropagation(), a.preventDefault()
				});
				var I = function(a) {
						i && f.$emit(a, {
							name: h.ngModel,
							value: i.$modelValue
						})
					},
					J = function() {
						u.hasClass("colorpicker-visible") && (u.removeClass("colorpicker-visible"), I("colorpicker-closed"), a.off("mousedown", H))
					};
				u.find("button").on("click", function() {
					J()
				})
			}
		}
	}]), angular.module("app.directives.rightclick", []).directive("rightClick", ["$compile", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e;
				$(c).on("contextmenu", function(d) {
					if (d.preventDefault(), e && e[0] && e.remove(), "0" == b.categoryId) {
						e = $('<ul class="right-menu dropdown-menu"></ul>'), e.appendTo($(c)), e.css({
							left: d.pageX - $(c).offset().left,
							top: d.pageY - $(c).offset().top
						}).show();
						for (var f in b.myTags) {
							var g = '<li class="tag_list" ng-class="{selected: dropTagIndex == ' + f + '}" ng-click="selectTag(' + b.myTags[f].id + "," + f + ')">' + b.myTags[f].name + "</li>",
								h = a(g)(b);
							e.append(h)
						}
						var i = a('<li class="tag_list add_cate clearfix" style="border-top:1px solid #ccc;margin-bottom:0px;" ng-click="createCategory()"><em>+</em><span>创建分类</span></li>')(b);
						e.append(i);
						var j = a('<li class="btn-main" style="width:100%; padding:0px; border: 0;margin:0px;height:25px; line-height:25px;"><a style="height:25px;line-height:25px;text-indent:0;color:#FFF;padding:0px;text-align:center;" ng-click="setCategory(' + b.dropTagIndex + "," + b.img.id + ')">确定</a></li>')(b);
						e.append(j), $(j).on("click", function() {
							e.hide()
						}), $(document).mousemove(function(a) {
							(a.pageX < e.offset().left - 20 || a.pageX > e.offset().left + e.width() + 20 || a.pageY < e.offset().top - 20 || a.pageY > e.offset().top + e.height() + 20) && (e.hide(), $(this).unbind("mousemove"))
						})
					}
				})
			}
		}
	}]), angular.module("app.directives.copyButton", []).directive("copyButton", [function() {
		return {
			restrict: "EA",
			scope: {
				url: "@"
			},
			link: function(a, b, c) {
				var d = new ZeroClipboard(b);
				d.on("copy", function(a) {
					var b = a.clipboardData;
					b.setData("text/plain", c.url.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 7]))
				}), d.on("ready", function(a) {
					d.on("aftercopy", function(a) {
						alert("复制成功")
					})
				})
			}
		}
	}]), angular.module("app.directives.customer", []).directive("forbiddenListClose", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).click(function(a) {
					return !1
				})
			}
		}
	}), angular.module("app.directives.dataDraggable", []).directive("itemDraggable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).draggable({
					zIndex: 2700,
					scroll: !1,
					iframeFix: !1,
					revert: !1,
					helper: "clone"
				})
			}
		}
	}).directive("itemDroppable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).droppable({
					hoverClass: "active",
					out: function(a, b) {},
					drop: function(b, c) {
						delete a.$parent.associateData[c.draggable.parent().attr("item-id")], a.$parent.associateData[$(b.target).attr("item-id")] = c.draggable.attr("item-id");
						var d = $(b.target).find(".list_darggable");
						d.length > 0 && $(".item-remove-droppable").append(d), c.draggable.css({
							left: 0,
							top: 0
						}).prependTo(this)
					}
				})
			}
		}
	}).directive("itemRemoveDroppable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).droppable({
					hoverClass: "active",
					drop: function(b, c) {
						$(c.draggable).parents(".list-attribute").length > 0 && delete a.associateData[$(c.draggable).parents(".list-attribute").attr("item-id")], c.draggable.css({
							left: 0,
							top: 0
						}).appendTo(this)
					}
				})
			}
		}
	}), angular.module("app.directives.disableKeydown", []).directive("disableEdit", function() {
		function a(a, b, c) {
			var d = {
				37: "arrow-left",
				38: "arrow-up",
				39: "arrow-right",
				40: "arrow-down",
				9: "tab",
				27: "esc"
			};
			b.keydown(function(a) {
				d[a.which] || a.preventDefault()
			})
		}
		return {
			restrice: "EA",
			link: a
		}
	}), angular.module("scene.create.hoverElement", []).directive("hoverElement", [function() {
		function a(a, c, d) {
			var e;
			$blinkElement = $('<div class="blink-element"></div>');
			var f = $("#inside_" + a.id);
			"4" == f.attr("ctype") ? $("#tip_" + a.id).html("图片") : "2" == f.attr("ctype") ? $("#tip_" + a.id).html("文字") : "3" == f.attr("ctype") ? $("#tip_" + a.id).html("随机图片") : "h" == f.attr("ctype") ? $("#tip_" + a.id).html("形状") : "x" == f.attr("ctype") && $("#tip_" + a.id).html("秀字体"), c.hover(function(c) {
				b = $("#inside_" + a.id), b.find(".blink-element").length || $blinkElement.appendTo(b), e = setInterval(function() {
					$blinkElement.toggleClass("red-border")
				}, 1e3)
			}, function(a) {
				$blinkElement.remove(), clearInterval(e)
			})
		}
		var b;
		return {
			restrict: "EA",
			scope: {
				id: "="
			},
			link: a
		}
	}]), angular.module("common.directives.inputColor", []).controller("inputColorCtrl", ["$scope", "$attrs", function(a, b) {
		a.x = b.x || 151, a.y = b.y || -2, a.colorMode = b.colorMode || "rgba"
	}]).directive("eqdInputColor", function() {
		return {
			restrict: "E",
			templateUrl: "directives/inputColor.tpl.html",
			replace: !0,
			controller: "inputColorCtrl",
			scope: {
				selectColor: "=",
				defaultColor: "="
			}
		}
	}), angular.module("app.directives.keymap", ["services.scene", "services.history", "services.select"]).directive("eqxKeymap", ["sceneService", "historyService", "selectService", function(a, b, c) {
		return {
			restrict: "A",
			link: function(b) {
				var c = $(document);
				b.$on("$destroy", function() {
					c.unbind("keydown")
				}), c.unbind("keydown").keydown(function(c) {
					if ((c.ctrlKey || c.metaKey) && 90 == c.keyCode && a.historyBack(), (c.ctrlKey || c.metaKey) && 89 == c.keyCode && a.historyForward(), (c.ctrlKey || c.metaKey) && 86 == c.keyCode) {
						if ($("#btn-toolbar").length || $(".modal-dialog").length) return;
						a.getCopy() && a.pasteElement()
					}
					if ((c.ctrlKey || c.metaKey) && 67 == c.keyCode) {
						if ($("#btn-toolbar").length || $(".modal-dialog").length) return;
						a.copyElement()
					}
					b.$apply()
				})
			}
		}
	}]), angular.module("app.directives.limitInput", []).directive("limitInput", function() {
		return {
			require: "ngModel",
			link: function(a, b, c, d) {
				"transform" == c.cssItem && a.$on("updateTransform", function(b, c, e) {
					e == a.elemDef.id && (d.$setViewValue(parseInt(c, 10)), d.$render())
				}), "borderRadius" == c.cssItem && a.$on("updateMaxRadius", function(b, c) {
					a.maxRadius = parseInt(Math.min($(c).outerWidth(), $(c).outerHeight()) / 2 + 10, 10), a.maxRadius < a.model.borderRadius && (d.$setViewValue(a.maxRadius), d.$render()), a.$apply()
				}), a.$watch(function() {
					return $(b).val()
				}, function(a) {
					+a > c.max && (d.$setViewValue(c.max), d.$render()), +a < c.min && (d.$setViewValue(c.min), d.$render())
				})
			}
		}
	}), angular.module("app.directives.lineChart", []).directive("lineChart", ["$compile", function(a) {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				var d, e;
				a.$watch(function() {
					return c.data
				}, function() {
					c.data && (d = JSON.parse(c.data)), e ? (e.destroy(), e = new Chart(b[0].getContext("2d")).Line(d, {
						scaleFontColor: "#fff"
					})) : e = new Chart(b[0].getContext("2d")).Line(d, {
						scaleFontColor: "#fff"
					})
				})
			}
		}
	}]), angular.module("app.directives.loading", []).directive("loginLoading", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				a.$on("loginLoading", function(a, c) {
					var d = $('<div class="homeMask" style="position: absolute;width: 100%;top:0;bottom:0;background-color:#ccc;opacity:0.8;">正在跳转，请稍后...</div>');
					d.appendTo($(b))
				})
			}
		}
	}), angular.module("app.directives.comp.editor", []).directive("mapEditor", function() {
		return {
			restrict: "AE",
			templateUrl: "directives/mapeditor.tpl.html",
			link: function(a, b, c) {
				var d = new BMap.Map("l-map");
				d.centerAndZoom(new BMap.Point(116.404, 39.915), 15);
				var e = {
					onSearchComplete: function(a) {
						if (f.getStatus() == BMAP_STATUS_SUCCESS) {
							for (var b = [], c = 0; c < a.getCurrentNumPois(); c++) b.push(a.getPoi(c).title + ", " + a.getPoi(c).address);
							document.getElementById("r-result").innerHTML = b.join("<br/>")
						}
					}
				},
					f = new BMap.LocalSearch(d, e);
				a.searchAddress = function() {
					f.search(a.address)
				}
			}
		}
	}), angular.module("app.directives.notification", []).directive("notificationFadeout", ["i18nNotifications", function(a) {
		return {
			restrict: "EA",
			link: function(b, c, d) {
				var e = $(c);
				e.fadeOut(4e3, function() {
					a.remove(b.notification)
				})
			}
		}
	}]), angular.module("app.directives.pageTplTypes", []).directive("pageTplTypes", ["pageTplService", function(a) {
		return {
			restrict: "EA",
			replace: !0,
			templateUrl: "directives/page-tpl-types.tpl.html",
			link: function(b, c, d) {
				a.getPageTplTypes().then(function(a) {
					a.data.list && a.data.list.length > 0 ? b.pageTplTypes = a.data.list : b.pageTplTypes = []
				})
			}
		}
	}]), angular.module("app.directives.pieChart", []).directive("pieChart", ["$compile", function(a) {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				var d, e;
				a.$watch(function() {
					return c.data
				}, function() {
					c.data && (e = JSON.parse(c.data)), d ? (d.destroy(), d = new Chart(b[0].getContext("2d")).Pie(e)) : d = new Chart(b[0].getContext("2d")).Pie(e)
				})
			}
		}
	}]), angular.module("app.directives.qrcode", []).directive("qrCode", function() {
		return {
			restrict: "A",
			scope: {
				qrUrl: "@"
			},
			link: function(a, b, c) {
				a.$watch("qrUrl", function(a, c) {
					//$("canvas", b).length > 0 && $("canvas", b).remove(), a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 7]), $(b).qrcode({
					$("canvas", b).length > 0 && $("canvas", b).remove(), a && (a = a.replace(PREFIX_HOST,PREFIX_HOST), $(b).qrcode({
					render: "canvas",
						width: 180,
						height: 180,
						text: a + (/\?/.test(a) ? "&" : "?") + "eqrcode=1"
					}))
				})
			}
		}
	}).directive("qrCodeSize", function() {
		return {
			restrict: "A",
			scope: {
				qrUrl: "@"
			},
			link: function(a, b, c) {
				
				var d = parseInt(c.qrCodeSize, 10);
				
				a.$watch("qrUrl", function(a, c) {
					//$("canvas", b).length > 0 && $("canvas", b).remove(), a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 7]), $(b).qrcode({
					$("canvas", b).length > 0 && $("canvas", b).remove(), a && (a = a.replace(PREFIX_HOST, PREFIX_HOST), $(b).qrcode({

						render: "canvas",
						width: d,
						height: d,
						
						text: a + (/\?/.test(a) ? "&" : "?") + "eqrcode=1"
					}))
					
				})
			}
		}
	}).directive("downloadCanvas", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				a.$on("download.canvas", function(c, d) {
					var e, f = "png";
					$.each($(b).find(".qr-size"), function(a, b) {
						$(b).attr("qr-code-size") == d && (e = $(b).find("canvas").get(0))
					}), d == $(b).find(".qr-size").attr("qrCodeSize") && console.log(d);
					var g = document.createElement("a"),
						h = document.createEvent("MouseEvents"),
						i = e.toDataURL("image/png"),
						j = function(a) {
							a = a.toLowerCase().replace(/jpg/i, "jpeg");
							var b = a.match(/png|jpeg|bmp|gif/)[0];
							return "image/" + b
						};
					i = i.replace(j(f), "image/octet-stream"), h.initEvent("click", !0, !0), g.download = a.scene.code + ".png", g.href = i, g.dispatchEvent(h)
				})
			}
		}
	}), angular.module("app.directives.register", []).directive("qqButton", function() {
		return {
			restrict: "EA",
			scope: {
				someCtrlFn: "&callbackFn",
				openid: "=",
				accesstoken: "="
			},
			link: function(a, b, c) {
				QC.Login({
					btnId: c.id,
					scope: "all"
				}, function(b, c) {
					var d = b;
					QC.Login.check() && QC.Login.getMe(function(b, c) {
						a.openid = b, a.accesstoken = c, a.someCtrlFn({
							arg1: {
								openId: b,
								accessToken: c,
								type: "qq",
								userInfo: d
							}
						})
					})
				}, function(a) {
					alert("QQ登录 注销成功")
				}), $("#qqLoginBtn a").removeAttr("onclick").click(function() {
					alert("第三方注册功能即将开放")
				})
			}
		}
	}).directive("wbButton", function() {
		return {
			restrict: "EA",
			link: function(a, b, c) {
				WB2.anyWhere(function(a) {
					a.widget.connectButton({
						id: "wb_connect_btn",
						type: "3,2",
						callback: {
							login: function(a) {},
							logout: function() {}
						}
					})
				}), $("#wb_connect_btn").removeAttr("onclick").click(function(a) {
					return a.stopPropagation(), a.preventDefault(), alert("新浪微博注册功能即将开放"), !1
				})
			}
		}
	}), angular.module("app.directives.responsiveImage", []).directive("responsiveImage", ["$compile", function(a) {
		return {
			restrict: "EA",
			scope: {
				file: "="
			},
			link: function(a, b, c) {
				"0" != a.fileType && (b.find("img").length ? $element = b.find("img") : "IMG" == b.get(0).nodeName.toUpperCase() && ($element = b), $element.bind("load", function() {
					$(this).removeAttr("style");
					var b = $(this).parent("li").width(),
						c = $(this).parent("li").height();
					a.file && (a.file.shape = {
						width: $(this).width(),
						height: $(this).height()
					}), this.width <= b && this.height <= c ? (this.style.top = "50%", this.style.marginTop = "-" + this.height / 2 + "px", this.style.left = "50%", this.style.marginLeft = "-" + this.width / 2 + "px") : this.width > this.height ? (this.style.width = b + "px", this.height = this.height * b / this.width, this.style.top = "50%", this.style.marginTop = "-" + this.height / 2 + "px") : (this.style.height = c + "px", this.width = this.width * c / this.height, this.style.left = "50%", this.style.marginLeft = "-" + this.width / 2 + "px")
				}))
			}
		}
	}]), angular.module("common.directives.scroll", []).directive("eqdScroll", function() {
		var a = {
			mouseWheel: !0,
			scrollbars: !0,
			interactiveScrollbars: !0,
			click: !0,
			bounce: !1
		};
		return function(b, c, d) {
			c.css({
				position: "relative",
				overflow: "hidden"
			}), delete a.disableMouse, delete a.preventDefaultException, d.preventException && (a.preventDefaultException = {
				tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|DIV|SPAN|EM|A|LI|B)$/
			}), "true" == d.disableMouse && (a.disableMouse = !0);
			var e, f = new IScroll(c.get(0), a),
				g = b.$watch(function() {
					clearTimeout(e), e = setTimeout(function() {
						f.refresh()
					}, 100)
				});
			d.refresh && (f.on("scrollStart", function() {
				c.children().on("mousewheel", function(a) {
					f.y <= f.maxScrollY + 200 && b.$eval(d.refresh)
				})
			}), f.on("scrollEnd", function() {
				c.children().unbind("mousewheel")
			})), d.changePos && f.on("scrollEnd", function() {
				b.pos = {
					y: f.y
				}, b.$eval(d.changePos)
			}), c.on("$destroy", function() {
				f.destroy(), f = null, g(), clearTimeout(e)
			}), b.$on("scroll.refresh." + d.scroll, function() {
				e = setTimeout(function() {
					f.refresh()
				}, 100)
			}), b.$on("scroll.scrollTo", function(a, b, c) {
				f.scrollTo(b, c)
			})
		}
	}), angular.module("common.directives.dropDown", []).directive("eqdSelect", ["$rootScope", function(a) {
		function b(b, c) {
			function d() {
				f.unbind("click", d), g.removeClass("visible")
			}
			function e(a) {
				index = a.index(), b.current = b.list[index], g.removeClass("visible")
			}
			var f = (tabletCheck(), $(document)),
				g = c.find(".eqc-drop-down-list"),
				h = g.find(".iScrollIndicator");
			c.on("$destroy", function() {
				f.unbind("click", d)
			}), b.showList = function(c) {
				return c.stopPropagation(), g.hasClass("visible") ? void d() : (a.$broadcast("iscroll.refresh." + b.scrollType), $(".eqc-drop-down-list").removeClass("visible"), g.addClass("visible"), f.click(d), void h.click(function(a) {
					a.stopPropagation()
				}))
			}, b.selectItem = function(a) {
				a.stopPropagation();
				var b = a.target,
					c = b.tagName.toLowerCase(),
					d = $(b);
				"li" == c ? e(d) : "div" == c && (d = d.closest("li"), e(d))
			}
		}
		return {
			restrict: "E",
			replace: !0,
			templateUrl: "directives/select.tpl.html",
			scope: {
				list: "=",
				current: "=",
				scrollType: "@",
				fontFamily: "=",
				isBorder: "@",
				x: "@"
			},
			link: b
		}
	}]).controller("SimpleSelectController", ["$scope", "$element", "$attrs", "$parse", "$timeout", function(a, b, c, d, e) {
		var f = this;
		a.list = [], a.current = null, f.addSelectChoice = function(b) {
			a.list.push(b)
		}, f.removeSelectChoice = function(b) {
			var c = a.list.indexOf(b); - 1 !== c && a.list.splice(c, 1)
		};
		var g;
		f.setObjectConfig = function(a) {
			g === undefined && (g = a)
		}, a.setDefaultSelectedValue = function() {
			angular.forEach(a.list, function(b) {
				b.value == a.model && (a.current = b)
			})
		};
		var h = a.$watchCollection("list", function() {
			a.setDefaultSelectedValue()
		}),
			i = a.$watch("current", function(b) {
				b && a.model != b.value && (a.model = b.value, e(function() {
					c.change && a.$parent.$eval(c.change)
				}, 100))
			}),
			j = a.$watch("model", function(b) {
				b && a.setDefaultSelectedValue()
			});
		a.$on("$destroy", function() {
			h(), i(), j()
		}), a.$watch("model", function(b, c) {
			b != c && angular.forEach(a.list, function(b) {
				b.value == a.model && (a.current = b)
			})
		})
	}]).directive("eqxSelect", ["$compile", function(a) {
		var b = '<eqd-select list="list" class="select-contain" current="current"></eqd-select>';
		return {
			restrict: "E",
			scope: {
				model: "="
			},
			controller: "SimpleSelectController",
			compile: function(c, d) {
				var e = d["class"];
				return c.removeClass(e), function(c, d, f, g) {
					d.append(a(angular.element(b).addClass(e))(c))
				}
			}
		}
	}]).directive("eqxSelectOption", ["$parse", "$interpolate", function(a, b) {
		return {
			restrict: "E",
			require: "^eqxSelect",
			compile: function(c, d) {
				var e, f;
				return d.ngRepeat && (e = a(d.value), f = b(c.html())), function(a, b, c, d) {
					b.css("display", "none");
					var g;
					if (e) {
						var h = e(a);
						d.setObjectConfig(angular.isObject(h)), g = {
							name: f(a),
							value: h
						}
					} else g = {
						name: b.html(),
						value: a.$parent.$eval(c.value)
					};
					d.addSelectChoice(g), b.on("$destroy", function() {
						d.removeSelectChoice(g)
					})
				}
			}
		}
	}]), angular.module("app.directives.numChangeAnim", []).directive("numChangeAnim", ["$filter", function(a) {
		return {
			restrict: "A",
			scope: {
				content: "@"
			},
			link: function(b, c, d) {
				function e(a, b) {
					return Math.floor(a + Math.random() * (b - a))
				}
				function f(a, b) {
					a = a > 0 ? a : 1;
					for (var c = Math.floor(Math.log10(a)), d = Math.floor(a / Math.pow(10, c)), f = 0, g = 10, h = function(h) {
							setTimeout(function() {
								if (10 > g) f = h;
								else {
									var i = c > h ? h : c,
										j = Math.pow(10, i) * d;
									j = j.toString().length == a.toString().length ? a : j, f = e(f, j)
								}
								b(f, 9 == h)
							}, (h * h + h + 2) / 2 * 30)
						}, i = 0; g > i; i++) h(i)
				}
				function g(b, c) {
					$(b).children("span").text(a("number")(c))
				}
				b.$watch("content", function(a) {
					if (a) {
						var b = parseInt(a, 10);
						f(b, function(a, d) {
							g(c, a), d && (g(c, b), $(c).addClass("heartbeat").css({
								"animation-duration": "1s"
							}))
						})
					}
				})
			}
		}
	}]), angular.module("app.directives.style", []).directive("panelDraggable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				a.$on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), b.on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), $(b).draggable(), $(window).bind("resize", function() {
					$(b).css({
						left: $(document).width() - 444,
						top: 50
					})
				})
			}
		}
	}), angular.module("app.directives.switchInput", []).directive("switchInput", function() {
		function a(a, b, c) {
			b.hover(function(c) {
				a.obj.showinput = !0;
				var d = b.find("input");
				setTimeout(function() {
					d.focus(), d.select()
				}, 0), a.$apply()
			}, function(b) {
				a.obj.showinput = !1, a.$apply()
			})
		}
		return {
			restrict: "EA",
			scope: {
				obj: "="
			},
			link: a
		}
	}), angular.module("app.directives.component", ["services.scene", "services.select", "scene.create.console.pictures", "scene.edit.trigger"]).directive("compDraggable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				a.$on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), b.on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), $(b).draggable({
					revert: !1,
					stack: ".comp-draggable",
					helper: "panel" == c.compDraggable || "page" == c.compDraggable ? "clone" : "",
					appendTo: "parent",
					containment: "panel" == c.compDraggable || "page" == c.compDraggable ? "" : "parent",
					zIndex: 1049,
					opacity: .35,
					stop: function(a, b) {
						$(a.toElement).one("click", function(a) {
							a.stopImmediatePropagation()
						})
					}
				})
			}
		}
	}).directive("compDroppable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				a.$on("$destroy", function() {
					$(b).droppable(), $(b).droppable("destroy"), b = null
				}), b.on("$destroy", function() {
					$(b).droppable(), $(b).droppable("destroy"), b = null
				});
				var d = b.height(),
					e = d / 2 - 260 + 50,
					f = b.width(),
					g = f / 2 - 187 + 288 + 27;
				$(b).droppable({
					accept: ".comp-draggable",
					hoverClass: "drop-hover",
					drop: function(b, c) {
						if (3 != c.draggable.attr("ctype") && "trigger" != c.draggable.attr("ctype")) {
							console.log(top);
							var d = {
								left: c.offset.left - g + "px",
								top: c.offset.top - e + "px"
							};
							"panel" == c.draggable.attr("comp-draggable") ? a.createComp(c.draggable.attr("ctype"), c.draggable.attr("font"), d) : a.updateCompPosition(c.draggable.attr("id"), null, d)
						} else "trigger" == c.draggable.attr("ctype") ? a.openTriggerMode() : a.createComp(3)
					}
				})
			}
		}
	}).directive("compSortable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).sortable({
					axis: "y",
					update: function(a, b) {}
				})
			}
		}
	}).directive("compResizable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				$(b).resizable({
					autoHide: !1,
					containment: "parent",
					stop: function(b, c) {
						if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
							var d = {
								width: c.size.width,
								height: c.size.height,
								imgStyle: {
									width: c.element.find("img").width(),
									height: c.element.find("img").height(),
									marginTop: c.element.find("img").css("marginTop"),
									marginLeft: c.element.find("img").css("marginLeft")
								}
							};
							a.updateCompSize(c.element.attr("id"), d)
						} else a.updateCompSize(c.element.attr("id"), c.size);
						$(b.toElement).one("click", function(a) {
							a.stopImmediatePropagation()
						})
					},
					resize: function(a, c) {
						var d = $(b).find("img").width() / $(b).find("img").height();
						if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
							var e = c.size.width / c.size.height,
								f = c.element.find("img");
							d >= e ? (f.outerHeight(c.size.height), f.outerWidth(c.size.height * d), f.css("marginLeft", -(f.outerWidth() - c.size.width) / 2), f.css("marginTop", 0)) : (f.outerWidth(c.size.width), f.outerHeight(c.size.width / d), f.css("marginTop", -(f.outerHeight() - c.size.height) / 2), f.css("marginLeft", 0))
						} else c.element.find(".element").outerWidth(c.size.width), c.element.find(".element").outerHeight(c.size.height)
					}
				})
			}
		}
	}).directive("photoDraggable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				a.$on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), b.on("$destroy", function() {
					$(b).draggable(), $(b).draggable("destroy"), b = null
				}), $(b).draggable({
					revert: !1,
					helper: "clone",
					appendTo: ".img_list",
					zIndex: 1049,
					opacity: .35,
					stop: function(a, b) {
						$(a.toElement).one("click", function(a) {
							a.stopImmediatePropagation()
						})
					}
				})
			}
		}
	}).directive("cropDroppable", function() {
		return {
			restrict: "A",
			link: function(a, b, c) {
				a.$on("$destroy", function() {
					$(b).droppable(), $(b).droppable("destroy"), b = null
				}), b.on("$destroy", function() {
					$(b).droppable(), $(b).droppable("destroy"), b = null
				}), $(b).droppable({
					accept: "li",
					hoverClass: "drop-hover",
					drop: function(b, c) {
						a.preSelectImage(c.draggable.attr("photo-draggable"))
					}
				})
			}
		}
	}).service("Point", function() {
		function a(a, b) {
			this.x = a, this.y = b
		}
		return a.prototype.add = function(b, c) {
			return new a(this.x + b, this.y + c)
		}, a.prototype.middle = function(b) {
			return new a((this.x + b.x) / 2, (this.y + b.y) / 2)
		}, a.prototype.detectionPointA = function(a) {
			this.x = a.x < this.x ? a.x : this.x, this.y = a.y < this.y ? a.y : this.y
		}, a.prototype.detectionPointB = function(a) {
			this.x = a.x > this.x ? a.x : this.x, this.y = a.y > this.y ? a.y : this.y
		}, a
	}).factory("DetectionBox", ["Point", function(a) {
		function b(a) {
			this.element = a, this.init()
		}
		return b.prototype.init = function() {
			var b = this.element.position();
			this.startPointA = new a(b.left, b.top);
			var c = this.element.get(0);
			this.startPosition = {
				top: parseInt(c.style.top, 10) || 0,
				left: parseInt(c.style.left, 10) || 0
			};
			var d = /[0-9]*[.]*[0-9]*deg/.exec(c.style.transform || c.style.webkitTransform || c.style.mozTransform || c.style.msTransform || c.style.oTransform || ""),
				e = d && d.length ? d[0] : "0";
			this.angle = parseInt(e, 10), this.radian = 2 * this.angle * Math.PI / 360;
			var f = this.element.width(),
				g = this.element.height();
			this.elementWidth = f, this.elementHeight = g, this.left = this.startPosition.left, this.top = this.startPosition.top, this.ratio = f / g, this.width = Math.abs(f * Math.cos(this.radian)) + Math.abs(g * Math.sin(this.radian)), this.height = Math.abs(f * Math.sin(this.radian)) + Math.abs(g * Math.cos(this.radian)), this.startPointB = this.startPointA.add(this.width, this.height), this.startPointO = this.startPointA.middle(this.startPointB)
		}, b.prototype.getID = function() {
			return this.element.attr("id")
		}, b.prototype.measure = function() {
			return {
				x: this.startPointA.x,
				y: this.startPointA.y,
				width: this.width,
				height: this.height
			}
		}, b
	}]).service("panStateTracker", function() {
		var a = {},
			b = {};
		return a.clear = function() {
			b = {}
		}, a.register = function(a) {
			b[a.attr("id")] = a
		}, a.isElementHasBeenRegisted = function(a) {
			return !!b[a.attr("id")]
		}, a.remove = function(a) {
			delete b[a.attr("id")]
		}, a.forEach = function(a) {
			angular.forEach(b, a)
		}, a
	}).controller("MouseCompSelectController", ["$scope", "$element", "Point", "DetectionBox", "panStateTracker", "selectService", function(a, b, c, d, e, f) {
		function g(a, d, e, f, g) {
			b.get(0).style.position = "relative", this.startPositionX = a, this.startPositionY = d, this.width = e, this.height = f, this.selectAreaPointA = new c(a, d), this.selectAreaPointB = new c(a + e, d + f), this.startFlag = g, this.selectAreaTemplate = b.find(".edit-area-select-container"), this.selectAreaTemplate.length || (this.selectAreaTemplate = $('<div class="edit-area-select-container"></div>'), b.append(this.selectAreaTemplate));
			var h = b.offset(),
				i = $("#nr").offset();
			this.offset = h, this.containerOffset = i, $(window).resize(function() {
				angular.extend(h, b.offset()), angular.extend(i, $("#nr").offset())
			})
		}
		b.css("user-select", "none");
		var h = this;
		h.allComponents = [], h.selectedComponents = [], g.prototype.selectStart = function(a, c) {
			angular.extend(this.offset, b.offset()), angular.extend(this.containerOffset, $("#nr").offset()), h.allComponents = [], e.forEach(function(a) {
				h.allComponents.push(a)
			}), this.startPositionX = a, this.startPositionY = c, this.startFlag = !0, this.updateSelectedElements()
		}, g.prototype.isSelectStarted = function() {
			return this.startFlag
		}, g.prototype.selectMove = function(a) {
			this.width = a.clientX - this.startPositionX, this.height = a.clientY - this.startPositionY, this.updateCurrentPosition(), this.width > 4 && this.height > 4 && (this.updateSelectArea(), this.updateSelectedElements())
		}, g.prototype.selectEnd = function() {
			this.startPositionX = this.startPositionY = this.width = this.height = 0, this.startFlag = !1, this.updateCurrentPosition(), this.updateSelectArea()
		}, g.prototype.getLocalPoint = function(a) {
			return new c(a.x - this.offset.left, a.y - this.offset.top)
		}, g.prototype.updateSelectArea = function() {
			var a = this.getLocalPoint(this.selectAreaPointA);
			this.selectAreaTemplate.css("left", a.x), this.selectAreaTemplate.css("top", a.y), this.selectAreaTemplate.height(this.height), this.selectAreaTemplate.width(this.width)
		}, g.prototype.updateCurrentPosition = function() {
			this.selectAreaPointA.x = this.width > 0 ? this.startPositionX : this.width + this.startPositionX, this.selectAreaPointA.y = this.height > 0 ? this.startPositionY : this.height + this.startPositionY, this.width = Math.abs(this.width), this.height = Math.abs(this.height), this.selectAreaPointB.x = this.selectAreaPointA.x + this.width, this.selectAreaPointB.y = this.selectAreaPointA.y + this.height
		}, g.prototype.updateSelectedElements = function() {
			h.selectedComponents = [];
			var a = this,
				b = f.getElements();
			angular.forEach(h.allComponents, function(c) {
				var d = c.attr("id").split("_")[1];
				return a.contains(c) ? (c.children(".bar").show(), void(-1 === b.indexOf(d) && f.addElement(d))) : (-1 !== b.indexOf(d) && f.deleteElement(d), void c.children(".bar").hide())
			})
		}, g.prototype.contains = function(a) {
			var b = new d(a),
				e = new c(this.containerOffset.left + b.startPointO.x, this.containerOffset.top + b.startPointO.y);
			return e.x >= this.selectAreaPointA.x && e.x <= this.selectAreaPointB.x && e.y >= this.selectAreaPointA.y && e.y <= this.selectAreaPointB.y
		};
		var i = new g(0, 0, 0, 0, !1);
		b.bind("mousedown", function(a) {
			var b = $(a.target);
			$("#nr").find(".mask-trigger").length || b.hasClass("comp-resize") || b.parents("li.comp-resize").length || b.hasClass("ui-draggable") || b.parents(".ui-draggable").length || b.parents("#containment").length || b.parents(".create_left").length || ($("body").css({
				"user-select": "none",
				cursor: "default"
			}), i.selectStart(a.clientX, a.clientY))
		}), b.bind("mousemove", function(a) {
			i.isSelectStarted() && i.selectMove(a)
		}), b.bind("mouseup", function() {
			i.isSelectStarted() && ($("body").css({
				"user-select": "initial",
				cursor: "default"
			}), i.selectEnd())
		})
	}]).directive("mouseCompSelect", [function() {
		return {
			restrict: "A",
			controller: "MouseCompSelectController"
		}
	}]).factory("editAreaBorderCollisionDetector", ["DetectionBox", "Point", function(a, b) {
		function c() {
			this.editAreaWidth = 320, this.editAreaHeight = 486, this.detectionBoxs = []
		}
		function d() {
			this.editArea = new c
		}
		return c.prototype.initDetectBoxWithElements = function(b) {
			this.detectionBoxs = [];
			var c = this;
			angular.forEach(b, function(b) {
				c.detectionBoxs.push(new a(b))
			})
		}, d.prototype.initWithElements = function(a) {
			this.editArea.initDetectBoxWithElements(a), this.initBigDetectionBoxPoints()
		}, d.prototype.initBigDetectionBoxPoints = function() {
			this.bigDetectionBoxPointA = new b(this.editArea.editAreaWidth, this.editArea.editAreaHeight), this.bigDetectionBoxPointB = new b(0, 0), this.minimumWidth = this.editArea.editAreaWidth, this.minimumHeight = this.editArea.editAreaHeight;
			var a = this;
			angular.forEach(this.editArea.detectionBoxs, function(b) {
				a.bigDetectionBoxPointA.detectionPointA(b.startPointA), a.bigDetectionBoxPointB.detectionPointB(b.startPointB), a.minimumWidth > b.elementWidth && (a.minimumWidth = b.elementWidth), a.minimumHeight > b.elementHeight && (a.minimumHeight = b.elementHeight)
			});
			var c = (this.bigDetectionBoxPointA.x + this.bigDetectionBoxPointB.x) / 2,
				d = (this.bigDetectionBoxPointA.y + this.bigDetectionBoxPointB.y) / 2;
			this.bigDetectionBoxPointO = new b(c, d)
		}, d.prototype.refreshBoxInfo = function() {
			angular.forEach(this.editArea.detectionBoxs, function(a) {
				a.init()
			}), this.initBigDetectionBoxPoints()
		}, d.prototype.translateIntoProperMoveDelta = function(a) {
			var b = {
				x: a.deltaX,
				y: a.deltaY
			};
			return b
		}, d.prototype.compDragMoveDelta = function(a) {
			return this.translateIntoProperMoveDelta(a)
		}, new d
	}]).controller("MultiCompDragController", ["selectService", "$scope", "$element", "editAreaBorderCollisionDetector", "panStateTracker", "gridGuide", "$rootScope", function(a, b, c, d, e, f, g) {
		e.clear();
		var h = this;
		h.selectedComponents = [], h.initCollisionDetectorWithElements = function() {
			h.selectedComponents = [];
			var b = $("#nr");
			angular.forEach(a.getElements(), function(a) {
				h.selectedComponents.push(b.find("#inside_" + a))
			}), d.initWithElements(h.selectedComponents)
		}, h.isKeyboard = !1, h.compDragStart = function(b) {
			a.getElements().length && (h.initCollisionDetectorWithElements(), f.guide.start({
				action: "move"
			}), h.isKeyboard = !! b, h.isKeyboard || angular.forEach(h.selectedComponents, function(a) {
				a.css("opacity", .35)
			}))
		}, h.compDragMove = function(b) {
			if (a.getElements().length) {
				var c = d.compDragMoveDelta({
					deltaX: b.deltaX,
					deltaY: b.deltaY
				});
				!h.isKeyboard && f.guide.options.snap && f.guide.enforceGuides(c), angular.forEach(d.editArea.detectionBoxs, function(a) {
					var b = "translate3d(" + c.x + "px, " + c.y + "px, 0) rotateZ(" + a.angle + "deg)";
					a.element.css("transform", b)
				}), f.guide.sync(c), g.$broadcast("boxOuter")
			}
		}, h.compDragEnd = function(c) {
			if (a.getElements().length) {
				angular.forEach(h.selectedComponents, function(a) {
					a.css("opacity", 1)
				});
				var e = d.compDragMoveDelta({
					deltaX: c.deltaX,
					deltaY: c.deltaY
				});
				!h.isKeyboard && f.guide.options.snap && f.guide.enforceGuides(e);
				var i = d.editArea.detectionBoxs.length;
				angular.forEach(d.editArea.detectionBoxs, function(a, c) {
					var d = "translate3d(0, 0, 0) rotateZ(" + a.angle + "deg)";
					a.element.css("transform", d);
					var f = {
						top: a.startPosition.top + e.y,
						left: a.startPosition.left + e.x
					};
					a.element.css("top", f.top), a.element.css("left", f.left), b.updateCompPosition(a.element.attr("id"), f, i - 1 > c)
				}), f.guide.stop(), g.$broadcast("boxOuter")
			}
		}, f.grid.init(c), f.guide.init(c)
	}]).directive("multiCompDrag", function() {
		return {
			restrict: "A",
			controller: "MultiCompDragController"
		}
	}).directive("compDrag", ["panStateTracker", "$rootScope", function(a, b) {
		return {
			require: "^multiCompDrag",
			restrict: "A",
			link: function(b, c, d, e) {
				if (!a.isElementHasBeenRegisted(c)) {
					if (a.register(c), c.on("$destroy", function() {
						a.remove(c)
					}), c.find("img").length) {
						var f = $('<div class="dragTemplate" style="position: absolute;left: 0;top: 0;right: 0;bottom: 0;background-color: #fff;opacity: 0;"></div>');
						f.bind("dblclick", function() {
							f.siblings(".element").trigger("dblclick")
						}), c.find(".element-box-contents").append(f)
					}
					var g = new Hammer(c.find(".element-box-contents").get(0));
					g.get("pan").set({
						threshold: 0
					}), g.on("panstart", function(a) {
						return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (a.preventDefault(), a.srcEvent.preventDefault(), $("body").css({
							"user-select": "none",
							cursor: "default"
						}), void e.compDragStart())
					}), g.on("panmove", function(a) {
						return a.preventDefault(), $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : void e.compDragMove(a)
					}), g.on("panend", function(a) {
						return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (e.compDragEnd(a), $("body").css({
							"user-select": "initial",
							cursor: "default"
						}), void $(a.srcEvent.target).one("click", function(a) {
							return a.stopImmediatePropagation(), a.stopPropagation(), a.preventDefault(), !1
						}))
					})
				}
			}
		}
	}]).directive("compRotate", ["$rootScope", function(a) {
		return {
			restrict: "A",
			link: function(b, c, d) {
				var e = $(c),
					f = $('<div class="bar bar-rotate bar-radius">');
				e.append(f).append('<div class="bar bar-line">');
				var g, h = {},
					i = new Hammer(f.get(0));
				i.get("pan").set({
					threshold: 0
				}), i.on("panstart", function(a) {
					$("body").css({
						"user-select": "none",
						cursor: 'url("/assets/images/mouserotate.ico"), default'
					});
					var b = e.parent();
					h = {
						x: parseFloat(e.css("left")) + b.offset().left + e.width() / 2,
						y: parseFloat(e.css("top")) + b.offset().top + e.height() / 2
					}
				}), i.on("panmove", function(b) {
					var c = b.center,
						d = c.x - h.x,
						f = c.y - h.y,
						i = Math.abs(d / f);
					g = Math.atan(i) / (2 * Math.PI) * 360, d > 0 && 0 > f ? g = 360 + g : d > 0 && f > 0 ? g = 180 - g : 0 > d && f > 0 ? g = 180 + g : 0 > d && 0 > f && (g = 360 - g), g > 360 && (g -= 360), e.css({
						transform: "rotateZ(" + g + "deg)"
					}), a.$broadcast("boxOuter")
				}), i.on("panend", function(c) {
					$("body").css({
						"user-select": "initial",
						cursor: "default"
					}), b.updateCompAngle(e.attr("id"), g), b.$broadcast("updateTransform", g, e.attr("id").split("_")[1]), a.$broadcast("boxOuter")
				})
			}
		}
	}]).directive("compResize", ["selectService", "picturesService", "triggerService", "panStateTracker", "multiCompResize", "Cursor", "gridGuide", "$rootScope", "sceneService", function(a, b, c, d, e, f, g, h, i) {
		function j(a, b, c, d) {
			c.css("cursor", d);
			var f = new Hammer(c.get(0));
			f.get("pan").set({
				threshold: 0,
				direction: Hammer.DIRECTION_ALL
			}), f.on("panstart", function() {
				$("body").css({
					"user-select": "none",
					cursor: "default"
				}), e.resizeStart(b), g.guide.start({
					action: "resize"
				})
			}), f.on("panmove", function(a) {
				var c = e.resizeMove(b, d, a);
				g.guide.sync(c), h.$broadcast("boxOuter")
			}), f.on("panend", function() {
				$("body").css({
					"user-select": "initial",
					cursor: "default"
				}), e.resizeEnd(a, b), g.guide.stop(), h.$broadcast("boxOuter")
			})
		}
		return {
			restrict: "A",
			link: function(b, c) {
				var d = $('<div class="bar bar-n"><div class="bar-radius"></div></div>'),
					e = $('<div class="bar bar-s"><div class="bar-radius"></div></div>'),
					g = $('<div class="bar bar-e"><div class="bar-radius"></div></div>'),
					k = $('<div class="bar bar-w"><div class="bar-radius"></div></div>'),
					l = $('<div class="bar bar-ne bar-radius">'),
					m = $('<div class="bar bar-nw bar-radius">'),
					n = $('<div class="bar bar-se bar-radius">'),
					o = $('<div class="bar bar-sw bar-radius">');
				c.append(d).append(e).append(g).append(k).append(m).append(n).append(o).append(l).unbind("mousedown").mousedown(function(c) {
					var d = !! $("#nr").find(".mask-trigger").length;
					if (!d) {
						var e = $(this).attr("id").split("_")[1];
						if (i.currentElemDef = i.getElementsMap()[e], "p" != i.currentElemDef.type ? $("#comp_setting").length && "n" != i.currentElemDef.type && h.$broadcast("showStylePanel") : $("#comp_setting").hide(), c.ctrlKey || c.shiftKey)"none" != $(this).children(".bar").first().css("display") ? ($(this).children(".bar").hide(), a.deleteElement(e)) : ($(this).children(".bar").show(), a.addElement(e));
						else {
							if ("none" != $(this).children(".bar").first().css("display")) return;
							$(this).children(".bar").show().end().siblings().children(".bar").hide(), a.clearElements(), a.addElement(e)
						}
						b.safeApply(function() {})
					}
				}), c.find(".element-box").unbind("click").bind("click", function(a) {
					(a.ctrlKey || a.shiftKey) && a.stopPropagation()
				}), c.parent().unbind("mousedown").mousedown(function(c) {
					$(c.target).closest("li").length || ($(this).children("li").children(".bar").hide(), b.$emit("hideStylePanel"), a.clearElements(), b.safeApply(function() {}))
				}), j(b, c, g, f.RESIZE_E), j(b, c, k, f.RESIZE_W), j(b, c, d, f.RESIZE_N), j(b, c, e, f.RESIZE_S), j(b, c, l, f.RESIZE_NE), j(b, c, m, f.RESIZE_NW), j(b, c, n, f.RESIZE_SE), j(b, c, o, f.RESIZE_SW)
			}
		}
	}]).service("Cursor", function() {
		var a = {
			RESIZE_W: "w-resize",
			RESIZE_E: "e-resize",
			RESIZE_N: "n-resize",
			RESIZE_S: "s-resize",
			RESIZE_SE: "se-resize",
			RESIZE_SW: "sw-resize",
			RESIZE_NE: "ne-resize",
			RESIZE_NW: "nw-resize"
		};
		return a
	}).factory("multiCompResize", ["selectService", "picturesService", "Cursor", "editAreaBorderCollisionDetector", "sceneService", function(a, b, c, d, e) {
		var f, g, h = 1,
			i = 1,
			j = (d.editArea.editAreaWidth, d.editArea.editAreaHeight, null),
			k = null,
			l = {};
		return l.selectedComponents = [], l.initCollisionDetectorWithElements = function() {
			l.selectedComponents = [];
			var b = $("#nr");
			angular.forEach(a.getElements(), function(a) {
				l.selectedComponents.push(b.find("#inside_" + a))
			}), d.initWithElements(l.selectedComponents)
		}, l.resizeStart = function() {
			l.initCollisionDetectorWithElements(), j = d.bigDetectionBoxPointA, k = d.bigDetectionBoxPointB, f = d.minimumWidth, g = d.minimumHeight
		}, l.checkTopBorder = function(a, b) {
			return this
		}, l.checkRightBorder = function(a, b) {
			return this
		}, l.checkLeftBorder = function(a, b) {
			return this
		}, l.checkBottomBorder = function(a, b) {
			return this
		}, l.checkMinHeight = function(a, b, c, d) {
			var e = Math.floor(c - d);
			return a.deltaY * b > e && (a.deltaY = e * b), this
		}, l.checkMinWidth = function(a, b, c, d) {
			var e = Math.floor(c - d);
			return a.deltaX * b > e && (a.deltaX = e * b), this
		}, l.compResizeWithRatio = function(a, b) {
			switch (b) {
			case c.RESIZE_SE:
				angular.forEach(d.editArea.detectionBoxs, function(b) {
					var c = parseInt(a.deltaY * b.ratio, 10),
						d = a.deltaY,
						e = {
							deltaX: c,
							deltaY: d
						};
					l.checkRightBorder(e, b.startPointB).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, i).checkMinWidth(e, -1, b.elementWidth, h), c !== e.deltaX && (d = e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY), a.deltaY = e.deltaY, a.deltaX = e.deltaX
				});
				break;
			case c.RESIZE_SW:
				angular.forEach(d.editArea.detectionBoxs, function(b) {
					var c = parseInt(-a.deltaY * b.ratio, 10),
						d = a.deltaY,
						e = {
							deltaX: c,
							deltaY: d
						};
					l.checkLeftBorder(e, b.startPointA).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, i).checkMinWidth(e, 1, b.elementWidth, h), c !== e.deltaX && (d = -e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY), a.deltaY = e.deltaY, a.deltaX = e.deltaX
				});
				break;
			case c.RESIZE_NE:
				angular.forEach(d.editArea.detectionBoxs, function(b) {
					var c = parseInt(-a.deltaY * b.ratio, 10),
						d = a.deltaY,
						e = {
							deltaX: c,
							deltaY: d
						};
					l.checkTopBorder(e, b.startPointA).checkRightBorder(e, b.startPointB).checkMinHeight(e, 1, b.elementHeight, i).checkMinWidth(e, -1, b.elementWidth, h), c !== e.deltaX && (d = -e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY), a.deltaY = e.deltaY, a.deltaX = e.deltaX
				});
				break;
			case c.RESIZE_NW:
				angular.forEach(d.editArea.detectionBoxs, function(b) {
					var c = parseInt(a.deltaY * b.ratio, 10),
						d = a.deltaY,
						e = {
							deltaX: c,
							deltaY: d
						};
					l.checkLeftBorder(e, b.startPointA).checkTopBorder(e, b.startPointA).checkMinHeight(e, 1, b.elementHeight, i).checkMinWidth(e, 1, b.elementWidth, h), c !== e.deltaX && (d = e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY), a.deltaY = e.deltaY, a.deltaX = e.deltaX
				})
			}
			return this
		}, l.resizeMove = function(a, b, e) {
			var k = {
				deltaX: e.deltaX,
				deltaY: e.deltaY
			},
				m = null;
			switch (b) {
			case c.RESIZE_W:
				l.checkLeftBorder(k, j).checkMinWidth(k, 1, f, h), m = {
					x: k.deltaX,
					y: 0,
					width: -k.deltaX,
					height: 0
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					a.element.css({
						left: a.left + k.deltaX,
						width: a.elementWidth - k.deltaX
					})
				});
				break;
			case c.RESIZE_E:
				m = {
					x: 0,
					y: 0,
					width: k.deltaX,
					height: 0
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					a.element.css("width", a.elementWidth + k.deltaX)
				});
				break;
			case c.RESIZE_N:
				l.checkTopBorder(k, j).checkMinHeight(k, 1, g, i), m = {
					x: 0,
					y: k.deltaY,
					width: 0,
					height: -k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					a.element.css({
						top: a.top + k.deltaY,
						height: a.elementHeight - k.deltaY
					})
				});
				break;
			case c.RESIZE_S:
				m = {
					x: 0,
					y: 0,
					width: 0,
					height: k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					a.element.css("height", a.elementHeight + k.deltaY)
				});
				break;
			case c.RESIZE_SE:
				m = {
					x: 0,
					y: 0,
					width: k.deltaX,
					height: k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					var b = a.elementHeight + k.deltaY,
						c = b * a.ratio;
					a.element.css({
						height: b,
						width: c
					})
				});
				break;
			case c.RESIZE_SW:
				m = {
					x: k.deltaX,
					y: 0,
					width: -k.deltaX,
					height: k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					var b = a.elementHeight + k.deltaY,
						c = b * a.ratio;
					a.element.css({
						left: a.left - (c - a.elementWidth),
						height: b,
						width: c
					})
				});
				break;
			case c.RESIZE_NE:
				m = {
					x: 0,
					y: k.deltaY,
					width: k.deltaX,
					height: -k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					var b = a.elementHeight - k.deltaY,
						c = b * a.ratio;
					a.element.css({
						top: a.top + k.deltaY,
						height: b,
						width: c
					})
				});
				break;
			case c.RESIZE_NW:
				m = {
					x: k.deltaX,
					y: k.deltaY,
					width: -k.deltaX,
					height: -k.deltaY
				}, angular.forEach(d.editArea.detectionBoxs, function(a) {
					var b = a.elementHeight - k.deltaY,
						c = b * a.ratio;
					a.element.css({
						top: a.top + k.deltaY,
						left: a.left - (c - a.elementWidth),
						height: b,
						width: c
					})
				})
			}
			return angular.forEach(l.selectedComponents, function(a) {
				l.setChildrenSizeMove(a)
			}), m
		}, l.setChildrenSizeMove = function(a) {
			var b = a.children(".element-box"),
				c = {
					width: b.width(),
					height: b.height()
				};
			if ("4" == a.attr("ctype").charAt(0) || "n" == a.attr("ctype").charAt(0)) {
				var d = a.find("img"),
					e = d.width() / d.height(),
					f = c.width / c.height;
				e >= f ? (d.outerHeight(c.height), d.outerWidth(c.height * e), d.css("marginLeft", -(d.outerWidth() - c.width) / 2), d.css("marginTop", 0)) : (d.outerWidth(c.width), d.outerHeight(c.width / e), d.css("marginTop", -(d.outerHeight() - c.height) / 2), d.css("marginLeft", 0))
			} else "p" == a.attr("ctype").charAt(0) ? a.find(".fluxslider, .images, .image1, .image2").css({
				width: c.width,
				height: c.height
			}) : (a.find(".element").css({
				width: c.width,
				height: c.height
			}), "i" == a.attr("ctype") || "d" == a.attr("ctype") ? a.find(".comp_counter").css({
				"line-height": c.height + "px"
			}) : ("w01" == a.attr("ctype") || "w02" == a.attr("ctype")) && a.find(".element").css({
				"line-height": c.height + "px"
			}))
		}, l.resizeEnd = function(a) {
			angular.forEach(l.selectedComponents, function(b, c) {
				l.setChildrenSizeEnd(a, b, c < l.selectedComponents.length - 1), a.$broadcast("updateMaxRadius", b)
			})
		}, l.setChildrenSizeEnd = function(a, c, d) {
			var f = c.position(),
				g = {
					width: c.width(),
					height: c.height(),
					left: f.left,
					top: f.top
				};
			if (("i" == c.attr("ctype") || "d" == c.attr("ctype") || "w01" == c.attr("ctype") || "w02" == c.attr("ctype")) && (g.lineHeight = g.height + "px"), "4" == c.attr("ctype").charAt(0) || "n" == c.attr("ctype").charAt(0)) {
				var h = c.find("img"),
					i = {
						width: g.width,
						height: g.height,
						left: g.left,
						top: g.top,
						imgStyle: {
							width: h.width(),
							height: h.height(),
							marginTop: h.css("marginTop"),
							marginLeft: h.css("marginLeft")
						}
					};
				e.updateCompSize(c.attr("id"), i, d)
			} else if ("p" == c.attr("ctype").charAt(0)) {
				var j = b.getProperties();
				if (!j || !j.children) return;
				var k = c.find(".slider"),
					l = k.attr("id");
				k.empty();
				for (var m = 0; m < j.children.length; m++) k.append('<img src="' + PREFIX_FILE_HOST + j.children[m].src + '">');
				utilPictures.deleteInterval(l), new flux.slider("#nr #" + l, {
					autoplay: j.autoPlay,
					delay: j.interval,
					pagination: !1,
					transitions: [utilPictures.getPicStyle(j.picStyle).name],
					width: g.width,
					height: g.height,
					bgColor: j.bgColor,
					onStartEnd: function(a) {
						utilPictures.addInterval(l, a)
					}
				}), e.updateCompSize(c.attr("id"), g, d)
			} else e.updateCompSize(c.attr("id"), g, d)
		}, l
	}]).factory("gridGuide", ["panStateTracker", "DetectionBox", "selectService", "editAreaBorderCollisionDetector", function(a, b, c, d) {
		var e = {
			init: function(a) {
				this.color = this.getColor() ? this.getColor() : "rgba(150, 150, 150, 0.2)", this.$container = a, this.render(), setTimeout(function() {
					"disable" != e.getVisable() && e.show()
				}, 1)
			},
			len: 1,
			render: function() {
				this.domElement = $('<div class="eq-block-grid">'), this.canvasElement = $('<canvas class="eq-block-grid-inner">').appendTo(this.domElement)
			},
			show: function() {
				this.domElement.appendTo(this.$container), this.paint(), this.enabled = !0
			},
			hide: function() {
				this.domElement.remove(), this.enabled = !1
			},
			setVisable: function(a) {
				window.localStorage && localStorage.setItem("sceneGridVisable", a)
			},
			getVisable: function() {
				return window.localStorage ? localStorage.getItem("sceneGridVisable") : void 0
			},
			setColor: function(a) {
				window.localStorage && localStorage.setItem("sceneGridColor", a)
			},
			getColor: function() {
				return window.localStorage ? localStorage.getItem("sceneGridColor") : void 0
			},
			getGuideState: function() {
				return window.localStorage ? localStorage.getItem("sceneGridState") : void 0
			},
			setGuideState: function(a) {
				window.localStorage && localStorage.setItem("sceneGridState", a)
			},
			getSnapState: function() {
				return window.localStorage ? localStorage.getItem("sceneSnapState") : void 0
			},
			setSnapState: function(a) {
				window.localStorage && localStorage.setItem("sceneSnapState", a)
			},
			paint: function() {
				var a = 320,
					b = this.len ? 486 * this.len : 486,
					c = Math.round(b / 30),
					d = this.getCols(),
					e = Math.round(a / d),
					f = 30;
				fixHeight = 0, this.canvasElement.css({
					left: 0,
					top: 0
				}), this.canvasElement.attr({
					width: a,
					height: b
				});
				var g = this.canvasElement.get(0).getContext("2d");
				g.clearRect(0, 0, a, b);
				for (var h = 1; d > h; h++) g.fillStyle = this.color, g.fillRect(Math.floor(h * e), 0, 1, b);
				for (var i = 1; c > i; i++) g.fillStyle = this.color, g.fillRect(0, Math.floor(i * f) + fixHeight, a, 1)
			},
			getRows: function() {
				return 16 * this.len
			},
			getCols: function() {
				return 10
			},
			refreshGrid: function(a) {
				a > 1 ? (this.domElement.css("top", 0), g.domElement.css("top", 0)) : (this.domElement.css("top", "17px"), g.domElement.css("top", "17px")), a != this.len && (this.len = a, g.slideBounds.height = 486 * a, this.paint())
			}
		},
			f = {
				snap: e.getSnapState() ? e.getSnapState() : !0,
				action: "move",
				threshold: 1,
				enabled: e.getGuideState() ? e.getSnapState() : !0
			},
			g = {
				init: function(a) {
					this.guides = {
						h: [],
						v: []
					}, this.slideBounds = {
						width: 320,
						height: 486,
						x: 0,
						y: 0
					}, this.render(), a.append(this.domElement), this.options = f
				},
				render: function() {
					this.domElement = $('<div class="eq-block-guides">')
				},
				start: function(d) {
					if (this.options.enabled) {
						this.allBlocks = [], a.forEach(function(a, c) {
							g.allBlocks.push(new b(a))
						}), this.targetBlocks = [], angular.forEach(c.getElements(), function(a) {
							g.allBlocks.forEach(function(b) {
								b.element.attr("id") == "inside_" + a && g.targetBlocks.push(b)
							})
						}), this.gridLines = [];
						var h = e.getCols(),
							i = Math.round(this.slideBounds.height / 30),
							j = Math.round(this.slideBounds.width / h),
							k = 30;
						if (fixHeight = 0, e.enabled) {
							for (var l = 1; h > l; l++) this.gridLines.push(this.getCenterEdge({
								x: l * j,
								y: 0,
								width: 0,
								height: this.slideBounds.height
							}, "grid-col-" + l, "horizontal"));
							for (var m = 1; i > m; m++) this.gridLines.push(this.getCenterEdge({
								x: 0,
								y: m * k + fixHeight,
								width: this.slideBounds.width,
								height: 0
							}, "grid-row-" + m, "vertical"))
						}
						1 == e.len ? (this.gridLines.push(this.getCenterEdge({
							x: 0,
							y: 0,
							width: this.slideBounds.width,
							height: 0
						}, "grid-row-top", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: 0,
							y: this.slideBounds.height,
							width: this.slideBounds.width,
							height: 0
						}, "grid-row-bottom", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: -17,
							width: this.slideBounds.width + 54,
							height: 0
						}, "grid-row-top1", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: this.slideBounds.height + 17,
							width: this.slideBounds.width + 54,
							height: 0
						}, "grid-row-bottom1", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: -19,
							width: 0,
							height: this.slideBounds.height + 34
						}, "grid-col-left1", "horizontal")), this.gridLines.push(this.getCenterEdge({
							x: this.slideBounds.width + 27,
							y: -19,
							width: 0,
							height: this.slideBounds.height + 34
						}, "grid-col-right1", "horizontal"))) : (this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: 0,
							width: this.slideBounds.width + 54,
							height: 0
						}, "grid-row-top1", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: this.slideBounds.height,
							width: this.slideBounds.width + 54,
							height: 0
						}, "grid-row-bottom", "vertical")), this.gridLines.push(this.getCenterEdge({
							x: -27,
							y: 0,
							width: 0,
							height: this.slideBounds.height
						}, "grid-col-left1", "horizontal")), this.gridLines.push(this.getCenterEdge({
							x: this.slideBounds.width + 27,
							y: 0,
							width: 0,
							height: this.slideBounds.height
						}, "grid-col-right1", "horizontal"))), this.gridLines.push(this.getCenterEdge({
							x: -1,
							y: 0,
							width: 0,
							height: this.slideBounds.height
						}, "grid-col-left", "horizontal")), this.gridLines.push(this.getCenterEdge({
							x: this.slideBounds.width,
							y: 0,
							width: 0,
							height: this.slideBounds.height
						}, "grid-col-right", "horizontal")), this.options = $.extend(f, d)
					}
				},
				stop: function() {
					this.clearGuideElements()
				},
				sync: function(a) {
					this.options.enabled && (this.findGuides(a), this.renderGuides())
				},
				findGuides: function(a) {
					a = angular.extend({
						x: 0,
						y: 0,
						width: 0,
						height: 0
					}, a), this.guides.h.length = 0, this.guides.v.length = 0;
					var b = {
						x: d.bigDetectionBoxPointA.x + a.x,
						y: d.bigDetectionBoxPointA.y + a.y,
						width: d.bigDetectionBoxPointB.x - d.bigDetectionBoxPointA.x + a.width,
						height: d.bigDetectionBoxPointB.y - d.bigDetectionBoxPointA.y + a.height
					},
						c = this.getEdges(b, "target-bounds", "resize" === this.options.action);
					this.combinedBounds = b, this.allBlocks.forEach(function(a) {
						-1 === g.targetBlocks.indexOf(a) && g.compageEdges(c, g.getEdges(a.measure(), a.getID()), g.options.threshold)
					}), this.gridLines.forEach(function(a) {
						g.compageEdges(c, a, g.options.threshold)
					}), this.guides.h.sort(function(a, b) {
						return a.distance - b.distance
					}), this.guides.v.sort(function(a, b) {
						return a.distance - b.distance
					})
				},
				enforceGuides: function(a) {
					if (this.options.enabled) {
						var b = this.options.threshold;
						this.options.threshold = 3, this.findGuides(a), this.options.threshold = b;
						var c, d = 0,
							e = 0;
						this.guides.h.length && (c = this.guides.h[0], d = c.compareEdge.x - c.targetEdge.x), this.guides.v.length && (c = this.guides.v[0], e = c.compareEdge.y - c.targetEdge.y), a.x += d, a.y += e
					}
				},
				compageEdges: function(a, b, c) {
					var d;
					a.h.forEach(function(a) {
						b.h.forEach(function(b) {
							d = Math.abs(a.x - b.x), c > d && g.guides.h.push({
								distance: d,
								targetEdge: a,
								compareEdge: b
							})
						})
					}), a.v.forEach(function(a) {
						b.v.forEach(function(b) {
							d = Math.abs(a.y - b.y), c > d && g.guides.v.push({
								distance: d,
								targetEdge: a,
								compareEdge: b
							})
						})
					})
				},
				renderGuides: function() {
					var a = [];
					this.guides.h.forEach(function(b) {
						a.push(g.renderGuide(b))
					}), this.guides.v.forEach(function(b) {
						a.push(g.renderGuide(b))
					}), this.clearGuideElements(a)
				},
				renderGuide: function(a) {
					var b = a.targetEdge,
						c = a.compareEdge,
						d = $('[data-guide-id="' + c.id + '"]');
					0 === d.length && (d = $('<div data-guide-id="' + c.id + '">').appendTo(this.domElement), setTimeout(function() {
						d.addClass("show")
					}, 1));
					var e = {
						top: Math.min(c.bounds.y, this.combinedBounds.y),
						right: Math.max(c.bounds.x + c.bounds.width, this.combinedBounds.x + this.combinedBounds.width),
						bottom: Math.max(c.bounds.y + c.bounds.height, this.combinedBounds.y + this.combinedBounds.height),
						left: Math.min(c.bounds.x, this.combinedBounds.x)
					};
					if ("number" == typeof c.y) {
						var f = "s" === b.direction ? -1 : 0;
						d.addClass("guide-h"), d.css({
							top: Math.floor(c.y + f),
							left: e.left,
							width: e.right - e.left
						})
					} else {
						var g = "e" === b.direction ? -1 : 0;
						d.addClass("guide-v"), d.css({
							left: Math.floor(c.x + g),
							top: e.top,
							height: e.bottom - e.top
						})
					}
					return c.id
				},
				getEdges: function(a, b, c) {
					var d = {
						h: [{
							id: b + "-h1",
							bounds: a,
							x: a.x,
							offset: 0,
							direction: "w"
						}, {
							id: b + "-h2",
							bounds: a,
							x: a.x + a.width / 2,
							offset: -a.width / 2,
							direction: "hc"
						}, {
							id: b + "-h3",
							bounds: a,
							x: a.x + a.width,
							offset: -a.width,
							direction: "e"
						}],
						v: [{
							id: b + "-v1",
							bounds: a,
							y: a.y,
							offset: 0,
							direction: "n"
						}, {
							id: b + "-v2",
							bounds: a,
							y: a.y + a.height / 2,
							offset: -a.height / 2,
							direction: "vc"
						}, {
							id: b + "-v3",
							bounds: a,
							y: a.y + a.height,
							offset: -a.height,
							direction: "s"
						}]
					};
					return c && (d.h.splice(1, 1), d.v.splice(1, 1)), d
				},
				getCenterEdge: function(a, b, c) {
					var d = {
						h: [],
						v: []
					};
					return "vertical" === c ? d.v.push({
						id: b + "-v2",
						bounds: a,
						y: a.y + a.height / 2,
						offset: -a.height / 2,
						direction: b
					}) : d.h.push({
						id: b + "-h2",
						bounds: a,
						x: a.x + a.width / 2,
						offset: -a.width / 2,
						direction: b
					}), d
				},
				clearGuideElements: function(a) {
					var b = this.domElement.find(".guide-v, .guide-h");
					a && a.length && (b = b.filter(function(b, c) {
						return -1 === a.indexOf(c.getAttribute("data-guide-id"))
					})), b.remove()
				}
			};
		return {
			grid: e,
			guide: g
		}
	}]).directive("pasteElement", ["sceneService", function(a) {
		function b() {
			var b = $('<ul id="pasteMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="paste" style="text-align:center;" role="presentation"><a role="menuitem" tabindex="-1"><div class="fa fa-paste"></div>&nbsp;&nbsp;粘贴</a></li></ul>').css({
				position: "absolute",
				"user-select": "none"
			});
			return b.find(".paste").on("click", function() {
				a.pasteElement(), b.hide()
			}), b
		}
		return {
			restrict: "EA",
			link: function(c, d, e) {
				var f = $(d);
				f.on("contextmenu", function(c) {
					if (a.getCopy()) {
						var d = b(),
							e = $("#eq_main"),
							f = $("#pasteMenu");
						f.length > 0 && f.remove(), e.append(d), d.css({
							left: c.pageX + e.scrollLeft() + 15,
							top: c.pageY + e.scrollTop()
						}).show(), e.mousemove(function(a) {
							var b = $("#pasteMenu");
							(a.pageX < b.offset().left - 20 || a.pageX > b.offset().left + b.width() + 20 || a.pageY < b.offset().top - 20 || a.pageY > b.offset().top + b.height() + 20) && (b.hide(), $(this).unbind("mousemove"))
						})
					}
					return !1
				})
			}
		}
	}]).directive("eqxEditDestroy", ["selectService", function(a) {
		return {
			link: function(b, c) {
				c.on("$destroy", function() {
					a.clearElements(), utilPictures.clearInterval()
				})
			}
		}
	}]).directive("elementAnim", ["selectService", function(a) {
		function b(a, c, d, e) {
			if (c.length && e < c.length) {
				var f = a.get(0);
				a.css("animation", ""), f.offsetWidth = f.offsetWidth, a.css("animation", d[e] + " " + c[e].duration + "s ease 0s").css("animation-fill-mode", "backwards"), a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
					e++, b(a, c, d, e)
				})
			}
		}
		return {
			restrict: "EA",
			link: function(a, c) {
				var d;
				a.$on("previewCurrentChange", function(a, b) {
					d = d = $("#inside_" + b.elemId + " .element-box");
					var c = d.get(0);
					c.offsetWidth = c.offsetWidth, d.css("animation", b.animClasses[b.count] + " " + b.anim.duration + "s ease 0s").css("animation-fill-mode", "backwards")
				}), a.$on("previewAllChanges", function(a, c) {
					d = d = $("#inside_" + c.elemId + " .element-box"), b(d, c.animations, c.animClasses, c.count)
				})
			}
		}
	}]).directive("outerBox", ["DetectionBox", "i18nNotifications", "storageService", "selectService", function(a, b, c, d) {
		return {
			restrict: "AE",
			scope: {
				pageH: "@"
			},
			link: function(e, f, g, h) {
				function i(a) {
					"red" == a ? (j.show(), j.css("background-color", "#ff5548"), f.find(".internal-box").toggleClass("out-warning", !1), isOuter = !0) : "yellow" == a ? (j.show(), isOuter = !1, j.css("background-color", "#F2A653"), l && f.find(".internal-box").toggleClass("out-warning", !0)) : (isOuter = !1, f.find(".internal-box").toggleClass("out-warning", !1), j.hide()), l && f.toggleClass("on", isOuter)
				}
				var j = $("#warn"),
					k = "";
				j.click(function() {
					"red" == k ? (b.removeAll(), b.pushForCurrentRoute("outbox.warning", "notify.warning")) : "yellow" == k && (b.removeAll(), b.pushForCurrentRoute("outbox.tip", "notify.warning"))
				});
				var l = "false" == c.get("create.phoneView") ? !0 : !1;
				l || (f.css("border-color", "transparent"), f.find(".internal-box").css("border-color", "transparent")), e.$on("switchBox", function(a, b) {
					l = !b, b ? (f.css("border-color", "transparent"), f.find(".internal-box").css("border-color", "transparent")) : (f.css("border-color", ""), f.find(".internal-box").css("border-color", ""), i(k))
				}), e.$on("boxOuter", function(c) {
					for (var f = "", g = d.getElements(), h = 0; h < g.length; h++) {
						var j = $("#inside_" + g[h]);
						if (0 !== j.length) {
							var m = j.position(),
								n = new a(j);
							if (1 != e.pageH) {
								if (m.left < -29 || m.top < -1 || n.startPointB.y > 486 * e.pageH || n.startPointB.x > 345) {
									f = "red";
									break
								}(m.left < -1 || n.startPointB.x > 320) && (f = "yellow")
							} else {
								if (l && (m.left < -29 || m.top < -19 || n.startPointB.y > 501 || n.startPointB.x > 345)) {
									f = "red";
									break
								}(m.left < -1 || m.top < -1 || n.startPointB.y > 486 || n.startPointB.x > 320) && (f = "yellow")
							}
						}
					}
					k != f && ("red" == f ? (b.removeAll(), b.pushForCurrentRoute("outbox.warning", "notify.warning")) : "yellow" == f ? (b.removeAll(), b.pushForCurrentRoute("outbox.tip", "notify.warning")) : b.removeAll()), k = f, i(f)
				})
			}
		}
	}]), angular.module("app.directives.editor", []).directive("toolbar", ["$compile", "sceneService", "$timeout", function(a, b, c) {
		function d(d, f, g) {
			var h = b.currentElemDef;
			"x" == h.type ? (d.showCustomFamilyFont = !0, d.showLinkOption = !1, e(d)) : (d.showCustomFamilyFont = !1, d.showLinkOption = !0), f.bind("keydown", function(a) {
				a.stopPropagation()
			}), d.internalLinks = angular.copy(d.pages), d.internalLink || d.externalLink || (d.internalLink = d.internalLinks[0], d.externalLink = "http://"), c(function() {
				var a = $(getSelection().focusNode).parent();
				a.is("a") ? a.attr("href") && isNaN(a.attr("href")) ? d.link = "external" : d.link = "internal" : d.link = "external"
			}, 1e3);
			try {
				d.fontColor = $(h.content).css("color"), d.backgroundColor = $(h.content).css("background-color")
			} catch (i) {}
			var j = ["#000000", "#7e2412", "#ff5400", "#225801", "#0c529e", "#333333", "#b61b52", "#f4711f", "#3bbc1e", "#23a3d3", "#888888", "#d34141", "#f7951e", "#29b16a", "#97daf3", "#cccccc", "#ec7c7c", "#fdea02", "#79c450", "#563679", "#ffffff", "#ffcccc", "#d9ef7f", "#c3f649"],
				k = $(".color-menu"),
				l = $(".bgcolor-menu");
			$.each(j, function(a, b) {
				k.append($('<li><a dropdown-toggle class="btn" data-edit="foreColor ' + b + '" style="background-color: ' + b + '"></a></li>'))
			}), a(k.append($('<li style="position: relative;"><a ng-model="fontColor" ng-click="setSelection($event)" colorpicker-Position="sceneToobar" class="btn glyphicon glyphicon-remove" colorpicker="rgba" style="background-color: transparent"></a><em style="background-color:#ff5448;position:absolute;height:10px;width:10px;top:0;left:0;z-index:-1"></em><em style="background-color:#f2a653;position:absolute;height:10px;width:10px;top:0;left:10px;z-index:-1"></em><em style="background-color:#08a1ef;position:absolute;height:10px;width:10px;top:10px;left:0;z-index:-1"></em><em style="background-color:#44cb83;position:absolute;height:10px;width:10px;top:10px;left:10px;z-index:-1"></em></li>')))(d), d.$watch("fontColor", function(a, b) {
				a && a != b && document.execCommand("foreColor", 0, a)
			});
			var m = function(a) {
					var b = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
					a = a.replace(b, function(a, b, c, d) {
						return b + b + c + c + d + d
					});
					var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
					return c ? {
						r: parseInt(c[1], 16),
						g: parseInt(c[2], 16),
						b: parseInt(c[3], 16)
					} : null
				};
			$.each(j, function(a, b) {
				var c = m(b);
				l.append($('<li><a dropdown-toggle class="btn" data-edit="backColor rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)" style="background-color: rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)"></a></li>'))
			}), a(l.append($('<li style="position: relative;"><a ng-model="backgroundColor" ng-click="setSelection($event)" colorpicker="rgba" colorpicker-Position="sceneToobar" class="btn glyphicon glyphicon-remove" style="background-color: transparent"></a><em style="background-color:#ff5448;position:absolute;height:10px;width:10px;top:0;left:0;z-index:-1"></em><em style="background-color:#f2a653;position:absolute;height:10px;width:10px;top:0;left:10px;z-index:-1"></em><em style="background-color:#08a1ef;position:absolute;height:10px;width:10px;top:10px;left:0;z-index:-1"></em><em style="background-color:#44cb83;position:absolute;height:10px;width:10px;top:10px;left:10px;z-index:-1"></em></li>')))(d), d.$watch("backgroundColor", function(a) {
				a && document.execCommand("backColor", 0, a)
			}), d.setSelection = function(a) {}, h.css.lineHeight = (parseFloat(h.css.lineHeight) || 1).toFixed(1), d.increaseLineHeight = function() {
				var a = window.getSelection(),
					b = a.focusNode,
					c = $(b).parents(".element-box");
				h.css.lineHeight = (parseFloat(h.css.lineHeight) + .1).toFixed(1), c.css("line-height", h.css.lineHeight), $(b.parentNode).focus()
			}, d.decreaseLineHeight = function() {
				var a = window.getSelection(),
					b = a.focusNode,
					c = $(b).parents(".element-box");
				h.css.lineHeight > .1 && (h.css.lineHeight = (parseFloat(h.css.lineHeight) - .1).toFixed(1), c.css("line-height", h.css.lineHeight)), $(b.parentNode).focus()
			}
		}
		function e(a) {
			var b = utilFont.getFontName(),
				c = $(".fontname-menu");
			$.each(b, function(a, b) {
				c.append($('<li class="' + a + '"><a dropdown-toggle class="btn" data-edit="fontName ' + a + '"><img src="' + CLIENT_CDN + b.blueSrc + '"/></a></li>')), $("." + a).hover(function() {
					$(this).find("img").attr("src", CLIENT_CDN + b.src)
				}, function() {
					$(this).hasClass("selected-font") || $(this).find("img").attr("src", CLIENT_CDN + b.blueSrc)
				})
			})
		}
		return {
			restrict: "EA",
			replace: !0,
			templateUrl: "directives/toolbar.tpl.html",
			link: d
		}
	}]), angular.module("app.directives.uislider", []).value("uiSliderConfig", {}).directive("uiSlider", ["uiSliderConfig", "$timeout", function(a, b) {
		return a = a || {}, {
			require: "ngModel",
			compile: function() {
				return function(c, d, e, f) {
					function g(a, b) {
						return b ? parseFloat(a) : parseInt(a, 10)
					}
					function h() {
						d.slider("destroy")
					}
					var i = angular.extend(c.$eval(e.uiSlider) || {}, a),
						j = {
							min: null,
							max: null
						},
						k = ["min", "max", "step"],
						l = angular.isUndefined(e.useDecimals) ? !1 : !0,
						m = function() {
							angular.isArray(f.$viewValue) && i.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."), i.range = !0), angular.forEach(k, function(a) {
								angular.isDefined(e[a]) && (i[a] = g(e[a], l))
							}), d.slider(i), m = angular.noop
						};
					angular.forEach(k, function(a) {
						e.$observe(a, function(b) {
							b && (m(), i[a] = g(b, l), d.slider("option", a, g(b, l)), f.$render())
						})
					}), e.$observe("disabled", function(a) {
						m(), d.slider("option", "disabled", !! a)
					}), c.$watch(e.uiSlider, function(a) {
						m(), a !== undefined && d.slider("option", a)
					}, !0), b(m, 0, !0), d.bind("slide", function(a, b) {
						f.$setViewValue(b.values || b.value), c.$apply()
					}), f.$render = function() {
						m();
						var a = i.range === !0 ? "values" : "value";
						i.range || !isNaN(f.$viewValue) || f.$viewValue instanceof Array ? i.range && !angular.isDefined(f.$viewValue) && (f.$viewValue = [0, 0]) : f.$viewValue = 0, i.range === !0 && (angular.isDefined(i.min) && i.min > f.$viewValue[0] && (f.$viewValue[0] = i.min), angular.isDefined(i.max) && i.max < f.$viewValue[1] && (f.$viewValue[1] = i.max), f.$viewValue[0] > f.$viewValue[1] && (j.min >= f.$viewValue[1] && (f.$viewValue[0] = j.min), j.max <= f.$viewValue[0] && (f.$viewValue[1] = j.max)), j.min = f.$viewValue[0], j.max = f.$viewValue[1]), d.slider(a, f.$viewValue)
					}, c.$watch(e.ngModel, function() {
						i.range === !0 && f.$render()
					}, !0), d.bind("$destroy", h);
					var n = $('<div class="ui-slider-progress-bar"></div>');
					d.append(n);
					var o = c.$watch(e.ngModel, function() {
						setTimeout(function() {
							n.css("width", $(".ui-slider-handle", d).css("left"))
						})
					}, !0);
					d.bind("$destroy", function() {
						o()
					})
				}
			}
		}
	}]).directive("uiSliderT", ["$rootScope", function(a) {
		var b = $(document);
		return {
			require: "ngModel",
			template: '<div class="slider-con"></div>',
			link: function(c, d, e, f) {
				d.on("$destroy", function() {
					d.unbind("mousedown")
				});
				var g = "string" == typeof e.min ? e.min : -Number.MAX_VALUE,
					h = "string" == typeof e.max ? e.max : Number.MAX_VALUE,
					i = "string" == typeof e.step ? e.step : 1,
					j = h / 100,
					k = "string" == typeof e.max ? e.fixed : 0;
				f.$render = function() {
					d.find(".slider-con").css("width", 100 * f.$modelValue / h + "%")
				}, d.mousedown(function(d) {
					d.stopPropagation();
					var l, m = d.offsetX,
						n = d.pageX,
						o = function(a) {
							a.stopPropagation(), l = a.pageX - n;
							var b = +((m + l) * j / i).toFixed(k) * i;
							b > h ? b = +h : g > b && (b = +g), f.$viewValue != b && (f.$setViewValue(b), f.$render(), c.$apply())
						},
						p = function() {
							b.unbind("mouseup", p), b.unbind("mousemove", o), e.hisRecords && a.$broadcast("hisChange")
						};
					b.mousemove(o), b.mouseup(p)
				}), d.click(function(b) {
					b.stopPropagation(), f.$setViewValue(+(b.offsetX * h / 100 / i).toFixed(k) * i), f.$render(), c.$apply(), e.hisRecords && a.$broadcast("hisChange")
				})
			}
		}
	}]), angular.module("common.resources.print", ["common.services.print"]).factory("printResource", ["$rootScope", "printService", function(a, b) {
		function c() {
			return p
		}
		function d() {
			return q
		}
		function e(c, d, e, f, g) {
			b.getPrintList(c, d, e, f, g).success(function(b) {
				b.success && a.$broadcast("printList.get", b)
			})
		}
		function f(c, d) {
			b.getPrint(c, 1).success(function(b) {
				b.success ? a.$broadcast("printDetail.get", b.obj) : a.$broadcast("printDetail.get.fail")
			})
		}
		function g() {
			b.getDefPrint().success(function(b) {
				a.$broadcast("defPrint.get", b.obj)
			})
		}
		function h(c) {
			b.deletePrint(c).success(function(b) {
				b.success && a.$broadcast("print.delete")
			})
		}
		function i(c) {
			b.copyPrint(c).success(function(b) {
				b.success && a.$broadcast("print.copy", b)
			})
		}
		function j(c, d) {
			b.transferPrint(c, d).success(function(b) {
				b.success ? a.$broadcast("print.transfer", "success", b) : a.$broadcast("print.transfer", "fail", b)
			})
		}
		function k(c) {
			b.applyTpl(c).success(function(b) {
				b.success ? a.$broadcast("print.apply", "success", b) : a.$broadcast("print.apply", "fail", b)
			})
		}
		function l(c, d, e, f) {
			b.getTemplateList(c, d, e, f).success(function(b) {
				b.success && a.$broadcast("templateList.get", b)
			})
		}
		function m() {
			b.getHotList().success(function(b) {
				b.success && a.$broadcast("hotList.get", b)
			})
		}
		function n() {
			b.getScenePicGroup().success(function(b) {
				b.success && a.$broadcast("scenePic.group.get", b.list)
			})
		}
		function o(c, d) {
			b.saveToH5(c, d).success(function(b) {
				b.success && a.$broadcast("saveToH5.success")
			})
		}
		var p = [{
			name: "名片",
			value: "1",
			width: 90,
			height: 54,
			unit: "mm"
		}, {
			name: "邀请函",
			value: "2",
			width: 148,
			height: 210,
			unit: "mm"
		}, {
			name: "贺卡",
			value: "3",
			width: 148,
			height: 210,
			unit: "mm"
		}, {
			name: "海报",
			value: "4",
			width: 420,
			height: 570,
			unit: "mm"
		}, {
			name: "宣传单",
			value: "5",
			width: 210,
			height: 297,
			unit: "mm"
		}, {
			name: "淘宝商品主图",
			value: "6",
			width: 800,
			height: 800,
			unit: "px"
		}, {
			name: "微信公众号首图",
			value: "7",
			width: 900,
			height: 500,
			unit: "px"
		}, {
			name: "长图",
			value: "8",
			width: 800,
			height: 2400,
			unit: "px"
		}, {
			name: "自定义",
			value: "0"
		}],
			q = {
				onlineMarketing: [{
					name: "淘宝商品主图",
					value: "6"
				}, {
					name: "微信公众号首图",
					value: "7"
				}, {
					name: "长图",
					value: "8"
				}],
				adPrint: [{
					name: "名片",
					value: "1"
				}, {
					name: "邀请函",
					value: "2"
				}, {
					name: "贺卡",
					value: "3"
				}, {
					name: "海报",
					value: "4"
				}, {
					name: "宣传单",
					value: "5"
				}]
			};
		return {
			getPrintList: e,
			getPrintDetail: f,
			getDefPrint: g,
			deletePrint: h,
			copyPrint: i,
			transferPrint: j,
			applyTpl: k,
			getTemplateList: l,
			getAllTypes: c,
			getTplTypes: d,
			getHotList: m,
			getScenePicGroup: n,
			saveToH5: o
		}
	}]), angular.module("common.services.print", []).factory("printService", ["$http", function(a) {
		function b(b, c, d, e, f) {
			var g = "m/print/list?";
			return g += "pageNo=" + (b || 1), g += "&pageSize=" + (c || 10), "string" == typeof d && (g += "&type=" + d), "string" == typeof e && (g += "&width=" + e), "string" == typeof f && (g += "&height=" + f), a({
				withCredentials: !0,
				method: "POST",
				url: PRINT_HOST_SERVER + g
			})
		}
		function c(b, c) {
			var d = "m/print/info?id=" + b;
			return c && (d += "&page=1"), a({
				withCredentials: !0,
				method: "GET",
				url: PRINT_HOST_SERVER + d
			})
		}
		function d() {
			var b = "m/print/guide/info";
			return a({
				withCredentials: !0,
				method: "GET",
				url: PRINT_HOST_SERVER + b
			})
		}
		function e(b) {
			var c = "m/print/delete?id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PRINT_HOST_SERVER + c
			})
		}
		function f(b) {
			var c = "m/print/copy?id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PRINT_HOST_SERVER + c
			})
		}
		function g(b, c) {
			var d = "m/print/transfer";
			return d += "?loginName=" + c, d += "&id=" + b, a({
				withCredentials: !0,
				method: "POST",
				url: PRINT_HOST_SERVER + d
			})
		}
		function h(b) {
			var c = "m/print/tpl/apply?id=" + b;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PRINT_HOST_SERVER + c
			})
		}
		function i(b, c, d, e) {
			var f = "m/print/tpl/page/list";
			return f += "?pageNo=" + (b || 1), f += "&pageSize=" + (c || 10), "number" == typeof d && (f += "&type=" + d), "number" == typeof e && e && (f += "&tag=" + e), a({
				withCredentials: !0,
				method: "GET",
				url: PRINT_HOST_SERVER + f
			})
		}
		function j() {
			var b = "m/print/hot/list";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PRINT_HOST_SERVER + b
			})
		}
		function k() {
			var b = "m/base/file/tag/my";
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}
		function l(b, c) {
			var d = "m/print/save/file",
				e = {
					list: c,
					tagId: b
				};
			return a({
				withCredentials: !0,
				method: "POST",
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				url: PRINT_HOST_SERVER + d,
				data: e
			})
		}
		return {
			getPrintList: b,
			getPrint: c,
			getDefPrint: d,
			deletePrint: e,
			copyPrint: f,
			transferPrint: g,
			applyTpl: h,
			getTemplateList: i,
			getHotList: j,
			getScenePicGroup: k,
			saveToH5: l
		}
	}]), angular.module("print.directives.validate", []).directive("eqdValidate", function() {
		function a(a, b, c) {
			b.on("$destroy", function() {
				b.unbind("keydown")
			}), b.keydown(function(a) {
				var b = a.keyCode;
				return /number/.test(c.eqdValidate) ? a.shiftKey ? !1 : !! (b >= 48 && 57 >= b || b >= 96 && 105 >= b || 36 == b || 35 == b || 37 == b || 39 == b || 8 == b || 46 == b) : !0
			})
		}
		return {
			link: a
		}
	}), angular.module("security.authority", []).factory("authority", [function() {
		var a = {
			GROUP_CUSTOMER: 1,
			SCENE_HIDE_LASTPAGE_SETTING: 2,
			TRANSFER_SCENE: 4,
			SCENE_EDIT_TRIGGER: 8,
			EXPAND_WEBSITE: 16,
			SCENE_EDIT_SOUND: 32,
			ACCESS_NEW_PAGEFLIP: 64,
			COMP_ANIMATION: 128,
			RADIO_CHECKBOX_RATING: 256,
			INTERACTION: 512,
			ACCESS_DOMAIN_BIND: 1024,
			LOADING_LOGO: 2048,
			TEMPLATE_PAYMENT: 4096,
			INTERACTION_COUNTER: 8192,
			SCENE_PASSWORD: 16384,
			USERCENTER_HISTORY: 32768,
			APPLY_XIUKE: 65536,
			SHAKE_TRIGGER: 131072,
			ACCESS_WX_AUTH: 262144
		},
			b = {
				1: {
					code: 74045,
					name: "普通账号"
				},
				2: {
					code: 323583,
					name: "企业账号"
				},
				21: {
					code: 60415,
					name: "企业子账号"
				},
				5: {
					code: 61439,
					name: "企业账号"
				},
				51: {
					code: 59903,
					name: "企业子账号"
				},
				3: {
					code: 455679,
					name: "高级用户"
				},
				4: {
					code: 129023,
					name: "服务商用户"
				},
				99: {
					code: 127999,
					name: "超级用户"
				}
			};
		return {
			accessDef: a,
			userRoleDef: b
		}
	}]), angular.module("security.authorization", ["security.service"]).provider("securityAuthorization", {
		requireAdminUser: ["securityAuthorization", function(a) {
			return a.requireAdminUser()
		}],
		requireAuthenticatedUser: ["securityAuthorization", function(a) {
			return a.requireAuthenticatedUser()
		}],
		$get: ["security", "securityRetryQueue", function(a, b) {
			var c = {
				requireAuthenticatedUser: function() {
					var d = a.requestCurrentUser().then(function(d) {
						return a.isAuthenticated() ? void 0 : b.pushRetryFn("unauthenticated-client", c.requireAuthenticatedUser)
					});
					return d
				},
				requireAdminUser: function() {
					var d = a.requestCurrentUser().then(function(d) {
						return a.isAdmin() ? void 0 : b.pushRetryFn("unauthorized-client", c.requireAdminUser)
					});
					return d
				}
			};
			return c
		}]
	}), angular.module("security", ["security.service", "security.interceptor", "security.login", "security.authorization"]), angular.module("security.interceptor", ["security.retryQueue"]).factory("securityInterceptor", ["$injector", "$location", "securityRetryQueue", function(a, b, c) {
		return function(d) {
			return d.then(null, function(e) {
				return 401 === e.status && (d = c.pushRetryFn("unauthorized-server", function() {
					return a.get("$http")(e.config)
				})), 403 === e.status && (alert("对不起，您没有查看此内容的权限"), b.path("/home")), d
			})
		}
	}]).config(["$httpProvider", function(a) {
		a.responseInterceptors.push("securityInterceptor");
		var b = [PREFIX_URL + "login", PREFIX_URL + "index.php?c=scene&a=createpage&id=", PREFIX_URL + "m/scene/pageList", PREFIX_URL + "index.php?c=upfile&a=upload", PREFIX_URL + "m/c/group/create", PREFIX_URL + "index.php?c=scene&a=my", PREFIX_URL + "index.php?c=scene&a=syslist", PREFIX_URL + "index.php?c=scene&a=saveSettings", PREFIX_URL + "m/scene/stat"];
		a.interceptors.push(["$q", function(a) {
			var c = 0;
			return {
				request: function(d) {
					var e = d.url;
					for (i = 0; i < b.length; i++) 0 === e.indexOf(b[i]) && ($("#loading").show(), c++);
					return d || a.when(d)
				},
				response: function(d) {
					var e = d.config.url;
					for (i = 0; i < b.length; i++) 0 === e.indexOf(b[i]) && (c--, c || $("#loading").hide());
					return d || a.when(d)
				}
			}
		}])
	}]), angular.module("security.login.form", ["services.localizedMessages", "app.directives.addelement", "security.thirdparty"]).controller("LoginFormController", ["$scope", "$timeout", "$window", "security", "localizedMessages", "$location", "$sce", "thirdpartyService", function(a, b, c, d, e, f, g, h) {
		function i() {
			0 === o ? (a.isCodeAccessiable = !1, a.codeTip = "获取验证码", o = 60) : (a.isCodeAccessiable = !0, a.codeTip = "重新发送(" + o + ")", b(function() {
				o--, i()
			}, 1e3))
		}
		a.user = {}, a.retrieve = {}, a.showLogin = !0, a.sendPassword = !1, a.unExist = !1, a.authError = null, a.isValidateCodeLogin = d.isValidateCodeLogin, a.validateCodeSrc = PREFIX_URL + "servlet/validateCodeServlet", a.authReason = null, d.getLoginReason() && (a.authReason = d.isAuthenticated() ? e.get("login.reason.notAuthorized") : "为了保障您的账号安全，请登录！"), a.rotate = function(c) {
			$(".modal-content").addClass("flip"), $(".login-form-section").fadeOut(600), b(function() {
				a.showLogin = !c, $(".login-form-section").fadeIn(0), $(".modal-content").removeClass("flip")
			}, 600)
		}, a.cancel = function() {
			a.$dismiss()
		}, a.user.rememberAcc = !0, a.rememberName = function(b) {
			b = !b, a.user.rememberAcc = b
		}, a.user.rememberMe = !1, a.rememberMe = function(b) {
			b = !b, a.user.rememberMe = b
		};
		var j, k, l = [];
		window.localStorage && (k = localStorage.getItem("userEmail"), j = localStorage.getItem("usersLoginInfo"), l = j ? JSON.parse(j) : [], k && (a.user.username = k, angular.forEach(l, function(b, c) {
			b.username === a.user.username && (a.user.password = b.password)
		})));
		var m = [];
		angular.forEach(l, function(a) {
			m.push(a.username)
		}), setTimeout(function() {
			$("#username").autocomplete({
				source: m,
				minLength: 0,
				delay: 0,
				autoFocus: !0,
				select: function(b, c) {
					angular.forEach(l, function(b, d) {
						b.username === c.item.value && (a.user.username = b.username, a.user.password = b.password)
					}), a.$apply()
				}
			}), $("#username").bind("focus", function() {
				$("#username").autocomplete("search", "")
			})
		}, 300), a.login = function() {
			if (!a.user.username) return a.authReason = "", void(a.authError = "用户名不能为空");
			if (!a.user.password) return a.authReason = "", void(a.authError = "密码不能为空");
			a.authError = null;
			var b = {
				username: a.user.username,
				password: a.user.password,
				rememberMe: a.user.rememberMe
			};
			return !a.isValidateCodeLogin || (b.geetest_challenge = challenge, b.geetest_validate = validate, b.geetest_seccode = seccode, challenge && validate && seccode) ? void d.login($.param(b)).then(function(b) {
				if (challenge = null, validate = null, seccode = null, b) {
					if (selectorA && selectorA(".gt_refresh_button").click(), b.map && (a.isValidateCodeLogin = b.map.isValidateCodeLogin), b.success) if (a.user.rememberAcc) {
						var c = {
							username: a.user.username,
							password: a.user.password
						},
							d = !1;
						angular.forEach(l, function(b, c) {
							b.username === a.user.username && (d = !0, b.password = a.user.password)
						}), d || l.push(c), localStorage.setItem("userEmail", a.user.username), localStorage.setItem("usersLoginInfo", JSON.stringify(l))
					} else localStorage.removeItem("userEmail"), angular.forEach(l, function(b, c) {
						b.username === a.user.username && l.splice(c, 1)
					}), localStorage.setItem("usersLoginInfo", JSON.stringify(l));
					a.authReason = "", a.authError = b.msg
				} else a.authError = e.get("login.error.invalidCredentials"), submit = !1
			}, function(b) {
				a.authError = e.get("login.error.serverError", {
					exception: b
				})
			}) : (a.authReason = "", void(a.authError = "验证码不能为空"))
		}, a.openRegister = function(a) {
			f.path("/home/register", !1)
		}, a.clearForm = function() {
			a.user = {}
		}, a.cancelLogin = function() {
			d.cancelLogin()
		}, a.reset = function() {
			a.user = {}, a.retrieve = {}
		};
		var n = "http://api.geetest.com/get.php?gt=1ebc844c9e3a8c23e2ea4b567a8afd2d&time=" + (new Date).getTime();
		a.validateCodeUrl = g.trustAsResourceUrl(n), b(function() {
			$('input[name="userEmail"]').focus()
		}, 300), a.phone = !1, a.phonePwd = function() {
			a.phone = !0
		}, a.emailPwd = function() {
			a.phone = !1
		}, a.getCode = function(b) {
			return b ? void d.getResetCode(b).success(function(b) {
				return a.userPhone = b.success, 110007 === b.code ? void(a.userPhone = "手机号格式不合法") : 1017 === b.code ? void(a.userPhone = "发送验证码过于频繁, 请稍候重试!") : 1016 === b.code ? void(a.userPhone = "发送验证码失败, 请明天再试!") : 110401 === b.code ? void(a.userPhone = "手机号码已被占用，请更换其它手机号码！") : void(200 === b.code && (a.userPhone = "", i()))
			}) : void(a.userPhone = "请填写手机号")
		};
		var o = 60;
		a.retrievePhonePassword = function() {
			return a.retrieve.phone ? a.retrieve.code ? void d.retrievePhonePassword(a.retrieve.phone, a.retrieve.code).then(function(b) {
				200 == b.data.code ? window.location.href = "/home/reset?resetToken=" + b.data.obj : 110013 == b.data.code ? a.retrieveError = "短信验证码失效，请重新获取" : 1018 == b.data.code && (a.retrieveError = "手机验证码输入错误")
			}) : void(a.codeError = "请填写手机验证码") : void(a.userPhone = "请填写手机号")
		}, a.retrievePassword = function() {
			if (!a.retrieve.email) return void(a.retrieveError = "邮箱不能为空");
			var b = /^[a-zA-Z0-9]+((-*|_*|\.?)[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(([-|_]*[a-zA-Z0-9]+)*(\.[a-zA-Z0-9]+)+)+$/;
			return b.test(a.retrieve.email) ? submit ? challenge && validate && seccode ? void d.retrievePassword(a.retrieve.email, challenge, validate, seccode).then(function(b) {
				challenge = "", validate = "", seccode = "", 200 == b.data.code ? (a.sendPassword = !0, submit = !1) : (selectorA && selectorA(".gt_refresh_button").click(), 1003 == b.data.code ? a.retrieveError = "账号不存在" : 1005 == b.data.code && (a.retrieveError = "验证码错误"))
			}) : void(a.retrieveError = "验证码不能为空") : void(a.retrieveError = "验证码匹配错误") : (a.retrieveError = "请正确填写邮箱", !1)
		}, a.openThirdPatyWindow = function(a) {
			d.cancelLogin(), h.openThirtyPartyWindow(a)
		}
	}]), angular.module("security.login.reset", ["services.localizedMessages"]).controller("ResetFormController", ["$scope", "security", "localizedMessages", "$location", "resetKey", function(a, b, c, d, e) {
		a.password = {}, a.checkPassword = function() {
			if (a.password.newPw) {
				if (/^[a-zA-Z0-9]{6,16}$/g.test(a.password.newPw)) return a.passError = null, !0;
				a.passError = "密码为6~16个字符(英文字母或数字，区分大小写)"
			} else a.passError = "新密码不能为空";
			return !1
		}, a.checkRepeatPassword = function() {
			if (a.password.confirm) {
				if (a.password.confirm == a.password.newPw) return a.rPassError = "", !0;
				a.rPassError = "两次密码输入不一致，请重新输入"
			} else a.rPassError = "确认密码不能为空";
			return !1
		}, a.reset = function() {
			a.checkPassword() && a.checkRepeatPassword() && b.resetPassByKey(a.password.newPw, e).then(function(b) {
				200 == b.data.code ? (alert("修改成功"), a.$close(), d.path("/main").search({})) : 1011 == b.data.code && (a.authError = b.data.msg)
			})
		}, a.cancel = function() {
			a.$dismiss()
		}
	}]).directive("equals", function() {
		return {
			restrict: "A",
			require: "?ngModel",
			link: function(a, b, c, d) {
				if (d) {
					a.$watch(c.ngModel, function() {
						e()
					}), c.$observe("equals", function(a) {
						e()
					});
					var e = function() {
							var a = d.$viewValue,
								b = c.equals;
							d.$setValidity("equals", a === b)
						}
				}
			}
		}
	}), angular.module("security.login", ["security.login.form", "security.login.reset", "security.login.toolbar"]), angular.module("security.login.toolbar", ["services.usercenter"]).directive("loginToolbar", ["security", "$rootScope", "usercenterService", "$location", "dataCacheService", function(a, b, c, d, e) {
		var f = {
			templateUrl: "security/login/toolbar.tpl.html",
			restrict: "E",
			replace: !0,
			scope: !0,
			link: function(c, f, g, h) {
				c.PREFIX_FILE_HOST = PREFIX_FILE_HOST, c.isAuthenticated = a.isAuthenticated, c.login = a.showLogin, c.logout = a.logout, c.requestResetPassword = a.requestResetPassword, c.isAdvancedUser = b.isAdvancedUser, c.isEditor = b.isEditor, c.isVendorUser = b.isVendorUser, c.$watch(function() {
					return a.currentUser
				}, function(a) {
					c.currentUser = a, c.currentUser.headImg ? /^http.*/.test(a.headImg) && (c.headImg = a.headImg) : c.headImg = CLIENT_CDN + "assets/images/defaultuser.jpg"
				}), c.$on("headImg.change", function(a, b) {
					c.currentUser.headImg = b
				}), c.changeCurrent = function() {
					e.clear("sceneList"), b.branchid = "", d.search("branchid", null), d.path("/usercenter/children")
				}, c.openMsgPanel = function() {
					!$(".mes_con").hasClass("open")
				}
			}
		};
		return f
	}]), angular.module("security.otherregister.form", ["services.localizedMessages", "app.directives.register"]), angular.module("security.otherregister.form").controller("OtherRegisterFormController", ["$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", "otherRegisterInfo", function(a, b, c, d, e, f, g, h) {
		a.user = {}, a.user.agreement = !0, a.getUserDetail = function() {
			var b = {
				type: "qq",
				openId: h.openId,
				accessToken: h.accessToken
			};
			c.getUserDetail(b.type, b.openId, b.accessToken).then(function(b) {
				a.otherUserInfo = b.data.obj
			})
		}, a.getUserDetail()
	}]), angular.module("security.register.form", ["services.localizedMessages", "app.directives.register", "security.thirdparty"]), angular.module("security.register.form").controller("RegisterFormController", ["$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", "thirdpartyService", "regMsg", function(a, b, c, d, e, f, g, h, i) {
		function j() {
			0 === l ? (a.isCodeAccessiable = !1, a.codeTip = "获取验证码", l = 60) : (a.isCodeAccessiable = !0, a.codeTip = "重新发送(" + l + ")", b(function() {
				l--, j()
			}, 1e3))
		}
		i ? a.user = i : a.user = {
			userAccount: null,
			password: null
		}, a.cancel = function() {
			a.$dismiss()
		}, a.regPhone = !0, a.regEmail = function() {
			a.regPhone = !1, a.usernameError = "", a.passError = "", a.regErr = "", a.user.userAccount = null, a.user.password = null
		}, a.registerPhone = function() {
			a.regPhone = !0, a.passError = "", a.usernameError = "", a.regErr = "", a.user.userAccount = null, a.user.password = null
		}, a.user.agreement = !0, a.agreement = function(b) {
			b ? a.user.agreement = !0 : a.user.agreement = !1
		}, a.regErr = "";
		var k = !1;
		a.register = function(b) {
			if (localStorage.getItem("alreadyShowGuide") && localStorage.removeItem("alreadyShowGuide"), !a.user.agreement) return void(a.regErr = "请先同意注册协议再完成注册");
			var e;
			if (!a.regPhone) {
				if (!a.user.userAccount) return void(a.regErr = "请填写手机号");
				if (a.user.code ? a.user.password ? a.regErr = "" : a.regErr = "请输入密码" : a.regErr = "请输入验证码", !a.checkPassword(a.user.password)) return void(a.regErr = "密码格式不正确");
				if (e = {
					phone: a.user.userAccount,
					code: a.user.code,
					password: a.user.password
				}, a.user.agreement) {
					if (k) return;
					k = !0;
					var f = "";
					location.hash.indexOf("?") >= 0 && (f = location.hash.replace("#/home/register", "")), c.register($.param(e), f, a.regPhone).then(function(b) {
						k = !1, b && (110007 === b.code ? a.regErr = "手机号格式不合法" : 1018 === b.code ? a.regErr = "手机验证码输入错误" : 1006 === b.code ? a.regErr = "重复注册" : 110203 === b.code ? a.regErr = "无效的账号" : 110002 === b.code ? a.regErr = "密码不能为空" : 110004 === b.code ? a.regErr = "无效的邮件地址" : 200 === b.code ? a.regErr = "" : a.regErr = b.msg)
					}, function(b) {
						k = !1, a.regErr = d.get("register.error.serverError", {
							exception: b
						})
					})
				}
			} else {
				if (!a.user.userAccount) return void(a.regErr = "请填写邮箱");
				if (!a.user.password) return void(a.regErr = "请填写密码");
				if (a.regErr = "", !(a.userNotExist && a.checkUsername(a.user.userAccount) && a.checkPassword(a.user.password))) return void(a.regErr = "请填写正确注册信息");
				e = {
					email: a.user.userAccount,
					password: a.user.password
				}, m && m.then(function() {
					if (a.user.agreement) {
						if (k) return;
						k = !0;
						var b = "";
						location.hash.indexOf("?") >= 0 && (b = location.hash.replace("#/home/register", "")), c.register($.param(e), b, a.regPhone).then(function(b) {
							k = !1, b && (110007 === b.code ? a.regErr = "手机号格式不合法" : 1018 === b.code ? a.regErr = "手机验证码输入错误" : 1006 === b.code ? a.regErr = "重复注册" : 110203 === b.code ? a.regErr = "无效的账号" : 110002 === b.code ? a.regErr = "密码不能为空" : 110004 === b.code ? a.regErr = "无效的邮件地址" : 200 === b.code ? a.regErr = "" : a.regErr = b.msg)
						}, function(b) {
							k = !1, a.regErr = d.get("register.error.serverError", {
								exception: b
							})
						})
					} else a.regErr = d.get("register.error.agreement")
				})
			}
		}, a.clearError = function() {
			a.userPhone = ""
		}, a.getCode = function(b) {
			if (!b) return void(a.userPhone = "请填写手机号");
			var d = {
				phone: b
			};
			c.getCode($.param(d)).success(function(b) {
				if (200 === b.code) j();
				else {
					if (110007 === b.code) return void(a.userPhone = "手机号格式不合法");
					if (1017 === b.code) return void(a.codeError = "发送验证码过于频繁, 请稍候重试!");
					if (1016 === b.code) return void(a.userPhone = "发送验证码失败, 请明天再试!");
					1006 === b.code ? a.userPhone = "此手机号已被注册" : a.userPhone = b.msg
				}
			})
		}, a.checkCode = function(b) {
			return b ? (a.codeError = "", !0) : (a.codeError = "请输入手机验证码", !1)
		};
		var l = 60,
			m = null;
		a.checkUniqueness = function(b) {
			m = c.checkUniqueness(b).success(function(b) {
				a.userNotExist = b.success, a.userNotExist ? a.usernameError = null : a.usernameError = "已存在，请重新填写"
			})
		}, a.checkIconUser = "", a.checkIconPass = "", a.checkIconRePass = "", a.checkUsername = function(b) {
			if (b) {
				if (a.regPhone) {
					var c = /^[a-zA-Z0-9]+((-*|_*|\.?)[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(([-|_]*[a-zA-Z0-9]+)*(\.[a-zA-Z0-9]+)+)+$/;
					if (!c.test(b)) return a.usernameError = "请正确填写邮箱", !1
				}
				return a.checkUniqueness(b), !0
			}
			return a.usernameError = "邮箱不能为空", !1
		}, a.checkPassword = function() {
			if (a.user.password) {
				if (/^[a-zA-Z0-9]{6,16}$/g.test(a.user.password)) return a.passError = null, !0;
				a.passError = "密码为6~16个字符(英文字母或数字，区分大小写)"
			} else a.passError = "密码不能为空";
			return !1
		}, a.openLogin = function() {
			e.path("/home/login", !1)
		}, a.reset = function() {
			a.user = {}
		}, a.openThirdPatyWindow = function(a) {
			c.cancelRegister(), h.openThirtyPartyWindow(a)
		}
	}]).controller("BindingController", ["$rootScope", "$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", function(a, b, c, d, e, f, g, h) {
		b.qq_url = "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id="+client_id+"&redirect_uri=" + redirect_uri + "&display=pc", b.weibo_url = "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=" + PREFIX_HOST
	}]), angular.module("security.register", ["security.register.form", "security.otherregister.form"]), angular.module("security.retryQueue", []).factory("securityRetryQueue", ["$q", "$log", function(a, b) {
		var c = [],
			d = {
				onItemAddedCallbacks: [],
				hasMore: function() {
					return c.length > 0
				},
				push: function(a) {
					c.push(a), angular.forEach(d.onItemAddedCallbacks, function(c) {
						try {
							c(a)
						} catch (d) {
							b.error("securityRetryQueue.push(retryItem): callback threw an error" + d)
						}
					})
				},
				pushRetryFn: function(b, c) {
					1 === arguments.length && (c = b, b = undefined);
					var e = a.defer(),
						f = {
							reason: b,
							retry: function() {
								a.when(c()).then(function(a) {
									e.resolve(a)
								}, function(a) {
									e.reject(a)
								})
							},
							cancel: function() {
								e.reject()
							}
						};
					return d.push(f), e.promise
				},
				retryReason: function() {
					return d.hasMore() && c[0].reason
				},
				cancelAll: function() {
					for (; d.hasMore();) c.shift().cancel()
				},
				retryAll: function() {
					for (; d.hasMore();) c.shift().retry()
				}
			};
		return d
	}]), angular.module("security.service", ["security.retryQueue", "security.login", "security.register", "security.authority", "ui.bootstrap.modal"]).factory("security", ["$rootScope", "$http", "$q", "$location", "securityRetryQueue", "$modal", "ModalService", "authority", "dataCacheService", function(a, b, c, d, e, f, g, h, i) {
		function j(a) {
			a = a || "/", window.location.href = a
		}
		function k() {
			if (v) return l(v, !1), v = null, void setTimeout(function() {
				k()
			}, 300);
			if (t) throw new Error("Trying to open a dialog that is already open!");
			t = f.open({
				windowClass: "login-container",
				keyboard: !1,
				templateUrl: "security/login/form.tpl.html",
				controller: "LoginFormController"
			}), t.result.then(m, m)
		}
		function l(a, b) {
			a.close(b)
		}
		function m(a) {
			t = null, a ? ("/home/login" == d.path() && d.path("/home", !1), e.retryAll()) : (e.cancelAll(), j())
		}
		function n(a) {
			if (u) throw new Error("Trying to open a dialog that is already open!");
			u = f.open({
				windowClass: "login-container",
				keyboard: !1,
				templateUrl: "security/login/reset.tpl.html",
				controller: "ResetFormController",
				resolve: {
					resetKey: function() {
						return a
					}
				}
			}), u.result.then(function() {
				u = null
			}, function() {
				y.currentUser || d.path("/home", !1).search({}), u = null
			})
		}
		function o(a) {
			if (t) return l(t, !0), t = null, void setTimeout(function() {
				o(a)
			}, 300);
			if (v) throw new Error("Trying to open a dialog that is already open!");
			v = f.open({
				windowClass: "login-container",
				keyboard: !1,
				templateUrl: "security/register/register.tpl.html",
				controller: "RegisterFormController",
				resolve: {
					regMsg: function() {
						return a
					}
				}
			}), v.result.then(function() {
				v = null
			}, function() {
				"/home/register" == d.path() && d.path("/home", !1), v = null
			})
		}
		function p(a) {
			if (w) throw new Error("Trying to open a dialog that is already open!");
			w = f.open({
				windowClass: "login-container",
				keyboard: !1,
				templateUrl: "security/register/otherregister.tpl.html",
				controller: "OtherRegisterFormController",
				resolve: {
					otherRegisterInfo: function() {
						return a
					}
				}
			})
		}
		function q(a) {
			x = a
		}
		function r() {
			return x
		}
		function s() {
			t = null
		}
		var t = null,
			u = null,
			v = null,
			w = null;
		e.onItemAddedCallbacks.push(function(a) {
			e.hasMore() && y.showLogin()
		});
		var x = {},
			y = {
				getLoginReason: function() {
					return e.retryReason()
				},
				showLogin: function() {
					k()
				},
				showRegister: function(a) {
					o(a)
				},
				showOtherRegister: function() {
					p()
				},
				getUserDetail: function(a, c, d) {
					var e = PREFIX_URL + "base/relUserInfo?type=" + a + "&openId=" + c + "&accessToken=" + d,
						f = new Date;
					return e += "&date=" + f.getTime(), b({
						method: "GET",
						url: e,
						withCredentials: !0
					})
				},
				checkUniqueness: function(a) {
					var c = PREFIX_S1_URL + "index.php?c=user&a=checkN&username=" + a,
						d = new Date;
					return c += "&date=" + d.getTime(), b({
						method: "GET",
						url: c,
						withCredentials: !0
					})
				},
				addRegisterInfo: q,
				getRegisterInfo: r,
				getCode: function(a) {
					var c = PREFIX_URL + "index.php?c=user&a=register/code";
					return b({
						method: "POST",
						url: c,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						},
						withCredentials: !0,
						data: a
					})
				},
				getResetCode: function(a) {
					var c = PREFIX_URL + "eqs/reset/code?phone=" + a,
						d = new Date;
					return c += "&date=" + d.getTime(), b({
						method: "POST",
						url: c,
						withCredentials: !0
					})
				},
				login: function(a) {
					var c = this,
						e = b.post(PREFIX_URL + "index.php?c=user&a=login", a, {
							withCredentials: !0,
							headers: {
								"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
							}
						});
					return e.then(function(a) {
						return 200 === a.status ? (c.isValidateCodeLogin = !1, a.data.success === !0 ? (l(t, !0), y.requestCurrentUser().then(function() {
							("/home" == d.path() || "/home/login" == d.path()) && d.path("main")
						}), a.data) : a.data) : void y.isAuthenticated()
					}, function(a) {
						y.isAuthenticated()
					})
				},
				closeLoginDialog: s,
				register: function(c, e, f) {
					var g;
					return g = f ? b.post(PREFIX_URL + "index.php?c=user&a=register" + e, c, {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					}) : b.post(PREFIX_URL + "index.php?c=user&a=register" + e, c, {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					}), g.then(function(b) {
						if (200 === b.status) {
							if (b.data.success !== !0) return b.data;
							a.firstLogin = !0, a.firstLoginGuide = !0, ("/home" == d.path() || "/home/register" == d.path()) && d.path("main"), y.requestCurrentUser(), l(v, !0)
						} else y.isAuthenticated()
					}, function(a) {
						y.isAuthenticated()
					})
				},
				qqLogin: function(a, b) {
					y.getThirdPartyInfo(a).then(function(c) {
						var d = c.openid,
							e = (c.client_id, {
								email: "",
								password: "",
								openId: d,
								accessToken: a,
								type: "qq",
								expires: b
							});
						y.thirdPartLogin(e)
					})
				},
				thirdPartLogin: function(a) {
					var c = b.post(PREFIX_URL + "index.php?c=otherlogin", $.param(qqRegisterInfo), {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					});
					return c.then(function(a) {
						if (200 === a.status) {
							if (a.data.success !== !0) return a.data;
							("/home" == d.path() || "/home/login" == d.path()) && d.path("main"), y.setLoginSuccess(!0), y.requestCurrentUser(), l(w, !0)
						} else y.isAuthenticated()
					}, function(a) {
						y.isAuthenticated()
					})
				},
				getThirdPartyInfo: function(a) {
					var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
					return $.ajax({
						type: "get",
						url: b,
						dataType: "jsonp",
						jsonp: "jsoncallback",
						jsonpCallback: "callback",
						xhrFields: {
							withCredentials: !0
						}
					})
				},
				weiChatLogin: function(a) {
					return b.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {}, {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					})
				},
				cancelRegister: function() {
					v = null, d.path("/home", !1)
				},
				hasRel: function(a) {
					v && l(v, !1);
					var c = new Date,
						e = PREFIX_URL + "base/user/hasRel?type=" + a.type + "&openId=" + a.openId + "&time=" + c.getTime(),
						f = b.get(e, {
							withCredentials: !0
						});
					f.then(function(b) {
						200 === b.status ? b.data.success === !0 ? (("/home" == d.path() || "/home/login" == d.path()) && d.path("main"), y.requestCurrentUser()) : "未关联账号" == b.data.msg && p(a) : y.isAuthenticated()
					}, function(a) {
						y.isAuthenticated()
					})
				},
				cancelLogin: function() {
					t = null, d.path("/home", !1)
				},
				logout: function(a) {
					b({
						withCredentials: !0,
						method: "GET",
						url: PREFIX_URL + "?c=user&a=logout"
					}).then(function(b) {
						y.currentUser = null, j(a)
					}, function() {
						y.currentUser = null, j(a)
					})
				},
				userPromise: null,
				requestCurrentUser: function() {
					if (y.isAuthenticated()) return c.when(y.currentUser);
					var a = new Date;
					return y.userPromise ? y.userPromise : (y.userPromise = b.get(PREFIX_URL + "index.php?c=user&a=check&time=" + a.getTime(), {
						withCredentials: !0
					}).then(function(a) {
						if (y.userPromise = null, a.data.success) {
							y.currentUser = a.data.obj;
							var b = i.get("currentuser", "currentuser");
							b != y.currentUser.id && (i.clear(), i.push("currentuser", "currentuser", y.currentUser.id)), (!y.currentUser.roleIdList || y.currentUser.roleIdList.length <= 0) && (y.currentUser.roleIdList = [2])
						}
						return y.currentUser
					}, function() {
						y.userPromise = null
					}), y.userPromise)
				},
				resetPassByKey: function(a, c) {
					var d = {
						key: c,
						newPwd: a
					};
					return b.post(PREFIX_URL + "index.php?c=user&a=reset_password", $.param(d), {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					})
				},
				currentUser: null,
				isAuthenticated: function() {
					return !!y.currentUser
				},
				isLoginSuccess: !1,
				setLoginSuccess: function(a) {
					y.isLoginSuccess = a
				},
				thirdPartyUrl: {
					weiChatUrl: "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http%3A%2F%2Feqxiu.com&response_type=code&scope=snsapi_login&state=WECHAT_STATE#wechat_redirect",
					qqUrl: "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id="+client_id+"&redirect_uri="+redirect_uri+"&scope=get_user_info",
					weiboUrl: "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=http://eqxiu.com"
				},
				isAllowToAccess: function(a) {
					if (!y.currentUser) return !1;
					var b = h.userRoleDef[y.currentUser.type];
					return b && (b.code & a) > 0 ? !0 : !1
				},
				accessDef: h.accessDef,
				isEditor: function() {
					if (!y.currentUser) return !1;
					var a = y.currentUser.roleIdList;
					if (!a) return !1;
					for (var b = 0; b < a.length; b++) if ("4" == a[b]) return !0;
					return !1
				},
				isAdvancedUser: function() {
					return y.currentUser && "3" == y.currentUser.type ? !0 : !1
				},
				isVendorUser: function() {
					return y.currentUser && "4" == y.currentUser.type ? !0 : !1
				},
				requestResetPassword: function(a) {
					n(a)
				},
				validateToken: function(a) {
					var c = "changepw?token=" + a;
					return b.get(PREFIX_URL + c, {
						withCredentials: !0
					})
				},
				resetPassword: function(a, c) {
					var d = PREFIX_URL + "index.php?c=Usercenter&a=changePwd",
						e = {
							oldPwd: a,
							newPwd: c
						};
					return b.post(d, $.param(e), {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					})
				},
				retrievePhonePassword: function(a, c) {
					var d = PREFIX_URL + "eqs/check/phone/code",
						e = {
							phone: a,
							code: c
						};
					return b.post(d, $.param(e), {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					})
				},
				retrievePassword: function(a, c, d, e) {
					var f = PREFIX_URL + "index.php?c=user&a=forget_password",
						g = {
							email: a,
							geetest_challenge: c,
							geetest_validate: d,
							geetest_seccode: e
						};
					return b.post(f, $.param(g), {
						withCredentials: !0,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						}
					})
				}
			};
		return y
	}]), angular.module("security.thirdparty", ["security.service"]).factory("thirdpartyService", ["$rootScope", "$http", "$location", "$window", "security", "i18nNotifications", function(a, b, c, d, e, f) {
		function g(a) {
			var b = "https://graph.qq.com/oauth2.0/authorize?",
				c = client_id,
				d = ["client_id=" + c, "redirect_uri=" + a, "scope=get_user_info", "response_type=token"],
				e = d.join("&");
			return i = b + e
		}
		function h(a) {
			var b = "https://open.weixin.qq.com/connect/qrconnect?",
				c = "wxc5f1bbae4bb93ced",
				d = ["appid=" + c, "redirect_uri=" + a, "scope=snsapi_login", "response_type=code", "state=WECHAT_STATE#wechat_redirect"],
				e = d.join("&");
			return j = b + e
		}
		var i, j, k = {
			qqUrl: g,
			wxUrl: h,
			qqLogin: function(a, b) {
				k.getThirdPartyInfo(a).then(function(c) {
					var d = c.openid,
						e = (c.client_id, {
							email: "",
							password: "",
							openId: d,
							accessToken: a,
							type: "qq",
							expires: b
						});
					k.thirdPartLogin(e)
				})
			},
			thirdPartLogin: function(a) {
				var d = b.post(PREFIX_URL + "index.php?c=otherlogin", $.param(a), {
					withCredentials: !0,
					headers: {
						"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
					}
				});
				return d.then(function(a) {
					if (200 === a.status) {
						if (a.data.success !== !0) return a.data;
						("/home" == c.path() || "/home/login" == c.path()) && c.path("main"), e.setLoginSuccess(!0), e.requestCurrentUser()
					} else e.isAuthenticated()
				}, function(a) {
					e.isAuthenticated()
				})
			},
			getThirdPartyInfo: function(a) {
				var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
				return $.ajax({
					type: "get",
					url: b,
					dataType: "jsonp",
					jsonp: "jsoncallback",
					jsonpCallback: "callback",
					xhrFields: {
						withCredentials: !0
					}
				})
			},
			weiChatLogin: function(a) {
				return b.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {}, {
					withCredentials: !0,
					headers: {
						"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
					}
				})
			},
			unbindRelation: function(c) {
				var d = {
					type: c
				},
					e = "m/u/unRelation";
				b({
					withCredentials: !0,
					method: "POST",
					url: PREFIX_URL + e,
					data: $.param(d),
					headers: {
						"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
					}
				}).then(function(b) {
					b.data.success && a.$broadcast("mail.unbind.success", c)
				})
			},
			wxBindAccount: function(a) {
				k.bindAccountCommon(a)
			},
			qqBindAccount: function(a) {
				k.getThirdPartyInfo(a.access_token).then(function(b) {
					var c = b.openid,
						d = (b.client_id, {
							openId: c,
							accessToken: a.access_token,
							expires: a.expires_in,
							type: "qq"
						});
					k.bindAccountCommon(d)
				}, function(a) {})
			},
			bindAccountCommon: function(c) {
				var d = "m/u/bind/third";
				b({
					withCredentials: !0,
					method: "POST",
					url: PREFIX_URL + d,
					data: $.param(c),
					headers: {
						"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
					}
				}).then(function(b) {
					b.data.success ? a.$broadcast("rel.success", c.type) : f.pushForCurrentRoute("already.bind.error", "notify.success", {
						msg: b.data.msg
					})
				}, function(a) {
					alert("服务器异常！")
				})
			},
			openThirtyPartyWindow: function(a) {
				var b, c = redirect_uri;
				"qq" == a ? b = k.qqUrl(c) : "weixin" == a && (b = k.wxUrl(c));
				var e = (window.outerHeight - 600) / 2,
					f = (window.outerWidth - 600) / 2;
				d.open(b, "_blank", "width=600,height=600,menubar=no,toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes,top=" + e + ",left=" + f)
			}
		};
		return k
	}]), angular.module("services.active", []).factory("activeService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getActiveList = function(a, c, d) {
			var e = PREFIX_S1_URL + "eqs/activity/scene";
			return a && (e += /\?/.test(e) ? "&" : "?", e += "promId=" + a), c && (e += /\?/.test(e) ? "&" : "?", e += "pageNo=" + c), d && (e += /\?/.test(e) ? "&" : "?", e += "pageSize=" + d), b({
				withCredentials: !0,
				method: "GET",
				url: e
			})
		}, c
	}]), angular.module("services.breadcrumbs", []), angular.module("services.breadcrumbs").factory("breadcrumbs", ["$rootScope", "$location", function(a, b) {
		var c = [],
			d = {};
		return a.$on("$routeChangeSuccess", function(a, d) {
			var e, f = b.path().split("/"),
				g = [],
				h = function(a) {
					return "/" + f.slice(0, a + 1).join("/")
				};
			for (f.shift(), e = 0; e < f.length; e++) g.push({
				name: f[e],
				path: h(e)
			});
			c = g
		}), d.getAll = function() {
			return c
		}, d.getFirst = function() {
			return c[0] || {}
		}, d
	}]), angular.module("services.config", []).factory("configService", ["$http", function(a) {
		var b = function() {
				var b = PREFIX_S2_URL + "index.php?c=ad&a=logo";
				return a({
					withCredentials: !0,
					method: "GET",
					url: b
				})
			},
			c = function() {
				var b = PREFIX_S2_URL + "index.php?c=ad&a=banner";
				return a({
					withCredentials: !0,
					method: "GET",
					url: b
				})
			},
			d = function() {
				var b = PREFIX_S2_URL + "index.php?c=ad&a=friendlinks";
				return a({
					withCredentials: !0,
					method: "GET",
					url: b
				})
			},
			e = function(b) {
				var c = PREFIX_S2_URL + "eqs/banners?pageCode=" + b;
				return a({
					withCredentials: !0,
					method: "GET",
					url: c
				})
			};
			var getBanner70= function() {
				var url = JSON_URL + "?c=ad&a=getBanner70" ;
				return a({
					withCredentials: !0,
					method: "GET",
					url: url
				})
			},getMenu70= function() {
				var url = JSON_URL + "?c=ad&a=getMenu70" ;
				return a({
					withCredentials: !0,
					method: "GET",
					url: url
				})
			};
			
		return {
			getBanner70: getBanner70,getMenu70: getMenu70,
			getLogo: b,
			getBanners: c,
			getFriendLinks: d,
			getActivityBanner: e
		}
	}]), angular.module("services.crud", ["services.crudRouteProvider"]), angular.module("services.crud").factory("crudEditMethods", function() {
		return function(a, b, c, d, e) {
			var f = {};
			return f[a] = b, f[a + "Copy"] = angular.copy(b), f.save = function() {
				this[a].$saveOrUpdate(d, d, e, e)
			}, f.canSave = function() {
				return this[c].$valid && !angular.equals(this[a], this[a + "Copy"])
			}, f.revertChanges = function() {
				this[a] = angular.copy(this[a + "Copy"])
			}, f.canRevert = function() {
				return !angular.equals(this[a], this[a + "Copy"])
			}, f.remove = function() {
				this[a].$id() ? this[a].$remove(d, e) : d()
			}, f.canRemove = function() {
				return b.$id()
			}, f.getCssClasses = function(a) {
				var b = this[c][a];
				return {
					error: b.$invalid && b.$dirty,
					success: b.$valid && b.$dirty
				}
			}, f.showError = function(a, b) {
				return this[c][a].$error[b]
			}, f
		}
	}), angular.module("services.crud").factory("crudListMethods", ["$location", function(a) {
		return function(b) {
			var c = {};
			return c["new"] = function() {
				a.path(b + "/new")
			}, c.edit = function(c) {
				a.path(b + "/" + c)
			}, c
		}
	}]), function() {
		function a(a) {
			this.$get = angular.noop, this.routesFor = function(b, c, d) {
				var e = b.toLowerCase(),
					f = "/" + b.toLowerCase();
				d = d || c, angular.isString(c) && "" !== c && (e = c + "/" + e), null !== d && d !== undefined && "" !== d && (f = "/" + d + f);
				var g = function(a) {
						return e + "/" + b.toLowerCase() + "-" + a.toLowerCase() + ".tpl.html"
					},
					h = function(a) {
						return b + a + "Ctrl"
					},
					i = {
						whenList: function(a) {
							return i.when(f, {
								templateUrl: g("List"),
								controller: h("List"),
								resolve: a
							}), i
						},
						whenNew: function(a) {
							return i.when(f + "/new", {
								templateUrl: g("Edit"),
								controller: h("Edit"),
								resolve: a
							}), i
						},
						whenEdit: function(a) {
							return i.when(f + "/:itemId", {
								templateUrl: g("Edit"),
								controller: h("Edit"),
								resolve: a
							}), i
						},
						when: function(b, c) {
							return a.when(b, c), i
						},
						otherwise: function(b) {
							return a.otherwise(b), i
						},
						$routeProvider: a
					};
				return i
			}
		}
		a.$inject = ["$routeProvider"], angular.module("services.crudRouteProvider", ["ngRoute"]).provider("crudRoute", a)
	}(), angular.module("services.dataCache", []), angular.module("services.dataCache").factory("dataCacheService", ["$timeout", "$rootScope", function(a, b) {
		var c = {};
		this.asyncUrl = "", c.clear = function(a) {
			window.sessionStorage && (a || sessionStorage.clear(), delete sessionStorage[a])
		}, c.push = function(a, b, c) {
			if (window.sessionStorage) {
				var d = sessionStorage.getItem(a);
				d = d ? JSON.parse(d) : {}, d[b] = c, sessionStorage.setItem(a, JSON.stringify(d))
			}
		}, c.get = function(a, b) {
			if (!window.sessionStorage) return null;
			var c = sessionStorage.getItem(a);
			return c ? (c = JSON.parse(c), c[b]) : null
		}, c.asyncGet = function(b, c) {
			var d = sessionStorage.getItem(b);
			d = JSON.parse(d);
			var e = a(function() {
				return d[c]
			});
			return e
		}, c.contains = function(a, b) {
			if (!window.sessionStorage) return !1;
			var c = sessionStorage[a];
			return c ? (c = JSON.parse(c), c[b] ? !0 : !1) : !1
		}, c.setAsyncUrl = function(a) {
			this.asyncUrl = a
		}, c.getAsyncUrl = function() {
			return this.asyncUrl
		};
		var d = {
			photo: [],
			audio: [],
			shapes: []
		};
		return c.pushUsedFile = function(a, b) {
			var c;
			switch (a) {
			case 1:
				c = d.photo;
				break;
			case 2:
				c = d.audio;
				break;
			case 7:
				c = d.shapes
			}
			c.indexOf(b) > -1 || c.push(b)
		}, c.removeUsedFile = function(a, b) {
			var c;
			switch (a) {
			case 1:
				c = d.photo;
				break;
			case 2:
				c = d.audio;
				break;
			case 7:
				c = d.shapes
			}
			var e = c.indexOf(b); - 1 != e && c.splice(e, 1)
		}, c.getUsedFiles = function() {
			for (var a = [], b = [], c = 0; c < d.photo.length; c++) d.photo[c] && (a.push(d.photo[c]), b.push(1));
			for (var e = 0; e < d.audio.length; e++) {
				if (!d.audio[e]) return;
				a.push(d.audio[e]), b.push(2)
			}
			for (var f = 0; f < d.shapes.length; f++) {
				if (!d.shapes[f]) return;
				a.push(d.shapes[f]), b.push(7)
			}
			return 0 !== a.length ? {
				file: a.join(","),
				type: b.join(",")
			} : void 0
		}, c.clearUsedFiles = function() {
			d = {
				photo: [],
				audio: [],
				shapes: []
			}
		}, b.$watch("user", function(a, b) {
			if (a != b) {
				var d = c.get("currentuser", "currentuser");
				d != a.id && (c.clear(), c.push("currentuser", "currentuser", a.id))
			}
		}), c
	}]), angular.module("services.data", []), angular.module("services.data").factory("dataService", ["$http", "$rootScope", function(a, b) {
		var c = {};
		b.branchid;
		return c.getDatas = function(c) {
			var d = "index.php?c=scenedata&a=statSum";
			return c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			}).then(function(a) {
				if (a.data.success) {
					var c = a.data.obj;
					b.$broadcast("sceneDatas", c)
				}
			})
		}, c.getCustomDatas = function(c) {
			var d = "index.php?c=custom&a=statSum";
			return c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			}).then(function(a) {
				if (a.data.success) {
					var c = a.data.obj;
					b.$broadcast("customDatas", c)
				}
			})
		}, c.getDataBySceneId = function(b, c, d, e) {
			c = c || 1, d = d || 10;
			var f = "index.php?c=scenedata&a=getdata&id=" + b + "&pageNo=" + c + "&pageSize=" + d;
			e && (f += (/\?/.test(f) ? "&" : "?") + "user=" + e);
			var g = new Date;
			return f += "&time=" + g.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + f
			})
		}, c.deleteDataBySceneId = function(b, c) {
			var d = "index.php?c=scenedata&a=delete&sceneId=" + b + "&dataIds=" + c.ids;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.getDataDetail = function(b, c) {
			var d = "m/c/detail/" + b;
			c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c);
			var e = new Date;
			return d += (/\?/.test(d) ? "&" : "?") + "date=" + e.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, c.getDataMessage = function(b) {
			var c = "index.php?c=custom&a=newDataScene";
			b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b);
			var d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "date=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.getAllData = function(b, c, d, e) {
			var f = "index.php?c=custom&a=getAllData&pageSize=10&pageNo=" + b;
			c && (f += (/\?/.test(f) ? "&" : "?") + "user=" + c), e && (f += (/\?/.test(f) ? "&" : "?") + "origin=" + e), d && (f += (/\?/.test(f) ? "&" : "?") + "groupId=" + d);
			var g = new Date;
			return f += (/\?/.test(f) ? "&" : "?") + "time=" + g.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + f
			})
		}, c.getProspectDataAccount = function(b) {
			var c = "m/c/prospectCount?time=" + (new Date).getTime();
			return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.deleteDataById = function(b) {
			var c = "index.php?c=custom&a=delete&id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.saveData = function(b, c) {
			var d = c ? "m/c/create" : "m/c/save";
			return a({
				withCredentials: !0,
				method: "POST",
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				url: PREFIX_URL + d,
				data: b
			})
		}, c.getSceneField = function(b) {
			var c = "index.php?c=custom&a=formField&id=" + b,
				d = new Date;
			return c += "&time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.getPremergeScenes = function(b) {
			var c = "index.php?c=custom&a=newDataScene";
			b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b);
			var d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.mergeSceneData = function(b, c) {
			var d = "index.php?c=custom&a=imps&id=" + b;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_S3_URL + d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(c)
			})
		}, c.getOrigin = function(b) {
			var c = "index.php?c=custom&a=origin";
			return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.getGroups = function(b) {
			var c = "index.php?c=custom&a=grouplist";
			return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.assignGroup = function(b) {
			var c = "m/c/group/set?cIds=" + b.cIds + "&gIds=" + b.gIds;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.deleteAssociation = function(b) {
			var c = "m/c/group/unset?cId=" + b.cId + "&gId=" + b.gId;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.createGroup = function(b) {
			var c = "m/c/group/create";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.updateSceneGroup = function(b, c) {
			var d = "index.php?c=scene&a=updateGroup";
			d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime();
			var e = {
				id: b,
				name: c
			};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d,
				data: $.param(e),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.createSceneGroup = function(b) {
			var c = "index.php?c=scene&a=createGroup";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				data: $.param({
					name: b.name
				}),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.deleteCustomer = function(b) {
			var c = "index.php?c=custom&a=delete&ids=" + b.ids;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.deleteGroup = function(b) {
			var c = {
				id: b
			},
				d = "m/c/group/delete";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d,
				data: $.param(c),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.modelMess = function(b) {
			var c = "m/c/tpl/list?sceneId=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.messageNumber = function() {
			var b = "m/u/user/param/msg";
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}, c.getMessModel = function(b) {
			var c = "m/u/list/goods?type=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.buyMess = function(b) {
			var c = "m/u/user/msg/save",
				d = {
					id: b
				};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				data: $.param(d),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.sendMess = function(b, c, d, e) {
			var f = "m/c/msg/batch/scend",
				g = {
					ids: b,
					id: c,
					mobiles: d,
					sceneId: e
				};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + f,
				data: $.param(g),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.sendTatolDetail = function(b) {
			var c = "m/c/msg/list";
			return c += "?pageNo=" + b + "&pageSize=10", a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, c.sendDetail = function(b, c) {
			var d = "m/c/msg/details/" + b;
			return d += "?pageNo=" + c + "&pageSize=10", a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, c
	}]), angular.module("services.exceptionHandler", ["services.i18nNotifications"]), angular.module("services.exceptionHandler").factory("exceptionHandlerFactory", ["$injector", function(a) {
		return function(b) {
			return function(c, d) {
				var e = a.get("i18nNotifications");
				b(c, d), e.pushForCurrentRoute("error.fatal", "error", {}, {
					exception: c,
					cause: d
				})
			}
		}
	}]), angular.module("services.exceptionHandler").config(["$provide", function(a) {
		a.decorator("$exceptionHandler", ["$delegate", "exceptionHandlerFactory", function(a, b) {
			return b(a)
		}])
	}]), angular.module("services.file", ["services.i18nNotifications", "services.staticRes"]), angular.module("services.file").factory("fileService", ["$rootScope", "$http", "i18nNotifications", "staticResService", "dataCacheService", function(a, b, c, d, e) {
		function f(a) {
			var c = "m/base/file/recently/used?fileType=" + a;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + (new Date).getTime(), b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}
		function g(a, c) {
			var d = "index.php?c=statics&a=history_save&fileIds=" + a + "&fileTypes=" + c;
			return d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(), b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}
		function h() {
			var a = [{
				color: "#6366C3"
			}, {
				color: "#29A1D6"
			}, {
				color: "#332E42"
			}, {
				color: "#DBF3FF"
			}, {
				color: "#434A54"
			}, {
				color: "#000000"
			}, {
				color: "#F1F03E"
			}, {
				color: "#FCF08E"
			}, {
				color: "#972D53"
			}, {
				color: "#724192"
			}, {
				color: "#967BDC"
			}, {
				color: "#EC87C1"
			}, {
				color: "#D870AF"
			}, {
				color: "#F6F7FB"
			}, {
				color: "#666C78"
			}, {
				color: "#ABB1BD"
			}, {
				color: "#CCD0D9"
			}, {
				color: "#E6E9EE"
			}, {
				color: "#48CFAE"
			}, {
				color: "#36BC9B"
			}, {
				color: "#3BAEDA"
			}, {
				color: "#50C1E9"
			}, {
				color: "#AC92ED"
			}, {
				color: "#4B89DC"
			}, {
				color: "#4B89DC"
			}, {
				color: "#5D9CEC"
			}, {
				color: "#8DC153"
			}, {
				color: "#ED5564"
			}, {
				color: "#DB4453"
			}, {
				color: "#FB6E52"
			}, {
				color: "#FFCE55"
			}, {
				color: "#F6BB43"
			}, {
				color: "#E9573E"
			}, {
				color: "#9FF592"
			}, {
				color: "#A0D468"
			}];
			return a
		}
		function i(c) {
			var d = "index.php?c=statics&a=getCate&type=1",
				f = d,
				g = e.get("picbgTotal", d);
			if (g) return C.sysCategoryList = g.data.rows, void a.$broadcast("sysCategory.update");
			var h = new Date;
			d += "&time=" + h.getTime(), b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			}).then(function(b) {
				"200" == b.status && (C.sysCategoryList = b.data.rows, e.push("picbgTotal", f, b), a.$broadcast("sysCategory.update"))
			})
		}
		function j(b) {
			C.sysMusicList = "2" == b ? d.getAudioTypes() : d.getSoundTypes(), a.$broadcast("sysMusic.update")
		}
		function k(c) {
			var d = "index.php?c=upfile&a=systag&type=3";
			c && (d += "&bizType=" + c);
			var f = d,
				g = e.get("sysTag", d);
			return g ? (C.sysTagList = g.list, void a.$broadcast("sysTag.update")) : (d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(), void b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			}).then(function(b) {
				b.data.success && (C.sysTagList = b.data.list, e.push("sysTag", f, b.data), a.$broadcast("sysTag.update"))
			}))
		}
		function l(a, c, d, f, g, h, i) {
			return a += "pageNo=" + (c ? c : 1), a += "&pageSize=" + (d ? d : 10), a += "&fileType=" + f, (g || 0 === g) && (a += "&bizType=" + g), h && (a += "&tagId=" + h), i && (a += "&delete=1"), e.contains("fileService1", a) ? e.asyncGet("fileService1", a) : (e.setAsyncUrl(a), a += "&time=" + Date.now(), b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + a
			}))
		}
		function m(c, d, f, g, h, i) {
			if ("pure" != h && "pure" != i) {
				"1" == g && (f = 18), c += "pageNo=" + (d ? d : 1), c += "&pageSize=" + (f ? f : 10), c += "&fileType=" + g, (h || 0 === h) && (c += "&bizType=" + h), i && (c += "&tagId=" + i);
				var j = e.get("fileService", c);
				if (j) return C.imgList = j.list, C.totalItems = j.map.count, C.pageNo = j.map.pageNo, void a.$broadcast("imgList.update");
				var k = c;
				c += "&time=" + Date.now(), b({
					withCredentials: !0,
					method: "GET",
					url: PREFIX_URL + c
				}).then(function(b) {
					b.data.success && (C.imgList = b.data.list, C.totalItems = b.data.map.count, C.pageNo = b.data.map.pageNo, e.push("fileService", k, b.data), a.$broadcast("imgList.update"))
				})
			} else d * f <= D.length ? C.imgList = D.slice((d - 1) * f, d * f) : C.imgList = D.slice((d - 1) * f, D.length), C.totalItems = D.length, C.pageNo = d, a.$broadcast("imgList.update")
		}
		function n(a, b, c, d, e) {
			var f = "index.php?c=upfile&a=syslist&";
			return l(f, a, b, c, d, e)
		}
		function o(a, b, c, d, e) {
			var f = "index.php?c=upfile&a=syslist&";
			m(f, a, b, c, d, e)
		}
		function p(a, b, c, d, e, f) {
			var g = "index.php?c=upfile&a=userList&";
			return l(g, a, b, c, d, e, f)
		}
		function q(a, b, c, d, e) {
			var f = "index.php?c=upfile&a=userList&";
			m(f, a, b, c, d, e)
		}
		function r(c) {
			var d = "index.php?c=upfile&a=delete",
				e = {
					id: c
				};
			b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(e)
			}).then(function(b) {
				b.data.success && a.$broadcast("files.delete")
			})
		}
		function s(a, c) {
			var d, e = "index.php?c=upfile&a=delete";
			return d = c ? {
				id: a,
				backup: c
			} : {
				id: a
			}, b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(d)
			})
		}
		function t(a, c) {
			var d = "m/base/file/recycle/list?pageNo=" + a + "&pageSize=" + c;
			return b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}
		function u(a) {
			var c = "m/base/file/revoke?id=" + a;
			return b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}
		function v(c) {
			var d = "index.php?c=tag&a=create",
				e = {
					tagName: c
				};
			b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(e)
			}).then(function(b) {
				C.tagList.push({
					id: b.data.obj,
					name: c
				}), a.$broadcast("tagList.update")
			}, function(a) {
				$scope.authError = "创建失败"
			})
		}
		function w() {
			var c = "index.php?c=tag&a=my&time" + (new Date).getTime();
			b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			}).then(function(b) {
				b.data.success && (C.tagList = b.data.list, a.$broadcast("tagList.update"))
			})
		}
		function x(c, d) {
			var e = "index.php?c=tag&a=delete",
				f = {
					id: c
				};
			b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(f)
			}).then(function(b) {
				b.data.success && (C.tagList.splice(d, 1), a.$broadcast("tagList.delete"))
			})
		}
		function y(c, d) {
			var e = "index.php?c=tag&a=set",
				f = {
					tagId: c,
					fileIds: d
				};
			b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(f)
			}).then(function(b) {
				b.data.success && a.$broadcast("tag.assign")
			})
		}
		function z(c, d) {
			var e = "m/base/file/tag/unset",
				f = {
					tagId: c,
					fileIds: d
				};
			b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(f)
			}).then(function(b) {
				b.data.success && a.$broadcast("tag.unbind")
			})
		}
		function A(a, c, d, f) {
			var g = "index.php?c=upfile&a=syslist&";
			if ("0" === d && "2" === f && (g = "index.php?c=upfile&a=userList&"), g += "pageNo=" + (a ? a : 1), g += "&pageSize=" + (c ? c : 12), d && "all" != d && (g += "&bizType=" + (d ? d : -1)), g += "&fileType=" + (f ? f : -1), e.contains("mySounds", g)) return e.asyncGet("mySounds", g);
			e.setAsyncUrl(g);
			var h = new Date;
			return g += "&time=" + h.getTime(), b({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + g
			})
		}
		function B(a) {
			var c = "index.php?c=page&a=crop";
			return b({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(a)
			})
		}
		var C = {
			pageNo: 1,
			totalItems: 0,
			sysCategoryList: [],
			getSysCategory: i,
			sysTagList: [],
			getSysMusicCategory: j,
			userRecycle: t,
			fileRevoke: u,
			sysMusicList: [],
			getSysTagByCatId: k,
			imgList: [],
			getSystemFiles: n,
			getUserFiles: p,
			getSystemFiles1: o,
			getUserFiles1: q,
			tagList: [],
			createTag: v,
			getTagList: w,
			deleteTag: x,
			assignTag: y,
			unbindTag: z,
			deleteFile: r,
			deleteFile1: s,
			getFileByCategory: A,
			getBgColorList: h,
			cropImage: B,
			getFilesHistory: f,
			saveFilesHistory: g
		},
			D = h();
		return C
	}]), angular.module("services.history", []).factory("historyService", ["$rootScope", function(a) {
		var b = {},
			c = {},
			d = {};
		return b.addPage = function(d, e) {
			return c[d] || (c[d] = {
				currentPos: 0,
				inHistory: !1,
				pageHistory: []
			}, b.addPageHistory(d, e)), a.$broadcast("history.changed"), JSON.parse(c[d].pageHistory[c[d].currentPos])
		}, b.addPageHistory = function(b, e) {
			d = c[b], d.inHistory && (d.inHistory = !1, d.pageHistory.length = d.currentPos + 1);
			var f = JSON.stringify(e);
			f != d.pageHistory[d.pageHistory.length - 1] && d.pageHistory.push(f), d.currentPos = d.pageHistory.length - 1, a.$broadcast("history.changed")
		}, b.clearHistory = function() {
			c = {}
		}, b.canBack = function(a) {
			return d = c[a], d.currentPos > 0
		}, b.canForward = function(a) {
			return d = c[a], d.currentPos < d.pageHistory.length - 1
		}, b.back = function(b) {
			if (d = c[b], d.pageHistory.length) {
				d.inHistory = !0;
				var e = 0 === d.currentPos ? d.pageHistory[0] : d.pageHistory[--d.currentPos];
				return a.$broadcast("history.changed"), JSON.parse(e)
			}
		}, b.forward = function(b) {
			if (d = c[b], d.pageHistory.length) {
				d.inHistory = !0;
				var e = d.currentPos == d.pageHistory.length - 1 ? d.pageHistory[d.currentPos] : d.pageHistory[++d.currentPos];
				return a.$broadcast("history.changed"), JSON.parse(e)
			}
		}, b
	}]), angular.module("services.httpRequestTracker", []), angular.module("services.httpRequestTracker").factory("httpRequestTracker", ["$http", function(a) {
		var b = {};
		return b.hasPendingRequests = function() {
			return a.pendingRequests.length > 0
		}, b
	}]), angular.module("services.i18nNotifications", ["services.notifications", "services.localizedMessages"]), angular.module("services.i18nNotifications").factory("i18nNotifications", ["localizedMessages", "notifications", function(a, b) {
		var c = function(b, c, d, e) {
				return angular.extend({
					message: a.get(b, d),
					type: a.get(c, d)
				}, e)
			},
			d = {
				pushSticky: function(a, d, e, f) {
					return b.pushSticky(c(a, d, e, f))
				},
				pushForCurrentRoute: function(a, d, e, f) {
					return b.pushForCurrentRoute(c(a, d, e, f))
				},
				pushForNextRoute: function(a, d, e, f) {
					return b.pushForNextRoute(c(a, d, e, f))
				},
				getCurrent: function() {
					return b.getCurrent()
				},
				remove: function(a) {
					return b.remove(a)
				},
				removeAll: function() {
					return b.removeAll()
				}
			};
		return d
	}]), angular.module("services.localizedMessages", []).factory("localizedMessages", ["$interpolate", "I18N.MESSAGES", function(a, b) {
		var c = function(a, b) {
				return a || "?" + b + "?"
			};
		return {
			get: function(d, e) {
				var f = b[d];
				return f ? a(f)(e) : c(f, d)
			}
		}
	}]), angular.module("services.mine", []), angular.module("services.mine").factory("MineService", ["$http", "$rootScope", "dataCacheService", function(a, b, c) {
		var d = {};
		return d.getNewSample = function() {
			var b = "index.php?c=scene&a=lable";
			return b += (/\?/.test(b) ? "&" : "&") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + b
			})
		}, d.getMyGroup = function(c) {
			var d = "index.php?c=scene&a=getMyGroup&param=" + c;
			return d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d
			}).then(function(a) {
				200 == a.data.code && b.$broadcast("get.my.group", a.data.list)
			})
		}, d.editGroup = function(c, d) {
			var e = "m/scene/group/update";
			e += (/\?/.test(e) ? "&" : "?") + "time=" + (new Date).getTime();
			var f = {
				groupId: c,
				groupName: d
			};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(f)
			}).then(function(a) {
				200 == a.data.code && b.$broadcast("update.my.group", a.data.list)
			})
		}, d.deleteGroup = function(c, d) {
			var e = "index.php?c=scene&a=deleteGroup&id=" + c;
			return e += (/\?/.test(e) ? "&" : "&") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + e
			}).then(function(a) {
				200 == a.data.code && b.$broadcast("delete.my.group", d)
			})
		}, d.moveGroupScene = function(b, c) {
			var d = "index.php?c=scene&a=setGroup";
			d += (/\?/.test(d) ? "&" : "&") + "time=" + (new Date).getTime();
			var e = {
				id: b,
				sIds: c
			};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(e)
			})
		}, d.getSysRecommend = function(d) {
			var e = "m/scene/guided";
			d && (e += (/\?/.test(e) ? "&" : "?") + "type=" + d);
			var f = e,
				g = c.get("sysRecommend", e);
			return g ? void b.$broadcast("get.getSysRecommend.list", g) : (e += (/\?/.test(e) ? "&" : "?") + "time=" + (new Date).getTime(), void a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + e
			}).then(function(a) {
				200 == a.data.code && (c.push("sysRecommend", f, a.data), b.$broadcast("get.getSysRecommend.list", a.data))
			}))
		}, d.getCompanySample = function(d, e, f) {
			var g = "m/scene/group/comtemp?userId=" + d + "&pageNo=" + e + "&pageSize=" + f,
				h = g,
				i = c.get("companySample", g);
			return i ? void b.$broadcast("get.company.sample.scene", i.list) : (g += (/\?/.test(g) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + g
			}).then(function(a) {
				200 == a.data.code && (c.push("companySample", h, a.data), b.$broadcast("get.company.sample.scene", a.data.list))
			}))
		}, d.getMyScenes = function(c, e, f, g, h, i, j) {
			var k;
			k = c ? "index.php?c=scene&a=my&type=" + c : "index.php?c=scene&a=my";
			var l = {
				showData: i,
				pageNo: e,
				pageSize: f,
				user: g,
				name: h,
				groupId: j
			};
			return k += (/\?/.test(k) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + k,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(l)
			}).then(function(a) {
				200 == a.data.code && (d.scenes = a.data, b.$broadcast("get.my.scene.list"))
			})
		}, d.deleteSceneById = function(b, c) {
			var d = "index.php?c=scene&a=delscene&id=" + b;
			return c && (d += "&backup=" + c), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, d.getMyHistoryScenes = function(b, c, d) {
			var e = "m/scene/recycle/list";
			return e += "?pageNo=" + (b ? b : 1), e += "&pageSize=" + (c ? c : 12), d && (e += "&user=" + d), e += (/\?/.test(e) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + e
			})
		}, d
	}]), angular.module("services.modal", ["confirm-dialog", "message-dialog", "bindemail-dialog"]).factory("ModalService", ["$modal", function(a) {
		var b = {};
		return b.openBindEmailDialog = function() {
			a.open({
				keyboard: !1,
				backdropClick: !0,
				windowClass: "confirm-dialog",
				templateUrl: "dialog/bindemail.tpl.html",
				controller: "BindEmailDialogCtrl"
			})
		}, b.openConfirmDialog = function(b, c, d) {
			a.open({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "confirm-dialog",
				templateUrl: "dialog/confirm.tpl.html",
				controller: "ConfirmDialogCtrl",
				resolve: {
					confirmObj: function() {
						return b
					}
				}
			}).result.then(c, d)
		}, b.openMsgDialog = function(b, c, d) {
			a.open({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "message-dialog",
				templateUrl: "dialog/message.tpl.html",
				controller: "MessageDialogCtrl",
				resolve: {
					msgObj: function() {
						return b
					}
				}
			}).result.then(c, d)
		}, b
	}]), angular.module("I18N.MESSAGES", []).service("I18N.MESSAGES", ["$rootScope", function(a) {
		var b = {
			"notify.success": "success",
			"notify.info": "info",
			"notify.danger": "danger",
			"notify.warning": "warning",
			"notify.tip": "tip",
			"errors.route.changeError": "Route change error",
			"crud.user.save.success": "A user with id '{{id}}' was saved successfully.",
			"crud.user.remove.success": "A user with id '{{id}}' was removed successfully.",
			"crud.user.remove.error": "Something went wrong when removing user with id '{{id}}'.",
			"crud.user.save.error": "Something went wrong when saving a user...",
			"crud.project.save.success": "A project with id '{{id}}' was saved successfully.",
			"crud.project.remove.success": "A project with id '{{id}}' was removed successfully.",
			"crud.project.save.error": "Something went wrong when saving a project...",
			"login.reason.notAuthorized": "离开久了，麻烦再登录一次吧！",
			"login.reason.notAuthenticated": "为了保障您的账号安全，请登录！",
			"login.error.invalidCredentials": "登录失败，请检查邮箱和密码是否正确。",
			"login.error.serverError": "There was a problem with authenticating: {{exception}}.",
			"register.error.serverError": "There was a problem with authenticating: {{exception}}.",
			"login.reset.notmatch": "新密码和重复密码不匹配",
			"register.error.match": "两次输入密码不一致",
			"register.error.agreement": "请先同意注册协议再完成注册",
			"file.bg.pageSize": "12",
			"scene.save.success.published": "场景已保存成功！",
			"scene.save.success.nopublish": "保存成功，还需要发布哦！",
			"scene.save.success.companyTpl": "成功生成企业样例",
			"scene.clear.success.companyTpl": "成功取消企业样例",
			"companytpl.setting.success": "成功生成企业模板",
			"mytpl.setting.success": "成功生成我的模板",
			"scene.publish.success": "场景发布成功",
			"account.success": "提交成功！",
			"branch.open.success": "账号打开成功！",
			"branch.close.success": "账号关闭成功！",
			"dept.create.success": "部门创建成功！",
			"dept.update.success": "修改成功！",
			"branch.create.success": "账号创建成功！",
			"branch.update.success": "账号修改成功！",
			"scene.setting.success": "场景设置成功！",
			"data.assign.success": "分组成功！",
			"data.delete.success": "数据删除成功！",
			"group.delete.data": "分组内素材移除成功！",
			"custom.data.delete": "此条客户数据删除成功！",
			"group.delete.success": "分组删除成功！",
			"group.create.success": "分组创建成功！",
			"group.edit.success": "分组修改成功！",
			"group.scene.success": "成功将此场景移动至分组",
			"rel.tip": "您的账号还没有绑定邮箱，去用户中心->账号管理，马上绑定",
			"page.change.success": "页面名称修改成功！",
			"email.save.success": "邮箱绑定成功！",
			"bbs.save.success": "论坛账号绑定成功！",
			"reset.psw.success": "密码修改成功！",
			"save.success": "保存成功！",
			"upload.success": "上传成功！",
			"mail.rel.success": "关联成功！",
			"mail.unbind.success": "解除关联成功！",
			"file.assign.success": "分组成功！",
			"already.rel": "此账号已经关联过邮箱",
			"branch.reset.success": "子账号密码重置成功！",
			"already.bind.error": "{{msg}}",
			"reject.crop.image": "不支持裁剪GIF格式图片！",
			"visitor.apply": "信息已经提交审核，审核通过后会更新秀客信息，请耐心等待。",
			"select.trigger.source": "请选择触发源",
			"scratch.percentage.overflow": "涂抹比例不能大于100%",
			"invitation.sendemail.success": "邮件发送成功!",
			"invitation.sendemail.error": "邮件发送失败!",
			"outbox.warning": "红色警告：超出虚线外边框的内容，将无法在手机中被看到",
			"outbox.tip": "橙色警告：超出虚线内边框的内容，在部分老机型手机中将无法看到",
			"already.apply.discovery": "您已申请加入秀场，暂时不能再申请！",
			"already.apply.sample": "您已申请过成为样例，暂时不能再申请！",
			"already.apply.activity": "您已申请过成为活动，暂时不能再申请！",
			"phone.message": "成功开通短信提醒",
			"scene.apply.success": "申请成功",
			"xd.insufficient": "秀点余额不足，去用户中心－>会员服务进行充值",
			"customer.name.overflow": "姓名不能超过50个字符",
			"scene.deny.apply": "审核未通过的场景不能申请活动",
			"scene.incheck.apply": "审核中的场景不能申请活动",
			"scene.accessCode.apply": "加密设置的场景不能加入活动",
			"scene.accessClose.apply": "关闭的场景不能加入活动",
			"spread.share.messagecustomer": "请选择收件人",
			"spread.share.messageless": "可用短信数量不足,请兑换短信",
			"spread.share.messagecontent": "请先选择短信内容!",
			"spread.share.messagesendsuccess": "发送成功",
			"spread.share.messagebuylayout": "请选择购买类型",
			"spread.share.messagebuyxdless": "秀点余额不足,请先购买秀点!"
		};
		return b
	}]), angular.module("services.notifications", []).factory("notifications", ["$rootScope", function(a) {
		var b = {
			STICKY: [],
			ROUTE_CURRENT: [],
			ROUTE_NEXT: []
		},
			c = {},
			d = function(a, b) {
				if (!angular.isObject(b)) throw new Error("Only object can be added to the notification service");
				return a.push(b), b
			};
		return a.$on("$routeChangeSuccess", function() {
			b.ROUTE_CURRENT.length = 0, b.ROUTE_CURRENT = angular.copy(b.ROUTE_NEXT), b.ROUTE_NEXT.length = 0
		}), c.getCurrent = function() {
			return [].concat(b.STICKY, b.ROUTE_CURRENT)
		}, c.pushSticky = function(a) {
			return d(b.STICKY, a)
		}, c.pushForCurrentRoute = function(a) {
			return d(b.ROUTE_CURRENT, a)
		}, c.pushForNextRoute = function(a) {
			return d(b.ROUTE_NEXT, a)
		}, c.remove = function(a) {
			angular.forEach(b, function(b) {
				var c = b.indexOf(a);
				c > -1 && b.splice(c, 1)
			})
		}, c.removeAll = function() {
			angular.forEach(b, function(a) {
				a.length = 0
			})
		}, c
	}]), angular.module("services.pagetpl", []), angular.module("services.pagetpl").factory("pageTplService", ["$http", "$rootScope", "$modal", "$q", "dataCacheService", function(a, b, c, d, e) {
		var f = {};
		return f.getPageTpls = function(b) {
			var c = "index.php?c=scene&a=getpagetpl&type=" + b,
				d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, f.getMyTplList = function(b) {
			var c = "/index.php?c=scene&a=pagelist&id=" + b,
				d = new Date;
			return c += (/\?/.test(c) ? "&" : "&") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, f.getPageTplTypes = function() {
			var b = "index.php?c=statics&a=getPageTplType",
				c = new Date;
			return b += (/\?/.test(b) ? "&" : "?") + "time=" + c.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}, f.getPageTagLabel = function(b) {
			var c = "index.php?c=statics&a=tagList&type=1";
			null != b && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + b);
			var d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, f.getTagSysListWithType = function(b) {
			var c = "index.php?c=upfile&a=systag&type=2";
			null != b && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + b);
			var d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, f.getPageTagLabelCheck = function(b) {
			var c = "/m/scene/tag/page/list?id=" + b,
				d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, f.getPageTplTypestemp = function(b, c, d, f) {
			var g = "index.php?c=scene&a=syspagetpl",
				h = g,
				i = (new Date, {});
			return null != b && (h += (/\?/.test(g) ? "&" : "?") + "tagId=" + b, i.tagId = b), c && (h += (/\?/.test(g) ? "&" : "?") + "name=" + c, i.name = c), d && (h += (/\?/.test(g) ? "&" : "?") + "pageSize=" + d, i.pageSize = d), f && (h += (/\?/.test(g) ? "&" : "?") + "pageNo=" + f, i.pageNo = f), e.contains("pageTpl", h) ? e.asyncGet("pageTpl", h) : (e.setAsyncUrl(h), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + g,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(i)
			}))
		}, f.updataChildLabel = function(b, c) {
			var d = "m/scene/tag/page/set/?ids=" + b;
			null != c && (d += (/\?/.test(d) ? "&" : "?") + "pageId=" + c);
			var e = new Date;
			return d += (/\?/.test(d) ? "&" : "?") + "time=" + e.getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + d
			})
		}, f
	}]),angular.module("services.sample", []).factory("sampleService", ["$rootScope", "$http", function(a, b) {
		var c = {};
		return c.getSamples = function(a, c, d) {
			var e = PREFIX_S2_URL + "index.php?c=scene&a=promotion";
			return a && (e += "&type=" + a), c && (e += /\?/.test(e) ? "&" : "?", e += "pageNo=" + c), d && (e += /\?/.test(e) ? "&" : "?", e += "pageSize=" + d), b({
				withCredentials: !0,
				method: "GET",
				url: e
			})
		}, c.getSamplesPV = function() {
			var a = PREFIX_S1_URL + "eqs/topThree?time=" + (new Date).getTime();
			return b({
				withCredentials: !0,
				method: "GET",
				url: a
			})
		}, c
	}]), angular.module("services.scene", ["scene.create.console", "services.history", "services.select", "scene.create.console.pictures", "scene.edit.trigger", "services.dataCache"]), angular.module("services.scene").factory("sceneService", ["$http", "$rootScope", "$modal", "$q", "security", "$cacheFactory", "historyService", "selectService", "picturesService", "ModalService", "triggerService", "i18nNotifications", "dataCacheService", function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
		function n(a) {
			fa.splice(fa.indexOf(ga[a]), 1), delete ga[a]
		}
		function o(a) {
			ea.obj.elements = a, $("#nr").empty(), da.parse({
				def: ea.obj,
				appendTo: "#nr",
				mode: "edit"
			});
			for (var c in a) if (3 == a[c].type) {
				var d = "";
				a[c].properties.imgSrc && (d = a[c].properties.imgSrc), b.$broadcast("show.edit.bg", d);
				break
			}
			b.$broadcast("dom.changed")
		}
		function p(a) {
			angular.copy({}, ga), $.each(a, function(a, b) {
				ga[b.id] = b
			})
		}
		function q(a, b) {
			var c = {},
				d = $("#nr .edit_area"),
				e = d.children().last(),
				f = d.children(".maxIndex"),
				g = 0;
			if (g = f.length > 0 ? parseInt(f.css("z-index"), 10) + 1 : e.length > 0 ? parseInt(e.css("z-index"), 10) + 1 : 101, b) return b.zIndex = g, parseInt(b.top, 10) > $("#nr .edit_area").outerHeight() - 20 ? b.top = $("#nr .edit_area").outerHeight() - 20 + ca.comPosition.top + "px" : b.top = parseInt(b.top, 10) + ca.comPosition.top + "px", b;
			var h = $("#nr .edit_area").outerWidth(),
				i = h;
			return "v" == a && (i = 50), "4" == a && (i = 80), (5 == ("" + a).charAt(0) || "6" == a || "r" == a || "c" == a || "a" == a) && (i = 200), "m" == a && (i = 100), c = {
				top: 100 + ca.comPosition.top + "px",
				left: (h - i) / 2 + "px"
			}, c.zIndex = g, c
		}
		function r(a, b, c, d) {
			var e = parseInt(a.css.top, 10) + 10 * ha,
				f = parseInt(a.css.left, 10);
			e + 34 > $("#nr .edit_area").outerHeight() ? (b.css.top = e + "px", b.css.left = f + 10 + "px") : (b.css.top = e + 34 + "px", b.css.left = a.css.left, c == d && ha++)
		}
		function s() {
			return Math.ceil(1e10 * Math.random())
		}
		function t(a, b, c) {
			var d, e = s(),
				f = {};
			if (3 == ("" + a).charAt(0)) {
				var g, h = [];
				for (g = 0; g < fa.length; g++) 3 == fa[g].type && h.push(fa[g]);
				if (h.length > 0) return h[0];
				f = {
					content: null,
					css: {},
					id: e,
					num: 0,
					pageId: ea.obj.id,
					properties: {
						bgColor: null,
						imgSrc: null
					},
					sceneId: ea.obj.sceneId,
					title: null,
					type: 3
				}
			}
			return 1 == ("" + a).charAt(0) && (f = {
				id: e,
				properties: {
					title: "提交"
				},
				type: 1,
				pageId: ea.obj.id,
				sceneId: ea.obj.sceneId
			}), 8 == ("" + a).charAt(0) && (d = q(a, b), $.extend(!0, d, {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					title: "一键拨号",
					number: ""
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: 8
			}), "l" == a && (d = q(a, b), $.extend(!0, d, {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "40px",
				lineHeight: "40px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					title: "点我购买"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "l"
			}), "s" == a && (d = q(a, b), $.extend(!0, d, {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					title: "有惊喜"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "s"
			}), (2 == ("" + a).charAt(0) || "x" == ("" + a).charAt(0)) && (d = q(a, b), $.extend(!0, d, {
				width: 320,
				height: 38
			}), f = {
				content: "点击此处进行编辑",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {},
				sceneId: ea.obj.sceneId,
				title: null,
				type: ("" + a).charAt(0)
			}), "x" == ("" + a).charAt(0) && (f.properties = {
				dataUrl: ""
			}), (4 == ("" + a).charAt(0) || "wp" == a) && (d = q(a, b), d.width = "100px", d.height = "100px", f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					width: "100px",
					height: "100px",
					src: ""
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: 4
			}, "wp" == a && (f.type = "403", d.width = "135px", d.height = "240px", f.properties.width = "135px", f.properties.height = "240px", f.properties.src = CLIENT_CDN + "assets/images/wechat_image.png")), "h" == a && (d = q(a, b), $.extend(!0, d, {
				color: "#555",
				width: "100px",
				height: "100px"
			}), f = {
				content: "",
				css: d,
				id: e,
				pageId: ea.obj.id,
				properties: {
					type: "rect"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "h"
			}), 5 == ("" + a).charAt(0) && (d = q(a, b), d.width = "200px", $.extend(!0, d, {
				color: "#676767",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					placeholder: "请命名"
				},
				isInput: 1,
				sceneId: ea.obj.sceneId,
				title: "请命名",
				type: 5
			}), "r" == a && (d = q(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
				color: "#676767",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					titleStyle: {
						backgroundColor: "#08a1ef",
						color: "#ffffff"
					},
					optionStyle: {
						borderBottomWidth: "1",
						borderBottomStyle: "solid",
						borderBottomColor: "#08a1ef"
					}
				},
				choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
				isInput: 1,
				sceneId: ea.obj.sceneId,
				title: "",
				type: "r"
			}), "c" == a && (d = q(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
				color: "#676767",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					titleStyle: {
						backgroundColor: "#08a1ef",
						color: "#ffffff"
					},
					optionStyle: {
						borderBottomWidth: "1",
						borderBottomStyle: "solid",
						borderBottomColor: "#08a1ef"
					}
				},
				choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
				isInput: 1,
				sceneId: ea.obj.sceneId,
				title: "",
				type: "c"
			}), "a" == a && (d = q(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					icon: "eqf-star",
					size: "rating-m",
					color: "#ff9307"
				},
				isInput: 1,
				sceneId: ea.obj.sceneId,
				title: "",
				type: "a"
			}), "i" == a && (d = q(a, b), $.extend(!0, d, {
				width: "100%",
				height: "55px",
				lineHeight: "55px",
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					layout: "counter-lr",
					size: "counter-m",
					color: "#08a1ef",
					icon: "eqf-love"
				},
				sceneId: ea.obj.sceneId,
				title: "",
				type: "i"
			}), "d" == ("" + a).charAt(0) && (d = q(a, b), $.extend(!0, d, {
				width: "100%",
				height: "55px",
				lineHeight: "55px",
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					layout: "counter-lr",
					size: "counter-m",
					color: "#76838f",
					icon: "eqf-eye3"
				},
				sceneId: ea.obj.sceneId,
				title: "",
				type: "d"
			}), 6 == ("" + a).charAt(0) && (d = q(a, b), d.width = "200px", $.extend(!0, d, {
				color: "#fff",
				borderRadius: "0",
				backgroundColor: "#08a1ef"
			}), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					text: "",
					link: "",
					src: "",
					layout: "rating-l",
					title: "提交"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: 6
			}), "p" == a && (d = q(a, b), f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					title: "图集"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "p"
			}), "v" == a && (d = q(a, b), d.width = "50px", d.height = "48px", f = {
				content: "",
				css: d,
				id: e,
				num: 1,
				pageId: ea.obj.id,
				properties: {
					src: ""
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "v"
			}), "n" == a && (d = q(a, b), f = {
				content: "",
				css: d,
				id: e,
				pageId: ea.obj.id,
				properties: {
					pics: []
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "n"
			}), "m" == a && (d = q(a, b), $.extend(!0, d, {
				height: "100px",
				width: "210px"
			}), f = {
				content: "",
				css: d,
				id: e,
				pageId: ea.obj.id,
				properties: {
					address: "设置位置"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: "m"
			}), ("w01" == a || "w02" == a) && (d = q(a, b), $.extend(!0, d, {
				width: "180px",
				height: "40px",
				lineHeight: "40px",
				borderRadius: "5px",
				backgroundColor: "rgba(255,255,255,1)",
				borderColor: "rgba(0,0,0,1)",
				borderWidth: "1px",
				borderStyle: "solid"
			}), f = {
				content: "",
				css: d,
				id: e,
				pageId: ea.obj.id,
				properties: {
					title: "微信音频"
				},
				sceneId: ea.obj.sceneId,
				title: null,
				type: a
			}), c && $.extend(!0, f, c), fa.push(f), ga[f.id] = f, f
		}
		function u(a, c, d) {
			var e = da.wrapComp(c, "edit");
			$("#nr .edit_area").append(e);
			for (var f = da.getInterceptors(), h = 0; h < f.length; h++) f[h](e, c);
			return da.getEventHandlers()[("" + a).charAt(0)](e, c), d || (g.addPageHistory(ea.obj.id, ea.obj.elements), b.$broadcast("dom.changed"), e.trigger("mousedown")), "n" != c.type && "p" != c.type && e.trigger("click"), e
		}
		function v(a, b) {
			var c = [];
			if ("g101" == a) c.push(ka("501")), c.push(ka("502")), c.push(ka("503")), c.push(ka("601"));
			else if ("w" == a) c.push(ka("201")), c.push(ka("401"));
			else if ("wr" == a) {
				var d = s();
				c.push(ka("w01", b, d)), c.push(ka("w02", b, d))
			}
			return c
		}
		function w(a, c) {
			if ("" + c.type == "201") return void $(a).trigger("click");
			ca.currentElemDef = c;
			var d = c.css.height || 0;
			$(a).css({
				"min-height": d,
				cursor: "text"
			}), $(a).parents("li").hasClass("inside-active") || ($(a).bind("click", function(a) {
				a.stopPropagation()
			}), $(document).bind("mousedown", function(e) {
				b.$broadcast("convert.html.canvas", c, a), $(a).css({
					"min-height": "inherit",
					cursor: "default"
				}), $("#btn-toolbar").find("input[type=text][data-edit]").blur(), $("#btn-toolbar") && $("#btn-toolbar").remove(), $(a).unbind("click");
				var f = c.content;
				c.content = $(a).html(), f != c.content && b.$broadcast("hisChange");
				var g = parseInt($(a).parent().height(), 10);
				g > d && (c.css.height = g, $(a).parents("li").height(g)), $(a).parents("li").removeClass("inside-active").css("user-select", "none"), $(a).removeAttr("contenteditable"), window.getSelection && window.getSelection().modify("move", "right", "line"), $(document).unbind("mousedown")
			}), $(a).parents("li").addClass("inside-active").css("user-select", "text"), b.$broadcast("text.click", a))
		}
		function x(a) {
			Q(a, null, function(b) {
				a.properties.src = b.data, a.properties.id = b.id;
				var c = b.width / b.height,
					d = $("#" + a.id);
				if (d.length > 0) {
					var e = $("#inside_" + a.id).width(),
						f = $("#inside_" + a.id).height(),
						g = e / f;
					c >= g ? (d.outerHeight(f), d.outerWidth(f * c), d.css("marginLeft", -(d.outerWidth() - e) / 2), d.css("marginTop", 0)) : (d.outerWidth(e), d.outerHeight(e / c), d.css("marginTop", -(d.outerHeight() - f) / 2), d.css("marginLeft", 0)), d.attr("src", PREFIX_FILE_HOST + b.data), a.properties.imgStyle = {}, a.properties.imgStyle.width = d.outerWidth(), a.properties.imgStyle.height = d.outerHeight(), a.properties.imgStyle.marginTop = d.css("marginTop"), a.properties.imgStyle.marginLeft = d.css("marginLeft")
				} else b.width > $("#nr .edit_area").width() && (b.width = $("#nr .edit_area").width(), b.height = b.width / c), b.height > $("#nr .edit_area").height() && (b.height = $("#nr .edit_area").height(), b.width = b.height * c), a.css.width = b.width, a.css.height = b.height, a.properties.imgStyle = {}, a.properties.imgStyle.width = b.width, a.properties.imgStyle.height = b.height, a.properties.imgStyle.marginTop = "0", a.properties.imgStyle.marginLeft = "0", u(a.type, a)
			}, function() {
				a.properties.src || n(a.id)
			})
		}
		function y(a) {
			la || c.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/shape.tpl.html",
				controller: "ShapeConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				var c = $("#" + a.id);
				if (a.properties.src = b.data, a.properties.id = b.id, a.properties.type = b.type, a.css.height = b.height, a.css.width = b.width, a.properties.items = b.items, c.length) {
					var d = $("#nr").find("#inside_" + a.id);
					d.remove()
				}
				u(a.type, a)
			}, function() {
				$("#" + a.id).length || n(a.id)
			})
		}
		function z(a) {
			c.open({
				windowClass: "console seven-contain",
				templateUrl: "scene/console/button.tpl.html",
				controller: "ButtonConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				a.properties = angular.copy(b), $.extend(!0, a.css, b.btnStyle);
				var c = $("#" + a.id, $("#nr"));
				c.length > 0 && c.parents("li").remove(), u(a.type, a)
			}, function() {
				$("#" + a.id).length || n(a.id)
			})
		}
		function A(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/tel.tpl.html",
				controller: "TelConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, a.properties.title = b.title, a.properties.number = b.number;
				b.title.replace(/ /g, "&nbsp;");
				$.extend(!0, a.css, b.btnStyle), $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function B(a) {
			la || (la = c.open({
				windowClass: "console seven-contain",
				templateUrl: "scene/console/input.tpl.html",
				controller: "InputConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, b.type && (a.type = b.type), a.properties.placeholder = b.title, a.properties.required = b.required, a.title = b.title, $.extend(!0, a.css, b.btnStyle);
				var c = $("#" + a.id);
				c.length > 0 && c.parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function C(a) {
			c.open({
				windowClass: "img_console",
				templateUrl: "scene/console/map.tpl.html",
				controller: "MapCtrl",
				resolve: {
					elemDef: function() {
						return a
					}
				}
			}).result.then(function(b) {
				a.properties.zoom = b.zoom, a.properties.lat = b.center.lat, a.properties.lng = b.center.lng, b.label && (a.content = b.label, a.properties.address = b.label);
				var c = $("#" + a.id);
				if (c.length) {
					var d = c.data("map");
					if (d.panTo(b.center), d.setZoom(b.zoom), c.data("label")) {
						var e = c.data("label");
						e.setPosition(b.center);
						var f = c.data("marker");
						f.setPosition(b.center)
					}
				} else u(a.type, a)
			})
		}
		function D(a) {
			la || (la = c.open({
				windowClass: "console seven-contain",
				templateUrl: "scene/console/radio-checkbox.tpl.html",
				controller: "RadioCheckboxConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, a.title = b.title, a.type = b.type;
				var c = $("#nr").find("#inside_" + a.id);
				c.length && c.remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function E(a) {
			la || (la = c.open({
				windowClass: "console seven-contain",
				templateUrl: "scene/console/rating.tpl.html",
				controller: "RatingConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null;
				var c = $("#nr").find("#inside_" + a.id);
				c.length && c.remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function F(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/counter.tpl.html",
				controller: "CounterConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, $.extend(!0, a.css, b.btnStyle), $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function G(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/statistics-component.tpl.html",
				controller: "StatisticsConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, $.extend(!0, a.css, b.btnStyle), $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function H(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/link-component.tpl.html",
				controller: "LinkComponentConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, isNaN(a.properties.url) && a.properties.url && (a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(a.properties.url)), $.extend(!0, a.css, b.btnStyle), $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function I(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/sound-component.tpl.html",
				controller: "SoundComponentConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null;
				b.title.replace(/ /g, "&nbsp;");
				$.extend(!0, a.css, b.btnStyle), $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function J(a) {
			la || (la = c.open({
				windowClass: "console seven-contain pictures1",
				backdrop: "static",
				templateUrl: "scene/console/pictures1.tpl.html",
				controller: "pictures1Ctrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, a.properties = b;
				var c = $("#inside_" + a.id);
				c.length && c.remove(), u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function K(a, b) {
			var c = Y;
			M(c, 2, function(a) {
				c.bgAudio && m.pushUsedFile(2, a.id), a.url || a.src ? (m.removeUsedFile(2, a.id), c.bgAudio = a) : c.bgAudio = null
			}, function() {
				la = null
			})
		}
		function L(a, b) {
			M(a, 4, function(b) {
				var c = $("#inside_" + a.id);
				b.src ? (a.sound = b, c.children(".sound").length || $('<div class="sound eqf-music">').click(function() {
					L(a)
				}).appendTo(c)) : (delete a.sound, c.children(".sound").remove())
			}, function() {
				la = null
			})
		}
		function M(a, b, d, e) {
			la || (la = c.open({
				windowClass: "console img_console",
				templateUrl: "scene/console/sound.tpl.html",
				controller: "soundCtrl",
				resolve: {
					obj: function() {
						return {
							elemDef: a,
							type: b
						}
					}
				}
			}).result.then(function(a) {
				la = null, d(a)
			}, function() {
				la = null
			}))
		}
		function N(a) {
			la || (la = c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/video.tpl.html",
				controller: "VideoCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				la = null, a.properties.src = b, $("#" + a.id).length || u(a.type, a)
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function O(a, c) {
			Q(a, c, function(d) {
				if ("imgSrc" == d.type) {
					var e = {
						type: 3,
						properties: {
							src: d.data,
							id: d.id,
							pageLength: c
						}
					};
					d.height / d.width >= 1008 / 642 && d.height / d.width <= 1.578125 && (1 == c || d.isSys) ? (b.$broadcast("scene.bg.replace", {
						type: "imgSrc",
						src: d.data,
						id: d.id,
						longPage: c
					}, a), g.addPageHistory(ea.obj.id, ea.obj.elements)) : U(e, function(d) {
						1 != c && (a.properties.pageLength = c, a.properties.croptype = d.type), b.$broadcast("scene.bg.replace", {
							type: "imgSrc",
							src: d.src,
							id: d.id
						}, a), g.addPageHistory(ea.obj.id, ea.obj.elements)
					}, function() {
						$("#" + a.id).length || n(a.id)
					})
				}
				"backgroundColor" == d.type && (1 != c && (a.properties.croptype = 1, a.properties.pageLength = c), b.$broadcast("scene.bg.replace", d, a), g.addPageHistory(ea.obj.id, ea.obj.elements))
			}, function() {
				$("#" + a.id).length || n(a.id)
			})
		}
		function P(a) {
			la || (la = c.open({
				windowClass: "console six-contain randomevent-console",
				templateUrl: "scene/console/randomevent.tpl.html",
				controller: "RandomEventCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(c) {
				la = null, c && 0 !== c.length && (a.properties.pics = c, $("#" + a.id).length || u(a.type, a), b.$broadcast("create.randomevent.trigger", a))
			}, function() {
				la = null, $("#" + a.id).length || n(a.id)
			}))
		}
		function Q(a, b, d, e) {
			if (!la) {
				var f = "0";
				3 == a.type && (f = "0"), "4" == ("" + a.type).charAt(0) && (f = "1"), la = c.open({
					windowClass: "console img_console",
					templateUrl: "scene/console/bg.tpl.html",
					controller: "BgConsoleCtrl",
					resolve: {
						obj: function() {
							return {
								fileType: f,
								elemDef: a,
								longPage: b
							}
						}
					}
				}).result.then(function(a) {
					la = null, d(a)
				}, function(a) {
					la = null, e(a)
				})
			}
		}
		function R(a, c, d) {
			ca.currentElemDef = a, b.$broadcast("showStylePanel", {
				activeTab: "style"
			})
		}
		function S(a, c, d) {
			ca.currentElemDef = a, b.$broadcast("showStylePanel", {
				activeTab: "anim"
			})
		}
		function T(a, c, d) {
			ca.currentElemDef = a, b.$broadcast("showStylePanel", {
				activeTab: "trigger"
			})
		}
		function U(a, b, d) {
			la = c.open({
				windowClass: "console seven-contain pictures1",
				templateUrl: "scene/console/imageCrop.tpl.html",
				controller: "imageCropCtrl",
				backdrop: "static",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(a) {
				la = null, "function" == typeof b && b(a)
			}, function(a) {
				la = null, "function" == typeof d && d(a)
			})
		}
		function V() {
			$(".content").trigger("mousedown"), ca.currentElemDef = null, b.$broadcast("showStylePanel", {
				activeTab: "trigger"
			})
		}
		function W(a) {
			a.sceneId = ea.obj.sceneId, c.open({
				windowClass: "console six-contain",
				templateUrl: "scene/console/link.tpl.html",
				controller: "LinkConsoleCtrl",
				resolve: {
					obj: function() {
						return a
					}
				}
			}).result.then(function(b) {
				b && "http://" != b ? (isNaN(b) ? a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(b) : a.properties.url = b, $("#inside_" + a.id).find(".fa-link").removeClass("fa-link").addClass("fa-anchor")) : (delete a.properties.url, $("#inside_" + a.id).find(".fa-anchor").removeClass("fa-anchor").addClass("fa-link"))
			})
		}
		function X(a, b) {
			var c = $(".element", a)[0];
			$(c).mousedown(function(a) {
				$(this).parents("li").hasClass("inside-active") && a.stopPropagation()
			}), $(c).bind("contextmenu", function(a) {
				$(this).parents("li").hasClass("inside-active") ? a.stopPropagation() : $(this).blur()
			}), $(c).bind("dblclick", function(a) {
				return $("#nr").find(".mask-trigger").length ? !1 : (w(c, b), $("#popMenu").hide(), void a.stopPropagation())
			}), $(c).bind("keydown", function(a) {
				$(".btn-toolbar").length > 0 && a.stopPropagation()
			}), $(c).find("a").bind("click", function(a) {
				a.preventDefault()
			})
		}
		var Y, Z, _, aa, ba, ca = {},
			da = eqShow.templateParser("jsonParser"),
			ea = null,
			fa = null,
			ga = {},
			ha = ($("#nr .edit_area"), 0),
			ia = !1;
		ca.historyBack = function() {
			g.canBack(ea.obj.id) && (fa = g.back(ea.obj.id), p(fa), o(fa), b.$broadcast("close.style.panel"), b.$broadcast("refreshPageBg"))
		}, ca.historyForward = function() {
			g.canForward(ea.obj.id) && (fa = g.forward(ea.obj.id), p(fa), o(fa), b.$broadcast("close.style.panel"), b.$broadcast("refreshPageBg"))
		};
		var ja = ca.createCompGroup = function(a, c) {
				for (var d = v(a), e = [], f = 0; f < d.length; f++) {
					var h = t(d[f].type, c, d[f]);
					c ? (c = {
						left: c.left,
						top: parseInt(c.top, 10) + 50 + "px"
					}, 0 != f && (c.top = parseInt(c.top, 10) - ca.comPosition.top + "px")) : c = {
						left: "60px",
						top: "150px"
					}, u(d[f].type, h), "w" == a && e.push(h)
				}
				0 !== e.length && (e[0].properties.comid = e[1].id, e[0].properties.type = "share", e[1].properties.type = "share", e[1].properties.comid = e[0].id), g.addPageHistory(ea.obj.id, ea.obj.elements), b.$broadcast("dom.changed")
			},
			ka = function(a, b, c) {
				var d;
				return "501" == a && (d = {
					properties: {
						placeholder: "姓名"
					},
					title: "姓名",
					type: 501
				}), "502" == a && (d = {
					properties: {
						placeholder: "手机"
					},
					title: "手机",
					type: 502
				}), "503" == a && (d = {
					properties: {
						placeholder: "邮箱"
					},
					title: "邮箱",
					type: 503
				}), "601" == a && (d = {
					properties: {
						title: "提交"
					},
					type: 601
				}), "201" == a && (d = {
					properties: {
						title: "我的微信昵称"
					},
					css: {
						fontSize: 24,
						textAlign: "center"
					},
					content: "我的微信昵称",
					type: a
				}), "401" == a && (d = {
					properties: {
						title: "我的微信头像",
						src: CLIENT_CDN + "assets/images/create/wx_default.png"
					},
					type: a
				}), "w01" == a && (d = {
					id: "wxp" + c,
					properties: {
						title: "播放录音",
						icon: "eqf-nosy",
						src: CLIENT_CDN + "assets/audio/wexin_sound.mp3"
					},
					type: a
				}), "w02" == a && (d = {
					id: "wxr" + c,
					properties: {
						title: "按住 说话"
					},
					type: a
				}), d
			};
		ca.createComp = function(a, b, c, d) {
			var e;
			if ("g" == ("" + a).charAt(0)) return void ja(a, b);
			if ("w" == ("" + a).charAt(0) && ("w" == a || "wr" == a)) return void ja(a, b);
			if ("9" == ("" + a).charAt(0)) return void K(e, 2);
			if (e = t(a, b), "4" == ("" + a).charAt(0)) return void x(e);
			if ("h" == a) return void y(e);
			if ("5" == ("" + a).charAt(0)) return void B(e);
			if ("6" == ("" + a).charAt(0)) return void z(e);
			if ("8" == ("" + a).charAt(0)) return void A(e);
			if ("p" == a) return void J(e);
			if ("v" == a) return void N(e);
			if ("3" == ("" + a).charAt(0)) return void O(e, d);
			if ("r" == a || "c" == a) return void D(e);
			if ("a" == a) return void E(e);
			if ("i" == a) return c && (e.properties.icon = c, "eqf-love" == c ? e.properties.color = "#ff5448" : "eqf-good" == c ? e.properties.color = "#f2a653" : "eqf-flower2" == c ? e.properties.color = "#ea1f64" : "eqf-vote" == c && (e.properties.color = "#08a1ef")), void F(e);
			if ("d" == a) return c && (e.properties.icon = c), void G(e);
			if ("l" == a) return void H(e);
			if ("s" == a) return void I(e);
			if ("n" == a) return void P(e);
			if ("m" == a) return void C(e);
			if ("wp" == a) return void u("403", e);
			if ("2" == ("" + a).charAt(0) || "x" == ("" + a).charAt(0)) {
				var f = u(a, e);
				$(".element", f).trigger("dblclick").focus(), setTimeout(function() {
					if (window.getSelection) {
						var a = window.getSelection();
						a.modify("move", "left", "line"), a.modify("extend", "right", "line")
					}
				})
			} else u(a, e)
		}, ca.updateCompPosition = function(a, c, d) {
			for (var e = 0; e < fa.length; e++)"inside_" + fa[e].id == a && (fa[e].css ? (fa[e].css.left = c.left, fa[e].css.top = c.top, d || g.addPageHistory(ea.obj.id, fa)) : (fa[e].css = c, d || g.addPageHistory(ea.obj.id, fa)));
			b.$$phase || b.$apply()
		}, ca.updateCompAngle = function(a, c) {
			for (var d = 0; d < fa.length; d++)"inside_" + fa[d].id == a && (fa[d].css ? fa[d].css.transform = "rotateZ(" + c + "deg)" : fa[d].css = {}, g.addPageHistory(ea.obj.id, fa));
			b.$apply()
		}, ca.setCopy = function(a) {
			ia = a, b.$broadcast("copyState.update", a)
		}, ca.getCopy = function() {
			return ia
		}, ca.getPageNames = function(b) {
			var c = "index.php?c=scene&a=pagelist&id=" + b + "&date=" + (new Date).getTime();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.changePageSort = function(b, c) {
			var d = "index.php?c=page&a=pageSort&id=" + c + "&pos=" + b + "&date=" + (new Date).getTime();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.updateCompSize = function(a, c, d) {
			for (var e = 0; e < fa.length; e++)"inside_" + fa[e].id == a && (fa[e].css || (fa[e].css = {}), fa[e].css.width = c.width, fa[e].css.height = c.height, c.lineHeight && (fa[e].css.lineHeight = c.lineHeight), fa[e].css.top = c.top, fa[e].css.left = c.left, fa[e].properties.width = c.width, fa[e].properties.height = c.height, c.imgStyle && (fa[e].properties.imgStyle = c.imgStyle), d || g.addPageHistory(ea.obj.id, fa));
			b.$$phase || b.$apply()
		}, ca.savePageNames = function(b) {
			var c = "index.php?c=page&a=savePageName",
				d = {
					id: b.id,
					sceneId: b.sceneId,
					name: b.name
				};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(d)
			})
		}, ca.resetCss = function() {
			$("#nr .edit_area li").each(function(a, b) {
				var c = ga[b.id.replace(/inside_/g, "")];
				c && (c.css || (c.css = {}), c.css.zIndex = a)
			})
		}, ca.copyElement = function() {
			ha = 0, ba = ea.obj.id;
			var a = h.getElements(),
				b = [];
			$.each(a, function(a, c) {
				var d = ga[c];
				"w01" != d.type && "w02" != d.type && b.push(d)
			}), _ = angular.copy(b), aa = angular.copy(b), ca.setCopy(!0)
		}, ca.pasteElement = function() {
			for (var a = 0, c = [], d = ca.isCurrentPageSubmitButtonAlreadyExist(), e = 0; e < _.length; e++) if (6 !== _[e].type && 601 !== _[e].type || !d) {
				_[e].pageId = ea.obj.id, _[e].id = s(), ba == _[e].pageId ? (a++, r(aa[e], _[e], a, _.length)) : (ha = 0, _[e].css = angular.copy(aa[e].css));
				var f = angular.copy(_[e]);
				fa.push(f), ga[f.id] = f, c.push(u(f.type, f, !0))
			}
			ba = ea.obj.id, g.addPageHistory(ea.obj.id, ea.obj.elements), b.$broadcast("dom.changed"), angular.forEach(h.getElements(), function(a) {
				$("#inside_" + a).children(".bar").hide()
			}), h.clearElements(), $.each(c, function(a, b) {
				b.children(".bar").show(), h.addElement(b.attr("id").split("_")[1])
			})
		}, ca.isCurrentPageSubmitButtonAlreadyExist = function() {
			var a = !1;
			return angular.forEach(ea.obj.elements, function(b) {
				6 == ("" + b.type).charAt(0) && (a = !0)
			}), a
		}, ca.openCropModal = function(a, b, c) {
			U(a, b, c)
		}, ca.replaceBgImage = function(a, c, d) {
			var e = a;
			c.style.backgroundImage = "url(" + PREFIX_FILE_HOST + e + ")", d.properties.bgColor = null, d.properties.imgSrc = e, b.$broadcast("show.edit.bg")
		};
		var la = null;
		utilTrigger.getSendType(), utilTrigger.getHandleType();
		return ca.openTriggerMode = V, da.addInterceptor(function(a, c, d) {
			function f() {
				var d = $('<ul id="popMenu" class="dropdown-menu" style="min-width: 150px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="edit" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-write"></div>编辑</a></li><li class="style" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-type"></div>样式</a></li><li class="animation" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-move"></div>动画</a></li><li class="sound" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-music"></div>音效</a></li><li class="trigger" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-chufa"></div>触发</a></li><li class="link" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-link"></div>链接</a></li><li class="copy" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-scene-copy"></div>复制</a></li><li class="cut" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-cut"></div>裁切</a></li><li role="presentation" class="bottom_bar"><a title="置顶"><div class="eqf-top up-all"></div></a><a title="上移一层"><div class="eqf-up up"></div></a><a title="下移一层"><div class="eqf-down down"></div></a><a title="置底"><div class="eqf-under down-all"></div></a><a title="删除"><div class="eqf-scene-delete remove"></div></a></li></ul>').css({
					position: "absolute",
					"user-select": "none"
				});
				return ia && d.find(".copy").after($('<li class="paste" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-print"></div>粘贴</a></li>')), d.find(".edit").click(function(b) {
					switch (b.stopPropagation(), c.type.toString().charAt(0)) {
					case "1":
						break;
					case "2":
						w(a.find(".element").get(0), c);
						break;
					case "x":
						w(a.find(".element").get(0), c);
						break;
					case "3":
						break;
					case "4":
						x(c);
						break;
					case "h":
						y(c);
						break;
					case "5":
						B(c);
						break;
					case "6":
						z(c);
						break;
					case "7":
						break;
					case "8":
						A(c);
						break;
					case "9":
						break;
					case "g":
						break;
					case "p":
						J(c);
						break;
					case "v":
						N(c);
						break;
					case "r":
					case "c":
						D(c);
						break;
					case "a":
						E(c);
						break;
					case "l":
						H(c);
						break;
					case "s":
						I(c);
						break;
					case "i":
						F(c);
						break;
					case "d":
						G(c);
						break;
					case "n":
						P(c);
						break;
					case "m":
						C(c)
					}
					d.hide()
				}), d.find(".style").click(function(b) {
					b.stopPropagation(), R(c, function(b) {
						if (1 == c.type) for (var d in c.properties.labels) b.backgroundColor && (c.properties.labels[d].color.backgroundColor = b.backgroundColor, $(".label_content").css("background-color", b.backgroundColor)), b.color && (c.properties.labels[d].color.color = b.color, $(".label_content").css("color", b.color));
						else $(".element-box", a).css(b), $.extend(!0, c.css, b)
					}), d.hide()
				}), d.find(".animation").click(function(a) {
					a.stopPropagation(), S(c, function(a) {
						c.properties.anim = a
					}), d.hide()
				}), d.find(".link").click(function(a) {
					a.stopPropagation(), W(c), d.hide()
				}), d.find(".remove").click(function(a) {
					a.stopPropagation(), b.$broadcast("element.delete")
				}), d.find(".sound").click(function(a) {
					a.stopPropagation(), L(c, 4), d.hide()
				}), d.find(".trigger").click(function(a) {
					a.stopPropagation();
					var b = utilTrigger.getHandleType();
					$.each(b, function(a, b) {
						k.getSendIds(b.value, c.id)
					}), T(c, function(a) {
						c.properties.trigger = a
					}), d.hide()
				}), d.find(".down").click(function(c) {
					var d = a.prev();
					if (!(d.length <= 0)) {
						var e = a.css("zIndex");
						a.css("zIndex", d.css("zIndex")), d.css("zIndex", e), d.before(a), b.$broadcast("changeCss", {
							changZindex: "true"
						})
					}
				}), d.find(".up").click(function(c) {
					var d = a.next();
					if (!(d.length <= 0)) {
						var e = a.css("zIndex");
						a.css("zIndex", d.css("zIndex")), d.css("zIndex", e), d.after(a), b.$broadcast("changeCss", {
							changZindex: "true"
						})
					}
				}), d.find(".up-all").click(function(c) {
					var d = a.siblings("li"),
						e = d.last();
					e.after(a), a.css("zIndex", d.length + 1), d.each(function(a, b) {
						$(b).css("zIndex", a + 1)
					}), b.$broadcast("changeCss", {
						changZindex: "true"
					})
				}), d.find(".down-all").click(function(c) {
					var d = a.siblings("li"),
						e = d.first();
					e.before(a), a.css("zIndex", 1), d.each(function(a, b) {
						$(b).css("zIndex", a + 2)
					}), b.$broadcast("changeCss", {
						changZindex: "true"
					})
				}), d.find(".copy").click(function(a) {
					a.stopPropagation(), $(".modal-dialog")[0] || ca.copyElement(), d.hide()
				}), d.find(".paste").click(function(a) {
					a.stopPropagation(), $(".modal-dialog")[0] || ca.pasteElement(), d.hide()
				}), d.find(".cut").click(function(a) {
					a.stopPropagation(), U(c, function() {
						g.addPageHistory(ea.obj.id, ea.obj.elements)
					}), d.hide()
				}), 2 != c.type && 4 != c.type && 401 != c.type && 402 != c.type && "h" != c.type && "x" != c.type && d.find(".trigger").hide(), 2 != c.type && 4 != c.type && 5 != c.type && "h" != c.type && "x" != c.type && 501 != c.type && 502 != c.type && 503 != c.type && 401 != c.type && 402 != c.type && d.find(".sound").hide(), e.isAllowToAccess(e.accessDef.SCENE_EDIT_TRIGGER) || d.find(".trigger").hide(), e.isAllowToAccess(e.accessDef.SCENE_EDIT_SOUND) || d.find(".sound").hide(), 4 != c.type && "401" != c.type && "402" != c.type && "h" != c.type && "x" != c.type && d.find(".link").hide(), (4 != c.type && "401" != c.type && "402" != c.type || "w01" == c.type || "w02" == c.type) && d.find(".cut").hide(), "p" == c.type && (d.find(".animation").hide(), d.find(".style").hide()), (6 == c.type || 601 == c.type || "w01" == c.type || "w02" == c.type) && d.find(".copy").hide(), d
			}
			if ("view" != d) {
				c.trigger && k.setTrigger(c.id, c.trigger);
				var h = $("#eq_main");
				c.sound && $('<div class="sound eqf-music">').click(function() {
					L(c)
				}).appendTo(a), a.on("contextmenu", ".element-box", function(d) {
					function e(a, b) {
						$("#" + b).remove(), a.css({
							left: d.pageX + h.scrollLeft() + 15,
							top: d.pageY + h.scrollTop(),
							zIndex: 10001
						}).appendTo(h), h.mousemove(function(c) {
							a = $("#" + b), (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(), $(this).unbind("mousemove"))
						})
					}
					if (d.stopPropagation(), "none" != $(".select-panel").css("display")) return !1;
					if ($("#nr").find(".mask-trigger").length) {
						if (ca.currentElemDef && b.$broadcast("create.trigger.menu", a, d), !$(".edit_area").find(".switch-original").length) {
							var g = $('<div class="switch">');
							a.append(g).children(".bar").hide()
						}
						return !1
					}
					$("#comp_setting:visible").length > 0 && "p" != c.type && (ca.currentElemDef = c, b.$broadcast("showStylePanel"));
					var i = f();
					return e(i, "popMenu"), !1
				}), "p" != c.type && a.on("click", function(b) {
					if (b.stopPropagation(), !$("#nr").find(".mask-trigger").length) {
						if ("style" != ca.currentTab && ca.currentTab) {
							if ("anim" == ca.currentTab) S(c, function(a) {
								c.properties.anim = a
							});
							else if ("trigger" == ca.currentTab) {
								var d = utilTrigger.getHandleType();
								$.each(d, function(a, b) {
									k.getSendIds(b.value, c.id)
								}), T(c, function(a) {
									c.properties.trigger = a
								})
							}
						} else R(c, function(b) {
							if (1 == c.type) for (var d in c.properties.labels) b.backgroundColor && (c.properties.labels[d].color.backgroundColor = b.backgroundColor, $(".label_content").css("background-color", b.backgroundColor)), b.color && (c.properties.labels[d].color.color = b.color, $(".label_content").css("color", b.color));
							else $(".element-box", a).css(b), $.extend(!0, c.css, b)
						});
						return !1
					}
				}), a.attr("title", "按住鼠标进行拖动，点击鼠标进行编辑")
			}
		}), da.bindEditEvent("2", function(a, b) {
			X(a, b)
		}), da.bindEditEvent("x", function(a, b) {
			X(a, b)
		}), da.bindEditEvent("3", function(a, b) {}), da.bindEditEvent("v", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				N(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("4", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				return $("#nr").find(".mask-trigger").length ? !1 : (x(b), void $("#popMenu").hide())
			})
		}), da.bindEditEvent("n", function(a, b) {
			var c = $(".element", a)[0];
			$(c).bind("dblclick", function() {
				return $("#nr").find(".mask-trigger").length ? !1 : (P(b), void $("#popMenu").hide())
			})
		}), da.bindEditEvent("h", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				return $("#nr").find(".mask-trigger").length ? !1 : (y(b), void $("#popMenu").hide())
			})
		}), da.bindEditEvent("5", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				B(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("r", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				D(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("c", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				D(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("a", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				E(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("p", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				J(b), $("#popMenu").hide()
			}), i.setProperties(b.properties)
		}), da.bindEditEvent("6", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				z(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("8", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				A(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("l", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				H(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("s", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				I(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("i", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				F(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("d", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				G(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("7", function(a, b) {
			var d = $(".element", a)[0];
			d.addEventListener("click", function(a) {
				la || c.open({
					windowClass: "",
					templateUrl: "scene/console/map.tpl.html",
					controller: "MapConsoleCtrl"
				}).result.then(function(a) {
					var c = new BMap.Map("map_" + b.id);
					c.clearOverlays();
					var d = new BMap.Point(a.lng, a.lat),
						e = new BMap.Marker(d);
					c.addOverlay(e);
					var f = new BMap.Label(a.address, {
						offset: new BMap.Size(20, -10)
					});
					e.setLabel(f), c.centerAndZoom(d, 12), b.properties.pointX = a.lng, b.properties.pointY = a.lat, b.properties.x = a.lng, b.properties.y = a.lat, b.properties.markTitle = a.address
				})
			})
		}), da.bindEditEvent("m", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				C(b), $("#popMenu").hide()
			})
		}), da.bindEditEvent("w", function(a, b) {
			var c = $(".element", a)[0];
			$(c).unbind("dblclick"), $(c).bind("dblclick", function() {
				$("#popMenu").hide()
			})
		}), ca.templateEditor = da, ca.getTplById = function(b) {
			var c = "m/scene/select?id=" + b,
				d = new Date;
			return c += "&time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.getUserNum = function(b) {
			var c = {
				price: b.price
			},
				d = PREFIX_URL + "m/scene/comtemp/getFreeNumber",
				e = new Date;
			return d += "?time=" + e.getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(c)
			})
		}, ca.createByTpl = function(b) {
			var c = PREFIX_URL + "index.php?c=scene&a=createBySys";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, ca.getSceneDetail = function(b, c) {
			var d = "index.php?c=scene&a=detail&id=" + b;
			return c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c), Z = a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			}), Y = null, Z.then(function(a) {
				Y = a.data.obj
			}), Z
		}, ca.getCurrentScene = function() {
			return Y
		}, ca.getCurrentScenePromise = function() {
			return Z
		}, ca.saveSceneSettings = function(b) {
			b = angular.copy(b), angular.isObject(b.bgAudio) && (b.bgAudio = JSON.stringify(b.bgAudio)), b.image = null;
			var c = "index.php?c=scene&a=saveSettings";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(b)
			})
		}, ca.publishScene = function(b, c) {
			var d = "index.php?c=scene&a=publish&id=" + b;
			c && (d += (/\?/.test(d) ? "&" : "?") + "checkType=" + c);
			var e = new Date;
			return d += "&time=" + e.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.closeScene = function(b) {
			var c = "index.php?c=scene&a=off&id=" + b,
				d = new Date;
			return c += "&time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.openScene = function(b) {
			var c = "index.php?c=scene&a=on&id=" + b,
				d = new Date;
			return c += "&time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.createBlankScene = function(b, c, d) {
			var e = {
				name: b,
				type: c,
				pageMode: d
			},
				f = "index.php?c=scene&a=create";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + f,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(e)
			})
		}, ca.copySceneById = function(b) {
			var c = "index.php?c=scene&a=createByCopy&id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.deleteSceneById = function(b, c) {
			var d = "index.php?c=scene&a=delscene&id=" + b;
			return c && (d += "&backup=" + c), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.getCoverImages = function() {
			var b = "index.php?c=upfile&a=userList&bizType=99&fileType=1&time=" + (new Date).getTime();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}, ca.revoke = function(b) {
			var c = "m/scene/revoke?id=" + b + "&time=" + (new Date).getTime();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.getSceneByPage = function(b, c, e, f) {
			var g = "";
			c || e ? (g = "index.php?c=scene&a=createpage&id=" + b, e && (g += "&copy=true"), f && (g += "&longPage=" + f)) : g = "index.php?c=scene&a=design&id=" + b;
			var h = d.defer(),
				i = new Date;
			return g += (/\?/.test(g) ? "&" : "?") + "time=" + i.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + g
			}).then(function(a) {
				h.resolve(a), ea = a.data, ea.obj.elements || (ea.obj.elements = []), fa = ea.obj.elements;
				for (var b = 0; fa && b < fa.length; b++) ga[fa[b].id] = fa[b]
			}, function(a) {
				h.reject(a)
			}), h.promise
		}, ca.previewSceneTpl = function(b) {
			var c = "index.php?c=scene&a=syspageinfo&id=" + b,
				e = (d.defer(), new Date);
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + e.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.recentlyUsedTpls = function() {
			var b = "/m/scene/tpl/recently/used";
			return b += (/\?/.test(b) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + b
			})
		}, ca.recordTplUsage = function(b) {
			var c = "m/scene/usePageTpl?id=" + b;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c
			})
		}, ca.getSceneTpl = function(b) {
			var c = f.get("tplCache") ? f.get("tplCache") : f("tplCache"),
				e = d.defer();
			if (c.get(b)) {
				var g = $.extend(!0, {}, c.get(b));
				g.data.obj.scene && g.data.obj.scene.bgAudio && (Y.bgAudio = g.data.obj.scene.bgAudio);
				for (var h = 0; h < g.data.obj.elements.length; h++) {
					var i = g.data.obj.elements[h];
					i.id = s(), i.sceneId = ea.obj.sceneId, i.pageId = ea.obj.id
				}
				fa = g.data.obj.elements;
				for (var j = 0; j < fa.length; j++) ga[fa[j].id] = fa[j];
				e.resolve(g)
			} else {
				var k = "index.php?c=scene&a=syspageinfo&id=" + b,
					l = new Date;
				k += (/\?/.test(k) ? "&" : "?") + "time=" + l.getTime(), a({
					withCredentials: !0,
					method: "GET",
					url: PREFIX_URL + k
				}).then(function(a) {
					c.put(a.data.obj.id, $.extend(!0, {}, a)), a.data.obj.scene && a.data.obj.scene.bgAudio && (Y.bgAudio = a.data.obj.scene.bgAudio), a.data.obj.elements || (a.data.obj.elements = []);
					for (var b = 0; b < a.data.obj.elements.length; b++) {
						var d = a.data.obj.elements[b];
						d.id = s(), d.sceneId = ea.obj.sceneId, d.pageId = ea.obj.id
					}
					fa = a.data.obj.elements;
					for (var f = 0; f < fa.length; f++) ga[fa[f].id] = fa[f];
					e.resolve(a)
				}, function(a) {
					e.reject(a)
				})
			}
			return e.promise
		}, ca.saveScene = function(b) {
			var c = "index.php?c=scene&a=savepage";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(b)
			})
		}, ca.deletePage = function(b) {
			var c = "index.php?c=scene&a=delPage&id=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.getBgImages = function(b) {
			var c = "m/scene/gallery/" + b,
				d = new Date;
			return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			})
		}, ca.createCustomComp = ka, ca.openAudioModal = K, ca.openBgModal = O, ca.getElements = function() {
			return fa
		}, ca.getElementsMap = function() {
			return ga
		}, ca.deleteElement = n, ca.getSceneObj = function() {
			return ea
		}, ca.getTpls = function(b, c, d, e) {
			var f = "m/scene/listTpl";
			null != b && (f += (/\?/.test(f) ? "&" : "?") + "sceneType=" + b), f += (/\?/.test(f) ? "&" : "?") + "pageNo=" + (c ? c : 1), f += (/\?/.test(f) ? "&" : "?") + "pageSize=" + (d ? d : 12), e && (f += (/\?/.test(f) ? "&" : "?") + "orderBy=" + e);
			var g = new Date;
			return f += (/\?/.test(f) ? "&" : "?") + "time=" + g.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + f
			})
		}, ca.getCompanyTpls = function(b, c) {
			var d = "/m/scene/tpl/company/list?pageNo=" + b + "&pageSize=" + c;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.createCompanyTpls = function(b) {
			var c = "/m/scene/tpl/company/set?id=" + b;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c
			})
		}, ca.clearCompanyTpls = function(b) {
			var c = "/m/scene/tpl/company/unset?id=" + b;
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c
			})
		}, ca.getPageTpls = function(c, d, e, f, g, h, i, j, k) {
			var l = "index.php?c=scene&a=syslist",
				m = new Date;
			l += (/\?/.test(l) ? "&" : "?") + "time=" + m.getTime();
			var n = {
				tplType: 1,
				bizType: d,
				tagId: e,
				order: h,
				freeTplSetting: i,
				name: j,
				createUser: k,
				pageNo: f ? f : 1,
				pageSize: g ? g : 12
			};
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + l,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(n)
			}).then(function(a) {
				200 == a.data.code && (ca.scenes = a.data, b.$broadcast("getSampleList"))
			})
		}, ca.getPageTplTypesTwo = function(b, c) {
			var d = "index.php?c=upfile&a=systag&type=2&bizType=" + c,
				e = new Date;
			return d += (/\?/.test(d) ? "&" : "?") + "time=" + e.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.saveMyTpl = function(b) {
			var c = "index.php?c=user&a=saveMyTpl";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(b)
			})
		}, ca.saveCompanyTpl = function(b) {
			var c = "m/scene/page/companytpl/save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: PREFIX_URL + c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(b)
			})
		}, ca.previewScene = function(b) {
			var c = "index.php?c=user&a=getMyTpl&id=" + b,
				e = new Date;
			c += (/\?/.test(c) ? "&" : "?") + "time=" + e.getTime();
			var g = d.defer();
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + c
			}).then(function(a) {
				for (var b = f.get("tplCache") ? f.get("tplCache") : f("tplCache"), c = 0; c < a.data.list.length; c++) {
					var d = {
						data: {
							obj: {
								elements: a.data.list[c].elements,
								scene: a.data.obj
							}
						}
					};
					b.put(a.data.list[c].id, $.extend(!0, {}, d))
				}
				g.resolve(a)
			}), g.promise
		}, ca.transferScene = function(b, c) {
			var d = PREFIX_URL + "index.php?c=scene&a=transfer";
			return d += "&loginName=" + c, d += "&id=" + b, d += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: d
			})
		}, ca.getActivities = function() {
			var b = PREFIX_S1_URL + "index.php?c=eqs&a=activity&all=1";
			return a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, ca.getSceneTemplatePrices = function() {
			var b = PREFIX_URL + "index.php?c=statics&a=scene_template_prices";
			return a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, ca.soundLink = function(b, c) {
			var d = "index.php?c=upfile&a=savewl&url=" + b + "&fileType=" + c,
				e = new Date;
			return d += "&time=" + e.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + d
			})
		}, ca.comPosition = {
			top: 0
		}, ca
	}]), angular.module("services.select", []).factory("selectService", ["$rootScope", function(a) {
		var b = {},
			c = [];
		return b.addElement = function(b) {
			b += "", c.indexOf(b) >= 0 || (c.push(b), c.length > 1 && a.$broadcast("select.more"))
		}, b.deleteElement = function(b) {
			a.$broadcast("select.less.id", b);
			var d = c.indexOf(b + "");
			0 > d || (c.splice(d, 1), 0 === c.length && a.$broadcast("close.style.panel"), c.length <= 1 && a.$broadcast("select.less"))
		}, b.clearElements = function() {
			a.$broadcast("select.less", c), c = []
		}, b.getElements = function() {
			return c
		}, b
	}]), angular.module("services.spread", ["services.scene"]), angular.module("services.spread").factory("SpreadService", ["$http", "sceneService", "$rootScope", function(a, b, c) {
		var d = {},
			e = function(a) {
				var b = new Date;
				return b.setDate(b.getDate() + a), b.setHours(0), b.setMinutes(0), b.setSeconds(0), b.setMilliseconds(0), b.getTime()
			};
		d.getDataBySceneId = function(b, c, d, e, f, g, h) {
			var i = "index.php?c=Stat&id=" + b;
			g && (i += (/\?/.test(i) ? "&" : "?") + "user=" + g), h && (i += (/\?/.test(i) ? "&" : "?") + "extId=" + h), c && (i += "&startDate=" + c), d && (i += "&endDate=" + d), e && (i += "&pageSize=" + e), f && (i += "&pageNo=" + f);
			var j = new Date;
			return i += "&time=" + j.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + i
			})
		}, d.getDevicePv = function(b, d) {
			var e = "m/scene/pv/device?id=" + b + "&type=" + d,
				f = new Date;
			return e += "&time=" + f.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + e
			}).then(function(a) {
				a.data.success ? c.$broadcast("scene.device", a.data.obj, b) : c.$broadcast("scene.device", null, b)
			})
		}, d.queryRegion = function(b, d) {
			var e = PREFIX_URL + "m/scene/pv/region?id=" + b + "&type=" + d,
				f = {
					id: b,
					type: d
				},
				g = new Date;
			return e += "&time=" + g.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: e,
				data: $.param(f)
			}).then(function(a) {
				a.data.success ? c.$broadcast("region.update", a.data.obj) : c.$broadcast("region.update")
			})
		}, d.getActivities = function() {
			var b = new Date;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + "m/u/promotion/list?type=pc&time=" + b.getTime()
			})
		}, d.getActivityDetail = function(b) {
			var c = new Date;
			return a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + "m/u/promotion?code=" + b + "&time=" + c.getTime()
			})
		}, d.updateName = function(b) {
			var c = PREFIX_URL + "m/scene/expand/save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		};
		c.branchid;
		return d.getSceneDetail = function(a, d) {
			b.getSceneDetail(a, d).then(function(a) {
				c.$broadcast("scene.detail", a.data.obj, d)
			}, function() {})
		}, d.getSceneData = function(a, b, f, g, h) {
			var i = e(b),
				j = e(f),
				k = f - b;
			d.getDataBySceneId(a, i, j, k, 0, g, h).then(function(b) {
				c.$broadcast("scene.data", b.data.list, a, i, j, g)
			}, function() {})
		}, d.expandWebs = [], d.getWebList = function(b, e, f) {
			var g = "m/scene/expand/list";
			b && (g += (/\?/.test(g) ? "&" : "?") + "id=" + b), f && (g += (/\?/.test(g) ? "&" : "?") + "user=" + f), g += (/\?/.test(g) ? "&" : "?") + "showPv=" + e, g += (/\?/.test(g) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + g
			}).then(function(a) {
				a.data.success && (d.expandWebs = a.data.list, c.$broadcast("webs.update"))
			}, function(a) {})
		}, d.deleteWeb = function(b) {
			var e = PREFIX_URL + "m/scene/expand/delete";
			a({
				withCredentials: !0,
				method: "POST",
				url: e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			}).then(function(a) {
				a.data.success && (d.expandWebs.splice(b.index, 1), c.$broadcast("webs.update"))
			}, function(a) {})
		}, d.getShareWayList = function(b) {
			var d = PREFIX_URL + "m/scene/social/share/status?id=" + b;
			a({
				withCredentials: !0,
				method: "GET",
				url: d
			}).then(function(a) {
				a.data.success && c.$broadcast("shareway.update", a.data.list)
			})
		}, d.activeShareWay = function(b, d) {
			var e = PREFIX_URL + "m/scene/share?sceneId=" + b + "&type=" + d;
			a({
				withCredentials: !0,
				method: "POST",
				url: e,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			}).then(function(a) {
				a.data.success && c.$broadcast("active.shareway", d)
			})
		}, d.applyShareWay = function(b, d, e) {
			var f = PREFIX_URL + "m/scene/share/setting/save";
			b && (f += (/\?/.test(f) ? "&" : "?") + "id=" + b), d && (f += (/\?/.test(f) ? "&" : "?") + "type=" + d), e && (f += (/\?/.test(f) ? "&" : "?") + "value=" + e), a({
				withCredentials: !0,
				method: "POST",
				url: f,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			}).then(function(a) {
				a.data.success && c.$broadcast("apply.scene.share", a.data)
			})
		}, d
	}]), angular.module("services.staticRes", []), angular.module("services.staticRes").factory("staticResService", ["$http",function(z) {
		var a = {},
			b = [{
				name: "行业",
				value: "101"
			}, {
				name: "个人",
				value: "102"
			}, {
				name: "企业",
				value: "103"
			}, {
				name: "节假",
				value: "104"
			}, {
				name: "风格",
				value: "105"
			}, {
				name: "品牌",
				value: "106"
			}];
		a.getSceneTypea = function() {
			var a = "index.php?c=statics&a=typelistb";
			return z({
				withCredentials: !0,
				method: "GET",
				url: PREFIX_URL + a
		})};
		a.getSceneType = function() {
			a.getSceneTypea().success(function(a) {
				b = a.list;
			})
			return b;
		};
		var c = [{
			name: "版式",
			value: "1101"
		}, {
			name: "风格",
			value: "1103"
		}, {
			name: "互动",
			value: "1102"
		}];
		a.getBigTab = function() {
			return c
		};
		var d = {
			1101: [{
				id: 1,
				name: "图文",
				bizType: 1101
			}, {
				id: 2,
				name: "图集",
				bizType: 1101
			}, {
				id: 4,
				name: "文字",
				bizType: 1101
			}, {
				id: 5,
				name: "图表",
				bizType: 1101
			}],
			1102: [{
				id: 6,
				name: "报名表",
				bizType: 1102
			}, {
				id: 8,
				name: "留言",
				bizType: 1102
			}, {
				id: 9,
				name: "联系",
				bizType: 1102
			}],
			1103: [{
				id: 15,
				name: "黑白",
				bizType: 1103
			}, {
				id: 16,
				name: "红色",
				bizType: 1103
			}, {
				id: 17,
				name: "怀旧",
				bizType: 1103
			}, {
				id: 18,
				name: "现代",
				bizType: 1103
			}, {
				id: 19,
				name: "扁平化",
				bizType: 1103
			}, {
				id: 120,
				name: "黄色",
				bizType: 1103
			}, {
				id: 121,
				name: "绿色",
				bizType: 1103
			}, {
				id: 122,
				name: "紫色",
				bizType: 1103
			}, {
				id: 123,
				name: "黑色",
				bizType: 1103
			}, {
				id: 124,
				name: "白色",
				bizType: 1103
			}, {
				id: 125,
				name: "其他",
				bizType: 1103
			}, {
				id: 260,
				name: "English",
				bizType: 1103
			}, {
				id: 262,
				name: "Android",
				bizType: 1103
			}]
		};
		a.getPageTpls = function(a) {
			return a ? d[a] : d[1101].concat(d[1102]).concat(d[1103])
		};
		var e = [{
			id: 13076,
			name: "风格",
			value: "203",
			remark: "group1/M00/61/89/yq0KA1T2vXqAH3MxAAAdfvrWmmM009.png"
		}, {
			id: 13078,
			name: "节日",
			value: "205",
			remark: "group1/M00/61/89/yq0KA1T2vXqAGI-4AAAWKIt1ceE158.png"
		}, {
			id: 13075,
			name: "企业",
			value: "202",
			remark: "group1/M00/61/89/yq0KA1T2vXqAdp7RAAAOCH36lkY788.png"
		}, {
			id: 13074,
			name: "行业",
			value: "201",
			remark: "group1/M00/61/89/yq0KA1T2vXqARMyQAAASI6ZG0zM493.png"
		}, {
			id: 13077,
			name: "个人",
			value: "204",
			remark: "group1/M00/61/89/yq0KA1T2vXqAIorQAAAVuqdCoU4830.png"
		}, {
			id: 15162,
			name: "正版授权",
			value: "206",
			remark: null
		}];
		a.getBgTypes = function() {
			return e
		};
		var f = [{
			id: 13084,
			name: "图标",
			value: "106",
			remark: "group1/M00/61/89/yq0KA1T2vXqAOVqkAAAX-MAtU0A633.png"
		}, {
			id: 13085,
			name: "动画",
			value: "107",
			remark: "group1/M00/61/89/yq0KA1T2vXqANcAcAAATIr_b2OM515.png"
		}, {
			id: 13083,
			name: "节日",
			value: "105",
			remark: "group1/M00/61/89/yq0KA1T2vXqAGI-4AAAWKIt1ceE158.png"
		}, {
			id: 13081,
			name: "风格",
			value: "103",
			remark: "group1/M00/61/89/yq0KA1T2vXqAH3MxAAAdfvrWmmM009.png"
		}, {
			id: 13080,
			name: "企业",
			value: "102",
			remark: "group1/M00/61/89/yq0KA1T2vXqAdp7RAAAOCH36lkY788.png"
		}, {
			id: 13079,
			name: "行业",
			value: "101",
			remark: "group1/M00/61/89/yq0KA1T2vXqARMyQAAASI6ZG0zM493.png"
		}, {
			id: 13082,
			name: "个人",
			value: "104",
			remark: "group1/M00/61/89/yq0KA1T2vXqAIorQAAAVuqdCoU4830.png"
		}, {
			id: 15161,
			name: "正版授权",
			value: "109",
			remark: null
		}];
		a.getTpTypes = function() {
			return f
		};
		var g = [];
		a.getAudioTypes = function() {
			return g
		};
		var h = [{
			id: 29331,
			name: "交通",
			value: "2"
		}, {
			id: 48376,
			name: "人物",
			value: "3"
		}, {
			id: 48377,
			name: "生活",
			value: "4"
		}, {
			id: 48378,
			name: "自然",
			value: "5"
		}, {
			id: 48379,
			name: "动物",
			value: "6"
		}, {
			id: 48380,
			name: "科技",
			value: "7"
		}, {
			id: 48381,
			name: "卡通",
			value: "8"
		}, {
			id: 48382,
			name: "其它",
			value: "9"
		}];
		return a.getSoundTypes = function() {
			return h
		}, a
	}]), angular.module("services.dataCache").factory("storageService", [function() {
		var a = {};
		return a.clear = function() {
			window.localStorage && localStorage.clear()
		}, a.push = function(a, b) {
			window.localStorage && localStorage.setItem(a, b)
		}, a.get = function(a) {
			return window.localStorage ? localStorage.getItem(a) : void 0
		}, a
	}]), angular.module("services.file.upload", ["angularFileUpload", "services.file"]).factory("uploaderService", ["$rootScope", "$http", "$interval", "FileUploader", "fileService", function(a, b, c, d, e) {
		var f, g = {};
		return g.uploader = function(b, e, g) {
			var h = g || 6;
			(2 == b || 4 == b) && (f = PREFIX_URL + "index.php?c=upfile&a=upload&bizType=0&fileType=" + b);
			var i, j = new d({
				url: f,
				withCredentials: !0,
				queueLimit: h,
				onAfterAddingAll: function(b) {
					a.$broadcast("uploadfiles.add"), j.uploadAll()
				},
				onSuccessItem: function(d, e, f, g) {
					function h() {
						c.cancel(i)
					}
					var i = c(function() {
						var c = null;
						d.progress >= 100 && (c = 4 == b ? {
							id: e.obj.id,
							src: e.obj.path,
							name: e.obj.name,
							size: e.obj.size
						} : 2 == b ? {
							id: e.obj.id,
							url: e.obj.path,
							name: e.obj.name,
							size: e.obj.size
						} : {
							tmbPath: e.obj.tmbPath,
							id: e.obj.id,
							path: e.obj.path,
							name: e.obj.name
						}, a.$broadcast("thumbnailList.update", c), h())
					}, 100)
				}
			}),
				k = e || 3145728;
			return "0" == b || "1" == b ? i = "|jpg|png|jpeg|bmp|gif|svg+xml|webp|" : "4" == b || "2" == b ? i = "|wav|mp3|mpeg|" : "8" == b && (i = "|msword|vnd.openxmlformats-officedocument.wordprocessingml.document|"), j.filters.push({
				name: "imageFilter",
				fn: function(a, b) {
					var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
					return -1 !== i.indexOf(c)
				}
			}), j.filters.push({
				name: "imageSizeFilter",
				fn: function(a, b) {
					var c = a.size;
					return c >= k && alert("上传文件大小限制在" + k / 1024 / 1024 + "M以内"), k > c
				}
			}), j.filters.push({
				name: "fileNameFilter",
				fn: function(a, b) {
					return a.name.length > 50 && alert("文件名应限制在50字符以内"), a.name.length <= 50
				}
			}), j
		}, g
	}]), angular.module("services.usercenter", ["services.i18nNotifications"]).factory("usercenterService", ["$http", "$rootScope", function(a, b) {
		var c = {};
		return c.getUserInfo = function() {
			var b = PREFIX_URL + "index.php?c=user&a=check";
			return b += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getPhoneMessageTime = function() {
			var b = PREFIX_URL + "m/scene/remind/sms/time";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getCompanyScale = function() {
			var b = PREFIX_URL + "/base/class/company_scale";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getCompanyIndustry = function() {
			var b = PREFIX_URL + "/base/class/company_industry";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getCompanyInfo = function() {
			var b = PREFIX_URL + "index.php?c=company&a=info";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.saveCompanyInfo = function(b) {
			var c = PREFIX_URL + "m/u/company/save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.saveUserInfo = function(b) {
			var c = PREFIX_URL + "index.php?c=user&a=save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.phoneMessage = function() {
			var b = PREFIX_URL + "m/scene/buy/remind/sms";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getUserXd = function() {
			var b = PREFIX_URL + "index.php?c=user&a=xd";
			return b += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getgiveXd = function(b) {
			var c = PREFIX_URL + "index.php?c=user&a=giveXd";
			return c += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: c,
				data: $.param(b),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.getUserInvoice = function() {
			var b = PREFIX_URL + "m/order/user/invoice";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.saveUserInvoice = function(b) {
			var c = PREFIX_URL + "m/order/user/save/invoice";
			return c += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(b)
			})
		}, c.saveOrderInvoice = function(b) {
			var c = PREFIX_URL + "m/order/invoice/save";
			return c += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: c,
				data: $.param(b),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.getXdlog = function(b, c, d) {
			var e = PREFIX_URL + "index.php?c=user&a=xdlog&pageNo=" + c + "&pageSize=" + d;
			return e += "?time=" + (new Date).getTime(), b && (e += (/\?/.test(e) ? "&" : "?") + "type=" + b), e += (/\?/.test(e) ? "&" : "?") + "pageNo=" + c, e += (/\?/.test(e) ? "&" : "?") + "pageSize=" + d, a({
				withCredentials: !0,
				method: "POST",
				url: e
			})
		}, c.getXdStat = function() {
			var b = PREFIX_URL + "index.php?c=user&a=XdStat";
			return b += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.relAccount = function(b, c, d, e) {
			var f = PREFIX_URL + "m/u/bind/email?loginName=" + c + "&loginPassword=" + d;
			return e && (f += "&register=1"), f += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: f,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.relEmail = function(b, c, d) {
			var e = {
				email: b,
				pass: c,
				resend: d
			},
				f = PREFIX_URL + "index.php?c=user&a=email";
			return a({
				withCredentials: !0,
				method: "POST",
				url: f,
				data: $.param(e),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c.verifyEmail = function() {
			var b = PREFIX_URL + "index.php?c=usercenter&a=verify";
			return a({
				withCredentials: !0,
				method: "GET",
				url: b,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.relMobile = function(b, c, d) {
			var e = PREFIX_URL + "/m/u/phone/verify?phone=" + b + "&pass=" + c + "&code=" + d;
			return e += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: e,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.relMobileCode = function(b, c) {
			var d = PREFIX_URL + "m/u/bind/user/phone?phone=" + b;
			return c && (d += "&type=" + c), d += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: d,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.companyMobile = function(b) {
			var c = PREFIX_URL + "m/u/company/smscode/send?phone=" + b;
			return c += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.setRead = function(b) {
			var c = PREFIX_URL + "index.php?c=user&a=markRead&ids=" + b;
			return c += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.getNewMessage = function(b, c, d, e) {
			var f = PREFIX_URL + "index.php?c=statics&a=msgList&pageNo=" + b + "&pageSize=" + c;
			return d && (f += "&unread=" + d), e && (f += "&system=" + e), f += "&time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: f
			})
		}, c.getBranches = function(b, c) {
			var d = PREFIX_URL + "index.php?c=ad&a=subList";
			return b && (d += (/\?/.test(d) ? "&" : "?") + "pageSize=" + b), c && (d += (/\?/.test(d) ? "&" : "?") + "pageNo=" + c), d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: d
			})
		}, c.getDepts = function() {
			var b = PREFIX_URL + "m/u/tag/list";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.addDept = function(b) {
			var c = PREFIX_URL + "m/u/tag/create";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.updateBranch = function(b) {
			var c = PREFIX_URL + "m/u/sub/save";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.createBranch = function(b) {
			var c = PREFIX_URL + "m/u/sub/create";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.openBranch = function(b, c) {
			var d = PREFIX_URL;
			return d += c ? "m/u/sub/turnOn?id=" + b : "m/u/sub/turnOff?id=" + b, a({
				withCredentials: !0,
				method: "POST",
				url: d,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				}
			})
		}, c.getDomain = function() {
			var b = PREFIX_URL + "m/u/domain";
			return b += "?time=" + (new Date).getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.bindDomain = function(b) {
			var c = PREFIX_URL + "m/u/domain/bind";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.resetBranchPass = function(c) {
			var d = PREFIX_URL + "m/u/sub/pwd/reset",
				e = {
					id: c
				};
			a({
				withCredentials: !0,
				method: "POST",
				url: d,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(e)
			}).then(function(a) {
				a.data.success && b.$broadcast("reset.branch.success")
			}, function() {})
		}, c.saveApplyInfo = function(b) {
			var c = PREFIX_URL + "m/u/showker/apply";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.resetApplyInfo = function(b) {
			var c = PREFIX_URL + "m/u/showker/apply";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.getVisitorMsg = function() {
			var b = PREFIX_URL + "m/u/showker/detail",
				c = new Date;
			return b += "?time=" + c.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getAPPlyMessage = function(b) {
			var c = PREFIX_S2_URL + "showker/tag?type=" + b;
			return a({
				method: "GET",
				url: c
			})
		}, c.getUserScene = function() {
			var b = PREFIX_URL + "m/u/scene/list",
				c = new Date;
			return b += "?time=" + c.getTime(), a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getUserStatus = function() {
			var b = PREFIX_URL + "m/u/showker/status";
			return a({
				withCredentials: !0,
				method: "GET",
				url: b
			})
		}, c.getCompanyQrCode = function(b, c, d) {
			var e = PREFIX_URL + "m/u/pay/member/url?goodsId=" + b + "&type=" + c;
			return d && (e += "&amount=" + d), a({
				withCredentials: !0,
				method: "GET",
				url: e
			})
		}, c.getUserMemberDetail = function(b) {
			var c = PREFIX_URL + "/m/u/member/detail?userId=" + b;
			return a({
				withCredentials: !0,
				method: "GET",
				url: c
			})
		}, c.getPayXdQrCode = function(b, c) {
			var d = PREFIX_URL + "m/u/pay/xd/url?goodsId=" + b + "&type=" + c;
			return a({
				withCredentials: !0,
				method: "GET",
				url: d
			})
		}, c.sendEmail = function(b) {
			var c = PREFIX_URL + "m/u/invite/user/email";
			return a({
				withCredentials: !0,
				method: "POST",
				url: c,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(b)
			})
		}, c.getInvoiceList = function(c, d) {
			var e = PREFIX_URL + "m/order/can/invoice/list";
			d && (e += (/\?/.test(e) ? "&" : "?") + "pageSize=" + d), c && (e += (/\?/.test(e) ? "&" : "?") + "pageNo=" + c), a({
				withCredentials: !0,
				method: "GET",
				url: e
			}).then(function(a) {
				a.data.success && b.$broadcast("get.invoice.list", a.data)
			})
		}, c.relForum = function(b, c, d) {
			var e = PREFIX_URL + "/m/u/bind/user/bbs",
				f = {
					userName: b,
					passWord: c,
					eqXiuPassWord: d
				};
			return a({
				withCredentials: !0,
				method: "POST",
				url: e,
				data: $.param(f),
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}, c
	}]), angular.module("templates-app", ["about.tpl.html", "active/active.tpl.html", "active/tab/active1.tpl.html", "data/edit/canedit.tpl.html", "data/edit/canread.tpl.html", "data/editData.tpl.html", "dialog/bindemail.tpl.html", "dialog/confirm.tpl.html", "dialog/message.tpl.html", "error.tpl.html", "error/error.tpl.html", "footer.tpl.html", "header.tpl.html", "help.tpl.html", "home/home.tpl.html", "main/console/group.tpl.html", "main/console/transferscene.tpl.html", "main/customer.tpl.html", "main/downApp.tpl.html", "main/main.tpl.html", "main/mobileTansform.tpl.html", "main/newVersionFrame.tpl.html", "main/print/create.tpl.html", "main/print/dialog/applyTpl.tpl.html", "main/print/dialog/define.tpl.html", "main/print/dialog/saveToH5.tpl.html", "main/print/dialog/transferPrint.tpl.html", "main/print/print.tpl.html", "main/print/tab/hotZone.tpl.html", "main/print/tab/mine.tpl.html", "main/print/tab/template.tpl.html", "main/recSceneList.tpl.html", "main/squareSceneList.tpl.html", "main/upgradeGuide.tpl.html", "main/userGuide.tpl.html", "my/myscene.tpl.html", "my/upload.tpl.html", "notifications.tpl.html", "reg/agreement.tpl.html", "reg/reg.tpl.html", "scene/console.tpl.html", "scene/console/angle-knob.tpl.html", "scene/console/anim.tpl.html", "scene/console/bg.tpl.html", "scene/console/button.tpl.html", "scene/console/category.tpl.html", "scene/console/counter.tpl.html", "scene/console/cropimage.tpl.html", "scene/console/customActivities.tpl.html", "scene/console/fake.tpl.html", "scene/console/imageCrop.tpl.html", "scene/console/input.tpl.html", "scene/console/link-component.tpl.html", "scene/console/link.tpl.html", "scene/console/map.tpl.html", "scene/console/microweb.tpl.html", "scene/console/pictures.tpl.html", "scene/console/pictures1.tpl.html", "scene/console/radio-checkbox.tpl.html", "scene/console/randomevent.tpl.html", "scene/console/rating.tpl.html", "scene/console/scene-setting-component.tpl.html", "scene/console/setting.tpl.html", "scene/console/shape.tpl.html", "scene/console/sound-component.tpl.html", "scene/console/sound.tpl.html", "scene/console/soundCrop.tpl.html", "scene/console/soundCropPanel.tpl.html", "scene/console/soundLink.tpl.html", "scene/console/statistics-component.tpl.html", "scene/console/style.tpl.html", "scene/console/tel.tpl.html", "scene/console/trigger.tpl.html", "scene/console/triggerelemlist.tpl.html", "scene/console/video.tpl.html", "scene/create.tpl.html", "scene/createNew.tpl.html", "scene/createUserGuide.tpl.html", "scene/edit/editbg/editbg.tpl.html", "scene/edit/select/select.tpl.html", "scene/effect/falling.tpl.html", "scene/effect/snowfly.tpl.html", "scene/newLongPage.tpl.html", "scene/page/page-tpl.tpl.html", "scene/pageeffect/fall.tpl.html", "scene/pageeffect/finger.tpl.html", "scene/pageeffect/fireworks.tpl.html", "scene/pageeffect/money.tpl.html", "scene/pageeffect/none.tpl.html", "scene/pageeffect/pageeffect.tpl.html", "scene/pageeffect/scratch.tpl.html", "scene/pageeffect/snow.tpl.html", "scene/preview.tpl.html", "scene/saveTemplate.tpl.html", "scene/scene.tpl.html", "scene/support/support.tpl.html", "scene/tplOption.tpl.html", "scene/userGuide.tpl.html", "show/active/active-xq.tpl.html", "show/active/active.tpl.html", "show/category/category.tpl.html", "show/category/nav.tpl.html", "show/index.tpl.html", "show/recommend/recommend.tpl.html", "show/search/search.tpl.html", "show/visitor/visitor-xq.tpl.html", "show/visitor/visitor.tpl.html", "spread/console/apply.tpl.html", "spread/spread.tpl.html", "spread/tab/data-collect.tpl.html", "spread/tab/share.tpl.html", "spread/tab/statistics.tpl.html", "spread/tab/subtab/buy-message.tpl.html", "spread/tab/subtab/check-scene.tpl.html", "spread/tab/subtab/domain-bind.tpl.html", "spread/tab/subtab/expand-web.tpl.html", "spread/tab/subtab/message-customer.tpl.html", "spread/tab/subtab/message-detail.tpl.html", "spread/tab/subtab/message-post.tpl.html", "spread/tab/subtab/site-import.tpl.html", "spread/tab/subtab/social-share.tpl.html", "sysmessage.tpl.html", "usercenter/buyXd.tpl.html", "usercenter/console/branch.tpl.html", "usercenter/console/checkMobile.tpl.html", "usercenter/console/companyinfo.tpl.html", "usercenter/console/email_fail.tpl.html", "usercenter/console/email_succeed.tpl.html", "usercenter/console/invitation.tpl.html", "usercenter/console/invoice-list.tpl.html", "usercenter/console/invoice.tpl.html", "usercenter/console/register.tpl.html", "usercenter/console/relAccount.tpl.html", "usercenter/console/relEmail.tpl.html", "usercenter/console/relForum.tpl.html", "usercenter/console/resetbranchpass.tpl.html", "usercenter/console/serverinfo.tpl.html", "usercenter/console/upgrade_company.tpl.html", "usercenter/message.tpl.html", "usercenter/payment.tpl.html", "usercenter/paymentxd.tpl.html", "usercenter/request_reg.tpl.html", "usercenter/tab/account.tpl.html", "usercenter/tab/children.tpl.html", "usercenter/tab/domain.tpl.html", "usercenter/tab/member.tpl.html", "usercenter/tab/message.tpl.html", "usercenter/tab/privilege.tpl.html", "usercenter/tab/reset.tpl.html", "usercenter/tab/trash.tpl.html", "usercenter/transfer.tpl.html", "usercenter/upgrade.tpl.html", "usercenter/upgradeTip.tpl.html", "usercenter/userCenterGuid.tpl.html", "usercenter/usercenter.tpl.html"]), angular.module("about.tpl.html", []).run(["$templateCache", function(a) {
		a.put("about.tpl.html", '<div id=home class=about-contain><header style=background-color:#fff;width:100%;height:60px><div class="we_nav content_center same-content"><div class=link_list><ul class=clearfix><li><a target=_blank href=#/show/visitor>场景定制</a></li><li><a target=_blank href=#/show>秀场中心</a></li><li><a href=#/privilege>会员特权</a></li><li ng-hide=isAuthenticated()><a ng-click=openLogin()>登录</a></li><li ng-hide=isAuthenticated() class=""><a ng-click=openRegister() id=registerFormBtn>注册</a></li><li ng-show=isAuthenticated()><a href=#/main>进入</a></li></ul></div><div id=logo><em class=eqf-love></em></div></div></header><div class="content_center about-main"><div class="about-eqx box-shadow about-bg shuoming"><h1>关于易企秀</h1><p>“易企秀”成立于2014年7月，隶属于 “北京中网易企秀科技有限公司”。 “易企秀”致力于成为中小企业社会化自营销服务平台，提供基于场景的自营销闭环服务，方便中小企业制作展示场景、数据收集、二次营销。</p><p>“易企秀”团队秉持互联网精神，坚持以用户为中心，以产品为核心，共邀广大中小企业一起投身互联网大潮。</p><p>客服咨询：vip#eqxiu.com (联系请#改成@)；<br>客服电话：010-58813666；<br>商务合作：BD#eqxiu.com (联系请#改成@)；<br>公司地址：北京市海淀区中关村南四街紫金数码四号楼201</p></div><div class="box-shadow about-bg product about-eqx clearfix"><h1>易企秀的产品</h1><div class="list pro-one"><div class=product-img><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/item.svg></div><p>场景制作营销工具：是一款针对移动互联网营销的手机幻灯片、H5场景应用制作工具，将原来只能在PC端制作和展示的各类复杂营销方案转移到更为便携和展示的手机上，用户随时随地根据自己的需要在PC端、手机端进行制作和展示，随时随地营销。</p></div><div class=list><div class="product-img pro-two"><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/item2.svg></div><p>轻设计在线设计工具：是一款针对传单、图片设计的轻型设计工具，方便不懂photoshop制图的企业营销人员设计出精美的企业宣传图片。</p></div></div><div class="box-shadow about-bg about-eqx meiti-content clearfix"><h1>媒体报道</h1><div class=meiti><div class="meiti-list clearfix"><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/pic1.svg width=120px height="88px"><div class=meiti-jieshao><h2>猎云网</h2><p>易企秀：免费移动场景应用，并提供移动端客户管理</p><p><a href=http://www.lieyunwang.com/archives/63304 target=_blank>http://www.lieyunwang.com/archives/63304</a></p></div></div><div class="meiti-list clearfix"><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/pic3.svg width=120px height="88px"><div class=meiti-jieshao><h2>搜狐焦点</h2><p>易企秀成为搜狐焦点家居微场景类产品合作伙伴</p><p><a href=http://home.focus.cn/newshtml/426979.html target=_bkank>http://home.focus.cn/newshtml/426979.html</a></p></div></div></div><div class="meiti line"><div class="meiti-list clearfix"><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/pic2.svg width=120px height="88px"><div class=meiti-jieshao><h2>光明网</h2><p>光明日报采用易企秀报道两会</p><p><a href=http://epaper.gmw.cn/gmrb/html/2015-03/04/nw.D110000gmrb_20150304_3-04.htm target=_blank>http://epaper.gmw.cn/gmrb/html/2015-03/04/nw.D110000gmrb_20150304_3-04.htm</a></p></div></div><div class="meiti-list clearfix"><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/pic4.svg width=120px height="88px"><div class=meiti-jieshao><h2>企业网D1Net</h2><p>VC的钱都砸到哪里去了：云计算云存储大数据安全</p><p><a href=http://www.d1net.com/bigdata/news/294287.html target=_blank>http://www.d1net.com/bigdata/news/294287.html</a></p></div></div></div><div class=more><a href="http://news.baidu.com/ns?word=易企秀" target=_blank>查看更多新闻</a></div></div><div class="about-eqx box-shadow about-bg clearfix fuli"><h1>公司福利</h1><div class=fuli-slide><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/1.svg> <span>餐补、交通补、电脑补贴</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/3.svg> <span>丰厚的过节费(元旦/春节/五一/中秋/国庆/元宵/端午/三八)</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/5.svg> <span>全年健身游泳卡（高档健身会所）</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/7.svg> <span>年度体检</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/9.svg> <span>优秀员工无息贷款买房买车</span></div></div><div class="fuli-slide line"><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/2.svg> <span>七险一金（补充医疗保险和意外保险）</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/4.svg> <span>年度春游、秋游（可带家属）、优秀员工境外游</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/6.svg> <span>员工集体生日会（抽奖环节100%中奖）</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/8.svg> <span>优秀员工出国游</span></div><div class=fuli-list><img ng-src={{CLIENT_CDN}}assets/images/aboutfont/10.svg> <span>免费水果零食饮料无限供应.......</span></div></div><div class=more><a href=http://www.lagou.com/gongsi/93527.html target=_blank>马上加入我们</a></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("active/active.tpl.html", []).run(["$templateCache", function(a) {
		a.put("active/active.tpl.html", "<div id=activeTwo><div ng-include=\"'active/tab/active1.tpl.html'\"></div></div>")
	}]), angular.module("active/tab/active1.tpl.html", []).run(["$templateCache", function(a) {
		a.put("active/tab/active1.tpl.html", '<div class=active-banner><img ng-src="{{CLIENT_CDN}}assets/images/active/visitor_02.png"></div><div class=active-list><div class=active-bg><div class=active-con><h2 class=text-center>易企秀<span class=big-color>2亿</span>资源，扶持万名<span class=big-color>秀客</span>创业</h2><div class=clearfix><img class="fl pr20" ng-src="{{CLIENT_CDN}}assets/images/active/people_03.png"><div class=xiuke><h6>秀客</h6><p>指能为他人提供场景定制的设计师个人以及广告、公关、营销、媒介、代理制作等服务商。<br>易企秀作为H5行业的领导品牌，积极响应国家“大众创业、万众创新”号召。投入2亿元资源，1年扶持<span class=big-color>10000</span>名秀客创业，年收入<span class=big-color>10万元</span>以上。</p></div></div></div><div class=active-con><h2 class=text-center>加入<span class=big-color>“万名秀客扶持计划”</span>你将获得</h2><div class="clearfix join-jiang"><p class=fl style=margin-right:40px><span class="action fl">1</span>全新改版的易企秀H5场景制作和营销平台的使用；</p><p class=fl><span class="action fl">2</span>每个订单下发200秀点，用于去除易企秀场景首尾页标识；</p><p class=fl style=margin-right:40px><span class="action fl">3</span>升级开通服务商账号，享受秀客账号特有使用权限；</p><p class=fl><span class="action fl">4</span>官方平台的推荐和展示以及官方推荐场景定制业务；</p><p class=fl><span class="action fl">5</span>应急审核服务：客户定制场景被审核关闭后的应急审核通道。<a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13228" target=_blank>(查看详情)</a></p></div></div><div class=active-con><h2 class=text-center><span class=big-color>审核流程</span></h2><div class="clearfix join-jiang"><p class=fl style=margin-right:20px><span class="action fl">1</span>登陆易企秀官网，进入用户中心，点击申请秀客；<a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13174" target=_blank>（秀客审核规则)</a></p><p class=fl><span class="action fl">2</span>提交场景定制订单报备获取200秀点。<a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=14741" target=_blank>（查看获取步骤）</a></p></div><p>我们会根据您提交报备订单的数量进行官方推广资源分配。</p></div><div class=active-con><h2 class="">秀客商业信息机密机制</h2><div class="clearfix join-jiang"><h6>保密机制：</h6><p>易企秀保证将对秀客申请的订单信息进行严格保密。</p></div><div class="clearfix join-jiang"><h6>违规处罚</h6><p>恶意、做假申请扶持资源者，易企秀会取消秀客资格，情节严重者冻结易企秀账号。</p></div><div class="clearfix join-jiang"><h6>易企秀权利声明</h6><p style=height:30px;line-height:30px;margin-bottom:0>1) 以上条款解释权归易企秀</p><p style=height:30px;line-height:30px>2) 易企秀保留对以上条款调整的权利</p></div><div class="clearfix join-jiang"><h6>关于本计划的常见问题</h6><p><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=11204" target=_blank>http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=11204</a></p></div></div></div><div class=triangle-bottom><div class=icon-left></div><div class=icon-right></div></div></div><div class=backHome><a href=http://eqxiu.com target=_blank><span class=eqf-scene-company></span> <span>官网首页</span></a></div>')
	}]), angular.module("data/edit/canedit.tpl.html", []).run(["$templateCache", function(a) {
		a.put("data/edit/canedit.tpl.html", '<div class="main clearfix"><div class="panel panel-default same-content" style=margin-top:20px><div class=return><a ng-href=#/main/customer><span class="fa fa-mail-reply">返回</span></a></div><div class=custom-detail><table width=100%><tr><td><span>姓名</span>：{{dataDetail.name}}</td><td><span>电话</span>：{{dataDetail.tel}}</td><td><span>来源</span>：{{dataDetail.originName}}</td></tr><tr ng-if="isAllowedToAccessGrouping && sceneId != \'create\'"><td colspan=3><span>分组</span>：<span class=userList ng-repeat="groupName in groupNames">{{groupName.name}}<em class=delete ng-click=deleteAssociation(dataDetail.id,groupName.id)>x</em></span><div class="group-cat btn-group dropdown"><em class="add dropdown-toggle" title=添加分组>+</em><div class=dropdown-menu><ul class="group-list group-over" role=menu><li class=group-menu ng-repeat="group in groups" forbidden-close><div class=select-group><span class=eqf-no style=color:#ff0000 ng-click="deleteGroup(group, $index);"></span><div class=checkbox-square ng-class="{checked: group.selected}"><em class=eqf-yes2></em> <input type=checkbox ng-model=group.selected name=iCheck></div><span>{{group.name}}</span></div></li></ul><div class="select-group addGroup" forbidden-close ng-click=addGroup(); style=cursor:pointer><em>+</em> <span class=add-group>添加分组</span></div><div style=text-align:center;padding-top:10px><a class="btn btn-primary" ng-click=assignGroup();>确定</a></div></div><div class=confirm-group></div></div></td></tr></table></div><div class=panel-body><form name=formName class=form-horizontal role=form><div class=form-group><label for=userName class="col-sm-3 control-label">姓名</label><div class=col-sm-7><input type=text name=name ng-model=dataDetail.name class=form-control id=userName placeholder=姓名 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=sex class="col-sm-3 control-label">性别</label><div class=col-sm-7><eqx-select class="customer-edit border-width select-contain select-great" model=sex change=updateSex(sex)><eqx-select-option value=null>请选择性别</eqx-select-option><eqx-select-option value=sexOption ng-repeat="sexOption in sexOptions">{{sexOption.name}}</eqx-select-option></eqx-select></div></div><div class=form-group ng-repeat="mobile in formMobiles track by $index"><label for=mobile class="col-sm-3 control-label" ng-show="$index==0">手机</label><label class="col-sm-3 control-label" ng-show="$index!=0"></label><div class=col-sm-7 id=mobileAddress><div class=input-group><input type=text name=mobile ng-model=formMobiles[$index] class=form-control placeholder=手机 show-icon callback-fn=updateData(arg1,formMobiles)> <span class=input-group-btn><button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'mobile\', formMobiles)" type=button><span class="fa fa-minus"></span></button></span></div></div><div class=col-sm-1><span ng-click=addInputs(formMobiles) ng-show="$index==0" class="fa fa-plus add-inputs"></span></div></div><div class=form-group ng-repeat="email in formEmails track by $index"><label for=email class="col-sm-3 control-label" ng-show="$index==0">邮箱</label><label for=email class="col-sm-3 control-label" ng-show="$index!=0"></label><div class=col-sm-7 id=emailAddress><div class=input-group><input type=text name=email ng-model=formEmails[$index] class=form-control placeholder=邮箱 show-icon callback-fn="updateData(arg1,formEmails, formName.emial.$invalid)"> <span class=input-group-btn><button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formEmails)" type=button><span class="fa fa-minus"></span></button></span></div></div><div class=col-sm-1><span ng-click=addInputs(formEmails) ng-show="$index==0" class="fa fa-plus add-inputs"></span></div></div><div class=form-group><label for=company class="col-sm-3 control-label">公司</label><div class=col-sm-7><input type=text name=company ng-model=dataDetail.company class=form-control id=company placeholder=公司 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=job class="col-sm-3 control-label">职务</label><div class=col-sm-7><input type=text name=job ng-model=dataDetail.job class=form-control id=job placeholder=职务 show-icon callback-fn=updateData(arg1) required></div></div><div class=form-group ng-repeat="tel in formTels track by $index"><label for=tel class="col-sm-3 control-label" ng-show="$index==0">电话</label><label for=tel class="col-sm-3 control-label" ng-show="$index!=0"></label><div class=col-sm-7 id=tel><div class=input-group><input type=text name=tel ng-model=formTels[$index] class=form-control placeholder=电话 show-icon callback-fn=updateData(arg1,formTels)> <span class=input-group-btn><button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formTels)" type=button><span class="fa fa-minus"></span></button></span></div></div><div class=col-sm-1><span ng-click=addInputs(formTels) ng-show="$index==0" class="fa fa-plus add-inputs"></span></div></div><div class=form-group><label for=address class="col-sm-3 control-label">地址</label><div class=col-sm-7><input type=text name=address ng-model=dataDetail.address class=form-control id=address placeholder=地址 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=website class="col-sm-3 control-label">个人网址</label><div class=col-sm-7><input type=text name=website ng-model=dataDetail.website class=form-control id=website placeholder=个人网址 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=qq class="col-sm-3 control-label">QQ号</label><div class=col-sm-7><input type=text name=qq ng-model=dataDetail.qq class=form-control id=qq placeholder=QQ号 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=weixin class="col-sm-3 control-label">微信号</label><div class=col-sm-7><input type=text name=weixin ng-model=dataDetail.weixin class=form-control id=weixin placeholder=微信号 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=yixin class="col-sm-3 control-label">易信号</label><div class=col-sm-7><input type=text name=yixin ng-model=dataDetail.yixin class=form-control id=yixin placeholder=易信号 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=weibo class="col-sm-3 control-label">微博号</label><div class=col-sm-7><input type=text name=weibo ng-model=dataDetail.weibo class=form-control id=weibo placeholder=微博号 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=laiwang class="col-sm-3 control-label">来往号</label><div class=col-sm-7><input type=text name=laiwang ng-model=dataDetail.laiwang class=form-control id=inputEmail3 placeholder=来往号 show-icon callback-fn=updateData(arg1)></div></div><div class=form-group><label for=remark class="col-sm-3 control-label">其它</label><div class=col-sm-7><input type=text name=remark ng-model=dataDetail.remark class=form-control id=remark placeholder=其他 show-icon callback-fn=updateData(arg1)></div></div></form><div class="btn-contain btn-big"><a class="btn btn-primary login" ng-click=saveData(dataDetail)>保存</a> <a ng-click=cancel() class="btn-grey0 btn">取消</a></div></div></div></div>')
	}]), angular.module("data/edit/canread.tpl.html", []).run(["$templateCache", function(a) {
		a.put("data/edit/canread.tpl.html", '<div class="main clearfix"><div class="panel panel-default"><div class=return><a ng-href=#/main/customer><span class="fa fa-mail-reply">返回</span></a></div><div class=custom-detail><table width=100%><tr><td><span>姓名</span>：{{dataDetail.name}}</td><td><span>电话</span>：{{dataDetail.tel}}</td><td><span>来源</span>：{{dataDetail.originName}}</td></tr><tr ng-if=isAllowedToAccessGrouping><td colspan=3><span>分组</span>：<span class=userList ng-repeat="groupName in groupNames">{{groupName.name}}</span></td></tr></table></div><div class=panel-body><form name=formName class="form-horizontal data-detail" role=form><div class="form-group form-group-sm"><label for=userName class="col-sm-3 control-label">姓名：</label><div class=col-sm-7><span>{{dataDetail.name}}</span></div></div><div class="form-group form-group-sm"><label for=sex class="col-sm-3 control-label">性别：</label><div class=col-sm-7><span>{{sex.id ? sex.name : \'\'}}</span></div></div><div class="form-group form-group-sm"><label for=mobile class="col-sm-3 control-label">手机：</label><div class=col-sm-7 id=mobileAddress><span>{{formMobiles.join()}}</span></div></div><div class="form-group form-group-sm"><label for=email class="col-sm-3 control-label">邮箱：</label><div class=col-sm-7 id=emailAddress><span>{{formEmails.join()}}</span></div></div><div class="form-group form-group-sm"><label for=company class="col-sm-3 control-label">公司：</label><div class=col-sm-7><span>{{dataDetail.company}}</span></div></div><div class="form-group form-group-sm"><label for=job class="col-sm-3 control-label">职务：</label><div class=col-sm-7>{{dataDetail.job}}</div></div><div class="form-group form-group-sm"><label for=tel class="col-sm-3 control-label">固定电话：</label><div class=col-sm-7 id=tel><span>{{formTels.join()}}</span></div></div><div class="form-group form-group-sm"><label for=address class="col-sm-3 control-label">地址：</label><div class=col-sm-7><span>{{dataDetail.address}}</span></div></div><div class="form-group form-group-sm"><label for=website class="col-sm-3 control-label">个人网址：</label><div class=col-sm-7><span>{{dataDetail.website}}</span></div></div><div class="form-group form-group-sm"><label for=qq class="col-sm-3 control-label">QQ号：</label><div class=col-sm-7><span>{{dataDetail.qq}}</span></div></div><div class="form-group form-group-sm"><label for=weixin class="col-sm-3 control-label">微信号：</label><div class=col-sm-7><span>{{dataDetail.weixin}}</span></div></div><div class="form-group form-group-sm"><label for=yixin class="col-sm-3 control-label">易信号：</label><div class=col-sm-7><span>{{dataDetail.yixin}}</span></div></div><div class="form-group form-group-sm"><label for=weibo class="col-sm-3 control-label">微博号：</label><div class=col-sm-7>{{dataDetail.weibo}}</div></div><div class="form-group form-group-sm"><label for=laiwang class="col-sm-3 control-label">来往号：</label><div class=col-sm-7><span>{{dataDetail.laiwang}}</span></div></div><div class="form-group form-group-sm"><label for=remark class="col-sm-3 control-label">其它：</label><div class=col-sm-7><span>{{dataDetail.remark}}</span></div></div></form></div></div></div>')
	}]), angular.module("data/editData.tpl.html", []).run(["$templateCache", function(a) {
		a.put("data/editData.tpl.html", "<div ng-include=\"'header.tpl.html'\"></div><div id=main class=min_contain ng-if=!hideOpea><div ng-include=\"'data/edit/canedit.tpl.html'\"></div></div><div id=main class=min_contain ng-if=hideOpea><div ng-include=\"'data/edit/canread.tpl.html'\"></div></div>")
	}]), angular.module("dialog/bindemail.tpl.html", []).run(["$templateCache", function(a) {
		a.put("dialog/bindemail.tpl.html", "<div class=email-account><h1>您的账号还没有绑定邮箱</h1><p><span>去用户中心>账号管理，</span> <a ng-href=#/usercenter/account?bindemail><span>马上绑定</span></a></p></div>")
	}]), angular.module("dialog/confirm.tpl.html", []).run(["$templateCache", function(a) {
		a.put("dialog/confirm.tpl.html", "<div class=modal-body ng-if=confirmObj.msg><div class=confirm-msg ng-bind-html=confirmObj.msg></div></div><div class=\"btn-contain btn-small\"><a ng-click=ok(); class=btn-main>{{confirmObj.confirmName || ('确定')}}</a> <a ng-click=cancel(); class=btn-grey0>{{confirmObj.cancelName || ('取消')}}</a></div>")
	}]), angular.module("dialog/message.tpl.html", []).run(["$templateCache", function(a) {
		a.put("dialog/message.tpl.html", "<div class=modal-header><span class=\"glyphicon glyphicon-exclamation-sign\"></span> <span>{{msgObj.title || ('提示')}}</span></div><div class=modal-body ng-if=msgObj.msg><div class=msg ng-class=\"msgObj.title ? '' : 'msg-padding'\" ng-bind-html=msgObj.msg></div></div><div class=modal-footer><a ng-click=close(); class=\"btn btn-primary\" style=\"width: 88px\">{{msgObj.btn || ('关闭')}}</a></div>");
	}]), angular.module("error.tpl.html", []).run(["$templateCache", function(a) {
		a.put("error.tpl.html", '<div class=error><div class=header><div class=content><div class=logo><img ng-src={{CLIENT_CDN}}assets/images/logo.png alt=""></div></div></div><div class=error_contain><div class=error_con><img ng-src={{CLIENT_CDN}}assets/images/404_03.png alt=""><p style=font-size:24px;margin-top:30px;margin-bottom:15px><span>对不起，您想要进入的页面已经去火星了！</span></p><p style=text-align:left><a href=#/home target=_blank><span>返回地球</span></a></p></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("error/error.tpl.html", []).run(["$templateCache", function(a) {
		a.put("error/error.tpl.html", '<div class=error><div class=header><div class=content><div class=logo><img ng-src={{CLIENT_CDN}}assets/images/logo.png alt=""></div></div></div><div class=error_contain><div class=error_con><img ng-src={{CLIENT_CDN}}assets/images/404_03.png alt=""><p style="font-size:24px;margin-top:30px;margin-bottom:15px;padding:0 10px">对不起，您想要进入的页面已经去火星了！</p><p style="text-align:left;padding:0 10px"><a href=#/home target=_blank>返回地球</a></p></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("footer.tpl.html", []).run(["$templateCache", function(a) {
		a.put("footer.tpl.html", '<div class=scroll data-ng-init=load2()><a class=scroll_top ng-click=goTop()><span class=eqf-clickmore2></span> <span>顶部</span></a></div><div class=app-download><div style=position:relative;height:40px;width:40px><a class="scroll_top bgScroll" ng-click=downApp() ng-show=appIconDown><span class=eqf-phone></span> <span>APP</span></a></div><div ng-hide=appIconDown class=qrcode-download><div class="closedown eqf-wrong" ng-click=closeDown() title=关闭></div><div qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/appdown.html\'}}"></div></div></div><div class=video-user><a target=_blank href=http://class.qq.com/class/13657/p62157.html><span class=eqf-top-video></span> <span>教程</span></a> <a target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225"><span class=eqf-top-contact></span> <span>客服</span></a></div><footer><div class=help-contain><div class="same-content clearfix"><div class="home-help fl"><h6><em>易企秀</em></h6><ul><li><a href=/about target=_blank>关于我们</a></li><li><a href=http://www.lagou.com/gongsi/93527.html target=_blank>人才招聘</a></li><li><a href=/agreement target=_blank>服务协议</a></li><li><a href=http://hypefolio.com target=_blank>Hypefolio</a></li></ul></div><div class="home-help fl"><h6><em>设计制作帮助</em></h6><ul><li><a href="http://bbs.eqxiu.com/plugin.php?id=eqxiu_help:eqxiu_help" target=_blank>制作场景教程</a></li><li><a href=http://eqxiu.com/show target=_blank>找场景案例</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13104" target=_blank>轻设计制作教程</a></li><li><a href="http://bbs.eqxiu.com/plugin.php?id=ljqqqun:qq&type=4" target=_blank>QQ群交流</a></li></ul></div><div class="home-help fl"><h6><em>审核问题</em></h6><ul><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890" target=_blank>场景审核及被关闭</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8293" target=_blank>样例审核</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13174" target=_blank>秀客及审核被驳回</a></li></ul></div><div class="home-help fl"><h6><em>企业服务</em></h6><ul><li><a href=http://eqxiu.com/privilege target=_blank>免费升级企业账号</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=11204" target=_blank>升级服务商账号：秀客特权-新</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297" target=_blank>去场景上易企秀标识</a></li><li><a href=http://eqxiu.com/show/visitor target=_blank>场景定制</a></li></ul></div><div class="home-help fl" style=width:140px><h6><em>联系我们</em></h6><ul><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=17931" target=_blank>易企秀产品开放合作</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=17913" target=_blank>区域服务商招募</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15985" target=_blank>场景设计与广告推广</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=258&filter=typeid&typeid=632" target=_blank>公共帐号申请及其他</a></li></ul></div></div></div><div class="contact-friend same-content" ng-if="friendLinks.length > 0"><ul class=clearfix><li ng-repeat="link in friendLinks"><a target=_blank ng-href={{link.url}}>{{link.name}}</a></li></ul></div><div class="same-content clearfix pt20 pb20"><div class=fr style=width:270px><div class=fr style=background-color:#fff><img ng-src={{CLIENT_CDN}}assets/images/home/QRcode.svg width=80px height="80px;"></div><p>微信：扫描二维码咨询在线客服</p><p>邮箱：vip@eqxiu.com</p><p>电话：010-58813666</p><p>工作日：8:45-12:00 13:00-17:30</p></div><div class=fl><p>?? 2015 eqxiu.com. All rights reserved 北京中网易企秀科技有限公司</p><p>电信与信息服务业务经营许可证：京ICP证160037号 | 京ICP备15056244号-5 | 京公网安备11010802018300</p><div class=renzheng style=padding-top:10px><a href="https://ss.knet.cn/verifyseal.dll?sn=e14082111011652865izip000000&amp;ct=df&amp;a=1&amp;pa=0.5974755212664604" target=_blank><img ng-src={{CLIENT_CDN}}assets/images/kexin.svg width=80px height=30px></a> <a href=http://bbs.eqxiu.com/portal.php class="btn btn-main" target=_blank>官方论坛</a> <a><em class="eqf-wechat btn btn-primary"></em><div class=weixin style=background-color:#fff><img ng-src={{CLIENT_CDN}}assets/images/home/QRcode.svg width=120px height=120px></div></a> <a href=http://weibo.com/eqxiu target=_blank><em class="eqf-weibo btn out-red"></em></a> <a href="http://bbs.eqxiu.com/plugin.php?id=ljqqqun:qq&amp;type=4" target=_blank style=padding:0 class="qq-group btn-main background-color-width-change clearfix"><em class="eqf-qq btn"></em> <span>QQ群交流</span></a></div></div></div></footer>')
	
		var footer_str='<div class=scroll data-ng-init=load2()><a class=scroll_top ng-click=goTop()><span class=eqf-clickmore2></span> <span>顶部</span></a></div><div class=app-download><div style=position:relative;height:40px;width:40px><a class="scroll_top bgScroll" ng-click=downApp() ng-show=appIconDown><span class=eqf-phone></span> <span>APP</span></a></div><div ng-hide=appIconDown class=qrcode-download><div class="closedown eqf-wrong" ng-click=closeDown() title=关闭></div><div qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/appdown.html\'}}"></div></div></div><div class=video-user><a target=_blank href=http://class.qq.com/class/13657/p62157.html><span class=eqf-top-video></span> <span>教程</span></a> <a target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225"><span class=eqf-top-contact></span> <span>客服</span></a></div><footer><div class=help-contain><div class="same-content clearfix"><div class="home-help fl"><h6><em>易企秀</em></h6><ul><li><a href=/about target=_blank>关于我们</a></li><li><a href=http://www.lagou.com/gongsi/93527.html target=_blank>人才招聘</a></li><li><a href=/agreement target=_blank>服务协议</a></li><li><a href=http://hypefolio.com target=_blank>Hypefolio</a></li></ul></div><div class="home-help fl"><h6><em>设计制作帮助</em></h6><ul><li><a href="http://bbs.eqxiu.com/plugin.php?id=eqxiu_help:eqxiu_help" target=_blank>制作场景教程</a></li><li><a href=http://eqxiu.com/show target=_blank>找场景案例</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13104" target=_blank>轻设计制作教程</a></li><li><a href="http://bbs.eqxiu.com/plugin.php?id=ljqqqun:qq&type=4" target=_blank>QQ群交流</a></li></ul></div><div class="home-help fl"><h6><em>审核问题</em></h6><ul><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890" target=_blank>场景审核及被关闭</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8293" target=_blank>样例审核</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13174" target=_blank>秀客及审核被驳回</a></li></ul></div><div class="home-help fl"><h6><em>企业服务</em></h6><ul><li><a href=http://eqxiu.com/privilege target=_blank>免费升级企业账号</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=11204" target=_blank>升级服务商账号：秀客特权-新</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297" target=_blank>去场景上易企秀标识</a></li><li><a href=http://eqxiu.com/show/visitor target=_blank>场景定制</a></li></ul></div><div class="home-help fl" style=width:140px><h6><em>联系我们</em></h6><ul><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=17931" target=_blank>易企秀产品开放合作</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=17913" target=_blank>区域服务商招募</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15985" target=_blank>场景设计与广告推广</a></li><li><a href="http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=258&filter=typeid&typeid=632" target=_blank>公共帐号申请及其他</a></li></ul></div></div></div><div class="contact-friend same-content" ng-if="friendLinks.length > 0"><ul class=clearfix><li ng-repeat="link in friendLinks"><a target=_blank ng-href={{link.url}}>{{link.name}}</a></li></ul></div><div class="same-content clearfix pt20 pb20"><div class=fr style=width:270px><div class=fr style=background-color:#fff><img ng-src={{CLIENT_CDN}}assets/images/home/QRcode.svg width=80px height="80px;"></div><p>微信：扫描二维码咨询在线客服</p><p>邮箱：vip@eqxiu.com</p><p>电话：010-58813666</p><p>工作日：8:45-12:00 13:00-17:30</p></div><div class=fl><p>?? 2015 eqxiu.com. All rights reserved 北京中网易企秀科技有限公司</p><p>电信与信息服务业务经营许可证：京ICP证160037号 | 京ICP备15056244号-5 | 京公网安备11010802018300</p><div class=renzheng style=padding-top:10px><a href="https://ss.knet.cn/verifyseal.dll?sn=e14082111011652865izip000000&amp;ct=df&amp;a=1&amp;pa=0.5974755212664604" target=_blank><img ng-src={{CLIENT_CDN}}assets/images/kexin.svg width=80px height=30px></a> <a href=http://bbs.eqxiu.com/portal.php class="btn btn-main" target=_blank>官方论坛</a> <a><em class="eqf-wechat btn btn-primary"></em><div class=weixin style=background-color:#fff><img ng-src={{CLIENT_CDN}}assets/images/home/QRcode.svg width=120px height=120px></div></a> <a href=http://weibo.com/eqxiu target=_blank><em class="eqf-weibo btn out-red"></em></a> <a href="http://bbs.eqxiu.com/plugin.php?id=ljqqqun:qq&amp;type=4" target=_blank style=padding:0 class="qq-group btn-main background-color-width-change clearfix"><em class="eqf-qq btn"></em> <span>QQ群交流</span></a></div></div></div></footer>';
	
	if(web_muban_status==3){footer_str="<footer>\n" +
		                "<footer>\n" +
		                "	<div class=\"content_center\">\n<center>" +
		                "	<article class=\"footer\">\n" +
		                "	<p class=\"beizhu\"> 2015  "+your_demain_beian+"  All rights reserved   {{web_ipc}}</p>\n" +
		                "	<p>\n" +
		                "	<a href=\"{{web_site}}\" target=\"_blank\" rel=\"nofollow\" style=\"margin: 0 auto;\">\n" +
		                "	<img ng-src=\"{{CLIENT_CDN}}assets/images/sn.png\">\n" +
		                "	</a>\n" +
		                "	</p>\n" +
		                "	</article>\n" +
		                "	</center></div>\n" +
		                "	</footer>";}
		a.put("footer.tpl.html",footer_str);

	
	}]), angular.module("header.tpl.html", []).run(["$templateCache", function(a) {
		a.put("header.tpl.html", '<div class=header-wap><div class=header-contain><div class="same-content clearfix"><div class=head_nav ng-if=showToolBar();><ul class="clearfix head_navs"><li class=background-color-width-change ng-class="{isActive: isActive == \'main\'}"><a href=/#/main>H5场景</a></li><li ng-class="{isActive: isActive == \'customer\'}" class=background-color-width-change><a href=/#/main/customer>客户</a></li><li ng-class="{isActive: isActive == \'show\'}" class=background-color-width-change><a href=/#/show target=_blank>秀场</a></li><!--<li ng-class="{isActive: isActive == \'privilege\'}"><a href=/#/privilege>会员特权</a></li>--></ul><login-toolbar></login-toolbar></div><a href=#/main class="hint--bottom hint--rounded " id=logo><img ng-src="{{logoSrc}}" alt=""></a></div></div></div>')
	}]), angular.module("help.tpl.html", []).run(["$templateCache", function(a) {
		a.put("help.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=usercenter class=min_contain><div class="main clearfix"><div class=help_content><h1>快速获得秀点</h1><p><span>1.场景展示得秀点</span></p><table><tr><th class=col-sm-3><span>账号属性</span></th><th class=col-sm-3><span>获取秀点条件</span></th><th class=col-sm-8><span>秀点计算</span></th></tr><tr><td><span>普通账号</span></td><td><span>分享尾页展示</span></td><td><span>5000展示=100秀点</span></td></tr><tr><td><span>高级账号</span></td><td><span>末页底标展示</span></td><td><span>10000展示=100秀点</span></td></tr><tr><td><span>服务账号</span></td><td><span>末页底标展示</span></td><td><span>10000展示=100秀点</span></td></tr></table><p><span>2.推荐会员得秀点</span></p><table><tr><td class=col-sm-3><span>推荐会员</span></td><td class=col-sm-3><span>注册会员</span></td><td class=col-sm-8><span>推荐一个会员，可以获得20个秀点</span></td></tr></table><h1 style="margin:20px 0"><span>秀点使用</span></h1><table><tr><th class=col-sm-3><span>账号属性</span></th><th class=col-sm-3><span>使用内容</span></th><th class=col-sm-8><span>所需秀点</span></th></tr><tr><td><span>普通账号</span></td><td><span>去除分享尾页</span></td><td><span>100个</span></td></tr><tr><td><span>高级账号</span></td><td><span>去除末页底标</span></td><td><span>100个</span></td></tr><tr><td><span>服务账号</span></td><td><span>去除末页底标/修改载入logo</span></td><td><span>100个/500个</span></td></tr></table></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("home/home.tpl.html", []).run(["$templateCache", function(a) {
		a.put("home/home.tpl.html", web_muban)
	}]), angular.module("main/console/group.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/console/group.tpl.html", '<div class=modal-header><span ng-show=!title>新建组</span> <span ng-show=title>{{title}}</span></div><div class="modal-body add-new-cat" forbidden-list-close><input type=text class=form-control ng-model=group.name placeholder="设置名称"></div><p ng-show=authError style=text-align:center>{{authError}}</p><div class="btn-contain btn-small"><a class="btn-main login" ng-click=confirm()>确认</a> <a class="btn-grey0 cancel" ng-click=cancel()>取消</a></div>')
	}]), angular.module("main/console/transferscene.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/console/transferscene.tpl.html", '<div class=modal-header ng-show=transferScene><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=cancel()>×</span></button><h4 class=modal-title>转送场景</h4></div><div class=modal-body ng-show=transferScene><form class=form-horizontal><div class=form-group><label for=inputPassword3 class="col-sm-3 control-label">账号:</label><div class=col-sm-7><input type=text class=form-control id=inputPassword3 ng-model=model.toUser placeholder=请输入要转送的账号><p class="scene-gift-tips pt20"><span>*</span><em>转出后将不再拥有此场景</em></p><p class=error ng-show=actionerror>{{actionerror}}</p></div></div></form></div><div class=modal-footer ng-show=transferScene><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=confirm()>确认</button></div><div ng-hide=transferScene class=gift-success-tips id=transfer_mes><p><i>您已将此场景成功转送给</i><span style="padding:0 15px">{{model.toUser}}</span></p><a ng-click=cancel()>x</a></div>')
	}]), angular.module("main/customer.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/customer.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class="customer min_contain"><div ng-include="\'sysmessage.tpl.html\'"></div><div class=info-show><div class=same-content><div class=cus-title>我的客户</div></div></div><div class="same-content min_contain"><div class="cus-bar clearfix" ng-show="dataShow == \'message\'"><div class="group-action fl clearfix" ng-show=!hideOpea><div class="group-cat btn-group dropdown" ng-show=!branchid><a class=dropdown-toggle>添加到组 <span class="eqf-more pl20"></span></a><div class="dropdown-menu transform-change"><ul role=menu><li ng-repeat="group in groups" forbidden-close><div class=select-group><div class="checkbox-square customer-check fr" ng-class="{checked: group.selected}"><em class=eqf-clickmore></em> <input class=check-box type=checkbox ng-model=group.selected name=iCheck></div><div class=group-name><span class=ellipsis>{{group.name}}</span> <a class=fr ng-click="deleteGroup(group, $index);">删除</a></div></div></li></ul><div class="select-group add-group text-center" forbidden-close ng-click=addGroup();><em>+</em> <span class=add-group>添加分组</span></div><div class=text-center style=padding-top:10px><a class="btn btn-primary" ng-click=assignGroup();>确定</a></div></div><div class=confirm-group></div></div></div><div class=fr><eqx-select class="select-sm select-contain border-width" model=customer.group change=getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)><eqx-select-option value=null>全部群组</eqx-select-option><eqx-select-option value=mygroup ng-repeat="mygroup in groups">{{mygroup.name}}</eqx-select-option></eqx-select><eqx-select class="select-sm select-contain border-width" model=customer.origin change=getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)><eqx-select-option value=null>全部来源</eqx-select-option><eqx-select-option value=myorigin ng-repeat="myorigin in origins">{{myorigin.TITLE}}</eqx-select-option></eqx-select><div class="add-data btn-group dropdown" ng-if=!branchid><a class="btn btn-border dropdown-toggle"><span class=eqf-plus2></span> 添加数据</a><div class=dropdown-menu><ul role=menu><li ng-click=sceneData() forbidden-close><a>场景数据</a></li></ul></div></div><a ng-if=branchExport class="btn btn-border" ng-click=downLoad(customer.group.id,customer.origin.ID) tooltip-placement=bottom tooltip=将数据导出为excel文件 tooltip-append-to-body=true><span class=eqf-download></span> 导出数据</a></div></div><div ng-show="dataShow == \'message\' && customerDatas.length" class="cus-table mt20"><table class="table table-hover customer-data-table" style=background-color:#fff><thead><tr><th ng-if=!hideOpea class="col-sm-1 check-line"><div class="checkbox-square customer-check" ng-class="{checked: allImages.selected}"><em class=eqf-clickmore></em> <input class=check-box type=checkbox ng-change=selectAll() ng-model=allImages.selected name=iCheck></div></th><th>姓名</th><th>手机</th><th>客户群组</th><th>客户来源</th><th ng-if=!branchid>管理</th></tr></thead><tbody><tr ng-repeat="customerData in customerDatas"><td ng-if=!hideOpea class=check-line><div class=checkbox-square ng-class="{checked: customerData.selected}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=customerData.selected name=iCheck ng-change=selectCustomer(customerData)></div></td><td>{{customerData.name}}</td><td>{{customerData.mobile}}</td><td>{{customerData.groupName}}</td><td>{{customerData.originName}}</td><td ng-if=!branchid><span ng-show=branchEdit class="hint--bottom hint--rounded" data-hint=编辑><a class=eqf-write ng-click="editCustom(customerData, $index)"></a></span> <span ng-show=branchDelete class="hint--bottom hint--rounded" data-hint=删除><a style="margin-left: 30px" class=eqf-scene-delete ng-click=removeCustomer(customerData) ng-if=!hideOpea></a></span></td></tr></tbody></table><div ng-show="totalItems > 10" class="clearfix page-turn"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=totalItems ng-model=model.currentPage ng-change=pageChanged(model.currentPage,branchid,customer.group.id,customer.origin.ID) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=model.toPage ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) : null"><span class=fl>页</span> <a ng-click=pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) class=go>确定</a></div></div></div><div ng-show="dataShow == \'dataIn\' && !hideOpea"><div class="new-export new-import clearfix"><div class=custom-data><em>可导入数据：</em> <span>{{customCount.unImp}}</span> <span style=cursor:pointer ng-show="customCount.unImp < 1" ng-click="dataShow = \'message\'"><em>返回</em></span></div></div><div class="import-container clearfix" style=text-align:center ng-show=importDatas><div class="select-scene fl" style=text-align:left><h2>1.选择新数据场景</h2><ul style=height:489px;overflow-y:auto><li ng-repeat="importData in importDatas" ng-click=selectScene(importData.ID,$index) ng-class="{active: select == $index}"><span>{{importData.TITLE}}</span></li></ul></div><div class="data-column ml20 mr20 fl"><h2>2.拖拽导入的数据</h2><ul class=item-remove-droppable style=height:489px;overflow-y:auto;width:210px item-remove-droppable><li item-draggable item-id={{field.id}} class=list_darggable ng-repeat="field in fields"><span>{{field.title}}</span></li></ul></div><div class="name-to-name fl"><h2>3.拖入对应名称</h2><div class="clearfix drag" style=height:489px><div><ul><li style=border-bottom:none class=clearfix ng-repeat="staticFiled in staticFileds"><div class="list-attribute fl" item-droppable item-id={{staticFiled.id}}>拖拽到此处</div><div class="list-field fr">{{staticFiled.name}}</div></li></ul></div></div></div></div><div class=action style=text-align:right ng-show=importDatas><span style=padding-right:60px>拖拽名称标签放到右侧对应名称中</span> <span style=padding-right:182px>导入后原场景数据不会删除</span> <a type=button class="btn btn-grey0" ng-click="dataShow = \'message\'"><em>取消</em></a> <a type=button class="btn btn-primary" ng-click=confirm()>导入</a></div></div></div><div ng-include="\'footer.tpl.html\'"></div></div>')
	}]), angular.module("main/downApp.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/downApp.tpl.html", '<div class=login-form-section><div class=login-content><div class=section-title style=margin-bottom:20px><a class="bbs-help-tip eqf-wrong fr" ng-click=$dismiss()></a><h3>易企秀APP</h3></div><div class=down-code><p qr-code qr-url="http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"></p><p style=padding-bottom:40px;padding-top:10px></p></div></div></div>')
	}]), angular.module("main/main.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/main.tpl.html", '<div><div ng-include="\'header.tpl.html\'"></div><div id=main class=min_contain><div ng-include="\'sysmessage.tpl.html\'"></div><div class=info-show><div class=same-content><div class=info-title>H5场景</div><div class=info><div class=creat ng-show=!branchid><a href=#/scene class="clearfix opacity-width-change"><em class=eqf-plus2></em><span class=opacity-width-change>点击开始创建</span></a></div><ul ng-show=showScene ng-init="showScene=true;showCustomer=false" class="clearfix changjing-data"><li><span class=eqf-phone></span><div class=big-icon ng-click=showTip()><p class=num>{{datasCount.total || 0 | fixnum}}</p><p class="title fade-color">场景总计</p></div></li><li><span class=eqf-eye style=font-size:20px></span><div class="big-icon eye"><p class=num>{{datasCount.pv || 0 | fixnum}}</p><p class="title fade-color">场景展示</p></div></li><li><span class=eqf-date></span><div class="big-icon datas"><p class=num>{{datasCount.dt || 0 | fixnum}}</p><p class="title fade-color">收集数据</p></div></li></ul></div></div></div><div class=same-content><div class="ad mt20" ng-init="showAd= true;" id=ad_001 slides3 width=1180px height=40px ng-show="showAd== true" style=position:relative><a style=position:absolute;right:0;z-index:6;top:0;font-size:12px;height:40px;width:40px;background-color:rgba(0,0,0,0.3);display:block;text-align:center;line-height:40px ng-click="showAd = false;"><em class=eqf-wrong></em></a><div class=slides_container></div></div><div class="scene-type clearfix"><div class=search-tab style="z-index: 999999999999"><div ng-if="user.type == 2 || user.type == 5" class="select-branch fl"><eqx-select class="select-contain select-sm" model=branchCurrent change=selectBranch(branchCurrent)><eqx-select-option value=null>当前主账号</eqx-select-option><eqx-select-option value=branch ng-repeat="branch in branches">{{branch.loginName}}</eqx-select-option></eqx-select></div><div class=fl><eqx-select class="cate-width select-sm select-contain" model=scene.type change=getMyScenes()><eqx-select-option value=null>项目分类</eqx-select-option><eqx-select-option value=type ng-repeat="type in scene.types">{{type.name}}</eqx-select-option></eqx-select></div><div class="search fl" ng-class={hover:name}><input type=text maxlength=40 placeholder=请输入搜索内容 ng-model=name ng-change=changeName(name) ng-keypress=EnterPress(event,name) ng-keydown=EnterPress(name)> <span ng-if=searchButton class="search-icon eqf-search" ng-click=submit(name)></span> <span ng-if=!searchButton class="search-icon eqf-wrong" ng-click=clearSearch()></span></div><div class=list-toggle ng-click=listToggle()><span ng-if="listType == false" class="hint--right hint--rounded" data-hint=橱窗展示><em class=eqf-top-background></em></span> <span ng-if="listType == true" class="hint--right hint--rounded" data-hint=列表展示><em class=eqf-scene-list></em></span></div></div><ul class=jiaoxue style="width:500px;position: static"><li class=pr20 ng-if=switchChild ng-class="{active:sceneList == \'system\'}"><a ng-click="switchList(\'system\');getSysScene();getNewSample(\'recommend\');">精选<em ng-if=guid class="effect-tip heart"></em></a></li><li ng-if="companyType && switchChild" class=pr20 ng-class="{active:sceneList == \'sample\'}"><a ng-click="switchList(\'sample\');getCompanyScene(user.id,\'sample\');getNewSample(\'company\');">企业专属<em ng-if=comp class="effect-tip heart"></em></a></li><li class="pr20 myscenemmore" ng-class="{active:sceneList == currentGroup.activeName}" ng-mouseover="showGroud = true" ng-mouseleave="showGroud = false"><a ng-click=currentNameGroup(currentGroup.clickName,currentGroup.currentId)>{{currentGroup.currentName}} <em class=eqf-clickmore></em></a><ul class="jiaoxue scene-tag-grounp zoomIn-change" ng-if="groups.length > 0 && showGroud == true && switchChild" style="transform-origin: 0 0"><li class=pr20 ng-class="{active:currentGroup.clickId === null}"><a ng-click=currentNameGroup()>我的场景</a> <i></i></li><li class=pr20 ng-class="{active: currentGroup.clickId == group.id}" ng-repeat="group in groups"><a ng-click=currentNameGroup(group.groupName,group.id)>{{group.groupName}}</a> <i></i></li><li style=padding-right:15px ng-class="{active: currentGroup.clickId === \'0\'}" ng-if=showWeiGroup><a ng-click="currentNameGroup(\'\',0)">未分组</a></li></ul><ul class="jiaoxue scene-tag-grounp zoomIn-change" ng-if="groups.length == 0 && showGroud == true && switchChild" style="transform-origin: 0 0"><li>还没有分组,去管理分组创建吧!</li></ul></li><li ng-show="!manageGroupName && switchChild" ng-init="showcreate=false"><a ng-click="manageGroup();showcreate = !showcreate" class="hint--right hint--rounded manage-ground-setting" data-hint=管理分组>管理分组<em class=eqf-scene-settingII></em></a></li><li ng-show="manageGroupName && switchChild"><a ng-click="manageGroup();showcreate=false" class="manage-ground-setting manage-ground-complete">完成</a></li></ul><div class="grouddetail zoomIn-change" ng-if=showcreate style="transform-origin: 0 0"><ul class="jiaoxue addgroup"><li style=padding-right:15px ng-show=manageGroupName><a ng-click=addGroup() class="hint--right hint--rounded" data-hint=添加分组><em class=eqf-plus style="margin-right: 8px"></em>添加分组</a></li></ul><ul class="jiaoxue editdelete" ng-if="groups.length > 0"><li class=pr20 ng-class="{active: sceneList == group.id}" ng-repeat="group in groups"><span class=bottomborder><a ng-click=currentNameGroup(group.groupName,group.id)>{{group.groupName}}</a> <span ng-show=manageGroupName class="hint--right hint--rounded" data-hint=编辑分组 style=margin-right:4px><em class=eqf-xiuziti ng-click=editGroup(group.id,group.groupName)></em></span> <span ng-show=manageGroupName class="hint--right hint--rounded" data-hint=删除分组><em class=eqf-wrong2 ng-click=deleteGroup(group.id,$index)></em></span></span> <i></i></li><li style=padding-right:15px ng-class="{active: sceneList == 0}" ng-if=showWeiGroup><div><a ng-click="currentNameGroup(\'\',0)">未分组</a></div></li></ul></div></div><div style="text-align:center;margin:50px 0" ng-if="myScenes.length < 1"><h2 class=pb20>暂无场景<a href=#/scene ng-if=!branchid style=color:#08a1ef;font-size:14px;display:block class="pl20 pb20 pt20">创建场景</a></h2><img ng-src={{CLIENT_CDN}}assets/images/notfound.svg></div><div class=mask><div ng-include="\'main/squareSceneList.tpl.html\'" ng-show="listType == true"></div><div ng-include="\'main/recSceneList.tpl.html\'" ng-show="listType == false"></div></div><div class="clearfix page-turn" ng-show="(sceneList != \'system\' && sceneList != \'sample\') && totalItems > 12"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=pageSize total-items=totalItems ng-model=page.currentPage ng-change=pageChanged(page.currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div><div ng-include="\'usercenter/userCenterGuid.tpl.html\'"></div></div>')
	}]), angular.module("main/mobileTansform.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/mobileTansform.tpl.html", '<div class=mobile><div class=header><a class="eqf-wrong fr" style=margin-top:25px ng-click=$dismiss()></a>提示</div><div class="content clearfix"><img class="mobile-img fl" ng-src="{{CLIENT_CDN}}assets/images/phone.jpg"><div class="mobile-text pt20"><h2 class=mt20>一旦编辑它就变成电脑场景了</h2><p class=mt20>手机场景一旦编辑，就会变为电脑场景。<br>显示在APP中的电脑列表下（如左图）。<br>此后，就永远是电脑场景了，没有办法再变回来。<br>电脑场景的状态和编辑相对于手机更灵活，也会复杂，请谨慎操作。</p></div></div><div class="footer clearfix"><a class=submit ng-click=$close()>继续</a> <a class="cancel btn-primary" ng-click=$dismiss()>取消</a></div></div>')
	}]), angular.module("main/newVersionFrame.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/newVersionFrame.tpl.html", '<div class="login-form-section new-version"><div class=bgimg><div class=login-content><div class=section-title><a class="bbs-help-tip eqf-wrong fr" ng-click=cancel()></a><h3>更新说明</h3></div><div class=new-version-box><h4>我们更新啦</h4><div class=new-version-content><p>本次更新内容:</p><ul class=new-version-list><li><em>[新增]</em> <span>长页面配套功能：特效＋背景</span></li><li><em>[新增]</em> <span>银联支付</span></li><li><em>[优化]</em> <span>触发组件：可触发自己隐藏</span></li><li><em>[优化]</em> <span>属性栏可记录标签</span></li></ul></div><div class=new-version-button><button><a href=http://eqxiu.com/v-zUJgTzHQ target=_blank ng-click=cancel()>查看详情</a></button></div></div></div></div></div>')
	}]), angular.module("main/print/create.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/create.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div class=eqc-create><div class=content><div class=top><div class=title>创建作品</div><a href=main/print/mine class=back><span class=eqf-bg></span>返回</a></div><div class=user-defined><a href="" ng-click=define()>自定义创建</a></div><div class="works online-marketing"><div class=title>线上营销</div><div class=category><div class="w-160 animation-zoom" ng-click="add(\'6\', 800, 800, \'px\')" ng-style="{animationDelay: 0 * 50 + \'ms\'}"><p class=fs14>淘宝商品主图</p><p class=mm>800 * 800px</p></div><div class="w-270 ml animation-zoom" ng-click="add(\'7\', 900, 500, \'px\')" ng-style="{animationDelay: 1 * 50 + \'ms\'}"><p class=fs14>微信公众号首图</p><p class=mm>900 * 500px</p></div><div class="w-98 ml animation-zoom" ng-click="add(\'8\', 800, 2400, \'px\')" ng-style="{animationDelay: 1 * 50 + \'ms\'}"><p class=fs14>长图</p><p class=mm>800 * 2400px</p></div></div></div><div class="works ad-print"><div class=title>广告印刷</div><div class=category><div class="h-225 animation-zoom" ng-click="add(\'5\', 210, 297, \'mm\')" ng-style="{animationDelay: 2 * 50 + \'ms\'}"><p class=fs14>宣传单</p><p class=mm>210 * 297mm</p><p class=px>(2480 * 3508px)</p></div><div class="h-169 h-2 ml animation-zoom" ng-click="add(\'2\', 148, 210, \'mm\')" ng-style="{animationDelay: 3 * 50 + \'ms\'}"><p class=fs14>邀请函</p><p class=mm>148 * 210mm</p><p class=px>(1748 * 2480px)</p></div><div class="h-255 ml animation-zoom" ng-click="add(\'4\', 420, 570, \'mm\')" ng-style="{animationDelay: 4 * 50 + \'ms\'}"><p class=fs14>海报</p><p class=mm>420 * 570mm</p><p class=px>(4691 * 6732px)</p></div><div class="h-169 ml animation-zoom" ng-click="add(\'3\', 148, 210, \'mm\')" ng-style="{animationDelay: 5 * 50 + \'ms\'}"><p class=fs14>贺卡</p><p class=mm>148 * 210mm</p><p class=px>(1748 * 2480px)</p></div><div class="h-120 ml animation-zoom" ng-click="add(\'1\', 90, 54, \'mm\')" ng-style="{animationDelay: 6 * 50 + \'ms\'}"><p class=fs14>名片</p><p class=mm>90 * 54mm</p><p class=px>(1063 * 638px)</p></div></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("main/print/dialog/applyTpl.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/dialog/applyTpl.tpl.html", '<div class=modal-header ng-show=!showTips><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=cancel()>×</span></button><h4 class=modal-title>申请模板</h4></div><div class="modal-body eqc-apply-tpl" ng-show=!showTips><p class=affirm>您确定申请提交该作品为模板吗？</p><p class=apply-tips>查看更多规则及版权须知 【<a ng-href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=14142&page=1&extra" target=_blank>点击查看</a>】</p></div><div class=modal-footer ng-show=!showTips><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=confirm()>确认</button></div><div ng-show=showTips class=gift-success-tips id=transfer_mes style=text-align:center><p><i>您已提交该模板，我们正在审核中，请及时查看审核消息。</i></p><a ng-click=cancel()>x</a></div>')
	}]), angular.module("main/print/dialog/define.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/dialog/define.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=cancel()>×</span></button><h4 class=modal-title>创建自定义</h4></div><div class="modal-body eqc-define"><div class=input><input placeholder=宽度 ng-model=size.width eqd-validate=number maxlength="4"> <span>&times;</span> <input placeholder=高度 ng-model=size.height eqd-validate=number maxlength="4"><select ng-model=size.unit><option ng-selected="size.unit == mm" value=mm>mm（毫米）</option><option ng-selected="size.unit == px" value=px>px（像素）</option></select></div><div class=size-intro><div>常见尺寸说明</div><span>A3: 3508 * 4961px (297 * 420mm)</span> <span>A4: 2480 * 3508px (210 * 297mm)</span> <span>A5: 1748 * 2480px (148 * 210mm)</span> <span>以上换算，皆基于300dpi</span></div></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=confirm()>创建</button></div>')
	}]), angular.module("main/print/dialog/saveToH5.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/dialog/saveToH5.tpl.html", '<div class=eqc-print-image><div class=modal-header ng-show=!showTips><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=cancel()>×</span></button><h4 class=modal-title>请选择需要保存的图片</h4></div><div class=modal-body ng-show=!showTips><ul class=pic><li ng-repeat="pic in picker.coverArr"><label for=select_item_{{$index}}><div class=print-cover ng-style="{backgroundImage: \'url(\' +  PREFIX_FILE_HOST + pic.cover + \')\'}"></div></label><div class=checkbox-square ng-class="{checked: pic.checked}"><em class=eqf-yes2></em> <input type=checkbox id=select_item_{{$index}} ng-change=changeItem() ng-model=pic.checked name=iCheck></div></li></ul><div class=save-location><span>保存位置</span><div class=scene-pic-group><eqx-select class="select-great select-contain" change=saveLocation(scenePicGroup) model=scenePicGroup><eqx-select-option value=-1>我的图片</eqx-select-option><eqx-select-option value=picGroup.id ng-repeat="picGroup in picGroupList">{{picGroup.name}}</eqx-select-option></eqx-select></div></div></div><div class=modal-footer ng-show=!showTips><div class=select-all ng-click=selectAll()><div class=checkbox-square ng-class="{checked: picker.isAllCheck}"><em class=eqf-yes2></em> <input type=checkbox id=select_all ng-change=changeLoop() ng-model=picker.isAllCheck name=iCheck></div><label for=select_all onselectstart="return false">全部</label></div><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=confirm() ng-disabled=isSave>确认</button></div><div ng-show=showTips class=gift-success-tips id=transfer_mes style=text-align:center><p><i>已成功保存的H5场景素材库</i></p><a ng-click=cancel()>x</a></div></div>');
	}]), angular.module("main/print/dialog/transferPrint.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/dialog/transferPrint.tpl.html", '<div class=modal-header ng-show=!showTips><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=cancel()>×</span></button><h4 class=modal-title>转送作品</h4></div><div class=modal-body ng-show=!showTips><form class=form-horizontal><div class=form-group><label for=inputPassword3 class="col-sm-3 control-label">账号:</label><div class=col-sm-7><input type=text class=form-control id=inputPassword3 ng-model=model.toUser placeholder=请输入要转送的账号><p class="scene-gift-tips pt20"><span>*</span><em>转出后将不再拥有此作品</em></p><p class=error ng-show=activeError>{{activeError}}</p></div></div></form></div><div class=modal-footer ng-show=!showTips><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=confirm()>确认</button></div><div ng-show=showTips class=gift-success-tips id=transfer_mes style=text-align:center><p><i>您已将此作品成功转送给</i><span style="padding:0 15px">{{model.toUser}}</span></p><a ng-click=cancel()>x</a></div>')
	}]), angular.module("main/print/print.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/print.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class="eqc-print min_contain"><div class=info><div class=content><div class=title>轻设计</div><div class=items><ul><li><a href="" ng-class="{active: tabView == \'mine\'}" ng-click="showTab($event,\'mine\')">我的设计</a></li><li><a href="" ng-class="{active: tabView == \'template\'}" ng-click="showTab($event,\'template\')">模板中心</a> <span class=point></span></li></ul></div><div class=create><a href=/main/print/create class=opacity-width-change><em class=eqf-plus2></em> <span class=opacity-width-change>点击开始创建</span></a></div></div></div><eqd-mine ng-show="tabView == \'mine\'"></eqd-mine><eqd-template ng-show="tabView == \'template\'"></eqd-template></div><div ng-include="\'footer.tpl.html\'"></div><div id=preview_wrap><span class=eqf-wrong></span><iframe id=pc_preview width=100% height=100% scrolling=no frameborder=0></iframe></div>')
	}]), angular.module("main/print/tab/hotZone.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/tab/hotZone.tpl.html", '<div id=hot_zone class=eqc-hot-zone><ul class=sort><li>每日必做</li><li>翻牌子</li><li>大长图</li></ul><div class=content><div class=every-day><ul class="square-scene clearfix"><li class="tab-box-shadow animation-zoom" ng-repeat="list0 in hotList0"><div class=image><div class="front face" ng-style=getStyle(list0.cover)></div><div class=overlay><div class=edit><a class=edit-same ng-click=preview(list0.code)><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>预览</span></a> <a class=edit-same ng-click=copyHotItem(list0.id) target=_blank><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>我也做</span></a></div></div></div><div class=project-info><p class=ellipsis>{{list0.title || \'无标题\'}}</p><span class=print-type>{{list0.type | printType}}</span> | {{list0.unit == \'px\' ? list0.width : ((list0.width / 300) * 25.4).toFixed()}}*{{list0.unit == \'px\' ? list0.height : ((list0.height / 300) * 25.4).toFixed()}}{{list0.unit}}</div></li></ul></div><div class="effects turn-brand"><ul class="square-scene clearfix"><li class="tab-box-shadow animation-zoom" ng-repeat="list1 in hotList1" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class=image><div class="front face" ng-style=getStyle(list1.cover)></div><div class=overlay><div class=edit><a class=edit-same ng-click=preview(list1.code)><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>预览</span></a> <a class=edit-same ng-click=copyHotItem(list1.id) target=_blank><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>我也做</span></a></div></div></div><div class=project-info><p class=ellipsis>{{list1.title || \'无标题\'}}</p><span class=print-type>{{list1.type | printType}}</span> | {{list1.unit == \'px\' ? list1.width : ((list1.width / 300) * 25.4).toFixed()}}*{{list1.unit == \'px\' ? list1.height : ((list1.height / 300) * 25.4).toFixed()}}{{list1.unit}}</div></li></ul></div><div class="effects long-image"><ul class="square-scene clearfix"><li class="tab-box-shadow animation-zoom" ng-repeat="list2 in hotList2" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class=image><div class="front face" ng-style=getStyle(list2.cover)></div><div class=overlay><div class=edit><a class=edit-same ng-click=preview(list2.code)><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>预览</span></a> <a class=edit-same ng-click=copyHotItem(list2.id) target=_blank><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>我也做</span></a></div></div></div><div class=project-info><p class=ellipsis>{{list2.title || \'无标题\'}}</p><span class=print-type>{{list2.type | printType}}</span> | {{list2.unit == \'px\' ? list2.width : ((list2.width / 300) * 25.4).toFixed()}}*{{list2.unit == \'px\' ? list2.height : ((list2.height / 300) * 25.4).toFixed()}}{{list2.unit}}</div></li></ul></div></div></div>')
	}]), angular.module("main/print/tab/mine.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/tab/mine.tpl.html", '<div class="sub-nav mine-sort"><eqx-select class="cate-width select-sm select-contain" model=printTypes.type change=getPrintList(printTypes.type)><eqx-select-option value=null>全部作品</eqx-select-option><eqx-select-option value=type ng-repeat="type in printTypes">{{type.name}}</eqx-select-option></eqx-select></div><div id=print_mine class=print-list><ul class="square-scene clearfix"><li class="tab-box-shadow animation-zoom"><div class=image><div class="front face" ng-style=getStyle(guidePrint.cover)></div><div class=overlay><div class=edit><a class=edit-same href="" ng-click=copy(guidePrint.id)><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>查看</span></a></div></div></div><div class=project-info><p class=ellipsis>{{guidePrint.title || \'无标题\'}}</p><span class=print-type>{{guidePrint.type | printType}}</span> | {{guidePrint.unit == \'px\' ? guidePrint.width : ((guidePrint.width / 300) * 25.4).toFixed()}}*{{guidePrint.unit == \'px\' ? guidePrint.height : ((guidePrint.height / 300) * 25.4).toFixed()}}{{guidePrint.unit}}</div><span class=recommend>推荐</span></li><li ng-repeat="print in printList track by $index" pid={{print.id}} class="tab-box-shadow animation-zoom" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class=image><div class="front face" ng-style=getStyle(print.cover)></div><div class=overlay><div class=edit><a class=edit-same href=print/create/{{print.id}} target=_blank><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>编辑</span></a> <a class=edit-same ng-click=setPrint(print.id) target=_blank><em class="eqf-scene-setting background-color-width-change" style=font-size:18px></em> <span>设置</span></a></div><div class="sample applyTpl"><a onselectstart="return false" ng-show="print.type != 0" ng-click="applyTpl(print.id, print.isTpl)" ng-style="{backgroundColor: (print.isTpl | statusBgFilter), color: (print.isTpl | statusColorFilter)}">{{print.isTpl | statusFilter}}</a> <a onselectstart="return false" ng-click=saveToH5(print.id)>保存到H5场景素材库</a></div></div></div><div class=project-info><p class=ellipsis>{{print.title || \'无标题\'}}</p><span class=print-type>{{print.type | printType}}</span> | {{print.unit == \'px\' ? print.width : ((print.width / 300) * 25.4).toFixed()}}*{{print.unit == \'px\' ? print.height : ((print.height / 300) * 25.4).toFixed()}}{{print.unit}} &nbsp;&nbsp;&nbsp; <span class=eqf-eye></span> <span>{{print.pv || 0}}</span><div class="buttons clearfix"><div class=set><a class="delete background-color-width-change button" ng-click=delete(print.id)><em class=eqf-scene-delete></em><span>删除</span></a> <a class="operation background-color-width-change button" ng-click=copy(print.id)><em class=eqf-scene-copy></em><span>复制</span></a> <a class="background-color-width-change button" ng-click=transfer(print.id)><em class=eqf-scene-gift></em><span>转送</span></a></div></div></div></li></ul><div class="clearfix page-turn" style=margin-top:10px ng-show="totalItems > 11"><div class=fl><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=11 total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div>')
	}]), angular.module("main/print/tab/template.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/print/tab/template.tpl.html", '<div class=sub-nav><div class=hot-zone ng-click="getTplList(null, 4)" ng-class="{\'active\': active === \'hot\'}">热点专区</div><div class=tpl-sort><span>模板分类：</span><div class="fl mr all-tpl" ng-click="getTplList(null, 3)" ng-class="{\'active\': active === \'tpl\'}">全部模板</div><div class="fl mr tpl-sort1"><eqx-select class="cate-width select-sm select-contain" model=onlineMarketingTypes.type change="getTplList(onlineMarketingTypes.type, 1)"><eqx-select-option value=null>线上营销</eqx-select-option><eqx-select-option value=type ng-repeat="type in onlineMarketingTypes">{{type.name}}</eqx-select-option></eqx-select></div><div class="fl mr tpl-sort2"><eqx-select class="cate-width select-sm select-contain" model=adPrintTypes.type change="getTplList(adPrintTypes.type, 2)"><eqx-select-option value=null>广告印刷</eqx-select-option><eqx-select-option value=type ng-repeat="type in adPrintTypes">{{type.name}}</eqx-select-option></eqx-select></div></div></div><div id=print_tpl class=print-list><ul class="square-scene clearfix" ng-show=showList><li ng-repeat="template in templateList track by $index" pid={{template.printId}} class="tab-box-shadow animation-zoom" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class=image><div class="front face" ng-style=getStyle(template.cover)></div><div class=overlay><div class=edit><a class=edit-same ng-click="intoTemplate(template.type, template.id, template.printId)" target=_blank><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>就这个</span></a></div></div></div><div class=project-info><p class=ellipsis>{{template.printName || \'无标题\'}}</p><span class=print-type>{{template.type | printType}}</span> | {{template.unit == \'px\' ? template.width : ((template.width / 300) * 25.4).toFixed()}}*{{template.unit == \'px\' ? template.height : ((template.height / 300) * 25.4).toFixed()}}{{template.unit}}<div class="buttons sample clearfix"><div class="set sample-scene"><span class=scene-name>{{template.user}}</span></div></div></div><div class=head-img><img ng-if=template.avatar ng-src={{template.avatar}}> <span ng-if=!template.avatar class=scene-headimg><em class=eqf-top-contact></em></span></div></li></ul><div class="clearfix page-turn" style=margin-top:10px ng-show="tplTotalItems > 12 && showList"><div class=fl><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=12 total-items=tplTotalItems ng-model=currentTplPage ng-change=pageTplChanged(currentTplPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageTplChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageTplChanged(toPage) class=go>确定</a></div></div></div><eqd-hot-zone ng-show=!showList></eqd-hot-zone></div>')
	}]), angular.module("main/recSceneList.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/recSceneList.tpl.html", '<ul class=rec-scene><li ng-repeat="scene in myScenes track by $index" ng-init="sceneIndex = $index" class="mb20 clearfix tab-box-shadow animation-opacity" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class="scene-img scene_contain" style=overflow:hidden ng-hover resource=scene><a ng-click=showPreview($event,scene) style=display:block><div class="ribbon ribbon-badge" ng-if="scene.bizType !=30 && !scene.show && !scene.publishTime "><span class="ribbon-inner unpublish">未发布</span></div><div ng-if="scene.bizType !=30 && !scene.show && scene.publishTime && scene.updateTime > scene.publishTime" class="ribbon ribbon-badge"><span class="ribbon-inner new">有修改</span></div><div ng-if="!scene.show && scene.isExpedited == 1" class="ribbon ribbon-badge"><span class="ribbon-inner check">加急审核中</span></div><div ng-if="!scene.show && scene.status == -1" class="ribbon ribbon-badge"><span class="ribbon-inner check">未通过审核</span></div><div ng-if="!scene.show && scene.status == -2" class="ribbon ribbon-badge"><span class="ribbon-inner check">审核中</span></div><div ng-show="scene.bizType ==30" class="ribbon ribbon-badge" style=z-index:3><span class="ribbon-inner new" style=background-color:#44cb83>移动场景</span></div><div class=f1-card><div ng-show=!scene.show class="front face" ng-style=getStyle(scene.cover)></div><div ng-show=scene.show class="face front qrcode" qr-code qr-url="{{canvasUrl + \'/v-\' + scene.code}}"></div></div></a></div><div class=scene-data><div class=scene-data-header><div ng-show=manageGroupName class="scene-group fr" ng-mouseover="moveGroup = true" ng-mouseleave="moveGroup = false"><a class=move>移动至<em class=eqf-clickmore style=padding-left:5px></em></a><div class="group-list zoomIn-change clearfix" ng-show="moveGroup== true"><div eqd-scroll style=position:relative;overflow:hidden;max-height:150px><div><a class=ellipsis ng-repeat="group in groups" ng-click=moreGroup(group.id,scene.id,sceneIndex)>{{group.groupName}}</a> <a ng-show="groups.length > 0" class=ellipsis ng-click=moreGroup(0,scene.id,sceneIndex)>未分组</a> <a class=ellipsis ng-click=addGroup(scene.id)><em class=eqf-plus2 style=padding-right:5px></em>添加分组</a></div></div></div></div><div class=scene-info><span class=item-title>{{scene.name}}</span><p class=item_title ng-class="{\'scene-description\': scene.description}" ng-model=scene.description>{{scene.description?scene.description:("未添加场景描述")}}</p></div></div><div class="scene-data-footer clearfix"><div class=user-param><a ng-href=/#/spread/statistics/{{scene.id}} class="background-color-width-change button"><em class=eqf-eye style=font-size:12px></em><span>{{scene.showCount | fixnum}}</span></a> <a class="background-color-width-change button" ng-show="scene.dataCount > 0" ng-href=/#/spread/dataCollect/{{scene.id}}><em class=eqf-date style=font-size:12px></em><span>{{scene.dataCount | fixnum}}</span></a></div><div class="user-operate-site set" role=menu ng-if=!branchid><a class="button background-color-width-change delete" ng-click=deleteScene($event,scene.id)><em class=eqf-scene-delete></em><span>删除</span></a> <a class="button background-color-width-change operation" ng-if="scene.bizType !=30 && scene.status != -1 && scene.status != -2" ng-click=copyScene($event,scene.id)><em class=eqf-scene-copy></em><span>复制</span></a> <a class="button background-color-width-change" ng-if="scene.bizType !=30 && isAllowedToAccessTransfer && scene.status != -1 && scene.status != -2" ng-click=transferScene($event,scene.id)><em class=eqf-scene-gift></em><span>转送</span></a> <a class="button background-color-width-change sample" ng-if="scene.bizType !=30 && scene.isTpl == 3 && (userProperty.type ==2 || userProperty.type ==5) && scene.status != -1 && scene.status != -2" ng-click=clearCompanyTpl($event,scene.id,$index)><em class=eqf-scene-company></em><span>取消企业样例</span></a> <a class="button background-color-width-change sample" ng-if="scene.bizType !=30 && scene.isTpl == 0 && (userProperty.type ==2 || userProperty.type ==5) && scene.status != -1 && scene.status != -2" ng-click=creatCompanyTpl($event,scene.id,$index)><em class=eqf-scene-company></em><span>生成企业样例</span></a> <a class="button background-color-width-change operation" ng-if="scene.bizType !=30 && (!scene.publishTime || scene.updateTime > scene.publishTime) && scene.status != -1 && scene.status != -2" ng-click=publishScene($event,scene)><em class=eqf-scene-send></em><span>发布</span></a> <a class="button background-color-width-change" ng-click=sceneSettings($event,scene.id,scene)><em class=eqf-scene-setting></em><span>设置</span></a> <a class="button background-color-width-change" ng-click=editScene($event,scene.id,scene)><em class=eqf-xiuziti></em><span>编辑</span></a></div></div></div></li></ul>')
	}]), angular.module("main/squareSceneList.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/squareSceneList.tpl.html", '<ul class="square-scene clearfix" ng-show="sceneList != \'system\' && sceneList != \'sample\'"><li ng-repeat="scene in myScenes track by $index" ng-init="sceneIndex = $index" class="tab-box-shadow animation-zoom" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div ng-show=manageGroupName class=scene-group ng-mouseover="moveGroup = true" ng-mouseleave="moveGroup = false"><a class=move>移动至<em class=eqf-clickmore style=padding-left:5px></em></a><div class="group-list zoomIn-change clearfix" ng-show="moveGroup == true"><div eqd-scroll style=position:relative;overflow:hidden;max-height:180px><div><a class=ellipsis ng-repeat="group in groups" ng-click=moreGroup(group.id,scene.id,sceneIndex)>{{group.groupName}}</a> <a ng-show="groups.length > 0" class=ellipsis ng-click=moreGroup(0,scene.id,sceneIndex)>未分组</a> <a class=ellipsis ng-click=addGroup(scene.id)><em class=eqf-plus2 style=padding-right:5px></em>添加分组</a></div></div></div></div><div class="ribbon ribbon-badge" ng-if="!scene.show && !scene.publishTime && scene.bizType !=30"><span class="ribbon-inner unpublish">未发布</span></div><div ng-show="scene.bizType ==30" class="ribbon ribbon-badge" style=z-index:3><span class="ribbon-inner new" style=background-color:#44cb83>移动场景</span></div><div ng-show="scene.bizType !=30 && !scene.show && scene.publishTime && scene.updateTime > scene.publishTime" class="ribbon ribbon-badge"><span class="ribbon-inner new">有修改</span> <span class="ribbon-inner new hint--bottom hint--rounded" data-hint=内容有修改，新修改未发布 style="transform: rotate(0deg);background:none"></span></div><div ng-if="!scene.show && scene.isExpedited == 1 && scene.status == -2" class="ribbon ribbon-badge"><span class="ribbon-inner check">加急审核中</span></div><div ng-if="!scene.show && scene.isExpedited == 1 && scene.status == 1" class="ribbon ribbon-badge"><span class="ribbon-inner check">前置审核中</span></div><div ng-if="!scene.show && scene.status == -1" class="ribbon ribbon-badge"><span class="ribbon-inner check">未通过审核</span></div><div ng-if="!scene.show && scene.status == -2 && scene.isExpedited != 1" class="ribbon ribbon-badge"><span class="ribbon-inner check">审核中</span></div><div class=image><div ng-if=!scene.show class="front face" ng-style=getStyle(scene.cover)></div><div ng-if=scene.show class=ercode qr-code qr-url="{{canvasUrl + \'/v-\' + scene.code}}"></div><div class=overlay ng-show=!scene.show><div class=edit><a class=edit-same ng-click=showPreview($event,scene)><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>预览</span></a> <a class=edit-same ng-if=!branchid ng-click=editScene($event,scene.id,scene)><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>编辑</span></a> <a class=edit-same ng-click=showDetail(scene.id)><em class="eqf-date background-color-width-change" style=font-size:18px></em> <span>详情</span></a></div><div class=sample ng-if="scene.bizType !=30 && !branchid && scene.isTpl == 0 && (userProperty.type ==2 || userProperty.type ==5) && scene.status != -1 && scene.status != -2 && scene.bizType !=30"><a ng-click=creatCompanyTpl($event,scene.id,$index)>成为企业样例</a></div><div class=sample ng-if="scene.bizType !=30 && scene.isTpl == 3 && (userProperty.type ==2 || userProperty.type ==5) && scene.status != -1 && scene.status != -2 && scene.bizType !=30"><a ng-click=clearCompanyTpl($event,scene.id,$index)>取消企业样例</a></div></div></div><div class=project-info><p class=ellipsis>{{scene.name}}</p><a class=show-count ng-href=/#/spread/statistics/{{scene.id}}><em class=eqf-eye></em>{{scene.showCount | fixnum}}</a> <a ng-href=/#/spread/dataCollect/{{scene.id}} class=show-count ng-if="scene.dataCount > 0"><em class=eqf-date></em><span>{{scene.dataCount | fixnum}}</span></a><div class="buttons clearfix"><div class=set ng-if=!branchid><a class="delete background-color-width-change button" ng-if=!branchid ng-click=deleteScene($event,scene.id)><em class=eqf-scene-delete></em><span>删除</span></a> <a ng-if="scene.status != -1 && scene.status != -2 && scene.bizType !=30" ng-click=copyScene($event,scene.id) class="button background-color-width-change operation"><em class=eqf-scene-copy></em><span>复制</span></a> <a class="button background-color-width-change" ng-if="isAllowedToAccessTransfer && scene.status != -1 && scene.status != -2 && scene.bizType !=30" ng-click=transferScene($event,scene.id)><em class=eqf-scene-gift></em><span>转送</span></a> <a ng-if="scene.bizType !=30 && (!scene.publishTime || scene.updateTime > scene.publishTime) \n                        && scene.status != -1 && scene.status != -2" ng-click=publishScene($event,scene) class="button background-color-width-change operation"><em class=eqf-scene-send></em><span>发布</span></a> <a class="button background-color-width-change" ng-click=sceneSettings($event,scene.id,scene)><em class=eqf-scene-setting></em><span>设置</span></a></div><a class="erweima button" ng-hover resource=scene><em class=eqf-QRcode></em></a></div></div></li></ul><ul class="square-scene clearfix" ng-show="sceneList == \'system\' || sceneList == \'sample\'"><li ng-repeat="scene in myScenes track by $index" class="tab-box-shadow animation-zoom" ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class="ribbon ribbon-badge" ng-if="!!scene.price && (userType != 1 || (userType == 1 && sceneList == \'system\'))"><span class="ribbon-inner check">{{scene.price}}秀点</span></div><div class="ribbon ribbon-badge" ng-if="sceneList == \'sample\'"><span class="ribbon-inner check">企业专属</span></div><div class=image><div ng-if=!scene.show class="front face" ng-style=getStyle(scene.cover)></div><div ng-if=scene.show class=ercode qr-code qr-url="{{canvasSampleUrl + \'/v-\' + scene.code}}"></div><div class=overlay ng-show=!scene.show><div class=edit><a class=edit-same target=_blank ng-href="{{canvasSampleUrl + \'/v-\' + scene.code}}"><em class="eqf-eye background-color-width-change" style=font-size:18px></em> <span>预览</span></a> <a ng-if="sceneList == \'sample\'" class=edit-same ng-click="createScene(scene,\'isComp\')"><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>就这个</span></a> <a ng-if="sceneList != \'sample\'" class=edit-same ng-click=createScene(scene)><em class="eqf-xiuziti background-color-width-change" style=font-size:18px></em> <span>就这个</span></a></div></div></div><div class=project-info><p class=ellipsis>{{scene.name}}</p><div class="buttons clearfix"><div class="set sample-scene"><span class=scene-name>{{scene.userName}}</span></div><a class="erweima button" ng-hover resource=scene><em class=eqf-QRcode></em></a></div></div><div class=head-img><img ng-if=scene.avatar ng-src={{scene.avatar}}> <span ng-if=!scene.avatar class=scene-headimg><em class=eqf-top-contact></em></span></div></li></ul>')
	}]), angular.module("main/upgradeGuide.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/upgradeGuide.tpl.html", '<div class=login-form-section><div class=login-content><div class=section-title><a class="bbs-help-tip eqf-wrong fr" ng-click=cancel()></a><h3>会员类型选择</h3></div><div class=register-login-main><div class=guide ng-show=selectUserType><div class=register-login-content><p style=padding-left:0>注册成功！欢迎来到易企秀，您期望成为：</p><div class=clearfix><div class="putong user fl" ng-click=switchType(1);submit(1)><h6>免费个人会员</h6><div class=user-content><div class=eqf-top-contact></div><p>适用于个人用户，提供丰富的素材和模板，助力快速完成创作</p></div></div><div class="qiye user fl ml20" ng-click=switchType(2);submit(2)><h6>免费企业会员</h6><div class=user-content><div class=eqf-huangguan></div><p>适用于个人企业用户，在丰富的素材和模板基础上，提供全面便捷的推广渠道，助力企业自我营销</p></div></div></div><div class="login-form-action clearfix mt40 mb100"><a class=more-users href=#/privilege target=_blank ng-click=cancel()>查看更多会员类型&gt;&gt;</a></div></div></div></div></div></div>')
	}]), angular.module("main/userGuide.tpl.html", []).run(["$templateCache", function(a) {
		a.put("main/userGuide.tpl.html", '<div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; background: rgba(0,0,0,0.8);z-index:10000" ng-click=showGuide() ng-show=firstLogin ng-controller=userGuideCtrl><div class=bind-email-guide><h1><em>必读：帮您更好地使用易企秀：</em><span ng-click=showNextGuide()>&times;</span></h1><p>感谢您使用易企秀，为了更好的使用易企秀，您可以：</p><ul class=guide-describe><li class=guide-list><em>① 绑定邮箱，密码忘记时可取回密码</em><ul class=item><li><a href=#/usercenter/account class=text-primary target=_blank>立即验证</a></li></ul></li><li class=guide-list><em>② 获得更多免费功能：申请企业帐号免费版</em><ul class=item><li><a href=/#/privilege class=text-primary target=_blank>马上申请</a></li></ul></li><li class=guide-list><em>③ 获得“去掉场景上的易企秀品牌标识”等增值服务</em><ul class=item><li><a href=/#/privilege class=text-primary target=_blank>付费版会员帐号</a></li></ul></li></ul><div class=user-select><span>不会使用易企秀？</span> <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=72" class=text-primary target=_blank>操作指南</a><p><input type=checkbox style="margin: 4px; font-size:14px" ng-click="isShow()"><em>不再提示</em></p><button class="btn btn-primary" ng-click=showNextGuide()>知道了</button></div></div></div>')
	}]), angular.module("my/myscene.tpl.html", []).run(["$templateCache", function(a) {
		a.put("my/myscene.tpl.html", '<div class="main myscene"><div class=content ng-class="{\'extend-panel\':panelClose}"><a class=back ng-href={{backurl}}><i class=eqf-bg></i></a><iframe style="border: 0; width:100%;height:100%" ng-src={{iframeUrl}} ctrl-page-scroll></iframe></div><div class=left-bar ng-class="{\'hide-panel\':panelClose}"><div class=extend-bar ng-click="panelClose=!panelClose"><span ng-class="{\'eqf-right2\':!panelClose,\'eqf-left2\':panelClose}"></span></div><h6 class=share-title>扫一扫分享给朋友</h6><div class=scene-img qr-code qr-url={{canvasUrl}}></div><div class="quick-share mt20 bdsharebuttonbox"><h6>分享到</h6><a href=# class=bds_more data-cmd=more></a><a href=# class=bds_tsina data-cmd=tsina title=分享到新浪微博></a> <a href=# class=bds_tqq data-cmd=tqq title=分享到腾讯微博></a> <a href=# class=bds_qzone data-cmd=qzone title=分享到QQ空间></a> <a href=# class=bds_sqq data-cmd=sqq title=分享到QQ好友></a> <a href=# class=bds_douban data-cmd=douban title=分享到豆瓣网></a></div><div class=create-link ng-class="{\'create-link2\':!isTpl}"><a href=http://www.eqxiu.com target=_blank class=pl20>我也来做一个→易企秀官方网站：www.eqxiu.com</a></div></div></div>')
	}]), angular.module("my/upload.tpl.html", []).run(["$templateCache", function(a) {
		a.put("my/upload.tpl.html", '<div nv-file-drop="" uploader=uploader><div class=container><div class=row><div class=col-md-3><div ng-show=uploader.isHTML5><div ng-show="category.fileType != \'2\'" class="well my-drop-zone" nv-file-over="" uploader=uploader>拖拽图片到此区域</div><div ng-show="category.fileType == \'2\'" class="well my-drop-zone" nv-file-over="" uploader=uploader>拖拽音乐到此区域</div></div><div id=upload_btn class=btn-main><span ng-show="category.fileType == \'0\' || category.fileType == \'1\'">选择图片</span> <span ng-show="category.fileType == \'2\' || category.fileType == \'4\'">选择音乐</span> <input type=file id=uploadBtn ng-click=removeQueue() nv-file-select="" uploader=uploader multiple></div><br></div><div class=col-md-9 style="margin-bottom: 40px"><p ng-show="category.fileType == \'1\' && !category.headerImage && !category.coverImage">每次最多上传5张图片，上传图片建议大小在3M以内，格式为jpg\\bmp\\png\\gif</p><p ng-show="category.fileType == \'0\'">上传图片建议像素为640px*1008px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p><p ng-show="category.fileType == \'2\' || category.fileType == \'4\'">上传音乐大小不超过{{category.limitSize / 1024 / 1024}}M，格式为mp3</p><p ng-show="category.fileType == \'1\' && (category.headerImage || category.coverImage)">上传图片建议像素为250px*250px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p><table class=table><thead><tr><th width=50%>名称</th><th ng-show=uploader.isHTML5>大小</th></tr></thead><tbody><tr ng-repeat="item in uploader.queue"><td><strong>{{ item.file.name }}</strong></td><td ng-show=uploader.isHTML5 nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td><td ng-show=uploader.isHTML5><div class=progress style="margin-bottom: 0"><div class=progress-bar role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div></div></td></tr></tbody></table><div><button type=button class="btn btn-secondary btn-s" ng-click=uploader.uploadAll() ng-disabled=!uploader.getNotUploadedItems().length><span class="glyphicon glyphicon-upload"></span> 上传</button> <button type=button class="btn btn-danger btn-s" ng-click=uploader.clearQueue() ng-disabled=!uploader.queue.length><span class="glyphicon glyphicon-trash"></span> 删除</button></div></div></div></div></div>')
	}]), angular.module("notifications.tpl.html", []).run(["$templateCache", function(a) {
		a.put("notifications.tpl.html", "<div ng-class=\"['alert', 'alert-'+notification.type]\" ng-repeat=\"notification in notifications.getCurrent()\" notification-fadeout><button class=close ng-click=removeNotification(notification)>×</button> {{notification.message}}</div>")
	}]), angular.module("reg/agreement.tpl.html", []).run(["$templateCache", function(a) {
		a.put("reg/agreement.tpl.html", '<div class=about><div class=header><div class="logo same-content"><a href=/home><em class=eqf-love></em></a></div></div><div class="main clearfix mt20"><div class="reg_xy_Box same-content p20"><h1>易企秀注册协议</h1><div class=reg_xy><p>甲方：北京中网易企秀科技有限公司</p><p>乙方：“易企秀”的注册用户（以下简称用户或“您”）</p><p class=para>您确认：在您开始“易企秀”产品试用或购买前，您已充分阅读、理解并接受本协议的全部内容，一旦您开始使用本服务或完成购买流程，即表示您同意遵循本协议之所有约定。不具备前述条件的，您应立即终止注册或停止使用本服务。</p><p class=para>甲方有权随时对协议内容进行单方面的变更，并在eqxiu.com上公布，无需另行单独通知；若您在本协议内容公告变更后继续使用本服务，表示您已充分阅读、理解并接受修改后的协议内容，也将遵循修改后的协议内容使用本服务；若您不同意修改后的协议内容，您应停止使用本服务。您可以访问 http://www.eqxiu.com来了解最新版本的服务条款。</p><p>帐户注册及条款</p><p>1. 您保证具有法律规定的完全民事权利能力和民事行为能力，能够独立承担民事责任的自然人、法人或其他组织；本协议内容不会被您所属国家或地区的法律禁止。</p><p>2. 具体操作使用人应该是自然人。不允许采用注册机或者其他类似的自动化方式注册账户。</p><p>3. 当您注册时应当按网站要求填写您真实的信息及其他必要的信息以完成注册。</p><p>4. 您的登录信息只能用于一个人，不允许多人共享登录信息。</p><p>5. 您应当保护好自己的用户名及密码信息不被泄露。“易企秀”无法也不能保护因为您泄露用户名或密码导致的数据信息权益。</p><p>6. 同一个用户只能拥有一个免费账户。</p><p>7. 您应当对您的账户及所创建的内容负责。</p><p>8. 您不得恶意攻击“易企秀”服务器。</p><p>9. 您不得复制、转售或转授权任何部分或者全部的”易企秀”服务。</p><p>10. 甲方有权但并非义务关闭或删除以下内容：非法、歧视、恐吓、诽谤、色情、淫秽或者违反中国法律的。</p><p>11. 您不得以口头或者文字方式攻击（包括恐吓、报复等）甲方客户、员工、成员或本产品及服务的其他使用者。</p><p>12. 您不得上传或者发布垃圾邮件，短信，或上传计算机病毒程序或者恶意代码。</p><p>13. 如果您的账户流量恶意使用或明显超过平均用户带宽使用，我们保留停用您的账户的权利。</p><p>14. 您在本协议期间应遵守全部中国法律、法规和规章。</p><p>15. 如果甲方因乙方的任何触犯中国法律法规的行为或违反本协议的行为而承受任何损失或损害，乙方应该采取所有行动使甲方免于承担责任，并对由此产生的全部损失和损害承担赔偿责任。</p><p>16. 如果乙方存在任何触犯中国法律法规的行为或违反本协议的行为，甲方有权根据行为的严重性自行决定立即暂停或终止乙方对本服务的使用，甲方无须就服务暂停或终止对乙方承担任何责任，并且无须返还乙方已支付的费用。</p><p>付费相关条款</p><p>1. “易企秀”产品目前提供免费和付费产品供您使用，甲方有权依据市场需求调整或新推出付费产品、功能或服务。</p><p>2. 您有权自由选择决定是否使用“易企秀”中的付费产品、功能或服务。</p><p>产品服务条款</p><p>1. 甲方将以专业的方式提供产品及服务，但并不保证：1) 产品及服务满足您的所有需求或您的所有期待； 2) 产品及服务没有任何失误或缺陷，或产品及服务中的所有错误都会被修正。</p><p>2. 甲方保留不断修改调整这项服务的权利，而无需事先通知乙方。</p><p>知识产权条款</p><p>1. 您提交的各种内容版权归属于您。</p><p>2. 您应当了解并授权“易企秀”及“易企秀”许可的用户可以传播、二次编辑、分享您通过易企秀编辑生成的共享作品。</p><p>3. 甲方提供的服务及产品（包括但不限于观感、设计、图标、代码等）的版权、商标权、专利权及其他知识产权均归属于甲方。除非获得甲方明确书面允许，您不得复制、重用任何HTML/CSS, JavaScript或者任何视觉设计，也不得对甲方产品进行反向工程、分解或进行编译或其他修改。</p><p>4. 本协议中未明确授予您的权利将由甲方保留。</p><p>责任限制 在任何情况下，甲方均无须对任何间接性、后果性、惩戒性、偶然性、特殊性或刑罚性的损害(包括但不限于乙方因使用甲方服务而遭受的利润、收入损失、或预期的节约成本损失或商誉损失等）承担责任。甲方对乙方承担的全部责任总额，无论因何原因（基于合同法、侵权法或其他法规）或何种行为方式产生，始终不超过乙方在当月服务期内因使用甲方服务而已经支付给甲方的费用。</p><p>服务取消与终止条款</p><p>1. 您清楚的了解终止服务的后果。无需邮件或者电话确认，您可以在任何时候通过点击账户链接并执行相应操作来终止您的账户及删除相应的所有信息。</p><p>2. 一旦终止，所有隶属于这个账户的数据及信息将由甲方作删除处理，并且无法恢复。</p><p>3. 一旦终止账户，账户之下的用户将无法访问任何相关的服务。</p><p>其他条款</p><p>1. 您了解甲方使用第三方的运营商和网络提供商提供必要的硬件、软件、存储或网络来运行易企秀服务。甲方无需因为第三方的、或者不在甲方控制范围内的原因（如不可抗力）造成的运行问题（如服务中断、停顿、中止等）负责。</p><p>2. 如果本协议的某一条款或某一条款的一部分无效或不可执行，不影响本协议其他条款的有效性，无效或不可执行的条款将被视作已从本协议中删除。</p><p>3. 本协议受中华人民共和国法律管辖。 在执行本协议过程中如发生纠纷，双方应及时协商解决。协商不成时，任何一方均应向甲方所在地人民法院提起诉讼。</p><p>4. 若有任何疑问，请通过浏览http://www.eqxiu.com网站下方的联系方式与我们联系。</p></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>');
	}]), angular.module("reg/reg.tpl.html", []).run(["$templateCache", function(a) {
		a.put("reg/reg.tpl.html", "<div><a ng-href={{weiChatUrl}}>登录测试</a></div>")
	}]), angular.module("scene/console.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console.tpl.html", "<div><div ng-show=\"comp_type=='bg'\" ng-include=\"'scene/console/bg.tpl.html'\" ng-controller=BgConsoleCtrl></div></div>")
	}]), angular.module("scene/console/angle-knob.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/angle-knob.tpl.html", "<div class=sliderContainer><div class=sliderKnob></div></div>")
	}]), angular.module("scene/console/anim.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/anim.tpl.html", '<div ng-if="activeTab == \'anim\'" ng-controller=AnimConsoleCtrl><div style=height:410px><div eqd-scroll style="height: 100%" disable-mouse=true prevent-exception=true><div class=anim_area><div class=anim-panels style=padding-top:10px ng-if=animations.length><section ng-repeat="animation in animations track by $index"><div class="style_list pr20 pl20 border-bottom" ng-class="{\'border-top\':($index==0 || opea.show),active:opea.show}" ng-init="opea.show=true" ng-click="opea.show=!opea.show"><em>动画</em>&nbsp;{{$index+1}}<div class="animation-opera fr"><span title=删除此动画 class=eqf-wrong style=margin-right:10px ng-click="removeAnim($index, $event)"></span> <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b></div></div><div class="pl20 pr20" style=background-color:#fff><div ng-if=opea.show class="style_list_angel clearfix"><label>方式</label><div class="flo_lef touming"><select style="width:100px;border:1px solid #C9C9C9" ng-model=types[$index] ng-change="animation.type=types[$index].id; changeAnimation(animation, $index)" ng-options="animType.name group by animType.cat for animType in animTypeEnum"><option value=-1>无</option></select></div></div><div ng-if="opea.show && animation.type == 7" class="style_list_angel clearfix"><label>速度</label><div class="clearfix touming"><div class=num style=text-align:right;margin-top:4px><input type=checkbox value="" ng-model=animation.linear ng-true-value=1 onfocus=this.select() style="margin-right:2px;margin-top:0px"><em>匀速</em></div></div></div><div ng-if="animation.type != -1 && animation.type != null && opea.show"><form role=form><div class="style_list_angel clearfix" ng-show="animation.type == 1 || animation.type == 2 || animation.type == 17 || animation.type == 19"><label style=padding-top:8px>方向</label><div class="flo_lef touoming"><select style=color:#999 class=form-control ng-model=directions[$index] ng-change="animation.direction=directions[$index].id;changeAnimation(animation, $index)" ng-options="animDirection.name for animDirection in animDirectionEnum"></select></div></div><div class=style_list_angel><label>时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model=animation.duration onfocus="this.select()"></p><div class=slider ui-slider-t ng-model=animation.duration fixed=1 min=0 max=20></div></div></div><div class=style_list_angel><label>延迟</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 class=form-control onfocus=this.select() ng-model="animation.delay"></p><div class=slider ui-slider-t ng-model=animation.delay fixed=1 min=0 max=20></div></div></div><div class=style_list_angel><label>次数</label><div class="touming clearfix"><p class=num style=float:left;margin-right:10px><input ng-disabled=animation.count limit-input class="input_kuang short" type=number min=1 max=10 class=form-control ng-model=animation.countNum onfocus="this.select()"></p><div class=checkbox-square style=margin-left:55px ng-class="{checked: animation.count}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=animation.count></div><em>循环</em></div></div></form></div></div></section></div><div class=add-anim><a class="btn btn-sm green mr20" style=float:left ng-click=addAnim($event)><span class=eqf-plus2></span>添加动画</a> <a class="btn btn-sm blue" ng-click=previewAnim($event)><span class=eqf-play2></span>预览动画</a></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=cancel()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除动画</a></div></div>')
	}]), angular.module("scene/console/bg.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/bg.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>素材库 <a ng-show="fileType ==\'0\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1921&page=1&extra=#pid6652"></a> <a ng-show="fileType ==\'1\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696"></a> <span ng-show=!authError class=action>单击使用</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class="dialog-content bg_console sound-flex clearfix"><div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: systemImages}"><a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle=tab>背景库</a> <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle=tab>图片库</a></li><li ng-class="{active: !systemImages && !userTagId}"><a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle=tab>我的背景</a> <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle=tab>我的图片</a></li><li class="add-tag clearfix" ng-if="type != \'p\' && type !=\'n\'"><a ng-click=createTag(); style=border-bottom:none><span class=eqf-plus></span>&nbsp;<em>添加分组</em></a></li><li class="my-bg-upload bg-img-upload blue"><div class="hint--top hint--rounded" data-hint=大小不超过3M，支持格式：jpg、png、gif，一次最多上传6张><span class=eqf-update></span><em>上传</em> <input type=file nv-file-select="" uploader=uploader options multiple style="width:200px;height: 55px;overflow: hidden;position: absolute;top: 0;right: 0;left:-70px;bottom:0;cursor: pointer;opacity:0"></div></li></ul><ul class="nav tabs-left user-tabs" style=padding-top:0><li ng-class="{active: userTagId == tag.id && !systemImages}" ng-repeat="tag in tagList" ng-click="switchToSystemImages(\'false\');getUserFiles(tag.id)" ng-hover resource=tag><a href="" data-toggle=tab><span class="eqf-wrong2 del-tag" ng-if="tag.show && type != \'p\'\n                         && type != \'n\'" style=float:right;margin-top:15px;opacity:0.8 ng-click="deleteTag(tag.id, $index)"></span> {{tag.name}}</a></li></ul></div><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head" ng-show=systemImages><div class=img_list><div class="category_list clearfix"><ul class="category_list_container clearfix"><li class=category_item ng-class="{\'active\': sysCatId == \'0\'}" ng-click="getSysCatAndList(\'0\')"><span>最新</span></li><li class=category_item ng-class="{\'active\': sysCatId == sysCategory.value}" ng-repeat="sysCategory in sysCategoryList|filter:{\'lang\':\'zh_CN\'}" ng-click=getSysCatAndList(sysCategory.value)>{{sysCategory.name}}</li></ul></div><div class="cat_two_list clearfix"><ul><li ng-repeat="sysTag in sysTagList" ng-class="{\'active\': sysTagId == sysTag.id}" ng-click=getSysImgByTag(sysTag.id); style=cursor:pointer>{{sysTag.name}}</li><li ng-if="bFlagType == \'3\' && sysCatId==\'1301\'" class=category_item ng-class="{\'active\': sysTagId == \'pure\'}" ng-click="getSysImgByTag(\'pure\')"><span>纯色背景</span></li></ul></div></div></div><div ng-show="userTagId==\'history\'" class="tab-pane active tab-head"></div><div class="tab-pane active tab-head" ng-show="!systemImages && type != \'p\' && type != \'n\' && userTagId!=\'history\'"><div class=my-bg><span style=float:right ng-if=!userTagId><a class=manage-all ng-show=!mangeObj.manageAll ng-click="mangeObj.manageAll = true;"><em>管理</em></a> <a class=mul-del ng-show=mangeObj.manageAll ng-click=deleteFile();><em>删除</em></a> <a class=cancel-all ng-show=mangeObj.manageAll ng-click="cancelSelect();mangeObj.manageAll = false;"><em>取消选择</em></a></span> <span style=float:right ng-if=userTagId><span ng-if="userTagId && mangeObj.manageAll" style=cursor:pointer class=cancel-all ng-click=unbindTag(userTagId);>移除</span> <a class=cancel-all ng-show=mangeObj.manageAll ng-click="cancelSelect();mangeObj.manageAll = false;"><em>取消选择</em></a> <a class=manage-all ng-show=!mangeObj.manageAll ng-click="mangeObj.manageAll = true;"><em>管理</em></a></span> <span><a class="assign-group drop-area" ng-click="showObj.showGroup=!showObj.showGroup"><em>分组</em>&nbsp;&nbsp;&nbsp; <span class=eqf-down2></span></a></span></div><div class=group-panel ng-if="showObj.showGroup && tagList.length" auto-close><ul><li ng-repeat="tag in tagList" ng-click=assignTag(tag.id)>{{tag.name}}</li></ul></div></div><div class=img_list><div class="img_list_container photo_list"><ul class="img_box clearfix" ng-class="{\'img-box-his\':userTagId==\'history\'}"><li ng-if="!systemImages && uploader.queue.length" class=imgList ng-repeat="item in uploader.queue.slice().reverse()"><div class=progress style="position: absolute;top: 50%;margin-top: -10px;width: 90%;margin-left: 5%"><div style=background-color:#08a1ef class=progress-bar role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div></div></li><li id=userlist ng-if="sysTagId != \'pure\'&& sysCatId != \'pure\'" class=imageList ng-repeat="img in imgList" ng-click="replaceByClick(img, $shape, $event);switchSelect(img, $shape, $event);" resource=img style="\'position: relative"><span ng-show="img.libType == 1" class=imagesYiTo><a href="http://www.yituw.com/searchs/DoSearch/?search=search&Srange_zh=chinese+new+year+2016&mode=&keyword=chinese+new+year+2016&Srange=" target=_blank tooltip-placement=right tooltip=亿图网正版授权 class=YiToLogo ng-click=$event.stopPropagation();><img ng-src="{{CLIENT_CDN}}assets/images/1tu.png"></a></span> <img ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image file=img ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}"><div class=img-mask ng-show="type == \'p\' || type == \'n\' || ((selectedImages.length || img.show || img.selected || mangeObj.manageAll) && !systemImages)"><a class="del-file ope-img" ng-if="!mangeObj.manageAll && !userTagId && type != \'p\' && type != \'n\'" ng-click=deleteFile(img.id)><span class="eqf-wrong2 ope-icon"></span></a> <a class="sel-file ope-img" ng-class="{\'sel-active\': img.selected, \'hide-del\': mangeObj.manageAll || userTagId || type == \'p\' || type == \'n\'}"><span class="eqf-yes ope-icon"></span></a></div></li><li id=userlist class=imageList ng-repeat="img in imgList" ng-if="sysTagId == \'pure\'|| sysCatId == \'pure\'" resource=img ng-click=replaceByClick(img) ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}"><div ng-style="{\'background-color\': img.color}" style="position: relative;height:100%;width:63px;margin: 0 auto"></div></li></ul></div></div></div></div><div class="modal-footer bg-pagination clearfix no-line"><div class="fl mr20" ng-show="numPages > 1 && userTagId!=\'history\'"><pagination style="float: left" previous-text=&lsaquo; next-text=&rsaquo; first-text=首页 last-text=尾页 max-size=5 items-per-page=pageSize total-items=totalItems ng-model=$parent.currentPage boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=$parent.toPage ng-keyup="$event.keyCode == 13 ? getImgByPage() : null"><span class=fl>页</span> <a ng-click=getImgByPage() class=go>确定</a></div></div><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=replaceImage();>确定</a></div></div></div>')
	}]), angular.module("scene/console/button.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/button.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>按钮名称 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=5051&extra="></a> <span class=action ng-show=!authError>每个场景只能添加一个提交按钮</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div><div class=dialog-content><form class=form-contain role=form><div class="modify_area form-list clearfix" style=""><label class=form-label style=width:106px>按钮名称</label><div class=form-input style="width: 400px;margin-left:10px"><input type=text check-count=40 ng-model=model.title ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 296px"></div></div></form></div></div><div class="dialog-contain rating-content"><div class="form_console dialog-content rating-preview-design"><div class="modify_area rating rating-design"><div class=rating-group><span class=title>提示类型</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=model.layout btn-radio="\'rating-l\'" style="line-height: 40px;width:80px" ng-click="model.showPic=false;">纯文字</label><label class="btn btn-rating" btn-radio="\'rating-m\'" style="line-height: 40px;width:80px;margin-left: 28px" ng-click="model.showPic=true;" ng-model=model.layout>上图下文</label><label class="btn btn-rating" ng-model=model.layout btn-radio="\'rating-s\'" style="line-height: 40px;width:80px;margin-left: 28px" ng-click="model.showPic=true;">上文下图</label></div></div></div><div class=rating-group><span class=title>提示信息</span><div class=rating-choice><input type=text ng-model=model.text class=form-control check-count=50 id=ratingTitle stop-propagation placeholder="谢谢您的参与!"></div></div><div class=rating-group style="position: relative"><div class=checkbox-square ng-class="{checked: model.checkedLink}" style="position: absolute;left:-34px"><em class=eqf-yes2></em> <input type=checkbox ng-model=model.checkedLink name=iCheck></div><span class=title>文字外链</span><div class=rating-choice><input type=text class=form-control ng-model=model.link check-count=50 id=ratingTitle stop-propagation placeholder=链接地址 ng-disabled="!model.checkedLink"></div></div><div class=rating-group ng-show=model.showPic><span class=title>提示图片</span><div class=rating-choice><a class="btn blue mr20 upload" ng-click=openImageModal()>上传</a><div class=see-image ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + model.imgSrc) + \')\',\'background-size\':\'cover\'}" style="top:340px;left:240px; width:120px;height: 120px;background-color:rgba(0,0,0,0)"></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-init="feedback=false" ng-click="feedback=true">取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/category.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/category.tpl.html", '<div class=modal-header><span>创建分类</span></div><div class="modal-body add-new-cat"><input type=text class=form-control ng-model=category.name placeholder=分类名称 autofocus stop-propagation></div><p ng-show=authError style=text-align:center;font-size:12px;color:#ff0000>{{authError}}</p><div class="btn-contain btn-small"><a ng-click=confirm() class="btn-main login">确定</a> <a ng-click=cancel(); class=btn-grey0>取消</a></div>')
	}]), angular.module("scene/console/counter.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/counter.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>计数 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13239&page=1&extra=#pid104204"></a> <span class=action ng-show=!authError>可以更换自己的图标</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-good\'}"><a ng-click="chooseEqfont(\'eqf-good\')"><span class=eqf-good></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower2\'}"><a ng-click="chooseEqfont(\'eqf-flower2\')"><span class=eqf-flower2></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-vote\'}"><a ng-click="chooseEqfont(\'eqf-vote\')"><span class=eqf-vote></span></a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:16px></em><em>自定义</em></div></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group ng-show=model.properties.imgSrc><span class=title>计数图标</span><div class="form-image btn-small counter-choice"><img style="width: 115px;height: 115px" ng-src="{{PREFIX_FILE_HOST + model.properties.imgSrc}}" alt="按钮图片"> <a class="btn-main btn-picture" ng-click=openImageModal()>更换图片</a></div></div><div class=counter-group><span class=title>颜色</span><div class=counter-choice><a class=color-picker ng-style="{backgroundColor: model.properties.color}" ng-model=model.properties.color colorpicker=rgba></a> <input class=color-picker-input ng-model=model.properties.color type="text"></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-l\'">大</label><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-m\'">中</label><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-s\'">小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=model.properties.layout btn-radio="\'counter-lr\'">左右</label><label class="btn btn-counter" ng-model=model.properties.layout btn-radio="\'counter-tb\'">上下</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/cropimage.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/cropimage.tpl.html", '<div class="dialog-contain cropimage"><div class=dialog-head><h1>图片裁切</h1><p style=margin-top:0>请根据您的需要，点击自定义或匹配单签上方按钮进行裁切</p></div><div class="crop-content dialog-content"><div class=crop-control><ul><li ng-class="{active: !fit}"><div class=pl><div class=check ng-click="fit = false"></div><div class="cha text-center">自定义</div></div><div class=pr><div class="kuan cha" ng-show=!fit>宽度: <span class=cropWidth></span></div><div class="kuan cha" ng-show=!fit>高度: <span class=cropHeight></span></div><div class="kuan cha"><input type=checkbox ng-disabled=fit ng-model="lockRatio">锁定当前比例</div></div></li><li ng-class="{active: fit}"><div class=pl><div class=check ng-click="fit = true"></div><div class="cha text-center">匹配当前</div></div><div class=pr><div class="kuan cha" ng-show=fit>宽度: <span class=cropWidth></span></div><div class="kuan cha" ng-show=fit>高度: <span class=cropHeight></span></div><div class="kuan cha">匹配当前图片框比例</div></div></li><li class="crop-btn fr"><a class=btn-main href="" ng-click=crop()>确定</a> <a class=btn-grey0 style=margin-top:20px href="" ng-click=cancel()>取消</a></li></ul></div><div class=image_crop><img id=target></div></div></div>')
	}]), angular.module("scene/console/customActivities.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/customActivities.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>企业定制活动</h4></div><div class="modal-body invoice" style="height:415px;overflow: hidden;padding:20px 20px 0 20px"><form class=form-horizontal><div class="form-group clearfix"><label style=line-height:30px;text-align:center class=col-sm-3>活动主题</label><div class=col-sm-8><input type=text ng-disabled=formDis class=form-control ng-model=active.title maxlength=24 required></div></div><div class="form-group clearfix"><label style=line-height:30px;text-align:center class=col-sm-3>活动时间</label><div class=col-sm-4><p class="input-group datepicker"><input type=text class=form-control datepicker-popup=yyyy/MM/dd ng-model=active.startDate is-open=opened1 datepicker-options="{\'formatYear\':\'yy\',startingDay:1}" ng-disabled=formDis date-disabled="disabled(date, mode)" ng-required=true close-text="Close"> <span class=input-group-btn><button type=button class="btn btn-default" ng-disabled=formDis ng-click="opened1 = true;opened=false;$event.stopPropagation();$event.preventDefault();"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div style="float:left;line-height: 30px">-</div><div class=col-sm-4 style=padding-left:10px;padding-right:20px><p class="input-group datepicker"><input type=text class=form-control ng-disabled=formDis datepicker-popup=yyyy/MM/dd ng-model=active.endDate is-open=opened datepicker-options="{\'formatYear\':\'yy\',startingDay:1}" date-disabled="disabled(date, mode)" ng-required=true close-text="Close"> <span class=input-group-btn><button type=button class="btn btn-default" ng-disabled=formDis ng-click="opened = true;opened1=false;$event.stopPropagation();$event.preventDefault();"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="form-group clearfix"><label style=line-height:30px;text-align:center class=col-sm-3>活动描述</label><div class=col-sm-8><span class=mr20 ng-if=active.introductionName>{{active.introductionName}}<em class=eqf-wrong style=margin-left:10px;cursor:pointer ng-click=removeIntro()></em></span><div class="btn blue mr20 upload" style="cursor: pointer;position: relative" ng-disabled=formDis>上传 <input type=file ng-disabled=formDis multiple nv-file-select="" uploader=uploader options style="width:50px;height: 33px;overflow: hidden;position: absolute;top:0;right:0;left:0;bottom:0;cursor: pointer;opacity:0"></div></div></div></form></div><div class="modal-footer ml20 mr20"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>')
	}]), angular.module("scene/console/fake.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/fake.tpl.html", '<div class=modal-footer><div class="alert alert-info" role=alert>此功能为高级账号功能，点击按钮免费申请成为高级账号！</div><a class="btn-main login" target=_blank style="width: 188px" ng-href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77">免费成为高级账号</a></div><div class=anim_area style="padding: 0 20px 20px"><img title=点击上方按钮成为高级账号 ng-show="type==\'style\'" src="{{CLIENT_CDN}}assets/images/create/fakestyle.png"> <img title=点击上方按钮成为高级账号 ng-show="type==\'anim\'" src="{{CLIENT_CDN}}assets/images/create/fakeanim.png"></div>')
	}]), angular.module("scene/console/imageCrop.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/imageCrop.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{cropOption.title}} <span class=action>{{cropOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class="image_crop crop-img-cut" ctype={{cropOption.type}} ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=target eqx-crop-preview ng-src="{{PREFIX_FILE_HOST + cropOption.imgSrc}}"></div><div class=cut-size ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>')
	}]), angular.module("scene/console/input.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/input.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>输入框组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1935&page="></a> <span class=action ng-show=!authError>在场景中添加输入框可以用来收集数据信息</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same change-title clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a style="border-width: 2px !important" ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div><div class="form_console dialog-content"><div class=modify_area><form class=form-contain><div class="form-list clearfix" style=margin-left:70px><label class=form-label>输入框名称：</label><div class=form-input><input style=width:350px;float:left type=text ng-model=model.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation><div class=checkbox-square ng-class="{checked: model.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value=required ng-model=model.required name=iCheck></div><label for=checkbox_required class=ml20>必填</label></div></div></form><div class="customized_container clearfix"><div class=radio-square ng-class="{checked: model.type==\'501\'}"><em></em> <input type=radio id=input_name ng-model=model.type ng-change="model.title=\'姓名\'" value=501></div><label for=input_name>姓名</label><div class=radio-square ng-class="{checked: model.type==\'502\'}"><em></em> <input type=radio id=input_phone ng-model=model.type ng-change="model.title=\'手机\'" value=502></div><label for=input_phone>手机</label><div class=radio-square ng-class="{checked: model.type==\'503\'}"><em></em> <input type=radio id=input_email ng-model=model.type ng-change="model.title=\'邮箱\'" value=503></div><label for=input_email>邮箱</label><div class=radio-square ng-class="{checked: model.type==\'504\'}"><em></em> <input type=radio id=input_text ng-model=model.type ng-change="model.title=\'文本\'" value=504></div><label for=input_text>文本</label></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/link-component.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/link-component.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13069&extra"></a> <span class=action ng-show=!authError>两种链接：可以跳转到场景外部的链接，或者内部导航链接</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain link-component"><div class=tab-same><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic></em><em>自定义</em></div></div><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix" ng-if=!model.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name style=width:300px type=text ng-model=model.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation></div></div><div class="form-list clearfix" ng-if=model.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"> <a class="btn-main btn-picture" style=text-align:center;font-size:12px ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix" style="position: relative"><label for=externalRadio class=form-label><input type=radio name=externalRadio id=externalRadio ng-model=model.url.link value=external ng-change=changed() style="margin:0px 5px 0 0"><span>网站地址：</span></label><div class=form-input><input style=width:300px type=text ng-model=model.url.externalLink name=externalLink id=externalLink placeholder=网站地址 ng-disabled="url.link == \'internal\'" ng-change="selectRadio(\'external\')" limit-link-length stop-propagation> <a style="font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px" ng-show="url.link == \'external\'" class=delete-link ng-click="removeLink(\'external\')"></a></div><a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px;font-size:12px" target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><input type=radio name=internalRadio id=internalRadio value=internal ng-model=model.url.link ng-change=changed() style="margin:0px 5px 0 0"><span>场景页面：</span></label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=model.url.internalLink change="selectRadio(\'internal\')"><eqx-select-option value=null>选择场景页面</eqx-select-option><eqx-select-option value=page.id ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select><a style="display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px" ng-show="url.link == \'internal\'" ng-click="removeLink(\'internal\')"></a></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/link.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/link.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <span class=action>可以链接到场景其他页面或者链接网站地址</span></h4></div><div class=dialog-contain><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix"><label for=externalRadio class=form-label ng-init="url.link=\'external\'"><div class=radio-square ng-class="{checked:url.link==\'external\'}"><em></em> <input type=radio name=externalRadio id=externalRadio ng-model=url.link value=external ng-change=changed() style=margin:0px></div><em>网站地址：</em></label><div class=form-input><input class="" style=height:35px;width:300px type=text ng-model=url.externalLink name=externalLink id=externalLink placeholder="http://" ng-disabled="url.link == \'internal\'" ng-change="selectRadio(\'external\')" limit-link-length> <a style="font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px" ng-show="url.link == \'external\'" class=delete-link ng-click="removeLink(\'external\')"></a></div><a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px" target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><div class=radio-square ng-class="{checked:url.link==\'internal\'}"><em></em> <input type=radio name=internalRadio id=internalRadio value=internal ng-model=url.link ng-change=changed() style=margin:0px></div><em>场景页面：</em></label><div class=form-input><eqx-select class="select-sm select-contain border-width fl" model=url.internalLink change="selectRadio(\'internal\')"><eqx-select-option value=page ng-disabled="url.link == \'external\'" ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select><a style="margin-left:10px;display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px" ng-show="url.link == \'internal\'" ng-click="removeLink(\'internal\')"></a></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>');
	}]), angular.module("scene/console/map.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/map.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>地图</h4></div><div class=map_console><div class=search_area><div class=input-group><input type=text class=form-control ng-model=address ng-keyup="$event.keyCode == 13 ? searchAddress(address) : null" placeholder=请输入地名> <span class=input-group-btn><button ng-click=searchAddress(address) class="btn btn-default" type=button>搜索</button></span></div><h5 class=result-count ng-if=pois>搜索结果：{{pois.length}}条</h5><div class=result><div eqd-scroll style="height: 100%"><ul><li ng-class="{active:choosePoi.id==poi.id}" ng-repeat="poi in pois" ng-click=choosePosition(poi)><i class=circle>{{$index+1}}</i><h5 class=name>{{poi.name}}</h5><p class=address>{{poi.address}}</p></li></ul></div></div></div><div eqd-map class=map-contain center=$parent.center zoom=$parent.zoom bounds=$parent.bounds><eqd-map-mark position=markerP></eqd-map-mark></div></div><div class="modal-footer ml20 mr20"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>')
	}]), angular.module("scene/console/microweb.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/microweb.tpl.html", '<div class=button_console><div class=modify_area><div>导航样式:<ul><li ng-click=selectColor(color) ng-class="{colorborder: model.color == color.backgroundColor}" style="display: inline-block; margin: 10px" ng-repeat="color in backgroundColors"><div style="width: 50px; height: 30px; margin: 10px; cursor:pointer" ng-style=color></div></li></ul></div></div><div class=divider style="margin-top: 10px; height: 1px; background: #ccc"></div><div class=modify_area><div><ul class=clearfix style=left:50%;margin-left:-160px;position:relative;height:65px><li class=title_color ng-class="{colorborder:labelIndex == $index && labelName.mousedown,selectedcolor: labelName.selected,whitecolor: labelName.color.backgroundColor == \'#fafafa\'}" ng-click="switchLabel(labelName, $index)" style="display: inline-block;float:left" ng-repeat="labelName in labelNames"><div style="margin: 10px; width:50px; height: 30px;line-height:30px; border: 1px solid #ccc; cursor: pointer" ng-style=labelName.color>{{labelName.title}}</div></li></ul></div><span class=label>导航名称：</span> <input type=text ng-model=model.title ng-change=changeLabelName() ng-keyup="$event.keyCode == 13 ? confirm() : null" placeholder=导航名称 maxlength="4"></div><div class=modify_area><span class=label>链接页面：</span><select style="width: 181px; height: 30px; display: inline-block" ng-model=model.link ng-options="page.name for page in pageList" ng-change=selectLink(model.link)></select></div><div class=modify_area style="color: #ff0000">至少选择两个标签，并分别添加链接</div></div><div class=modal-footer><a class="btn-main login" style="width: 88px" ng-click=confirm()>确定</a> <a class="btn-grey0 cancel" style="width: 88px" ng-click=cancel()>取消</a></div>')
	}]), angular.module("scene/console/pictures.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/pictures.tpl.html", '<div class=dialog-contain><div class=dialog-head><h1>图集组件</h1><p ng-show=!authError>图集中可以添加多张图片</p><p ng-show=authError>{{authError}}</p></div><div class=pic-contain><div class="pic-head clearfix pic-same"><div class=select-img><a ng-click=choosePic()>选择图片</a> <span>最多可选择6张图片</span></div><div class="select-style clearfix"><select ng-model=properties.picStyle ng-options="pic.desc for pic in picStyles"></select><span class=bg-color ng-style="{\'background-color\': properties.bgColor}"></span> <span class=select-bg-color colorpicker=rgba ng-model=properties.bgColor>背景颜色</span></div></div><div class="pic-img-list pic-same"><ul class=clearfix><li eqx-pictures-image-click ng-class="{hover: currentImageIndex === $index}" ng-repeat="img in properties.children track by $index"><img class=pic-img ng-src="{{PREFIX_FILE_HOST + img.src}}"> <i class=delete-img><img ng-src="{{CLIENT_CDN}}assets/images/bg_07.png"></i></li></ul></div><div class=pic-preview ng-style="{\'background-color\': properties.bgColor, width: position.width, height: position.height}"></div><div class=operation-pre><a class=cut eqx-pictures-image-crop>裁切</a></div><div class="pic-same pic-play clearfix"><div class="set-play clearfix"><span ng-show=properties.autoPlay><span class="button on" ng-click="properties.autoPlay = false"><i></i></span>已开启自动播放</span> <span ng-show=!properties.autoPlay><span class="button off" ng-click="properties.autoPlay = true"><i></i></span>已关闭自动播放</span></div><div class="btn-content btn-contain" style=padding:0><a class="btn-grey0 cancel" style=margin-right:8px ng-click=cancel()>取消</a> <a class="btn-main login" ng-click=ok()>确定</a></div></div></div></div>')
	}]), angular.module("scene/console/pictures1.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/pictures1.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{imageOption.title}} <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696"></a> <span class=action>{{imageOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class=image-con style=width:100% ng-hide=imageOption.showCrop><div class=add-img ng-click="addPictures($event, 0, \'first\')"><i>点击添加图片</i><p style="padding-top: 5px;font-size: 14px"><i>（最多可添加6张图片）</i></p></div></div><div class=clearfix ng-show=imageOption.showCrop><div class=picture-img><div class=image_crop ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=img_preview eqx-pictures-crop-preview index={{imageOption.currentImage.index}} ng-src="{{imageOption.currentImage.src ? PREFIX_FILE_HOST + imageOption.currentImage.src : \'\'}}"></div><div class=img-abbre><ul class=clearfix><li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.src ? \'url(\' + PREFIX_FILE_HOST + child.src + \')\' : \'\'}" ng-click=changePicture($index)><div class=img-set ng-show=child.src.length><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delPicture($index)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click="addPictures($event, $index)"><span class=eqf-top-pic></span></div></div><p class=eqf-plus2 ng-hide=child.src.length ng-click="addPictures($event, $index, \'more\')"></p></li></ul></div></div><div class="cut-size picture-size" ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><div class=radio-square style=margin-top:7px ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)></div><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul><ul style=margin-top:10px class=picture-set><li class=clearfix><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span>{{properties.autoPlay ? (\'自动切换\') : (\'手动切换\')}}</li><li><p><i>切换时间：</i>{{properties.interval / 1000}}<i>秒</i></p></li><li class=switch-time style="padding-top: 5px"><div ui-slider-t min=1000 max=5000 step=1000 class=slider ng-model=properties.interval ng-class="{disable: !properties.autoPlay}"></div><div class=time-mark ng-hide=properties.autoPlay></div></li><li><p>切换动画</p></li><li><eqx-select class="select-sm border-width select-contain" model=properties.picStyle change=getMyScenes()><eqx-select-option value=pic ng-repeat="pic in picStyles">{{pic.desc}}</eqx-select-option></eqx-select></li></ul></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}">取消</a> <a class="btn btn-primary" ng-click=ok() ng-show=imageOption.showCrop>确定</a></div><div class=loading-mask ng-show=imageOption.showLoading><img ng-src={{CLIENT_CDN}}assets/images/oval.svg></div>')
	}]), angular.module("scene/console/radio-checkbox.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/radio-checkbox.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{model.type ==\'r\' ? (\'单选框组件\'): (\'多选框组件\')}} <a ng-show="model.type ==\'r\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9374&extra="></a> <a ng-show="model.type ==\'c\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9375&extra="></a> <span class=action ng-show=!authError>{{model.type ==\'r\' ? (\'最多可以添加八个单选选项\') : (\'最多可以添加八个多选选项\')}}</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)"><span>{{model.type ==\'r\' ? (\'单选选项\'):(\'多选选项\')}}</span></a></span></div><div class="form_console dialog-content input-content"><div class=input-preview style="border-color:  {{buttons[btnIndex].btnStyle.borderColor}}"><div class=preview-title ng-style=buttons[btnIndex].properties.titleStyle>{{model.title?model.title:(\'标题演示\')}}</div><div class=preview-options><div class=preview-option ng-repeat="option in model.options" ng-style=buttons[btnIndex].properties.optionStyle><input type=radio disabled ng-if="model.type == \'r\'" style="margin-top: -1px"> <input type=checkbox disabled ng-if="model.type == \'c\'" style="margin-top: -1px"> <span>{{option.label}}</span></div></div></div><div class="modify_area input-design"><div class=input-title><div><span class=title>标题</span></div><textarea class=form-control ng-model=model.title placeholder=请输入标题 id=radioTitle rows=3 check-count=82 stop-propagation autofocus style="width: 400px"></textarea><span style="position: relative;display: inline-block;vertical-align: middle;height: 74px;line-height: 74px"><label for=checkbox_required style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 60px"><div class=checkbox-square style=margin-top:30px ng-class="{checked: model.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value=required ng-model=model.required name=iCheck></div>必填</label></span></div><div class=input-options><div class=input-option><span class=option>选项</span> <span class=option-tip>（您可以添加八个选项，每个选项最多请不要超过41字）</span></div><div id=optionGroupContainer class=option-group-container style=position:relative><div eqd-scroll style="height: 100%"><div><div class=option-group ng-repeat="option in model.options"><textarea class="option-label form-control" rows=2 ng-model=option.label check-count=82 stop-propagation></textarea><div class=operations><span class=eqf-delete2 ng-click=deleteTheOption($index)></span> <span class=eqf-plus ng-click=addNewOption($index)></span></div></div></div></div></div><div class="input-tip clearfix"><span class=add-option ng-click=addNewOption(model.options.length)><span class=eqf-plus2></span><i>增加选项</i></span> <span class=page-indicator>{{model.options.length}}/8</span></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/randomevent.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/randomevent.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>随机事件 <span ng-show=!authError class=action>可以从素材库中添加图片</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class=dialog-content><ul><li ng-click=choosePic() ng-hide="picList.length >= 10"><a href="">添加</a></li><li ng-repeat="pic in picList"><div class=img-set><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delImage($index)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click=replaceImage($index)><span class=eqf-top-pic></span></div></div><img ng-src="{{PREFIX_FILE_HOST + pic.src}}" responsive-image></li></ul></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/rating.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/rating.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>评分 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9376&extra="></a> <span class=action ng-show=!authError>请输入少于12个字的评分标题</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain rating-content"><div class=tab-same><span ng-class="{\'spanborder\': model.properties.icon == \'eqf-star\'}"><a ng-click="chooseEqfont(\'eqf-star\')"><span class=eqf-star></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-roll\'}"><a ng-click="chooseEqfont(\'eqf-roll\')"><span class=eqf-roll></span></a></span> <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower\'}"><a ng-click="chooseEqfont(\'eqf-flower\')"><span class=eqf-flower></span></a></span></div><div class="form_console dialog-content rating-preview-design"><div class="comp_rating rating rating-preview"><div class="rating-title ellipsis">{{model.title?model.title:(\'预览标题\')}}</div><div class=rating-icons><span class="{{model.properties.icon}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span> <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span> <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span> <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span> <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span></div></div><div class="modify_area rating rating-design"><div class=rating-group><span class=title>标题</span><div class=rating-choice><input type=text class=form-control ng-model=model.title placeholder=评分： check-count=40 id=ratingTitle stop-propagation autofocus> <span style="display: inline-block;position: relative;vertical-align: middle;height: 35px;line-height: 35px"><label for=checkbox_required style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 70px"><div class=checkbox-square ng-class="{checked: model.properties.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value=properties.required ng-model=model.properties.required name=iCheck></div><span style=padding-left:5px>必填</span></label></span></div></div><div class=rating-group><span class=title style="vertical-align: top;line-height: 28px;height: 28px">颜色</span><div class=rating-choice><eqd-input-color select-color=model.properties.color default-color="\'rgba(255, 147, 7, 1)\'" x=24 stop-propagation></eqd-input-color></div></div><div class=rating-group><span class=title>大小</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=model.properties.size btn-radio="\'rating-l\'">大</label><label class="btn btn-rating" ng-model=model.properties.size btn-radio="\'rating-m\'">中</label><label class="btn btn-rating" ng-model=model.properties.size btn-radio="\'rating-s\'">小</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/scene-setting-component.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/scene-setting-component.tpl.html", '<div class=scene-setting-component><div class=setting-bg></div><div class=left-con ng-mousedown=closeSetting($event)><div class="phone-view nr" scene-view id=phoneView scene-id={{sceneId}} scene-name={{scene.name}} scene-cover="{{PREFIX_FILE_HOST + scene.cover}}" scene-description={{scene.description}} ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()></div><div class=phone ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><h4 class=name>{{showPhoneTitle}}</h4></div><div class=ctrl-panel ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><a class=next-page ng-click=nextPage()>下一页</a> <a class=pre-page ng-click=prePage()>上一页</a></div></div><div class="scene-setting-info fade" ng-init="tabid=\'customset\'"><div class=form-contain><ul class="nav nav-tabs"><li ng-class="{active:tabid==\'customset\'}"><a ng-click="tabid=\'customset\'">常用设置</a></li><li ng-class="{active:tabid==\'shareset\'}"><a ng-click="tabid=\'shareset\'">分享设置</a></li><li ng-class="{active:tabid==\'companyset\'}"><a ng-click="tabid=\'companyset\'">高级设置</a></li></ul><div style="position: fixed;top: 40px;bottom: 80px;left: 0;right: 0"><form class=form-horizontal role=form eqd-scroll style="height: 100%" name=myForm ng-show="tabid==\'customset\'" novalidate disable-mouse=true prevent-exception=true><div class="basic-setting clearfix"><div class="content clearfix"><div class="basic-info clearfix"><div class=left><div class=cover-img><a ng-click=openImageModal();><img ng-src="{{PREFIX_FILE_HOST +  scene.cover}}"> <em>更换封面</em></a></div></div><div class=right><div class="setting-group setting-name"><em style=margin-bottom:5px>标题</em><div class=setting-value><input name=name type=text class="form-control name" ng-class="{redborder:(!scene.name || countCharacters(scene.name.trim())>48)}" id=name placeholder=场景名称 ng-change=changeSceneName();maxLength24() ng-focus=changeView() ng-model=scene.name stop-propagation> <span class=input-tip>{{(scene.name?countCharacters(scene.name.trim()):0)}}/48</span></div></div><div class="setting-group setting-description"><em style=line-height:48px>描述</em><div class=setting-value><textarea style=font-size:12px placeholder=点击添加描述即可在左侧同步看到最终分享时的效果 ng-model=scene.description class="description form-control" rows=2 id=description ng-focus=changeView() name=description ng-change=maxLength30() stop-propagation></textarea></div></div></div></div><h6 class="des mt20">场景类型</h6><div class="setting-group setting-flip"><div class=setting-line><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" model=scene.type><eqx-select-option value=type.value ng-repeat="type in types">{{type.name}}</eqx-select-option></eqx-select></div></div><h6 class="des mt20">翻页方式</h6><div class=setting-line><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" change=changePageMode() model=scene.pageMode><eqx-select-option value=pagemode.id ng-repeat="pagemode in pagemodes">{{pagemode.name}}</eqx-select-option></eqx-select></div><div class="music-cycle border" ng-class="{checkedbg: !scene.property.triggerLoop}"><div class=checkbox-square ng-class="{checked: scene.property.triggerLoop}"><em class=eqf-yes2></em> <input type=checkbox ng-change=changeLoop() ng-model=scene.property.triggerLoop name=iCheck></div><em>循环播放</em></div><div class="music-cycle border" ng-class="{checkedbg: !scene.property.autoFlip}"><div class=checkbox-square ng-class="{checked: scene.property.autoFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=changeAutoFlip() ng-model=scene.property.autoFlip></div><em>自动播放</em></div><div class=flip-num style=width:120px ng-if=scene.property.autoFlip><input type=number ng-change=changeAutoFlip() class=form-control min=1 max=60 limit-input ng-model=scene.property.autoFlipTime stop-propagation> <span class=speed>秒</span></div></div><div class=setting-line ng-show="user.type!=1"><div class="music-cycle border" style=margin-left:0;width:178px ng-class="{checkedbg: !scene.property.forbidHandFlip}"><div class=checkbox-square ng-class="{checked: scene.property.forbidHandFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=changeHandFlip() ng-model=scene.property.forbidHandFlip name=iCheck></div><em>禁止滑动进入下一页</em></div></div><div><h6 class=des style=float:left>场景音乐</h6><h6 class="des mt20" style=margin-left:200px>场景页码</h6></div><div class=setting-line style=margin-bottom:50px><div class=scene-music style=position:relative><span class="form-control bg-music ellipsis" style="padding-top: 9px" ng-click=openAudioModal()>{{(!!scene.bgAudio) ? (scene.bgAudio.name ? scene.bgAudio.name : (\'已添加\')) : (\'场景音乐\')}}</span> <span class="eqf-top-music music-icon" ng-click=openAudioModal()></span></div><div class="music-cycle border" ng-class="{checkedbg: !scene.property.slideNumber,uncheckedbg:scene.property.slideNumber}"><div class=checkbox-square ng-class="{checked: scene.property.slideNumber}"><em class=eqf-yes2></em> <input type=checkbox ng-change=changeProgess() ng-model=scene.property.slideNumber></div><em>显示</em></div></div></div></div></div></form><form class=form-horizontal role=form eqd-scroll style="height: 100%" name=myForm ng-show="tabid==\'shareset\'" novalidate><div class="basic-setting clearfix"><div class="content clearfix"><h6 class="des mt20">场景访问状态</h6><div class="setting-group setting-flip"><div class=setting-line><div class="scene-type-contain border"><eqx-select class="select-great select-contain" change=changeSceneState() model=sceneStatue><eqx-select-option value=1>允许访问</eqx-select-option><eqx-select-option value=3 ng-if="scene.applyTemplate!=2">加密访问</eqx-select-option></eqx-select></div><div class=flip-num ng-if="sceneStatue == 3"><input type=text maxlength=4 class="form-control password" id=accessCode placeholder=请设置4位数字的密码 ng-change=fourNumberPassword();changeCode(); ng-model=scene.accessCode maxlength=4 ng-change=fourNumberPassword() stop-propagation ng-disabled="scene.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'2\' || scene.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'2\' || scene.isShow == \'1\' || scene.promIds"></div></div><h6 class="des mt20">场景分享</h6><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{scene.publishTime?\'申请加入秀场\':\'发布后才能申请\'}}" ng-class="{checkedbg: scene.isShow!=1,uncheckedbg:scene.isShow==1}"><div class=checkbox-square ng-class="{checked: scene.isShow==1}"><em class=eqf-yes2></em> <input id=eqShowGround type=checkbox class=option ng-true-value=1 ng-false-value=0 ng-model=scene.isShow ng-disabled="sceneStatue==2 || sceneStatue==3 || !scene.publishTime || $parent.scene.isShow==1 || $parent.scene.isShow==2 || scene.status == -1 && scene.status == -2"></div><em>申请加入秀场</em></div><div class="scene-type-contain border ml20" ng-if="scene.isShow==1"><eqx-select class="select-great select-contain" change=changeTagId() model=scene.tagId><eqx-select-option value=null>选择类型</eqx-select-option><eqx-select-option value=sceneTag.id ng-repeat="sceneTag in sceneTags">{{sceneTag.name}}</eqx-select-option></eqx-select></div><a class=logo-tip target=_blank href=#/show style=text-decoration:underline;position:absolute;right:20px>访问秀场</a></div><div class=last-page-contain ng-if=appendActive><div eqd-scroll style="height: 100%"><ul><li class=last-cover-img ng-repeat="pageTpl in activityPageTpls" ng-click=chooseActivityPageTpl(pageTpl.id)><img class=lp-list ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}"><div class=checkbox-square ng-class="{checked: scene.property.activityPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div></div></div></form><form eqd-scroll style="height: 100%" class="form-horizontal setting-group" role=form name=myForm ng-show="tabid==\'companyset\'" novalidate><div class="basic-setting clearfix"><h6 class="des mt20">加载设置</h6><div class="setting-line mr20" style="border-bottom:1px solid #ccd5db;height:56px;margin-top:20px"><div class="form-col2 border" ng-class="{checked: !loadingLogo,uncheckedbg: loadingLogo}"><div class=checkbox-square ng-click=changeLogo() ng-class="{checked: loadingLogo}"><em class=eqf-yes2></em> <input type=checkbox></div><em>自定义加载logo</em></div><div class="setting-logo border" ng-if=loadingLogo ng-click=uploadLoadingLogo()><div class=load-logo-contain><img ng-if=!scene.loadingLogo ng-src={{CLIENT_CDN}}assets/images/create/pic.svg> <img ng-if=scene.loadingLogo ng-src="{{PREFIX_FILE_HOST + scene.loadingLogo}}"></div><span class=des>设置加载logo</span></div><div class=logo-tip ng-if=loadingLogo style="position: absolute;right: 180px">118*118px</div><div class=logo-tip ng-if=!user.memberType style="position: absolute;right: 80px">需<span style=color:#ff5448>'+loadingLogo_qi_xd+'</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class=logo-tip ng-if="user.memberType==1" style="position: absolute;right: 80px">需<span style=color:#ff5448>95</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class=logo-tip ng-if="user.memberType==2" style="position: absolute;right: 80px">需<span style=color:#ff5448>90</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class=logo-tip ng-if="user.memberType==3 && memberObj.loadingLogo!=\'0\'" style="position: absolute;right: 80px">免费<span style=color:#ff5448>{{memberObj.loadingLogo}}</span>次</div><div class=logo-tip ng-if="user.memberType==3 && memberObj.loadingLogo==\'0\'" style="position: absolute;right: 80px">需<span style=color:#ff5448>100</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class=logo-tip ng-if="user.memberType==4" style="position: absolute;right: 80px">需<span style=color:#ff5448>70</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div></div><h6 class="des mt20">尾页与底标<a ng-if="user.type == 1" ng-click=freeUpgrade() style=padding-left:10px;color:#a3afb7><ins>免费</ins></a></h6><table class=bottom-table><tr ng-click=switchToAdState($scope.eqADTypeChoice.FREEPAGE,true); ng-class="{uncheckedbg:(eqShowType==\'eqFree\')}"><td class=choise><div class=radio-square ng-class="{checked: (eqShowType==\'eqFree\')}"><em></em></div><em>技术支持尾页</em></td><td class=price>免费</td></tr><tr ng-click=switchToAdState(eqADTypeChoice.HIDE,true) ng-class="{uncheckedbg:(eqShowType==\'eqHide\')}" ng-show="user.type!=5 && user.type!=51"><td class=choise><div class=radio-square ng-class="{checked: (eqShowType == \'eqHide\')}"><em></em></div><em>无尾页和底标</em></td><td class=price ng-if=!user.memberType>需<span style=color:#ff5448>'+QI_AD_XDS+'</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.memberType==1">需<span style=color:#ff5448>95</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.memberType==2">需<span style=color:#ff5448>90</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.memberType==3 && memberObj.tailPage!=\'0\'">免费<span style=color:#ff5448>{{memberObj.tailPage}}</span>次</td><td class=price ng-if="user.memberType==3 && memberObj.tailPage==\'0\'">需<span style=color:#ff5448>100</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.memberType==4">需<span style=color:#ff5448>70</span>秀点<a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td></tr></table><div class=setting-line ng-show="scene.property.eqAdType == 3"><div class=setting-logo style=margin-left:0><input type=text class=form-control ng-model=scene.property.bottomLabel.name ng-change=changeBottomLabel() id=changeMessage placeholder=名称 stop-propagation></div><div class=setting-logo style=width:450px><input type=text class=form-control ng-model=scene.property.bottomLabel.url ng-change=changeBottomLabel() id=linkAddress placeholder=网址 stop-propagation></div></div><div class=last-page-contain ng-if="eqShowType==\'eqFree\'"><div eqd-scroll style="height: 100%" disable-mouse=true prevent-exception=true><ul><li class=last-cover-img style="text-align:center;border-radius:4px;border:1px solid #ccd5db" ng-click=chooseLastPage(null)><span class="lp-list default-last-page" style=line-height:152px ng-class="{checked: !scene.property.lastPageId}">默认</span><div class=checkbox-square ng-class={checked:!scene.property.lastPageId}><em class=eqf-yes2></em></div></li><li class=last-cover-img ng-repeat="pageTpl in pageTpls" ng-click=chooseLastPage(pageTpl.id)><img ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}" src=assets/images/create/pic.svg load-err><div class=checkbox-square ng-class="{checked:scene.property.lastPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div><div class=last-page-contain ng-if="eqShowType==\'eqLink\' && scene.property.eqAdType == 3"><div eqd-scroll style="height: 100%"><ul><li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click=chooseCustomBottomLabel(bottomPageTpl.id)><img src=assets/images/create/pic.svg> <img class=bottom-img ng-src="{{PREFIX_FILE_HOST + bottomPageTpl.properties.thumbSrc}}"><div class=checkbox-square ng-class="{checked: scene.property.eqAdType == 3 && scene.property.bottomLabel.id == bottomPageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div></form></div></div><div class=setting-operations><div class=option-box><button ng-click=saveSceneSettings(scene) class="btn green">确定</button> <button ng-click=cancelSceneSetting() class="btn gray" style=margin-left:10px>取消</button></div></div></div><div ng-class={showin:showActiveTip} class=showxiu ng-init="hideActiveTip = true;"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showActiveTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>参加活动</h4></div><div class=modal-body><p style="line-height: 30px">参加活动并保存场景后，不可取消或选择其他活动</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideActiveTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=changeAppendActive(true)>确定</a></div></div></div>');
	}]), angular.module("scene/console/setting.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/setting.tpl.html", '<div panel-draggable id=comp_setting><div class=cancel><span class=set-title>组件设置</span><span class="set-close eqf-wrong" ng-click=cancel()></span></div><ul class="nav nav-tabs"><li ng-class="{active:activeTab == \'style\'}"><a class=all-change ng-click="showSettingTab(\'style\');">样式</a></li><li ng-class="{active:activeTab == \'anim\'}"><a class=all-change ng-click="showSettingTab(\'anim\');">动画</a></li><li ng-hide="elemDef.type == \'w01\' || elemDef.type == \'w02\'" ng-class="{active:activeTab == \'trigger\'}"><a class=all-change ng-click="showSettingTab(\'trigger\');">触发</a></li></ul><div class=style_content><div ng-include="\'scene/console/anim.tpl.html\'"></div><div ng-include="\'scene/console/style.tpl.html\'"></div><div ng-include="\'scene/console/trigger.tpl.html\'"></div></div></div>')
	}]), angular.module("scene/console/shape.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/shape.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>形状库 <span ng-show=!authError class=action>矢量素材，可更换颜色，放大不失真</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class="dialog-content bg_console sound-flex clearfix"><div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: systemImages}"><a href="" ng-click="switchToSystemImages(\'true\');getSystemCategoryList();" data-toggle=tab>形状库</a></li></ul><ul class="nav tabs-left user-tabs" style=padding-top:0></ul></div><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head" ng-show=systemImages><div class=img_list><div class="category_list clearfix"><ul class="category_list_container clearfix"><li class=category_item ng-class="{\'active\': sysCatId == sysCategory.value}" ng-repeat="sysCategory in sysCategoryList" ng-click=getSysCatAndList(sysCategory.value)>{{sysCategory.name}}</li></ul></div><div class="cat_two_list clearfix"><ul><li ng-repeat="sysTag in sysTagList" ng-class="{\'active\': sysTagId == sysTag.id}" ng-click=getSysImgByTag(sysTag.id); style=cursor:pointer>{{sysTag.name}}</li></ul></div></div></div><div class=img_list><div class="img_list_container photo_list"><ul class="img_box clearfix" ng-class="{\'img-box-his\':userTagId==\'history\'}" style=height:333px><li ng-if=!systemImages ng-repeat="img in imgList" style="width:100px;height:100px;position:relative;display: inline-block;background:#ccc no-repeat center/contain" ng-style="{backgroundImage: \'url(\' + PREFIX_FILE_HOST + img.path + \')\'}" data-url={{img.path}} ng-click=selectSvg($event,img.id)></li><li ng-if=systemImages ng-repeat="img in imgList" style="width:100px;height:100px;position:relative;display: inline-block;background:#ccc no-repeat center/contain" ng-style="{backgroundImage: \'url(\' + PREFIX_FILE_HOST + img.path + \')\'}" data-url={{img.path}} ng-click=selectSvg($event,img.id)></li></ul></div></div></div></div><div class="modal-footer bg-pagination clearfix no-line"><div class="fl mr20" ng-show="numPages > 1 && userTagId!=\'history\'"><pagination style="float: left" previous-text=&lsaquo; next-text=&rsaquo; first-text=首页 last-text=尾页 max-size=5 items-per-page=pageSize total-items=totalItems ng-model=$parent.currentPage boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=$parent.toPage ng-keyup="$event.keyCode == 13 ? getImgByPage() : null"><span class=fl>页</span> <a ng-click=getImgByPage() class=go>确定</a></div></div><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm();>确定</a></div></div></div>')
	}]), angular.module("scene/console/sound-component.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/sound-component.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>音效组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=10990&extra="></a> <span class=action ng-show=!authError>音效不能大于100kb</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-upload style=font-size:16px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name type=text ng-model=model.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation></div></div><div class="form-list clearfix" ng-if=model.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=btnSound class=form-label>音效：</label><div class=form-input><a id=btnSound class="btn-main blue" ng-click=openSoundModal()>设置音效</a></div></div><div class="form-list clearfix" ng-show=model.sound.name><label class=form-label>已选择：</label><div class=form-input><span>{{model.sound.name}}</span></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/sound.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/sound.tpl.html", '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title ng-if="type == 4">音效设置 <span ng-show=selectSoundError class=action>{{selectSoundError}}</span></h4><h4 class=modal-title ng-if="type == 2">音乐素材 <span ng-show=selectSoundError class=action>{{selectSoundError}}</span></h4></div><div class=dialog-contain><div class="dialog-content bg_console clearfix"><div ng-show=soundAction style="position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000;z-index: 1;opacity: 0.2"></div><div class=sound-action-upload ng-show=soundAction><p><span>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3.注意：音乐大小会影响打开速度。</span></p><div class=know><input type=checkbox ng-model=actionShow ng-change=isCheckbox(actionShow)><span>不再提示</span> <span style=position:relative><a class="btn btn-primary">知道了</a> <input type=file ng-click=closeAction() nv-file-select="" uploader=uploader multiple style="width:90px;height: 35px;overflow: hidden;position: absolute;top:-10px;right: 0;left:10px;bottom:0;cursor: pointer;opacity:0"></span></div></div><div class=sound-flex><div class=cate-title style=width:200px;height:412px;background-color:#f7f7f7><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: !isMySound}" ng-show="type == 2"><a ng-click=selectTab(false)>音乐库</a></li><li ng-class="{active: !isMySound}" ng-show="type == 4"><a ng-click=selectTab(false)>音效库</a></li><li ng-class="{active: isMySound && isMySound!=\'history\'}" ng-show="type == 2"><a ng-click=selectTab(true)>我的音乐</a></li><li ng-class="{active: isMySound && isMySound!=\'history\'}" ng-show="type == 4"><a ng-click=selectTab(true)>我的音效</a></li><li class=add-tag><a ng-click=urlLink()><span class=eqf-link style=padding-right:10px></span><span>添加外链</span></a></li><li class="my-bg-upload blue"><div id=upload-progress></div><div class=my-upload-action ng-if=alertAction ng-click=popSoundAction()></div><div class="sound-upload form"><div class=form-menus><div class="popover right"><div class=arrow></div><div class=popover-content style=font-size:12px><i>链接如何减少文件大小，请网上查询一下</i></div></div></div><span class=eqf-update></span><em>上传</em> <input type=file nv-file-select="" uploader=uploader multiple style="width: 100px;height:35px;overflow: hidden;position: absolute;top: 0;right: 0;bottom: 0;cursor: pointer;opacity: 0"></div></li></ul></div><div class="cate-list bg-rig" style=min-height:417px><div class=clearfix><audio style="margin: 25px 0 0 20px;height:30px" eqx-audio></audio><div style="font-size: 12px; width: 250px;height:40px;line-height:40px;overflow:hidden;float:right"><span ng-show=sound.name><i>已选择：</i>{{sound.name | maxLength: 16}} <a class=eqf-wrong2 style="margin-left: 10px" title=清除 ng-click=clear()></a></span></div><div class=music-cate><ul class=clearfix ng-init="$parent.sysCatId = \'0\'" ng-show=sysCate><li ng-class="{\'active\': sysCatId == \'0\'}" ng-click="getSysMusicList(\'0\')">最新</li><li ng-repeat="music in sysMusicList" ng-class="{active:sysCatId == music.value}" ng-click=getSysMusicList(music.value)>{{music.name}}</li></ul></div></div><div class=tab-content id=bg_contain><div class="tab-pane tab-head active"><div class=tab-pane><div class=img_list><div class=sound-action ng-show=actionContent><p>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3.注意：音乐大小会影响打开速度。</p></div><div class="sound-list clearfix" ng-show=!actionContent><ul><li style=cursor:pointer ng-class="{active: isSoundSelected(type, sound, s)}" ng-click="selectSound(s,type, isSoundSelected(type, sound, s))" ng-repeat="s in sounds track by $index"><span><em>{{s.size}}</em> <a class="sound eqf-play" title="{{s.isPlaying ? (\'暂停\') : (\'播放\')}}" ng-class="{\'eqf-play2\': !s.isPlaying, \'eqf-stop\': s.isPlaying}" ng-click="playSound($event, $index)"></a> <a class="del eqf-wrong2" title=删除 ng-show="isMySound && isMySound!=\'history\'" ng-click="deleteMySound($event, $index)"></a></span><div class=linkName title={{s.name}}>{{s.name}}<em style=padding-left:10px class=eqf-link3 ng-show=s.isValue></em></div></li></ul></div></div></div></div></div></div></div></div><div class="modal-footer bg-pagination no-line"><div class="pagination_container fl" ng-show="pagination.totalItems > 10 && isMySound!=\'history\'"><pagination style="float: left" previous-text=&lsaquo; next-text=&rsaquo; first-text=首页 last-text=尾页 max-size=5 items-per-page=pagination.pageSize total-items=pagination.totalItems ng-model=pagination.currentPage ng-change=getSounds(pagination.currentPage) boundary-links=true rotate=true num-pages=pagination.numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? getSounds(toPage) : null"><span class=fl>页</span> <a ng-click=getSounds(toPage) class=go>确定</a></div></div><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div></div>')
	}]), angular.module("scene/console/soundCrop.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/soundCrop.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>音频裁切 <span class=action>音频裁切</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix" style=font-size:5px><div style=position:relative><div style=font-size:24px;width:600px;float:left>{{title}}</div><span style="border:1px solid #ccd5db;padding:5px;cursor:pointer;margin-left:166px">重新选择音乐</span> <input type=file nv-file-select="" uploader=uploader multiple style="width:84px;height:28px;overflow: hidden;position:absolute;top:-8px;right:9px;bottom:0;cursor: pointer;opacity:0"></div><div sound-crop-panel style=margin-top:30px start-time=$parent.startTime end-time=$parent.endTime state=$parent.state current-time=$parent.currentTime duration=$parent.duration sound-src={{soundSrc}}></div><div style=padding-top:30px;width:600px;float:left><em ng-class="{\'eqf-play2\':state!=\'start\',\'eqf-stop\':state==\'start\'}" style=font-size:90px;float:left;cursor:pointer ng-click=play();></em><div style=float:left;height:35px;margin-top:10px;margin-left:20px;padding-top:5px><span ng-click=setStartTime() style="border: 1px solid #ccd5db;padding:5px;margin-right:10px;cursor:pointer">设当前播放为起点</span> 起点：<input type=number ng-change=changeStartTime() ng-model=$parent.minuteS style=height:24px;width:80px;margin-right:5px>分<input ng-change=changeStartTime() type=number ng-model=$parent.secondS max=59 min=0 style=height:24px;width:80px;margin-right:5px;margin-left:5px>秒</div><div style="float: left;height: 35px;margin-top: 10px;margin-left:20px;padding-top:5px"><span ng-click=setEndTime(); style="border: 1px solid #ccd5db;padding:5px;margin-right:10px;cursor:pointer">设当前播放为终点</span> 终点：<input type=number min=0 ng-model=$parent.minuteE ng-change=changeEndTime() style=height:24px;width:80px;margin-right:5px>分<input type=number ng-change=changeEndTime() ng-model=$parent.secondE max=59 min=0 style=height:24px;width:80px;margin-right:5px;margin-left:5px>秒</div></div><div style=float:left;padding-top:35px><h6 style=padding-bottom:10px>音乐长度</h6><h1>{{cropLen}}</h1><h6 style=padding-top:10px>（建议长度控制在20秒内）</h6></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>')
	}]), angular.module("scene/console/soundCropPanel.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/soundCropPanel.tpl.html", '<div class=sound-crop-dire><ul class=scale><li ng-class="{\'s-scale\':($index+1)%5!=0,\'l-scale\':($index+1)%5==0}" ng-style="{\'width\':($index+1)!=scales.length?liW:endLi}" ng-repeat="scale in scales"><span ng-if="$index==0" style=top:-21px;left:5px>0:00</span> <span ng-if="($index+1)%5==0">{{scale}}</span></li></ul><em class=bar-s data-state=s><em class=triangle data-state=s></em> <em class=line data-state=s></em></em> <em class=bar-c data-state=c><em class=triangle data-state=c></em> <em class=line data-state=c></em></em> <em class=bar-e data-state=e><em class=triangle data-state=e></em> <em class=line data-state=e></em></em><div class=left-dis></div><div class=right-dis></div></div><span>{{curT}}/<span class=dur></span></span><audio><audio></audio></audio>')
	}]), angular.module("scene/console/soundLink.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/soundLink.tpl.html", '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>外部链接 <span ng-show=!authError class=action>可从外部使用链接添加音乐</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class=dialog-content><form class=form-contain role=form><div class="form-list audio_area clearfix"><lable class=form-label>链接地址：</lable><div class=form-input><input type=text class=link ng-model=soundLink.src ng-click=selectLink() placeholder=请输入mp3格式的音乐链接></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/statistics-component.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/statistics-component.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>统计 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15676&page=1&extra=#pid122999"></a> <span class=action ng-show=!authError>记录并显示当前作品的展示次数</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span class=spanborder ng-class="{\'spanborder\': model.properties.icon == \'eqf-eye3\'}"><a ng-click="chooseEqfont(\'eqf-eye3\')"><span class=eqf-eye3></span></a></span></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group><span class=title>颜色</span><div class=counter-choice><a class=color-picker ng-style="{backgroundColor: model.properties.color}" ng-model=model.properties.color colorpicker=rgba></a> <input class=color-picker-input ng-model=model.properties.color type="text"></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-l\'">大</label><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-m\'">中</label><label class="btn btn-counter" ng-model=model.properties.size btn-radio="\'counter-s\'">小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=model.properties.layout btn-radio="\'counter-lr\'">左右</label><label class="btn btn-counter" ng-model=model.properties.layout btn-radio="\'counter-tb\'">上下</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/style.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/style.tpl.html", '<div ng-if="activeTab == \'style\'" ng-controller=StyleConsoleCtrl><div class=yangshi><section><div class="style_list border-bottom pl20" ng-show="elemDef.type!=\'m\'" ng-class={active:showBasic} ng-init="showBasic=true" ng-click="showBasic = !showBasic; showBorder = false; showShadow = false;"><span>基础样式</span><b class=caret ng-show=showBasic></b><b class="caret off" ng-show=!showBasic></b></div><div class=style_con_hei ng-show="elemDef.type==\'m\'"><div class="style_list_angel clearfix"><label>标签内容</label><div class="color_select clearfix"><input class=flo_right style=width:140px style-input elem-id={{elemDef.id}} ng-model=model.content css-item=content type="text"></div></div><div style=border-bottom:none class="style_list_angel clearfix"><label>地图位置</label><div class="color_select clearfix" style=text-align:right><i class=eqf-map style=margin-right:5px></i><a class=primary style="text-decoration: underline;line-height: 20px" ng-click=setPosition()>{{model.address}}</a></div></div></div><div ng-class="{\'h-scroll\':scrollShow && showBasic}"><div eqd-scroll style="height: 100%" change-pos=changePos(pos) disable-mouse=true prevent-exception=true><div ng-show="showBasic && elemDef.type!=\'m\'" class=style_con_hei><div class="style_list_angel clearfix" ng-show="elemDef.type==\'201\' || elemDef.type==\'401\'"><label>文字内容</label><div class="color_select clearfix"><input class=flo_right style=width:155px elem-id={{elemDef.id}} ng-model=model.content type="text"></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'201\' || elemDef.type == \'401\'"><label>文字大小</label><div class="touming clearfix"><p class=num><input class=short type=number min=12 max=72 limit-input style-input elem-id={{elemDef.id}} css-item=fontSize ng-model="model.fontSize"></p><div class=slider ui-slider-t his-records=true ng-model=model.fontSize min=12 max=72></div></div></div><div class="style_list_angel clearfix"><label ng-if="elemDef.type!=\'201\' && elemDef.type!=\'401\'">背景颜色</label><label ng-if="elemDef.type==\'201\' || elemDef.type==\'401\'">文字背景</label><div class="color_select clearfix"><a class="input_kuang flo_lef" ng-style="{backgroundColor: model.backgroundColor}" ng-model=model.backgroundColor colorpicker=rgba></a> <input class=flo_right style=width:100px style-input elem-id={{elemDef.id}} ng-model=model.backgroundColor css-item=backgroundColor type="text"></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'2\' || elemDef.type == \'201\' || elemDef.type == \'401\' ||elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'r\' || elemDef.type == \'c\' || elemDef.type == \'x\' || (elemDef.type == \'h\' && !elemDef.properties.src) || elemDef.type == \'w01\' || elemDef.type == \'w02\'"><label ng-if="elemDef.type != \'h\'">文字颜色</label><label ng-if="elemDef.type == \'h\'">形状颜色</label><div class="color_select clearfix"><a class="input_kuang flo_lef" ng-style="{backgroundColor: model.color}" ng-model=model.color colorpicker=rgba></a> <input class=flo_right style=width:100px style-input elem-id={{elemDef.id}} ng-model=model.color css-item=color type="text"></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'h\' && elemDef.properties.src" ng-repeat="shapeColor in shapeAttrs"><label>形状颜色{{$index+1}}</label><div class="color_select clearfix"><a class="input_kuang flo_lef" ng-style="{backgroundColor: shapeColor.fill}" ng-model=shapeColor.fill colorpicker=rgba y={{scrollTop}}></a> <input class=flo_right style=width:100px style-input elem-id={{elemDef.id}} ng-model=shapeColor.fill type="text"></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type!=\'201\' && elemDef.type!=\'401\'"><label>透明度</label><div class="touming clearfix"><p class=num><input class=short type=number min=0 max=100 limit-input style-input elem-id={{elemDef.id}} css-item=opacity ng-model="model.opacity"></p><div class=slider ui-slider-t his-records=true ng-model=model.opacity min=0 max=100></div></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'"><div><label>边距</label><div class="touming clearfix"><p class=num><input class=short min=0 max=20 limit-input class="input_kuang short" type=number style-input css-item=padding ng-model="model.paddingTop"></p><div class=slider his-records=true ui-slider-t ng-model=model.paddingTop min=0 max=20></div></div></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'"><div><label>行高</label><div class="touming clearfix"><p class=num><input class=short min=0 max=3 limit-input step=0.1 class="input_kuang short" type=number style-input css-item=lineHeight ng-model="model.lineHeight"></p><div class=slider his-records=true ui-slider-t fixed=1 ng-model=model.lineHeight min=0 max=3></div></div></div></div><div class="style_list_angel clearfix" ng-if="elemDef.type == \'201\' || elemDef.type == \'401\'"><label>昵称类型</label><div class="touming clearfix"><select style="border:1px solid #ccc;height:20px;width:155px" ng-model=model.niketype><option value=own>浏览者昵称头像</option><option value=share>分享者昵称头像</option></select></div></div></div></div></div></section><section ng-show="elemDef.type!=\'m\' && elemDef.type!=\'201\' && elemDef.type!=\'401\'"><div class="style_list border-bottom pl20" ng-click="showBorder = !showBorder; showBasic=false;showShadow=false;"><span>边框样式</span><b class=caret ng-show=showBorder></b><b class="caret off" ng-show=!showBorder></b></div><div ng-show=showBorder class=style_con_hei><div class="style_list_angel clearfix"><label>尺寸</label><div class="touming clearfix"><p class=num><input class="input_kuang short" limit-input type=number min=0 max=20 style-input css-item=borderWidth ng-model="model.borderWidth"></p><div class="slider hint--right" ui-slider-t his-records=true ng-model=model.borderWidth min=0 max=20></div></div></div><div class="style_list_angel clearfix"><label>弧度</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max={{maxRadius}} limit-input style-input css-item=borderRadius ng-model="model.borderRadius"></p><div class=slider his-records=true ui-slider-t ng-model=model.borderRadius min=0 max={{maxRadius}}></div></div></div><div class="style_list_angel clearfix"><label>样式</label><div class=touming><select style="border:1px solid #ccc;height:20px;width:155px" style-input css-item=borderStyle ng-model=model.borderStyle><option value=solid>直线</option><option value=dashed>破折线</option><option value=dotted>点状线</option><option value=double>双划线</option><option value=groove>3D凹槽</option><option value=ridge>3D垄状</option><option value=inset>3D内嵌</option><option value=outset>3D外嵌</option></select></div></div><div class="style_list_angel clearfix"><label>颜色</label><div class="color_select clearfix"><input class="flo_right short" style=width:100px style-input ng-model=model.borderColor css-item=borderColor type="text"> <a class="input_kuang flo_lef" ng-style="{backgroundColor: model.borderColor}" ng-model=model.borderColor colorpicker=rgba></a></div></div><div class="style_list_angel clearfix"><div><label>旋转</label><div class="touming clearfix"><p class=num><input min=0 max=360 limit-input style-input css-item=transform class="input_kuang short" type=number ng-model="model.transform"></p><div his-records=true class=slider ui-slider-t ng-model=model.transform min=0 max=360></div></div></div></div></div></section><section ng-show="elemDef.type!=\'m\' && elemDef.type!=\'201\' && elemDef.type!=\'401\'"><div class="style_list border-bottom border-top pl20" ng-click="showShadow = !showShadow; showBasic=false;showBorder=false;"><span>阴影样式</span><b class=caret ng-show=showShadow></b><b class="caret off" ng-show=!showShadow></b></div><div ng-show=showShadow class=style_con_hei><div class="style_list_angel clearfix"><label>大小</label><div class="touming clearfix"><div class=slider his-records=true ui-slider-t ng-model=tmpModel.boxShadowSize min=0 max=20></div><p class=num><input limit-input class="input_kuang short" min=0 max=20 type=number style-input css-item=boxShadow ng-model="tmpModel.boxShadowSize"></p></div></div><div class="style_list_angel clearfix"><label>模糊</label><div class="touming clearfix"><div class=slider his-records=true ui-slider-t ng-model=tmpModel.boxShadowBlur min=0 max=20></div><p class=num><input limit-input class="input_kuang short" min=0 max=20 type=number style-input css-item=boxShadow ng-model="tmpModel.boxShadowBlur"></p></div></div><div class="style_list_angel clearfix"><label>颜色</label><div class="clearfix color_select"><input class="flo_right short" style=width:100px style-input ng-model=tmpModel.boxShadowColor css-item=boxShadow type="text"> <a class="input_kuang flo_lef" ng-style="{backgroundColor: tmpModel.boxShadowColor}" ng-model=tmpModel.boxShadowColor colorpicker=rgba colorpicker-fixed-position=true></a></div></div><div class="style_list_angel clearfix"><label>方向</label><div class="touming clearfix"><div class=slider his-records=true ui-slider-t ng-model=tmpModel.boxShadowDirection min=0 max=359></div><p class=num><input limit-input class="input_kuang short" min=0 max=359 type=number style-input css-item=boxShadow ng-model="tmpModel.boxShadowDirection"></p></div></div></div></section></div><div class=btn-option><a class="btn btn-sm green" ng-click=cancel()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除样式</a></div></div>')
	}]), angular.module("scene/console/tel.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/tel.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>电话组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13070&extra"></a> <span class=action ng-show=!authError>填写按钮名称和联系号码，点击可以直接拨打</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:12px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name type=text ng-model=model.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation></div></div><div class="form-list clearfix" ng-if=model.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=phoneNumber class=form-label>手机/电话：</label><div class=form-input><input id=phoneNumber check-count=40 class=tel-button type=text placeholder=010-88888888 ng-model=model.number ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/console/trigger.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/trigger.tpl.html", '<div ng-if="activeTab == \'trigger\'" ng-controller=TriggerConsoleCtrl><div style=height:410px><div eqd-scroll style="height: 100%" disable-mouse=true prevent-exception=true><div class=trigger-area eqx-trigger><div class=trigger-panels><div class="style_list_angel clearfix pl20"><label style="width: 100px;margin-top:5px">浏览页面时，当</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=sendType change=changeTriggerType(v)><eqx-select-option value=v ng-repeat="v in sendTypes">{{v.title}}</eqx-select-option></eqx-select></div></div><div class="style_list_angel clearfix pl20" ng-show="sendType.value!=2"><label style=margin-top:5px>页面元素</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=sourceElem change=getTriggerSources(sourceElem)><eqx-select-option value=null>点击选择元素</eqx-select-option><eqx-select-option value=triggerSource ng-repeat="triggerSource in triggerSources">{{triggerSource.name}}</eqx-select-option></eqx-select></div></div></div><div class=event-list><div ng-repeat="triggerEvent in triggerEvents track by $index" ng-init="sendIndex = $index"><div class=select-exist-elem ng-show="triggerEvent.value == 1"><section><div class="style_list pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <span ng-click="addTriggerItem(triggerEvent, $index, $event);opea.show=!opea.show;">&nbsp;&nbsp;&nbsp;&nbsp;编辑</span> <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:35px class=eqf-wrong ng-click="removeTrigger($index, $event)"></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model="triggerEvent.delay"></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class="select-trigger-item ml20 mr20"><ul ng-show=triggerEvent.handles.length><li ng-repeat="triggerElement in triggerEvent.triggerElements"><div style="padding: 10px 20px" ng-if="sourceElem.id!=triggerElement.id || sendType.value==2"><span hover-element id=triggerElement.id style="cursor: pointer"><span id="{{\'tip_\' + triggerElement.id}}"></span> {{$index+1}}</span><div class=fr><span style="padding-right: 5px" class=fl ng-click="switchShow(triggerElement, sendIndex)" ng-show="triggerElement.handleType.type==1">显示</span> <span style="padding-right: 5px" class=fl ng-click="switchShow(triggerElement, sendIndex)" ng-show="triggerElement.handleType.type==2">隐藏</span><div class=switch style=float:left ng-class="{\'switch-open\':triggerElement.handleType.type==1,\'switch-close\':triggerElement.handleType.type==2}" ng-click="switchShow( triggerElement, sendIndex)"><div class=circle-con><i class=circle></i></div></div><span style="padding-left: 10px" class=eqf-wrong ng-click="cancelTriggerElem(triggerElement.id, sendIndex);"></span></div></div><div style="padding: 10px 20px" ng-if="sendType.value!=2 && sourceElem.id==triggerElement.id"><span hover-element id=triggerElement.id style="cursor: pointer"><span id="{{\'tip_\' + triggerElement.id}}"></span> {{$index+1}}</span><div class=fr><span style="padding-right: 45px" class=fl>隐藏</span> <span style="padding-left: 10px" class=eqf-wrong ng-click="cancelTriggerElem(triggerElement.id, sendIndex);"></span></div></div></li></ul></div></form></div></section></div><div class=random-event ng-show="triggerEvent.value == 2"><section><div class="style_list pr20 pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:34px class=eqf-wrong ng-click="removeTrigger($index, $event)"></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model="triggerEvent.delay"></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class=select-trigger-item><div ng-show=triggerEvent.handles.length><div ng-repeat="handle in triggerEvent.handles"><div ng-repeat="id in handle.ids"><span style="cursor:pointer;padding: 10px 20px" hover-element id=id><span>随机图片</span> {{$index+1}}</span> <a style="display: inline" ng-click="cancelTriggerElem(id, sendIndex);">取消</a></div></div></div></div></form></div></section></div></div></div><div class="trigger-btn pl20" leave-panel><div class=event-panel style="margin-bottom: 5px"><div class=add-trigger ng-mousedown=$event.stopPropagation(); ng-click="obj.showTriggerPanel = true;$event.stopPropagation();">添加触发 <span class=clickmore></span></div><div><ul ng-show=obj.showTriggerPanel><li ng-repeat="eventType in eventTypes" ng-click="addTriggerEvent(eventType, triggerEvents.length || 0);obj.showTriggerPanel = false;">{{eventType.title}}</li></ul></div></div></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirm()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除</a></div></div>');
	}]), angular.module("scene/console/triggerelemlist.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/triggerelemlist.tpl.html", '<div class=trigger-list><div class=modal-header><h4 class=modal-title>选择触发哪些元素显示或隐藏</h4></div><div class=modal-body><ul highlight-element><li class=trigger-elem ng-repeat="triggerElement in triggerElements track by $index" id="{{\'trigger_\' + triggerElement.id}}"><div><div class="square one-line" ng-if="elemDef.id != triggerElement.id"><div class=checkbox-square ng-class="{checked: triggerElement.checked}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=triggerElement.checked ng-change="changed(triggerElement)"></div><label>{{triggerElement.name}}</label><div class=fr ng-if=triggerElement.checked><a style="padding-right: 5px" class=fl ng-click="switchShow(triggerElement, currentIndex);" ng-show="triggerElement.triggerType==1">显示</a> <a style="padding-right: 5px" class=fl ng-click="switchShow(triggerElement, currentIndex);" ng-show="triggerElement.triggerType==2">隐藏</a><div class=switch style=float:left ng-class="{\'switch-open\':triggerElement.triggerType==1,\'switch-close\':triggerElement.triggerType==2}" ng-click="switchShow( triggerElement, currentIndex)"><div class=circle-con><i class=circle></i></div></div></div></div><div ng-if="elemDef.id == triggerElement.id"><div class=checkbox-square ng-class="{checked: triggerElement.checked}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=triggerElement.checked ng-change="changed(triggerElement,true)"></div><label>{{triggerElement.name}}</label><div class=fr ng-if=triggerElement.checked><a style="padding-right: 45px" class=fl>隐藏</a></div></div></div></li></ul></div><div class=modal-footer><a class="btn btn-primary" ng-click=confirmList()><span>确定</span></a></div></div>')
	}]), angular.module("scene/console/video.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/console/video.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>视频组件 <a class=bbs-help-tip-media target=_blank href="/Public/help.htm"></a> <span ng-show=!authError class=action>把视频通用代码复制到框中即可使用</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="video_console dialog-content"><div class=modify_area style=height:auto><div class=video_tip><span>视频通用代码：</span> <span class=video_code><a href="/Public/help.htm" target=_blank><ins>什么是视频通用代码？</ins></a></span></div><div class=video_tip><textarea style=border-radius:0px class=video_src ng-model=model.src ng-keyup="$event.keyCode == 13 ? confirm() : null"></textarea></div><div class=video_tip><span>将视频的通用代码粘贴到文本框里即可。</span><a href="/Public/help.htm" target=_blank><ins>查看帮助</ins></a></div><div class=video_tip><span>支持的视频：</span><a href="http://www.youku.com/" target=_blank><ins>优酷</ins></a>、<a href="http://www.tudou.com/" target=_blank><ins>土豆</ins></a>、<a href="http://v.qq.com/" target=_blank><ins>腾讯视频</ins></a></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/create.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/create.tpl.html", '<div class=create-bg style="position: fixed;top: 0;left: 0;right: 0;bottom: 0;background-color: #d0cfd8"></div><div class=creat_head conver-to-image><div class="creat_head_con clearfix"><div class=creat_logo><a href=#/main ng-click=stopCopy()><img ng-src="{{logoSrc}}" alt=""></a></div><div class="creat_con clearfix"><ul class="comp_panel clearfix"><li comp-draggable=panel ctype=x class="comp-draggable text" ng-click="showFirstTimeTip(\'x\');"><span class="eqf-xiuziti eqf-btn"></span> <span class=tip>秀字体</span></li><li comp-draggable=panel ctype=2 class="comp-draggable text" ng-click="createComp(\'2\');"><span class="eqf-text-word eqf-btn"></span> <span class=tip>文本</span></li><li comp-draggable=panel ctype=3 class="comp-draggable bg" ng-click="createComp(\'3\');"><span class="eqf-top-background eqf-btn"></span> <span class=tip>背景</span></li><li comp-draggable=panel ctype=9 class="comp-draggable music" ng-click="createComp(\'9\');"><span class="eqf-top-music eqf-btn"></span> <span class=tip>音乐</span></li><li comp-draggable=panel ctype=v class="comp-draggable vedio" ng-click="createComp(\'v\');"><span class="eqf-top-video eqf-btn"></span> <span class=tip>视频</span></li><li comp-draggable=panel ctype=4 class="comp-draggable image" ng-click="createComp(\'4\');"><span class="eqf-top-pic eqf-btn"></span> <span class=tip>图片</span></li><li comp-draggable=panel ctype=h class="comp-draggable image" ng-click="createComp(\'h\');"><span class="eqf-shape eqf-btn"></span> <span class=tip>形状</span></li><li comp-draggable=panel ctype=p class="comp-draggable images" ng-click="createComp(\'p\');"><span class="eqf-top-pics eqf-btn"></span> <span class=tip>图集</span></li><li class="interaction hint--bottom hint--rounded"><span class="eqf-refresh eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=l class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加链接 ng-click="createComp(\'l\');"><span class=eqf-link></span> <span class=menu-item-name>链接</span></li><li comp-draggable=panel ctype=8 class="menu-item comp-draggable phone hint--right hint--rounded" data-hint=点击添加电话 ng-click="createComp(\'8\');"><span class=eqf-glyphicon-earphone></span> <span class=menu-item-name>电话</span></li><li comp-draggable=panel ctype=trigger class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加触发 ng-click=openTriggerMode()><span class=eqf-chufa></span> <span class=menu-item-name>触发</span></li><li comp-draggable=panel ctype=m class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加地图 ng-click="createComp(\'m\');"><span class=eqf-map></span> <span class=menu-item-name>地图</span></li><li comp-draggable=panel ctype=s class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加音效 ng-click="createComp(\'s\');"><span class=eqf-music></span> <span class=menu-item-name>音效</span></li><li class=menu-item><span class=eqf-clock-o></span> <span class=menu-item-name>计数</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=i class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 font=eqf-love ng-click="createComp(\'i\', \'eqf-love\');"><span class=eqf-love></span> <span class=menu-item-name>喜欢</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 font=eqf-good ng-click="createComp(\'i\', \'eqf-good\');"><span class=eqf-good></span> <span class=menu-item-name>顶起</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 font=eqf-flower2 ng-click="createComp(\'i\', \'eqf-flower2\');"><span class=eqf-flower2></span> <span class=menu-item-name>送花</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 font=eqf-vote ng-click="createComp(\'i\', \'eqf-vote\');"><span class=eqf-vote></span> <span class=menu-item-name>投票</span></li></ul></div></div></div></li><li class=menu-item><span class=eqf-date2></span> <span class=menu-item-name>统计</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=d class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 ng-click="createComp(\'d\',\n											  	\'eqf-eye3\');"><span class=eqf-eye3></span> <span class=menu-item-name>阅读量</span></li></ul></div></div></div></li></ul></div></div></div><em ng-if=wechatWTip class="effect-tip heart ng-scope"></em> <span class=tip>互动</span></li><li class="form hint--bottom hint--rounded"><span class="eqf-top-list eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li class=menu-item><span class=eqf-glyphicon-list></span> <span class=menu-item-name>快捷表单</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=g101 class="menu-item comp-draggable contact hint--right hint--rounded" data-hint=点击添加联系人 ng-click="createCompGroup(\'g101\');"><span class=eqf-top-contact></span> <span class=menu-item-name>联系人</span></li></ul></div></div></div></li><li class=menu-item><span class=eqf-date3></span> <span class=menu-item-name>选项</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=5 class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加输入框 ng-click="createComp(\'5\');"><span class=eqf-write></span> <span class=menu-item-name>输入框</span></li><li ng-if=isRadioCheckboxRatingAccessable comp-draggable=panel ctype=r class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加单选按钮 ng-click="createComp(\'r\');"><span class=eqf-single></span> <span class=menu-item-name>单选</span></li><li ng-if=isRadioCheckboxRatingAccessable comp-draggable=panel ctype=c class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加多选按钮 ng-click="createComp(\'c\');"><span class=eqf-morechoice></span> <span class=menu-item-name>多选</span></li><li ng-if=isRadioCheckboxRatingAccessable comp-draggable=panel ctype=a class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加评分组件 ng-click="createComp(\'a\');"><span class=eqf-star></span> <span class=menu-item-name>评分</span></li></ul></div></div></div></li><li comp-draggable=panel ctype=6 class="menu-item comp-draggable button hint--right hint--rounded" data-hint=一个场景建议只添加一个 ng-click="createComp(\'6\');"><span class=eqf-top-button></span> <span class=menu-item-name>提交按钮</span></li></ul></div></div></div><span class=tip>表单</span></li><li ng-click="openPageEffectModal(tpl.obj.properties);showPage=true;hideEffTip()" class="comp-draggable images"><em ng-if=showAddEffTip class="effect-tip heart ng-scope"></em> <span class="eqf-top-star eqf-btn"></span> <span class=tip>特效</span></li></ul></div><div class=create-action><ul><li class="act-border setting gray-dark all-change" ng-click=openSetting()><span class=tip>设置</span></li><li class="act-border save gray-dark all-change" ng-click=saveScene(true)><span class=tip>保存</span></li><li class="publish gray-dark all-change" ng-click=publishScene()><span class=tip>发布</span></li><li class="act-border quit out-red" ng-click=exitScene()><span class=tip>退出</span></li></ul></div><div ng-hide=showToolBar();><div ng-show=isEditor style="position: absolute;right: 225px;top: 20px"><select ng-model=scene.isTpl><option value=0>非模板</option><option value=1>保存为pc模板</option><option value=2>保存为移动端模板</option></select></div></div></div></div><div class=create_scene><div class="main clearfix" mouse-comp-select><div class=content><div class=create_left conver-to-image><ul class="nav nav-tabs"><li ng-class="{active:tabid==\'template\'}"><a ng-click=setTplTab() class=all-change>模板中心</a></li><li ng-class="{active:tabid==\'myCollection\'}"><a ng-click=getPageTplsByMyType(); class=all-change>我的模板</a></li><li ng-class="{active:tabid==\'company\'}"><a ng-click=getPageTplsByCompanyType(); ng-show="userProperty.type ==2 || userProperty.type ==21 || userProperty.type ==5 || userProperty.type ==51" class=all-change>企业模板</a> <a ng-show="userProperty.type ==1" class=all-change ng-click="tabid=\'company\'">企业模板</a></li></ul><div class=tab-panel style=height:100% ng-show="tabid==\'template\'"><div class="sel-contain all-change" style=left:10px><eqx-select class=select-great model=pageTpl.format change=getPageTpls()><eqx-select-option value=null>用途</eqx-select-option><eqx-select-option value=type.id ng-repeat="type in tplFormatList">{{type.name}}</eqx-select-option></eqx-select></div><div class="sel-contain all-change" style=left:103px><eqx-select class=select-great model=pageTpl.style change=getPageTpls()><eqx-select-option value=null>功能</eqx-select-option><eqx-select-option value=type.id ng-repeat="type in tplStyleList">{{type.name}}</eqx-select-option></eqx-select></div><div class="sel-contain all-change" style=left:196px><eqx-select class=select-great model=pageTpl.interaction change=getPageTpls()><eqx-select-option value=null>风格</eqx-select-option><eqx-select-option value=type.id ng-repeat="type in tplInteractionList">{{type.name}}</eqx-select-option></eqx-select></div><div ng-if=pageTpl.showColorPanel ng-change=getPageTpls() ng-click=$event.stopPropagation() ng-model=pageTpl.color page-tpl-color class="page-color-panel zoomIn-change"></div><div style=left:10px;top:50px;position:absolute><input class=search placeholder=输入名称搜索模板 ng-keypress=enterPress($event) type=text ng-model="pageTpl.name"><span ng-if=showSearch class="eqf-search search-icon" ng-click=getPageTpls()></span> <span ng-if=!showSearch class="eqf-wrong search-icon" ng-click=resetTplFilter()></span></div><div class="page_tpl_container clearfix"><div eqd-scroll style="height: 100%" refresh=refreshTpl()><ul class=tpl-container><li class="page_tpl_item comp-draggable animation-zoom ng-scope" ng-repeat="pageTpl in pageTpls track by $index" ng-click=insertPageTpl(pageTpl.id); ng-style="{\'animation-delay\': $index%42 * 50 + \'ms\'}" tooltip-placement=right tooltip={{pageTpl.name}}><img ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}" src=assets/images/create/pic.svg load-err></li></ul></div></div></div><div class=tab-panel ng-show="tabid==\'myCollection\'" style=height:100%;padding-top:10px><div class=empty-collection ng-if="!myPageTpls || myPageTpls.length==0"><p class=pb20>暂无模板</p><img ng-src={{CLIENT_CDN}}assets/images/create/collection.svg></div><div eqd-scroll style="height: 100%" ng-if="myPageTpls && myPageTpls.length!=0" refresh=refreshTpl()><ul class="page_tpl_container clearfix" style=position:relative;top:0><li thumb-tpl my-tpl=pageTpl class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="pageTpl in myPageTpls" title=点击使用 id=my-tpl ng-click=insertPageTpl(pageTpl.id); ng-style="{\'animation-delay\': $index * 50 + \'ms\'}"></li></ul></div></div><div class=tab-panel style=height:100%;padding-top:10px ng-show="tabid==\'recentlyUsed\'"><div ng-if=!myRecentlyTpls class=empty-recent></div><div eqd-scroll style="height: 100%" ng-if=myRecentlyTpls><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable animation-zoom" ng-repeat="pageTpl in myRecentlyTpls track by $index" ng-style="{\'animation-delay\': $index * 50 + \'ms\'}" ng-click=insertPageTpl(pageTpl.id);><img ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}" src=assets/images/create/pic.svg load-err></li></ul></div></div><div class=tab-panel style=height:100%;padding-top:10px ng-show="tabid==\'company\'" ng-if="userProperty.type ==1"><div class=empty-collection><div class="pb20 pl20 pr20"><a class=text-primary target=_blank href=#/privilege>免费升级</a>企业会员尊享该功能</div><img ng-src={{CLIENT_CDN}}assets/images/create/collection.svg></div></div><div class=tab-panel style=height:100%;padding-top:10px ng-show="tabid==\'company\'" ng-if="userProperty.type ==2 || userProperty.type ==21 || userProperty.type ==5 || userProperty.type ==51"><div class=empty-company ng-if="!myCompanyTpls || myCompanyTpls.length==0"><div>在页面管理中选中页面，点击企业模板，即可生成企业页面模板！</div></div><div eqd-scroll ng-if="myCompanyTpls && myCompanyTpls.length>0" style="height: 100%"><ul class="page_tpl_container clearfix" style=top:0;position:relative><li thumb-tpl my-tpl=pageTpl style="position: relative" id=company-tpl class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="pageTpl in myCompanyTpls" ng-style="{\'animation-delay\': $index * 50 + \'ms\'}" ng-click=insertPageTpl(pageTpl.id);></li></ul></div></div></div><div class=workspace page-scroll comp-droppable ng-class="{\'auto-flow\':pageLength!=1}" page-h={{pageLength}}><div class=container multi-comp-drag><div edit-common edit-keymap><div class="nr sortable" ng-style="{\'true\': {\'top\':0}, false: {}}[isLong]" id=nr element-anim paste-element></div><div ng-if=showPhone class=phone><h4 class=name>{{scene.name}}</h4></div><div ng-class="{box1:pageLength==1,box2:pageLength==2,box3:pageLength==3,box4:pageLength==4,box5:pageLength==5}" class=box outer-box page-h={{pageLength}}><div class=internal-box></div></div><div class=history ng-class={history2:showPhone}><a data-hint=撤消(ctrl+z) ng-class="{active: canBack}" class="hint--right hint--rounded" ng-click=back()><i class=eqf-bg style=font-size:12px></i></a> <a data-hint=恢复(ctrl+y) ng-class="{active: canForward}" class="hint--right hint--rounded" ng-click=forward()><i class=eqf-back style=font-size:12px></i></a> <a data-hint=刷新预览 class="active hint--right hint--rounded" ng-click="refreshPage(tpl.obj, pageNum, $event)"><i class=eqf-play2></i></a> <a data-hint=复制当前页 style=margin-bottom:1px class="active hint--right hint--rounded" ng-click=duplicatePage()><i class=eqf-scene-copy></i></a> <a data-hint=背景 ng-click="closeOtherPanel(\'showBackgroundPanel\');openBgPanel();" close-panel model=showBackgroundPanel pause={{!controlView.showBgTag}} class="hint--right hint--rounded" ng-class={active:controlView.showBgTag}><i class=eqf-top-background style=font-size:13px></i></a> <a data-hint=音乐 close-panel model=showMusicPanel pause={{!scene.bgAudio}} class="hint--right hint--rounded" ng-click="openAudioPanel();closeOtherPanel(\'showMusicPanel\');" ng-class={active:scene.bgAudio}><i class=eqf-top-music></i></a> <a data-hint=特效 close-panel model=showEffectsPanel pause="{{!(tpl.obj.properties.scratch || tpl.obj.properties.finger || tpl.obj.properties.fallingObject || tpl.obj.properties.effect)}}" class="hint--right hint--rounded" style=margin-bottom:1px ng-click="openEffects();closeOtherPanel(\'showEffectsPanel\');" ng-class="{active:(tpl.obj.properties.scratch || tpl.obj.properties.finger || tpl.obj.properties.fallingObject || tpl.obj.properties.effect)}"><i class=eqf-top-star style=font-size:16px></i></a> <a data-hint=网格设置 class="hint--right hint--rounded grid-guide" ng-click="$event.stopPropagation();closeOtherPanel(\'gridGuideSetting.showFlag\');" ng-class="{active: (gridGuideSetting.showFlag || gridGuideSetting.isGridEnabled)}"><i class=eqf-wangge style=font-size:13px></i></a> <a data-hint=手机边框 class="hint--right hint--rounded" ng-click=switchPhone(isLong) ng-class="{active: showPhone}"><em class="imp heart" ng-if=showPhoneTip></em> <i class=eqf-phone style=font-size:15px></i></a> <a id=warn data-hint=警告 class="hint--right hint--rounded" style=display:none><i class=eqf-exclamation-sign></i></a><div class=grid-guide-container ng-click=$event.stopPropagation(); ng-class="{\'on\': gridGuideSetting.showFlag}" grid-guide-setting></div><div ng-controller=editBgCtrl ng-include="\'scene/edit/editbg/editbg.tpl.html\'"></div><div class=effects-container ng-class="{\'on\':showEffectsPanel}"><div class=effects-panel><div class=setting-group ng-click=openPageEffectModal(tpl.obj.properties)><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-click="removeScratch($event);showEffectsPanel=false;"><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div><div class=music-container ng-class="{\'on\':showMusicPanel}"><div class=music-panel><div class=setting-group ng-click=openAudioModal()><span>更换</span><div class=setting-btn><span class=eqf-refresh ng-click=openPageEffectModal(tpl.obj.properties)></span></div></div><div class=setting-group ng-click="removeAudio($event);showMusicPanel=false;"><span>删除</span><div class=setting-btn><span class=eqf-scene-delete></span></div></div></div></div></div></div></div></div><div id=containment class=create_right conver-to-image><div class=nav_top><div class=nav_top_list><div class=save_template ng-include="\'scene/saveTemplate.tpl.html\'" ng-controller=saveTemplateCtrl></div></div></div><div class=nav_content><div eqd-scroll style="height: 100%" prevent-exception=true disable-mouse=true><ul class=page-uls id=pageList ui-sortable=sortableOptions ng-model=pages><li class=blurClass ng-repeat="page in pages track by $index" ng-click="navTo(page, $index, $event);" ng-init=setEditableStatus($index,false) ng-class="{current: pageNum-1 == $index}" blur-children><span class=number><em>{{$index+1}}</em></span> <span class=page-name ng-click="pageNum-1 == $index?setEditableStatus($index,true,$event):return;" ng-show=!editableStatus[$index]>{{page.name}}</span> <input style="width: 110px;display:inline-block; height: 25px; line-height: 25px; color: #999;margin-top:22px;margin-left:2px;box-shadow:none" type=text ng-model=page.name ng-show=editableStatus[$index] ng-blur="setEditableStatus($index,false);savePageNames(page, $index)" ng-focus=getOriginPageName(page) check-count=30 custom-focus stop-propagation></li></ul></div><div class=page-list-label ng-show="isTplEditor && controlView.pageList == true" panel-draggable><div ng-include="\'scene/page/page-tpl.tpl.html\'" ng-controller=PageTplController></div></div><div class=tpl-option></div></div><div class=nav_bottom><a class=eqf-more close-panel model=showPage pause=false ng-click="showPage=true;hidePageTip();"><em class="imp heart" ng-if=showAddPageTip></em></a> <a ng-click=longAction() class="insert hint--top hint--rounded fade-color" data-hint=添加一页>+</a><div ng-show=showPage><ul><li ng-click="insertPage();showPage=false;">新建页面</li><li ng-click=addLongPage()>新建纵向长页面</li></ul></div></div><div ng-show=isTplEditor style="position: absolute;bottom: 20px;right: 268px;width: 100px"><div class=btn-main style="width: 100px" ng-click=chooseThumb()>选择本页缩略图</div><img width=100 ng-src="{{PREFIX_FILE_HOST + tpl.obj.properties.thumbSrc}}"></div></div><div ng-include="\'scene/edit/select/select.tpl.html\'" ng-controller=selectCtrl></div></div></div><div ng-class={showin:showXiuFontTip} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showXiuFontTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>秀字体</h4></div><div class=modal-body><p style="line-height: 30px">多种字体可供选择，添加过多影响制作和打开速度。</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideFontTip ng-change="switchShowFontTip(hideFontTip,\'x\')"><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click="createComp(\'x\');showXiuFontTip=false;">确定</a></div></div><div ng-class={showin:showHeadTip} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showHeadTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>头像</h4></div><div class=modal-body><p style="line-height: 30px">可轻松显示浏览者或分享者的微信昵称和头像（属性栏中选择）。仅在微信中浏览时有效，非微信环境浏览时，将显示默认文字和图片（双击设置默认内容）</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideHeadTip ng-change="switchShowFontTip(hideHeadTip,\'w\')"><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click="createComp(\'w\');showHeadTip=false;">确定</a></div></div><div ng-class={showin:showImageTip} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showImageTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>照片</h4></div><div class=modal-body><p style="line-height: 30px">在微信中浏览时，轻触图片即可更换图片，更换后再分享，朋友就能看到您的美图。赶快试一试，同一场景，不同人分享，图片内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的图片可在微信中保留三天，三天将会显示您的默认图片；非微信环境浏览时，将显示默认图片（双击设置默认内容）。</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideImageTip ng-change="switchShowFontTip(hideImageTip,\'wp\')"><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click="createComp(\'wp\');showImageTip=false;">确定</a></div></div><div ng-class={showin:showVoiceTip} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showVoiceTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>声音</h4></div><div class=modal-body><p style="line-height: 30px">在微信中浏览时，点击组件可听声音。长按“按住说话”即可录制声音，更换后再分享，朋友就能听到您的声音。赶快试一试，同一场景，不同人分享，声音内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的声音可在微信中保留三天，三天将会播放默认声音；非微信环境浏览时，将播放默认声音。</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideVoiceTip ng-change="switchShowFontTip(hideVoiceTip,\'wr\')"><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click="createComp(\'wr\');showVoiceTip=false;">确定</a></div></div><div ng-class={showin:addLong} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="addLong=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>长页面</h4></div><div class=modal-body><p style="line-height: 30px">新增超长单页，可通过右下角“<span class=eqf-more></span>”按钮创建</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideLong ng-change="switchShowFontTip(hideLong,\'long\')"><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click="insertPage();addLong=false;">确定</a></div></div><div class=scene-setting ng-if=sceneSetting.showFlag scene-setting-component></div></div><div class=creat-feedback><div class=video-user style=position:relative;bottom:23px><div class=feedback-bg></div></div></div>')
	}]), angular.module("scene/createNew.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/createNew.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>新建场景 <span class=action ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class=dialog-content style=margin-top:40px><form name=resetForm novalidate class=form-horizontal><div class=form-group><label class="text-right col-sm-2" style=padding-top:10px;margin-left:80px>选择分类：</label><div class=col-sm-6><eqx-select class="select-contain select-great border-width" model=scene.type change=selectBranch(global.branch)><eqx-select-option value=scenetype ng-repeat="scenetype in scene.types">{{scenetype.name}}</eqx-select-option></eqx-select></div></div><div class=form-list ng-show=false><select ng-model=scene.pageMode ng-options="pagemode.name for pagemode in pagemodes"></select></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel() ng-disabled=form.$invalid>取消</a> <a class="btn btn-primary" ng-click=create() ng-disabled=form.$invalid>创建</a></div></div>')
	}]), angular.module("scene/createUserGuide.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/createUserGuide.tpl.html", '<div class=create-user-guide ng-show=false ng-controller=CreateUserGuideCtrl><div class=carousel-user-guide><h2><em>用户引导</em><span ng-click=close()>&times;</span></h2><div class=carousel-user-guide-container><carousel interval=myInterval><slide ng-repeat="slide in userGuideSlides" active=slide.active><img ng-src={{slide.image}}></slide></carousel><button ng-show="currentIndex == 5" class="btn btn-main operation" ng-click=close()>我知道了</button></div></div></div>')
	}]), angular.module("scene/edit/editbg/editbg.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/edit/editbg/editbg.tpl.html", "<div class=background-container ng-class=\"{'on':showBackgroundPanel}\"><div class=background-panel><div class=setting-group ng-if=currentBgDef.properties.imgSrc ng-mouseenter=switchBgOption(false);$event.stopPropagation() ng-click=cropBg(currentBgDef);><div class=setting-btn><span class=eqf-cut></span></div><span>裁剪</span></div><div class=setting-group ng-mouseenter=switchBgOption(false);$event.stopPropagation() ng-click=replaceBg(currentBgDef)><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-mouseenter=switchBgOption(true);$event.stopPropagation()><div class=setting-btn><span class=eqf-xiaoguo></span></div><span>效果</span></div><div class=setting-group ng-mouseenter=switchBgOption(false);$event.stopPropagation() ng-click=removeBG($event)><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div><div class=bgoption-container ng-class=\"{'on':(showBgOptionPanel&&showBackgroundPanel)}\"><div class=bgoption-panel><div class=setting-group ng-class=\"{active:(currentBgDef.effect && currentBgDef.effect.type=='scaleUp')}\" ng-click=scaleUpBg(currentBgDef);><div class=setting-btn><span class=eqf-bigger></span></div><span>放大</span></div><div class=setting-group ng-class=\"{active:(currentBgDef.effect && currentBgDef.effect.type=='scaleDown')}\" ng-click=scaleDownBg(currentBgDef)><div class=setting-btn><span class=eqf-small></span></div><span>缩小</span></div><div class=setting-group ng-if=currentBgDef.effect ng-click=removeBgEffect($event)><div class=setting-btn><span class=eqf-wrong></span></div><span>删除</span></div></div></div>")
	}]), angular.module("scene/edit/select/select.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/edit/select/select.tpl.html", '<div class=select-panel ng-show=showSelectPanel panel-draggable><div class="modal-header ng-scope"><span>多选操作</span></div><div class=select-content><ul><li><a class="hint--bottom hint--rounded" data-hint=左对齐 eqx-align-left><span class=eqf-putleft></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=水平居中对齐 eqx-align-horizontal-center><span class=eqf-putmiddle></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=右对齐 eqx-align-right><span class=eqf-putright></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=上对齐 eqx-align-top><span class=eqf-puttop></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=垂直居中对齐 eqx-align-vertical-center><span class=eqf-putcenter></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=下对齐 eqx-align-bottom><span class=eqf-putunder></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=竖直均分 eqx-vertical-average><span class=eqf-chuizhijunfen></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=水平均分 eqx-horizontal-average><span class=eqf-shuipingjunfen></span></a></li></ul><ul><li><a class="hint--bottom hint--rounded" data-hint=复制 eqx-copy><span class=eqf-scene-copy></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=粘贴 eqx-paste ng-style="{opacity: pasteOpacity}"><span class=eqf-print></span></a></li><li><a class="hint--bottom hint--rounded" data-hint=删除 eqx-delete-more><span class=eqf-scene-delete></span></a></li></ul></div></div>')
	}]), angular.module("scene/effect/falling.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/effect/falling.tpl.html", '<div id=page_panel ng-if="effectType == \'fallingObject\'" class="dropdown-menu1 panel panel-default"><div class=panel-heading>落物设置</div><div class=panel-body><form class=form-horizontal role=form><div class="form-group form-group-sm" style=margin-bottom:10px><label class="col-sm-5 control-label">环境图片</label><div class=col-sm-7><select ng-model=falling.src ng-options="fallingObj.name for fallingObj in fallings"></select></div></div><div class=divider></div><div class=well style="margin-bottom:15px;text-align: center;background-color: #ddd"><img ng-src={{falling.src.path}} style="width:60px;height:60px"></div><div class=divider></div><div class="form-group form-group-sm" style=margin-bottom:10px><label class="col-sm-5 control-label">环境氛围</label><div class=col-sm-7><div style="line-height: 24px;font-size: 12px"><span style=margin-right:39px>弱</span><span style=margin-right:37px>中</span><span>强</span></div><div style="width: 100px" ui-slider min=1 max=3 ng-model=falling.density></div></div></div><div class="form-group form-group-sm" style=margin-bottom:0px><div class=modal-footer style=padding-bottom:0px><a class=btn-main dropdown-toggle type=button ng-click=saveEffect(falling) class="btn btn-success btn-sm btn-main login" style=width:88px>保存</a> <a dropdown-toggle type=button ng-click=cancelEffect() class=btn-grey0 style=width:88px>取消</a></div></div></form></div></div>')
	}]), angular.module("scene/effect/snowfly.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/effect/snowfly.tpl.html", "")
	}]), angular.module("scene/newLongPage.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/newLongPage.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>选择页面长度</h4></div><div class=dialog-contain><div class=dialog-content style=margin-top:40px;margin-bottom:40px><form name=resetForm novalidate class=form-horizontal><div class=form-group><label class="text-right col-sm-2" style=padding-top:10px;margin-left:80px>页面长度：</label><div class=col-sm-6><eqx-select class="select-great select-great border-width" model=newPageLength change=changePageLength(newPageLength)><eqx-select-option value=len.value ng-repeat="len in pageLengths">{{len.name}}</eqx-select-option></eqx-select></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=create()>确定</a></div></div>')
	}]), angular.module("scene/page/page-tpl.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/page/page-tpl.tpl.html", '<div ng-show="scene.isTpl==2 || isTplEditor"><h4>元素特性设置</h4><div><ul class=tpl-uls ng-repeat="tplElement in tplElements"><li hover-element id=tplElement.id><span>图片&nbsp;{{$index+1}}</span> <span>可替换</span> <input type=checkbox ng-model=tplElement.isEditable ng-true-value=1 ng-false-value=-1 ng-checked="tplElement.isEditable == 1"></li></ul></div><div class=line></div></div><div><label ng-repeat="allchild in pageLabelAll"><input type=checkbox name="" value="" ng-model=allchild.ischecked>{{allchild.name}}</label></div><div class=select-labels><a ng-click=pageChildLabel()>确定</a></div>')
	}]), angular.module("scene/pageeffect/fall.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/fall.tpl.html", '<div class=effect-img style=background-color:#ccc><img ng-src="{{falling.src.bgpath}}"></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><lable class=form-label>环境图片：</lable><div class=form-input><eqx-select class="select-sm border-width select-contain" model=falling.src><eqx-select-option value=fallingObj ng-repeat="fallingObj in fallings">{{fallingObj.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" style="margin-top: 10px"><lable class=form-label>环境氛围：</lable><div class=form-input><div style="line-height: 24px;font-size: 12px"><span style=margin-right:39px>弱</span><span style=margin-right:37px>中</span><span>强</span></div><div style="width: 100px" ui-slider min=1 max=3 ng-model=falling.density></div></div></div></form></div>')
	}]), angular.module("scene/pageeffect/finger.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/finger.tpl.html", '<div class=effect-img><img ng-src="{{finger.bgImage.path}}"> <img class=finger-zw ng-src="{{finger.zwImage.path}}"> <img class=finger-line ng-src="{{CLIENT_CDN + \'view/images/finger_line.png\'}}" finger-move></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>背景图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.bgImage change=replaceImg(finger)><eqx-select-option value=null>自定义</eqx-select-option><eqx-select-option value=bgImage ng-repeat="bgImage in fingerBackgrounds">{{bgImage.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>指纹图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.zwImage><eqx-select-option value=zwImage ng-repeat="zwImage in fingerZws">{{zwImage.name}}</eqx-select-option></eqx-select></div></div></form></div>')
	}]), angular.module("scene/pageeffect/fireworks.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/fireworks.tpl.html", "<div class=effect-img><img ng-src=\"{{CLIENT_CDN + 'assets/images/create/firework.gif'}}\"></div>")
	}]), angular.module("scene/pageeffect/money.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/money.tpl.html", '<div class=effect-img><img ng-src="{{CLIENT_CDN + \'assets/images/create/money_thumb3.png\'}}"></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>提示文字：</label><div class=form-input><input type=text ng-model=money.tip placeholder=提示文字 check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px" ng-blur="checkCharLength()"><p style=color:red ng-show=tipError>{{tipError}}</p></div></div></form></div>')
	}]), angular.module("scene/pageeffect/none.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/none.tpl.html", "<div style=padding-top:100px;font-size:24px>点击确定，即可去除特效。</div>")
	}]), angular.module("scene/pageeffect/pageeffect.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/pageeffect.tpl.html", '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>页面特效 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1939&extra="></a> <span class=action>在设置界面可看到效果</span></h4></div><div class=dialog-contain><div class="form_console dialog-content"><div class=modify_area><div class=effect-list><ul><li ng-class="{\'select-effect\': controlView.effectIndex == $index || controlView.effectType == effect.type}" ng-repeat="effect in effectList" ng-click="selectEffect(effect, $index)">{{effect.name}}</li></ul></div><div class=effect-detail><div class=scratch-effect ng-show="controlView.effectType == \'scratch\'" ng-include="\'scene/pageeffect/scratch.tpl.html\'" ng-controller=scratchEffectCtrl></div><div class=finger-effect ng-show="controlView.effectType == \'finger\'" ng-include="\'scene/pageeffect/finger.tpl.html\'" ng-controller=fingerEffectCtrl></div><div class=money-effect ng-show="controlView.effectType == \'money\'" ng-include="\'scene/pageeffect/money.tpl.html\'" ng-controller=moneyEffectCtrl></div><div class=fall-effect ng-show="controlView.effectType == \'fallingObject\'" ng-include="\'scene/pageeffect/fall.tpl.html\'" ng-controller=fallEffectCtrl></div><div class=snow-effect ng-show="controlView.effectType == \'snowFly\'" ng-include="\'scene/pageeffect/snow.tpl.html\'" ng-controller=snowEffectCtrl></div><div class=firework-effect ng-show="controlView.effectType == \'fireWorks\'" ng-include="\'scene/pageeffect/fireworks.tpl.html\'" ng-controller=fireWorksCtrl></div><div class=none-effect ng-show="controlView.effectType == \'none\'" ng-include="\'scene/pageeffect/none.tpl.html\'" ng-controller=noneEffectCtrl></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>')
	}]), angular.module("scene/pageeffect/scratch.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/scratch.tpl.html", '<div class=scratch-pre><div class="effect-img scratch-img" scratch-effect><img ng-src="{{scratch.image.path}}"></div></div><div class="effect-form scratch-form" style="margin-left: 210px"><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>覆盖效果</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=scratch.image change=replaceImage(scratch)><eqx-select-option value=null>自定义</eqx-select-option><eqx-select-option value=scracthImage ng-repeat="scracthImage in scratches">{{scracthImage.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>透明度</label><div class=form-input><eqd-input-number ng-model=scratch.opacity min=0 max=100 unit=% ng-mouseenter="currentTipsIndex = 1" ng-mouseleave="currentTipsIndex = 0"></eqd-input-number></div><div class="tooltip right" role=tooltip ng-show="currentTipsIndex == 1"><div class=tooltip-arrow></div><div class=tooltip-inner>双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值</div></div></div><div class="form-list clearfix"><label class=form-label>涂抹比例</label><div class=form-input><eqd-input-number ng-model=scratch.percentage min=0 max=100 unit=% ng-mouseenter="currentTipsIndex = 1" ng-mouseleave="currentTipsIndex = 0"></eqd-input-number></div></div><div class="form-list clearfix"><label class=form-label>提示文字</label><div class=form-input><input type=text ng-model=scratch.tip placeholder=提示文字 check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px"></div></div></form></div>')
	}]), angular.module("scene/pageeffect/snow.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/pageeffect/snow.tpl.html", "<div class=effect-img><img ng-src=\"{{CLIENT_CDN + 'assets/images/create/snowmove.gif'}}\"></div>")
	}]), angular.module("scene/preview.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/preview.tpl.html", '<div id=audio_btn><audio id=media></audio></div><div class=loading><div class=loadbox><div class=loadlogo></div><div class=loadbg></div></div></div><div class=wechat-share><div class=scene-title-box><em class=scene-title>{{sceneName}}</em></div><img class=scene-img ng-src="{{PREFIX_FILE_HOST +  sceneCover}}"> <em class=scene-des>{{sceneDescription}}</em> <em class=scene-talk>我用易企秀做的，你看一看吧</em> <em class=scene-talk2>做的真好！我也去试一试</em></div><div class=verifyCode><div class=container><div class=scene-cover><img class=cover-img ng-src="{{PREFIX_FILE_HOST +  sceneCover}}"></div><div class=scene-name>{{sceneName}}</div><div class=confirm-password><div class=verify-label>请输入访问密码</div><div class=verify-tips id=verifyTip><ul class=password-indicator><li></li><li></li><li></li><li></li></ul></div><div class=password-numbers><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>0</span></div><div class=password-operation><span class=btn-clear id=btnClear>清空</span> <span class=btn-cancel id=btnCancel>取消</span></div></div></div></div>')
	}]), angular.module("scene/saveTemplate.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/saveTemplate.tpl.html", '<div class=fr><a class="hint--left hint--rounded delete all-change" data-hint=删除当前页 ng-click=deletePage($event) ng-show="pages.length != 1"><i class=eqf-scene-delete></i></a> <a ng-click=duplicatePage() class="hint--left copy hint--rounded all-change" data-hint=复制当前页><i class=eqf-scene-copy></i></a></div><div class=my-tpl-title>存为</div><div class=btn-group ng-show="userProperty.type ==2 || userProperty.type ==5"><button type=button class=btn style="border-right: 0" ng-class="{\'dropdown-toggle-mouseover\': showStyle == 1}" ng-mouseenter="showStyle = 1" ng-mouseleave="showStyle = 0"><a ng-click=creatMyTemplate() ng-show="btnGroup.selectItem == 2" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为我的模板><span>我的模板</span></a> <a ng-click=creatCompanyTemplate() ng-show="btnGroup.selectItem == 1" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为企业模板><span>企业模板</span></a></button> <button type=button class="btn dropdown-toggle" style="border-left: 0" ng-class="{\'dropdown-toggle-mouseover\': showStyle == 1}" ng-click=openMenu() ng-mouseenter="showStyle = 1" ng-mouseleave="showStyle = 0" ng-init="showStyle = 0"><span class=caret></span></button><ul class=dropdown-menu ng-show=btnGroup.caretSwitch><li ng-click="creatCompanyTemplate();selectedTemplate(\'companyTemplate\');btnGroup.selectItem = 1;btnGroup.caretSwitch = false"><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 1}"><span>企业模板</span></a></li><li ng-click="creatMyTemplate();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false"><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"><span>我的模板</span></a></li></ul></div><div class=btn-group ng-show="userProperty.type !=2 && userProperty.type !=5"><div class=btn><a ng-click=creatMyTemplate() ng-show="userProperty.type!==2 && userProperty.type!==5" class="hint--left hint--rounded" data-hint=保存到我的模板>我的模板</a></div></div>')
	}]), angular.module("scene/scene.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/scene.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class=min-contain><div ng-include="\'sysmessage.tpl.html\'"></div><div class=info-show><div class=same-content><div class=info-title style=padding-bottom:80px>场景样例</div><div class=info><div class=creat-scene><a ng-click=createScene() class="clearfix background-color-width-change"><em class=eqf-plus2></em><span class=opacity-width-change>点击创建空白场景</span></a></div><ul class="clearfix tab-line"><li><a ng-class="{active : 0 == childcat}" ng-click=allpage(null,null)>全部</a></li><li ng-repeat="pageTplType in pageTplTypesList"><a ng-click=getPageTplsByType(pageTplType.type) ng-class="{active : pageTplType.type == childcat}">{{pageTplType.name}}</a></li><li ng-show="userProperty.type ==2 || userProperty.type ==21 || userProperty.type ==5 || userProperty.type ==51"><a ng-click=getCompanyTpl() ng-class="{active: 1 == childcat}">企业样例</a></li></ul></div></div></div><div class=same-content><div class="sample-childcat clearfix mt20" ng-if=newArrayGroupCat><ul class="cat-list tab-box-shadow" ng-repeat="childGroup in newArrayGroupCat"><li ng-repeat="cat in childGroup" ng-click=getPageTpls(type,cat.bizType,cat.id,1,11) ng-class="{active:cat.id == categoryId}"><a>{{cat.name}}</a><span>|</span></li></ul></div><div class="scene-type clearfix"><div class=search-tab><div class=search ng-class={hover:name} style=right:0><input type=text maxlength=40 placeholder=请输入搜索内容 ng-model=name ng-change=changeName(name) ng-keypress=EnterPress(event,name) ng-keydown=EnterPress(name)> <span ng-if=searchButton class="search-icon eqf-search" ng-click=submit(name)></span> <span ng-if=!searchButton class="search-icon eqf-wrong" ng-click=clearSearch()></span></div></div><div class=scene-select ng-class={selected:!selete} ng-click="new=true;filterTpl(new,\'default\')"><a><span>默认排序</span></a></div><div class=scene-select ng-class={selected:selete,iconChange:new} ng-init="new=true;" ng-click="new =!new; filterTpl(new,\'new\')"><a><span>最新发布</span><em class="eqf-more all-change"></em></a></div></div><div style=position:relative><ul class="square-scene clearfix"><li class="tab-box-shadow creat-blank all-change" ng-if=blankSample ng-click=createScene() style=cursor:pointer><div class="creat-content background-color-width-change"><i class=eqf-plus2></i><span>创建一个空白场景</span></div></li><li ng-repeat="tpl in tpls track by $index" class="tab-box-shadow animation-zoom all-change" ng-show=tpls ng-style="{\'animation-delay\' : $index * 50 + \'ms\'}"><div class="ribbon ribbon-badge" ng-if="tpl.isCompanyTemp == 1"><span class="ribbon-inner check">企业专属</span></div><div class="ribbon ribbon-badge" ng-if="!!tpl.price && tpl.isCompanyTemp !=1"><span class="ribbon-inner check">{{tpl.price}}秀点</span></div><div class=image><div ng-show=!tpl.show class="front face" ng-style=getStyle(tpl.cover) style=background-size:cover></div><div ng-show=tpl.show class=ercode qr-code qr-url="{{canvasUrl + \'/v-\' + tpl.code}}"></div><div class=overlay ng-show=!tpl.show><div class=edit><a class=edit-same target=_blank ng-href="{{canvasUrl + \'/v-\' + tpl.code}}"><em class=eqf-eye style=font-size:20px></em> <span>预览</span></a> <a class=edit-same ng-click=createScene(tpl)><em class=eqf-xiuziti style=font-size:18px></em> <span>就这个</span></a></div></div></div><div class=project-info><p class=ellipsis>{{tpl.name}}</p><div class="buttons sample clearfix" ng-if=!branchid><div class="set sample-scene"><span class=scene-name>{{tpl.userName}}</span></div><a class="erweima button" ng-hover resource=tpl><em class=eqf-QRcode></em></a></div></div><div class=head-img><img ng-if=tpl.avatar ng-src={{tpl.avatar}}> <span ng-if=!tpl.avatar class=scene-headimg><em class=eqf-top-contact></em></span></div></li></ul><div style="text-align:center;margin:50px 0" ng-if="tpls.length < 1"><h2 class=mb20>该条件下暂无样例，您可以：</h2><p style=font-size:12px;padding-bottom:10px>1.更换关键词重新搜索</p><p style=padding-bottom:10px><a href=/show/visitor target=_blank><ins>2.找秀客定制场景</ins></a></p><p style=padding-bottom:10px><a ng-click=openCustomActive()><ins>3.发起设计活动</ins></a></p><img ng-src={{CLIENT_CDN}}assets/images/notfound.svg></div></div><div class="clearfix page-turn" style=margin-top:10px ng-show="totalItems > 11 \n            && tpls.length"><div class=fl><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=12 total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div><span class=fl style=padding-top:12px;padding-left:10px>没有喜欢的？<a href=/show/visitor target=_blank><ins>找秀客定制</ins></a></span></div></div></div><div ng-include="\'footer.tpl.html\'"></div><div ng-include="\'scene/createUserGuide.tpl.html\'"></div>')
	}]), angular.module("scene/support/support.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/support/support.tpl.html", '<div class=support-contain><div class=imgie><img class=mt20 ng-src="{{CLIENT_CDN}}assets/images/support/HTML5.svg"></div><h3 class=h3ie>尊敬的易企秀用户：</h3><p><span>为了保证您在易企秀内的使用体验，建议您从下列浏览器中选择一款进行访问。若坚持使用该浏览器，请</span> <a class=text-primary ng-click=continue()><span>继续使用</span></a></p><ul><li><a id=download_Chorme ng-href={{download_Chorme}} target=_blank><img ng-src="{{CLIENT_CDN}}assets/images/support/chrome.svg"> <span>Chrome</span></a></li><li><a id=download_IE ng-href={{download_IE}} target=_blank><img ng-src="{{CLIENT_CDN}}/assets/images/support/IE11.svg"> <span>IE11</span></a></li><li><a id=download_360 ng-href={{download_360fast}} target=_blank><img class=ml20 ng-src="{{CLIENT_CDN}}/assets/images/support/360fast.svg"> <span>360极速浏览器</span></a></li><li><a id=download_360 ng-href={{download_360}} target=_blank><img ng-src="{{CLIENT_CDN}}/assets/images/support/360safe.svg"> <span>360浏览器</span><br><span>极速模式</span></a></li></ul></div>')
	}]), angular.module("scene/tplOption.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/tplOption.tpl.html", '<div class="popover bottom"><div class=arrow style=left:70%></div><div class=popover-content><ul class=menus><li class=menu-item ng-click=saveMyTemplate()><span class=menu-item-name>存为我的模板</span></li><li class=menu-item ng-click=saveCompanyTemplate() ng-if="userProperty.type==2"><span class=menu-item-name>存为企业模板</span></li></ul></div></div>')
	}]), angular.module("scene/userGuide.tpl.html", []).run(["$templateCache", function(a) {
		a.put("scene/userGuide.tpl.html", '<div class=scene-user-guide ng-click=showNextGuide() ng-show=firstLogin ng-controller=SceneUserGuideCtrl><div class=menu-tool-bar ng-class="{\'active\': 2 == currentGuideIndex}"></div><div class=page-template ng-class="{\'active\': 0 == currentGuideIndex}"></div><div class=page-manager ng-class="{\'active\': 1 == currentGuideIndex}"></div><div class=tool-bar-setting ng-class="{\'active\': 3 == currentGuideIndex}"></div><div class=tool-bar-no-guide></div><div class=page-edit-area ng-class="{\'active\': 4 == currentGuideIndex}"></div><div class=scene-guide-info ng-show="0 == currentGuideIndex"><div class="tooltip right" role=tooltip><div class=tooltip-arrow></div><div class=tooltip-inner><span>页面模板，内容丰富，点击使用</span><div class=tooltip-know>知道了</div></div></div></div><div class=scene-guide-info ng-show="1 == currentGuideIndex"><div class="tooltip left" role=tooltip><div class=tooltip-arrow></div><div class=tooltip-inner><span>点击“+”可以添加新页面</span><br><span>按住页面可以随意拖拽更换顺序</span><br><span>点击 复制/删除 当前页面，双击更改名称</span><div class=tooltip-know>知道了</div></div></div></div><div class=scene-guide-info ng-show="2 == currentGuideIndex"><div class="tooltip bottom" role=tooltip><div class=tooltip-arrow></div><div class=tooltip-inner><span>自由组件，点击添加组件</span><div class=tooltip-know>知道了</div></div></div></div><div class=scene-guide-info ng-show="3 == currentGuideIndex"><div class="tooltip bottom tooltip-setting" role=tooltip><div class=tooltip-arrow></div><div class=tooltip-inner><div class=tooltip_setting_head>场景设置搬家啦！在这里可以进行：</div><div><p>①设置场景封面</p><p>②修改场景封面</p></div><div><p>③设置翻页方式</p><p>④设置场景尾页</p></div><div class=tooltip-know>知道了</div></div></div></div><div class=scene-guide-info ng-show="4 == currentGuideIndex"><div class="tooltip right tooltip-edit" role=tooltip><div class=tooltip-arrow></div><div class=tooltip-inner><span>场景编辑区域，任意摆放所见即所得</span><div class=tooltip-know>知道了</div></div></div></div></div>')
	}]), angular.module("show/active/active-xq.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/active/active-xq.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class=cake><div class=same-content><a href=#/show>秀场</a> > <a href=#/show/active>活动</a> > {{activeMes.title}}</div></div><div class=same-content><div class="active-lunbo mt" slides2 id="{{\'ac_\' + activeId}}" width=1000px height=400px style=width:1000px;height:400px><div class=slides_container></div><div class=hd-icon><a class="eqf-left22 prev"></a> <a class="eqf-right23 next"></a></div></div><div class="show-list tuijian"><h2><em>推荐</em><a href="" ng-click=attend()>我要参加</a><span>RECOMMEND</span></h2><ul class=clearfix><li ng-repeat="recList in recSceneList"><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + recList.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + recList.cover}}"><p>{{recList.name}}</p><p><span class=auth><img title={{recList.userLoginName}} ng-src="{{recList.headImg}}"></span> <span><em class=eqf-eye></em>{{recList.showCount}}</span></p></a></li></ul></div><div id=introduction ng-bind-html=activeMes.introduction></div><div class=show-list><h2><em>最新</em><span>NEW</span></h2><ul class=clearfix><li ng-repeat="scene in sceneList"><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + scene.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + scene.cover}}"><p>{{scene.name}}</p><p><span class=auth><img title={{scene.userLoginName}} ng-src="{{scene.headImg}}"></span> <span><em class=eqf-eye2></em>{{scene.showCount}}</span></p></a></li></ul></div><div class="same-content clearfix" ng-show="totalItems > 16"><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=16 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div><div class="same-content hezuo" ng-show="friendLinks.length > 0"><h2><em>合作</em><span>FRIEND</span></h2><ul class=clearfix><li ng-repeat="link in friendLinks"><a href={{link.url}} target=_blank><img ng-src={{link.logo}} title={{link.name}} logo="{{link.name}}"></a></li></ul></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/active/active.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/active/active.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class=same-content><div class="active-lunbo mt" slides2 id=active width=1000px height=400px style=width:1000px;height:400px><div class=slides_container></div><div class=hd-icon><a class="eqf-left prev"></a> <a class="eqf-right next"></a></div></div><div class="active-list mt"><h2><em>活动</em><span>ACTIVITY</span></h2><ul><li ng-repeat="hdList in activeList"><div class="join hdList"><span><em>作品</em>：{{hdList.joinNum}}</span><span><em>截止日期</em>：{{hdList.endDate | date:\'yyyy-MM-dd\'}}</span> <a ng-show=hdList.join ng-click=attend()>参加</a> <a ng-show=!hdList.join style=background-color:#ccc>结束</a></div><div><a ng-click=join(hdList.id)><img ng-src="{{PREFIX_FILE_HOST + hdList.image}}">{{hdList.title}}</a></div></li></ul></div><div class="same-content clearfix pb20" ng-show="totalItems > 10"><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div><div class="same-content hezuo" ng-show="friendLinks.length > 0"><h2>合作<span>FRIEND</span></h2><ul class=clearfix><li ng-repeat="link in friendLinks"><a href={{link.url}} target=_blank><img ng-src={{link.logo}} title={{link.name}} alt="{{link.name}}"></a></li></ul></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/category/category.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/category/category.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class="show-con same-content clearfix"><div class=hd-lunbo slides2 id=st_{{bizType}} width=650px height=260px><div class=slides_container></div><div class=hd-icon><a class="eqf-left prev"></a> <a class="eqf-right next"></a></div></div><aside><h2><a class=apply_showker href=#/show/active>更多</a><em>活动</em><span>ACTIVITY</span></h2><ul><li ng-repeat="hdList in activeList"><a ng-click=join(hdList.id)><img ng-src="{{PREFIX_FILE_HOST + hdList.image}}"> {{hdList.title}}</a></li></ul></aside></div><div class="show-list same-content"><h2><span class=category_sort><a ng-class="{active:order == null}" ng-click=tplNew(null)>最新</a></span> {{catName}}</h2><div class=category><ul class="category_two clearfix"><li ng-repeat="child in childCatrgoryList" ng-class="{active:child.id == categoryId}" ng-click=getPageTpls(order,child.id)><a title={{child.name}}>{{child.name}}</a></li></ul></div></div><div class="show-list same-content"><ul class=clearfix ng-show=tpls.length><li ng-repeat="tpl in tpls"><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}"><p>{{tpl.name}}</p><p><span><em class=eqf-eye2></em>{{tpl.showCount}}</span> <span class=auth><img title={{tpl.userName}} ng-src="{{tpl.headImg}}"></span></p></a> <a ng-if="tpl.isTemplate == 1" class=screen-use target=_blank ng-click=userTpl(tpl)>使用</a></li></ul><div style=margin:20px ng-hide=tpls.length>此分类下暂无场景</div></div><div class="same-content clearfix" ng-show="totalItems > 16" style=margin-bottom:20px><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=16 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/category/nav.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/category/nav.tpl.html", '<div class=show-head><div ng-if=user ng-include="\'header.tpl.html\'"></div><div class=pri-nav ng-if=!user id=home><header style=background-color:#fff;width:100%;height:60px><div class="we_nav content_center"><div class=link_list><ul class=clearfix><li><a class=background-color-width-change href=#/home>首页</a></li><li><a class=background-color-width-change target=_blank href=#/show>秀场</a></li><li><a class=background-color-width-change href=#/privilege>会员特权</a></li><li class=login ng-hide=isAuthenticated()><a class=background-color-width-change ng-click=openLogin()>登录</a></li><li ng-hide=isAuthenticated() class=register><a class=background-color-width-change ng-click=openRegister() id=registerFormBtn>注册</a></li><li ng-show=isAuthenticated()><a class=background-color-width-change href=#/main>进入</a></li></ul></div><div id=logo><a href=#/main class="hint--bottom hint--rounded " id=logo><img ng-src="{{logoSrc}}" alt=""></a></div></div></header></div><div class=banner><div class=big-font><img ng-src="{{CLIENT_CDN}}assets/images/show/faxian.png"></div><div class=input-search><input class=search type=text value="" ng-model=val ng-change=search(val) ng-keypress=EnterPress(event,val) ng-keydown="EnterPress(val)"> <span class="eqf-serach search-icon" ng-click=submit() style=cursor:pointer></span></div></div><nav><ul class=clearfix><li><a href="#/show/" ng-class="{active: childCat == \'index\'}">秀场</a></li><li ng-repeat="type in sceneType"><a ng-class="{active: childCat == type.value}" ng-click=getCategoryPage(type.value,type.id)>{{type.name}}</a></li></ul></nav></div>');
	}]), angular.module("show/index.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/index.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class="show-con same-content clearfix"><div class=hd-lunbo slides2 id=index width=650px height=260px><div class=slides_container></div><div class=hd-icon><a class="eqf-left prev"></a> <a class="eqf-right next"></a></div></div><aside><h2><a href=#/show/active class=apply_showker>更多</a><i>活动</i><span>ACTIVITY</span></h2><ul><li ng-repeat="hdList in activeList"><a ng-click=join(hdList.id)><img ng-src="{{PREFIX_FILE_HOST + hdList.image}}"> {{hdList.title}}</a></li></ul></aside></div><div class="show-list same-content"><h2><a href=#/show/recommend class=apply_showker>更多</a><i>推荐</i><span>RECOMMEND</span></h2><ul class=clearfix><li ng-repeat="tpl in sceneList"><div class="ribbon ribbon-badge" ng-if="!!tpl.price && tpl.isTemplate == 1"><span class="ribbon-inner check">{{tpl.price}}秀点</span></div><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}"><p>{{tpl.name}}</p><p><span class=auth><img title={{tpl.userName}} ng-src="{{tpl.headImg}}"></span> <span><em class=eqf-eye2></em>{{tpl.showCount}}</span></p></a> <a ng-if="tpl.isTemplate == 1" class=screen-use target=_blank ng-click=userTpl(tpl)>使用</a></li></ul></div><div class="hezuo same-content" ng-show="friendLinks.length>0"><h2><em>合作</em><span>FRIEND</span></h2><ul class=clearfix><li ng-repeat="list in friendLinks"><a href={{list.url}} target=_blank><img ng-src="{{list.logo }}" alt={{list.name}} title="{{list.name}}"></a></li></ul></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/recommend/recommend.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/recommend/recommend.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class="show-list same-content"><h2><span class=category_sort><a ng-class="{active:order == null}" ng-click=tplNew(null)>最新</a>| <a ng-class="{active:order == \'1\'}" ng-click="tplNew(\'1\')">样例</a></span> <i>推荐</i><span>RECOMMEND</span></h2><ul class=clearfix><li ng-repeat="tpl in recommendList"><div class="ribbon ribbon-badge" ng-if="!!tpl.price && tpl.isTemplate == 1"><span class="ribbon-inner check">{{tpl.price}}秀点</span></div><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}"><p>{{tpl.name}}</p><p><span><em class=eqf-eye2></em>{{tpl.showCount}}</span> <span class=auth><img title={{tpl.userName}} ng-src="{{tpl.headImg}}"></span></p></a> <a ng-if="tpl.isTemplate == 1" class=screen-use target=_blank ng-click=userTpl(tpl)>使用</a></li></ul></div><div class="same-content clearfix" style=margin-bottom:20px ng-show="totalItems > 16"><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/search/search.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/search/search.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class=cake><div class=same-content><a href=#/show>首页</a> > <i>搜索</i>-{{name}}</div></div><div class=same-content style=margin-bottom:20px><div class="show-list same-content"><h2><i>搜索</i><span><i>SEARCH</i></span></h2><div class="search clearfix"><input type=text value="" id=search ng-model=val onchange=search(val) ng-keypress=EnterPress(event,val) ng-keydown=EnterPress(val)> <a href="" ng-click=submit(val)><em class=eqf-serach></em><i>搜索</i></a></div><div class=search-con><p><i>您搜索的关键词：</i><span class=key>{{name}}</span> <i>共有</i><span class=key>{{totalItems}}</span><i>条结果</i></p></div><ul class=clearfix><li ng-repeat="tpl in searchList"><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}"><p>{{tpl.name}}</p><p><span><em class=eqf-eye2></em>{{tpl.showCount}}</span> <span class=auth><img title={{tpl.userName}} ng-src="{{tpl.headImg}}"></span></p></a> <a ng-if="tpl.isTemplate == 1" class=screen-use target=_blank ng-click=userTpl(tpl)>使用</a></li></ul></div><div class="same-content clearfix" ng-show="totalItems > 16"><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/visitor/visitor-xq.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/visitor/visitor-xq.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class=cake><div class=same-content><a href=#/show>秀场</a> > <a href=#/show/visitor>秀客</a> > {{visitorMsg.name}}</div></div><div class="visitor-xq same-content"><div class=clearfix><img ng-show=visitorMsg.headImg ng-src={{visitorMsg.headImg}} width=200px height=200px><div ng-show=!visitorMsg.headImg style=width:200px;height:200px;background-color:#08a1ef;text-align:center;line-height:230px;float:left;margin-right:20px><em class=eqf-top-contact style=color:#fff;font-size:50px></em></div><div class=visitor-dec><h4>{{visitorMsg.name}}</h4><p class=des>{{visitorMsg.introduction}}</p><ul><li><span>擅长领域：</span><span ng-repeat="cate in cateTag">{{cate.name}}</span></li><li><span>服务地域：</span><span ng-repeat="server in serverTag">{{server.name}}</span></li><li><span>支付方式：</span><span ng-repeat="pay in payTag">{{pay.name}}</span></li></ul></div></div><div class=contact><a class="qq hint--top hint--rounded" data-hint={{qqAction}}{{visitorMsg.qq}}><em class=eqf-qq></em></a> <a class="hint--top hint--rounded weixin" data-hint=微信号：{{visitorMsg.wechat}}><em class=eqf-wechat></em></a> <a class="phone hint--top hint--rounded" data-hint=手机号：{{visitorMsg.tel}}><em class=eqf-glyphicon-earphone></em></a> <a ng-if=visitorMsg.email class="sixin hint--top hint--rounded" data-hint=邮箱：{{visitorMsg.email}} href="mailto:\'+ {{visitorMsg.email}} +\'"><em class=eqf-envelope></em></a> <a ng-if=!visitorMsg.email class="hui hint--top hint--rounded" data-hint=该秀客没有留下邮箱><em class=eqf-envelope></em></a></div></div><div class="show-list same-content"><h2><i>作品</i><span>WORKS</span></h2><ul class=clearfix><li ng-repeat="tpl in visitorWorks"><a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target=_blank><img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}"><p>{{tpl.name}}</p><p><span><em class=eqf-eye2></em>{{tpl.showCount}}</span> <span class=auth><img title={{tpl.userName}} ng-src="{{tpl.headImg}}"></span></p></a></li></ul></div><div class="same-content clearfix pb20" ng-show="totalItems > 16"><pagination style=float:left first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; items-per-page=pageSize total-items=totalItems max-size=10 ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("show/visitor/visitor.tpl.html", []).run(["$templateCache", function(a) {
		a.put("show/visitor/visitor.tpl.html", '<div id=show-contain><div ng-include="\'show/category/nav.tpl.html\'" ng-controller=NavCtrl></div><div class=visitor-contain><div class="visitor same-content clearfix"><section><h2>场景定制找秀客<a class=zhinan href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15436" target=_blank>指南</a><a class=apply_showker href=/active target=_blank>申请成为秀客</a></h2><div class=select-list><span>服务地域</span>|<a ng-class="{active:serverAll == \'all\'}" ng-click="serverWu(\'province\',\'serverAll\')">不限</a> <a ng-repeat="server in serverLabel | filter: getLimitedServeRegion" ng-click=subServer(server) ng-class="{active:currentServer ==server}">{{server.name}}</a> <a ng-show=moreArea class=more data-toggle=dropdown>更多</a><div class="other-label dropdown-menu"><a ng-repeat="otherServer in serverLabel | filter: getOtherServeRegion" ng-click=subServer(otherServer) ng-class="{active:currentServer == otherServer}">{{otherServer.name}}</a></div></div><div class=select-list style=position:relative><span>擅长领域</span>|<a ng-class="{active:cateAll == \'all\'}" ng-click="serverWu(\'company_industry\',\'cateAll\')">不限</a> <a ng-repeat="tag in cateLabel | filter: getLimitedCateRegion" ng-click=subLabel(tag) ng-class="{active:currentCate ==tag}">{{tag.name}}</a> <a data-toggle=dropdown ng-show=moreLabel class=more>更多</a><div class="other-label dropdown-menu"><a ng-repeat="otherCate in cateLabel | filter: getOtherCateRegion" ng-click=subLabel(otherCate) ng-class="{active:currentCate == otherCate}">{{otherCate.name}}</a></div></div><div class=select-list><span>付款方式</span>|<a ng-class="{active:payAll == \'all\'}" ng-click="serverWu(\'payType\',\'payAll\')">不限</a> <a ng-repeat="pay in payLabel" ng-click=subPay(pay) ng-class="{active: currentPay == pay}">{{pay.name}}</a></div></section><aside class=visitor-list><h2>本周之星<a class=apply_showker href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13804" target=_blank>申请本周之星</a></h2><div class=visitor-same><div class="visitor-one clearfix"><a ng-click=visitorXq(recommendVisitor.userId)><img ng-show=recommendVisitor.headImg ng-src={{recommendVisitor.headImg}} width=80px height=80px><div ng-show=!recommendVisitor.headImg style=width:80px;height:80px;text-align:center;line-height:80px;background-color:#08a1ef;float:left;margin-right:20px;padding-top:8px><em class=eqf-top-contact style=color:#fff;font-size:30px></em></div></a><h3><a ng-click=visitorXq(recommendVisitor.userId)>{{recommendVisitor.name}}</a></h3><p class=dec style=white-space:normal title={{recommendVisitor.introduction}}>{{recommendVisitor.introduction}}</p></div><div class=visitor-works><ul><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work1Code}}" target=_blank>{{work1Name}}</a></li><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work2Code}}" target=_blank>{{work2Name}}</a></li><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work3Code}}" target=_blank>{{work3Name}}</a></li></ul></div></div></aside></div><div class="same-content visitor-item"><h2><a class=apply_showker style=color:#08a1ef href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=17614&extra=page%3D1" target=_blank>海外场景定制合作</a>秀客列表</h2><div class=visitor-content><p ng-if="visitorList.length == 0" style="padding:20px 0">暂无秀客列表</p><ul class=clearfix ng-if="visitorList.length >0"><li class="visitor-list visitor-same" ng-repeat="visitor in visitorList"><div class="visitor-one clearfix"><a ng-click=visitorXq(visitor.userId)><img ng-show=visitor.headImg ng-src={{visitor.headImg}} width=80px height=80px><div ng-show=!visitor.headImg style=width:80px;height:80px;text-align:center;line-height:80px;background-color:#08a1ef;float:left;margin-right:20px;padding-top:8px><em class=eqf-top-contact style=color:#fff;font-size:30px></em></div></a><div><h3><a ng-click=visitorXq(visitor.userId)>{{visitor.name}}</a></h3><p class=dec style=white-space:normal title={{visitor.introduction}}><span>{{visitor.introduction}}</span></p></div></div><div class=visitor-works><ul><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + visitor.represent1Code}}" target=_blank>{{visitor.represent1Name}}</a></li><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + visitor.represent2Code}}" target=_blank>{{visitor.represent2Name}}</a></li><li class=ellipsis><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + visitor.represent3Code}}" target=_blank>{{visitor.represent3Name}}</a></li></ul></div></li></ul></div></div><div class="same-content clearfix" ng-show="totalItems > 12" style=margin-bottom:20px><pagination style=float:left first-text=首页 previous-text=&lsaquo; next-text=&rsaquo; last-text=尾页 max-size=10 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("spread/console/apply.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/console/apply.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title}} <span class=action ng-show=!authError>{{description}}</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="dialog-content ml20" style=margin-top:0><form name=resetForm novalidate class=form-horizontal><div class=form-group style=margin-bottom:0 ng-class="{mt20: applyObj.type == 2 || applyObj.type == 1 || applyObj.type == 4}"><div class="col-sm-offset-3 col-sm-6"><eqx-select class="select-contain select-great border-width" model=apply.showObj change="" ng-show="applyObj.type == 2"><eqx-select-option value=null>申请类别</eqx-select-option><eqx-select-option value=sceneTag ng-repeat="sceneTag in sceneTags">{{sceneTag.name}}</eqx-select-option></eqx-select><eqx-select class="select-contain select-great border-width" model=apply.tplObj change="" ng-show="applyObj.type == 1 && user.type == 4"><eqx-select-option value=tplPrice ng-repeat="tplPrice in tplPrices">{{tplPrice.name}}</eqx-select-option></eqx-select><div class="mt20 mb20" ng-show="applyObj.type == 1 && user.type != 4">确定申请为样例？</div><div class="mt20 mb20" ng-show="applyObj.type == 4">确定申请为企业样例？</div></div></div></form><ul class="mt20 clearfix apply-active"><li class="mr20 mb20" style="display: inline-block;width: 95px;height: 120px;border: 1px solid #ccc" ng-repeat="activityPageTpl in activityPageTpls" ng-click=selectActivePage(activityPageTpl)><div class=checkbox-square ng-class="{checked: activityPageTpl.checked}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=activityPageTpl.checked name=iCheck ng-disabled="scene.isShow==1 || scene.isShow==2"></div><img ng-src="{{PREFIX_FILE_HOST + activityPageTpl.properties.thumbSrc}}"></li></ul></div></div><div class=modal-footer><a class=modal-cancle ng-click=cancel() ng-disabled=form.$invalid>取消</a> <a class="btn btn-primary" ng-click=apply() ng-disabled=form.$invalid>确定</a></div>')
	}]), angular.module("spread/spread.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/spread.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class=min_contain><div ng-include="\'sysmessage.tpl.html\'"></div><div class=info-show><div class=same-content><div class="spread-area clearfix"><div class="scene-oper opera-userinfo"><a class="btn btn-border opa-btn background-color-width-change" target=_blank ng-click=viewScene($event)><span class=eqf-eye style=font-size:12px></span> &nbsp;预览场景</a> <a ng-if=!branchid class="btn btn-border opa-btn edit-scene background-color-width-change" ng-click=editScene(scene)><span class=eqf-write></span> &nbsp;编辑场景</a> <a ng-if=!branchid class="btn btn-border opa-btn edit-scene background-color-width-change" ng-click=sceneSettings($event,scene)><span class=eqf-scene-setting></span> &nbsp;设置场景</a></div><div class="scene-cover fl"><img ng-src="{{PREFIX_FILE_HOST + scene.cover}}"></div><div class=scene-detail><div class=scene-name>{{scene.name}}<span style="font-size:12px;padding-left:15px;color:rgba(255, 255, 255, 0.6)">{{scene.description}}</span></div><div class="fade-color scene-tip"><span class=first-col style="width: 180px">场景展示： {{scene.showCount}}</span> <span>收集数据： {{scene.dataCount}}</span></div><div class="fade-color scene-tip"><span class=first-col style="width: 180px">创建时间： {{scene.createTime | date:\'yyyy年MM月dd日\'}}</span> <span>最后更新： {{scene.updateTime | date:\'yyyy年MM月dd日\'}}</span></div><div class="fade-color scene-tip" ng-show=branchid><span class=first-col>场景状态：{{sceneStadus}}</span></div><div class="fade-color scene-tip" ng-show=!branchid><div class=first-col><span ng-class="{fl: (scene.status == 1 || scene.status == 2) && scene.publishTime}" style=padding-top:3px>场景状态：</span><div class="switch switch-open hint--bottom hint--rounded" data-hint=点击关闭场景 ng-show="scene.bizType !=30 && scene.status == 1 && scene.publishTime " ng-click=openScene(scene.status,false)><div class=circle-con><i class=circle></i></div></div><div class="switch switch-close hint--bottom hint--rounded" data-hint=点击开放场景 ng-show="scene.bizType !=30 && scene.status == 2 && scene.publishTime" ng-click="openScene(scene.status ,true)"><div class=circle-con><i class=circle></i></div></div><span ng-show="scene.bizType !=30 && !scene.publishTime && (scene.status == 2 || scene.status == 1)">未发布</span> <span ng-show="scene.status==-1">审核被拒绝</span> <span ng-show="scene.status==-2">审核中</span></div></div></div></div><div class=spread-tab><ul class="clearfix tab-line"><li><a ng-class="{active: viewControl.tab == \'share\'}" ng-click="showShare(\'share\');">分享推广</a></li><li><a ng-class="{active: viewControl.tab == \'statistics\'}" ng-click="showStatistics(\'statistics\');">效果统计</a></li><li><a ng-class="{active: viewControl.tab == \'dataCollect\'}" ng-click="dataCollect(\'dataCollect\');">数据汇总</a></li></ul></div></div></div><div class=same-content><div id=share ng-if="viewControl.tab == \'share\'" ng-controller=ShareCtrl><div ng-include="\'spread/tab/share.tpl.html\'"></div></div><div id=statistics ng-if="viewControl.tab == \'statistics\'" ng-controller=StatisticsCtrl><div ng-include="\'spread/tab/statistics.tpl.html\'"></div></div><div id=dataCollect ng-if="viewControl.tab == \'dataCollect\'" ng-controller=DataCollectCtrl><div ng-include="\'spread/tab/data-collect.tpl.html\'"></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("spread/tab/data-collect.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/data-collect.tpl.html", '<div class="my-data clearfix" id=myData><div><div class=data-item ng-show=totalItems><a class=fr ng-click=downApp()><ins></ins></a><div><span>数据项</span>：</div><ul class="origin-ul clearfix"><li ng-repeat="header in dataHeaders track by $index"><div class="square table-checkbox"><div class=checkbox-square ng-class="{checked: header.selected}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=header.selected ng-change="selectHeader(header,$index,header.selected)"></div></div><label>{{header.title}}</label></li></ul></div><div ng-show="dataContain && totalItems"><div class="clearfix export pb20" id=collectData><span ng-show=branchDelete class=data-title ng-click=dataDelete()>删除</span><div ng-show="!showUp && branchExport" class=no-header><a class="btn btn-primary hint--left hint--rounded" ng-click=dataOutNoHeader() data-hint=有修改表单的使用此方式，导出没有名称的数据><span class="export_excel eqf-download"></span></a></div><div ng-show="showUp && branchExport" class="btn-group no-header dropdown"><a class="btn btn-primary dropdown-toggle hint--left hint--rounded" data-hint=有修改表单的使用此方式，导出没有名称的数据><span class="export_excel eqf-download"></span></a><div class="data-page dropdown-menu"><ul><li ng-repeat="dataPageNum in dataPageNums" ng-click=dataOutNoHeaderPage(dataPageNum.start,dataPageNum.end)>{{dataPageNum.start}}-{{dataPageNum.end}}<em>页</em></li></ul></div></div><div ng-show="!showUp && branchExport"><a class="btn btn-primary" ng-click=dataOutDirect()><span class=export_excel>导出excel</span></a></div><div ng-show="showUp && branchExport" class="btn-group dropdown"><a class="btn btn-primary dropdown-toggle"><span class=export_excel>导出excel</span> <span class=eqf-down2></span></a><div class="data-page dropdown-menu"><ul><li ng-repeat="dataPageNum in dataPageNums" ng-click=dataOutPage(dataPageNum.start,dataPageNum.end)>{{dataPageNum.start}}-{{dataPageNum.end}}<em>页</em></li></ul></div></div></div><div class=data class=mb20><div class=table-list><table class=table><tr><th><div class="square table-checkbox"><div class=checkbox-square ng-class="{checked: allSelect.selected}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=allSelect.selected ng-change="selectAll()"></div></div></th><th class=data_header ng-style="{width: tdW}" ng-repeat="header in dataShow track by $index">{{header.title}}</th></tr><tr ng-repeat="data in dataShowList"><td><div class="square table-checkbox"><div class=checkbox-square ng-class="{checked: data.selected}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=data.selected ng-change="selectData(data)"></div></div></td><td title={{item}} ng-repeat="item in data track by $index">{{item}}</td></tr></table><div ng-show="totalItems > 10" class=clearfix><pagination class=fl first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=totalItems ng-model=page.currentPage ng-change=pageChanged(page.currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div></div><div class=pt20 ng-show="totalItems && !dataShowList.length">您没有勾选数据</div><div style=text-align:center class="mt20 mb20" ng-show="totalItems==0"><h2 class="mb20 mt20">您的场景数据目前为空</h2><div class=mb20>进入编辑页面添加表单类组件，收集需要的数据。</div><img ng-src="{{CLIENT_CDN}}assets/images/userdata.svg"></div></div></div>')
	}]), angular.module("spread/tab/share.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/share.tpl.html", '<div class=share-tab><ul class="nav nav-pills no-border"><li ng-class="{active: viewControl.subtab == \'socialShare\'}"><a class=background-color-width-change ng-click="showSelectSubTab(\'socialShare\')">社交分享</a></li><li ng-class="{active: viewControl.subtab == \'siteImport\'}"><a class=background-color-width-change ng-click="showSelectSubTab(\'siteImport\')">网址嵌入</a></li></ul></div><div class="tab-content p20"><div ng-if="viewControl.subtab == \'socialShare\'" ng-controller=SocialShareCtrl><div class=social-share ng-include="\'spread/tab/subtab/social-share.tpl.html\'"></div></div><div ng-if="viewControl.subtab == \'expandWeb\'" ng-controller=ExpandWebCtrl><div ng-include="\'spread/tab/subtab/expand-web.tpl.html\'"></div></div><div ng-if="viewControl.subtab == \'domainBind\'" ng-controller=DomainBindCtrl><div ng-include="\'spread/tab/subtab/domain-bind.tpl.html\'"></div></div><div ng-if="viewControl.subtab == \'siteImport\'" ng-controller=SiteImportCtrl><div ng-include="\'spread/tab/subtab/site-import.tpl.html\'"></div></div><div ng-if="viewControl.subtab == \'messagePost\' && user.type==3" ng-controller=messagePostCtrl><div ng-include="\'spread/tab/subtab/message-post.tpl.html\'"></div></div><div ng-if="viewControl.subtab == \'checkScene\'" ng-controller=CheckSceneCtrl><div ng-include="\'spread/tab/subtab/check-scene.tpl.html\'"></div></div><div id=spread-three ng-if="viewControl.subtab == \'thirdWeb\'"><ul class=clearfix><li><a href=http://www.muqian.com/client-desktop/home.html#MediaSearch/0/null target=_blank><img ng-src="{{CLIENT_CDN}}assets/images/spread1.jpg"></a><div class=bg></div></li><li><a href="http://ad.henkuai.com/ad/register?sn=3e2a82b2204b4d6dae1d5310c6cc598a" target=_blank><img ng-src="{{CLIENT_CDN}}assets/images/spread2.png"></a><div class=bg></div></li><li><a href=http://www.bingjun.cn/?eqxiu target=_blank><img ng-src="{{CLIENT_CDN}}assets/images/spread3.jpg"></a><div class=bg></div></li></ul></div></div>')
	}]), angular.module("spread/tab/statistics.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/statistics.tpl.html", '<div class="tab-view statistics"><a class=fr ng-click=downApp() style=padding-top:10px><ins></ins></a><ul class="nav nav-pills no-border" ng-init="tabid=\'viewinfo\'"><li ng-class="{active: tabid == \'viewinfo\'}"><a class=background-color-width-change ng-click="tabid=\'viewinfo\'">访问概况</a></li><li ng-class="{active: tabid == \'mobileinfo\'}"><a class=background-color-width-change ng-click="tabid=\'mobileinfo\'">移动访问</a></li><li ng-class="{active: tabid == \'viewclick\'}"><a class=background-color-width-change ng-click="tabid=\'viewclick\'">内容统计</a></li><li ng-show="user.type == 2" ng-class="{active: tabid == \'viewDevice\'}"><a class=background-color-width-change ng-click="tabid=\'viewDevice\'">设备统计<em style=color:#ff0000>Beta</em></a></li><li ng-show="user.type == 2" ng-class="{active: tabid == \'regionalStatistics\'}"><a class=background-color-width-change ng-click="tabid=\'regionalStatistics\'">地域统计<em style=color:#ff0000>Beta</em></a></li></ul></div><div class="spread-contain tab-content"><div class="view-info clearfix day-spread text-left pt20 pl20" ng-show="tabid != \'regionalStatistics\'"><div class=btn-group ng-init="interval=7" ng-hide="tabid == \'viewDevice\'"><button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==7 }" ng-click="getAllStats(scene.id,-7, 0,branchid);interval=7">7天</button> <button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==15 }" ng-click="getAllStats(scene.id,-15, 0,branchid);interval=15">15天</button> <button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==30 }" ng-click="getAllStats(scene.id,-30, 0,branchid);interval=30">30天</button> <button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==90 }" ng-click="getAllStats(scene.id,-90, 0,branchid);interval=90">90天</button> <button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==180 }" ng-click="getAllStats(scene.id,-180, 0,branchid);interval=180">180天</button> <button class="btn btn-default button-sm background-color-width-change" ng-class="{active: interval==360 }" ng-click="getAllStats(scene.id,-360, 0,branchid);interval=360">360天</button></div><div class=btn-group ng-show="tabid == \'viewDevice\'"><button ng-class="{active: deviceTime==1 }" class="btn btn-default button-sm background-color-width-change" ng-click=getDeviceDate(scene.id,1)>昨天</button> <button ng-class="{active: deviceTime==7 }" class="btn btn-default button-sm background-color-width-change" ng-click=getDeviceDate(scene.id,7)>7天</button> <button ng-class="{active: deviceTime==30 }" class="btn btn-default button-sm background-color-width-change" ng-click=getDeviceDate(scene.id,30)>30天</button></div><div class="fr mr20"><div class=btn-group ng-show="tabid == \'viewclick\'"></div><div class=btn-group ng-show="tabid == \'mobileinfo\'"><button ng-click=showLine(); ng-class="{active:viewStyle == \'line\'}" class="btn btn-default button-sm background-color-width-change">线型</button> <button ng-click=showPie(); ng-class="{active:viewStyle == \'pie\'}" class="btn btn-default button-sm background-color-width-change">饼状</button></div></div></div><div class=map-view ng-show="tabid==\'regionalStatistics\'"><div class=container-fluid style=padding-left:20px><div class="row-fluid example"><div id=graphic class=col-md-8 style=padding:0><div class="btn-group mt20"><button ng-click=changeMap(1) class="btn btn-default button-sm" ng-class="{active:startDay==1}">昨天</button> <button ng-click=changeMap(7) class="btn btn-default button-sm" ng-class="{active:startDay==7}">7天</button> <button ng-click=changeMap(30) class="btn btn-default button-sm" ng-class="{active:startDay==30}">30天</button></div><spread-map option={{mapOption}}></spread-map><div class=pv-table><table class=table><tr><th>地域</th><th>访问量</th></tr><tr ng-repeat="data in pageData"><td>{{data.name}}</td><td>{{data.value}}</td></tr></table><div ng-show="totalItems > 10" class=clearfix><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=totalItems ng-model=page.currentPage ng-change=pageChanged(page.currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div></div></div></div></div><div class=view-info ng-show="tabid == \'viewinfo\'"><div class=p20 ng-show=dataLineShow><eqd-line-chart legend=[&quot;场景展示&quot;,&quot;数据收集&quot;] option={{dataLineChartDataOption}}></eqd-line-chart></div><div ng-show=!dataLineShow class=view-no-data><div class="no-data-part text-right"><span>暂无数据</span> <img ng-src="{{CLIENT_CDN}}assets/images/svg/nodata.svg"></div><div class=erweima-part><h4 ng-click=downApp()></h4></div></div></div><div class=view-info ng-if="tabid == \'mobileinfo\'"><div class=panel-body ng-show=dataMobileShow><div ng-show="viewStyle == \'line\'"><eqd-line-chart legend=[&quot;微信朋友圈&quot;,&quot;微信群&quot;,&quot;微信朋友&quot;,&quot;其他访问&quot;] option={{dataMobileChartOption}}></eqd-line-chart></div><div ng-show="viewStyle == \'pie\'" class="pie clearfix"><eqd-pie-chart data={{dataPieChart}} name=访问来源></eqd-pie-chart></div></div><div ng-show=!dataMobileShow class=view-no-data><div class="no-data-part text-right"><span>暂无数据</span> <img ng-src="{{CLIENT_CDN}}assets/images/svg/nodata.svg"></div><div class=erweima-part><h4 ng-click=downApp()></h4></div></div></div><div class=view-info ng-show="tabid == \'viewclick\'"><div class=panel-body ng-show=dataViewClickShow><eqd-line-chart option={{contentDataOption}} legend=[&quot;电话直播&quot;,&quot;按钮点击&quot;]></eqd-line-chart></div><div ng-show=!dataViewClickShow class=view-no-data><div class="no-data-part text-right"><span>暂无数据</span> <img ng-src="{{CLIENT_CDN}}assets/images/svg/nodata.svg"></div><div class=erweima-part><h4 ng-click=downApp()></h4></div></div></div><div class=view-info ng-show="tabid == \'viewDevice\'"><div class=panel-body ng-show=dataDeviceShow><eqd-pie-chart data={{sceneDeviceData}} name=设备></eqd-pie-chart></div><div ng-show=!dataDeviceShow class=view-no-data><div class="no-data-part text-right"><span>暂无数据</span> <img ng-src="{{CLIENT_CDN}}assets/images/svg/nodata.svg"></div><div class=erweima-part><h4 ng-click=downApp()></h4><p class=mb20>一键生成H5场景，随时随地查看数据</p><div qr-code qr-url="http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"></div></div></div></div></div><div class="expand-list clearfix" ng-show=isAllowedToAccessExpandWebsite><table class="table table-hover mt20" style=background-color:#fff><tr><th>场景名称</th><th>场景地址</th><th>场景展示</th><th>网址类型</th><th>操作</th></tr><tr class=spread-detail><td>{{scene.name}}</td><td>{{url}}</td><td>{{scene.showCount}}</td><td>主网址</td><td><a ng-click="viewExpandDetail();$parent.interval=7;"><span>查看</span></a></td></tr><tr class=spread-detail ng-repeat="expandWeb in expandWebs track by $index" ng-class="{\'spread-detail\': selectIndex == $index}"><td>{{expandWeb.name}}</td><td>{{url + \'?qrc=\' + expandWeb.id}}</td><td>{{expandWeb.showCount}}</td><td>扩展网址</td><td><a ng-click="viewExpandDetail(expandWeb.id, $index);$parent.interval=7;">查看</a></td></tr></table></div>');
	}]), angular.module("spread/tab/subtab/buy-message.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/buy-message.tpl.html", '<div class=buyMess-box><div class=buyMess-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>充值类型选择</h4></div><div class=buyMess-content><div class=select-layout><h6>请选择类型</h6><p>秀点余额<em>{{userXd}}点</em></p><a type=button class="btn btn-primary" ng-click=buyXd()>立即购买</a></div><div class=buy-lay><ul ng-click=showradio()><li ng-repeat="getMessModel in getMessModels"><label><div><p>{{getMessModel.name}}<em></em></p><span>{{getMessModel.price}}秀点</span></div><input type=radio ng-value=getMessModel ng-model="model.layout"> <b ng-show="model.layout == getMessModel"></b></label></li></ul></div><div class=modal-footer><a type=button class="btn btn-primary" ng-click=confirm()>确认</a></div></div></div>')
	}]), angular.module("spread/tab/subtab/check-scene.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/check-scene.tpl.html", '<div class=check-scene><div class=clearfix><div class=check-list><h2>场景前置审核</h2><p class=p20>分享前优先进行审核,避免在传播中因内容违规而被关闭,避免造成不必要的损失。每天最多可申请3次,每次间隔1小时。</p><div class="text-center mb20" style=height:33px ng-if=!branchid><a ng-if=checkQian class="btn btn-primary" ng-click="checkScene(\'1\')">前置审核</a> <span ng-if=!checkQian class=text-action>该功能仅企业畅享版、企业专业版使用。<a ng-show="!branchid && user.type != 21" class=text-primary href=/#/privilege target=_blank>立即升级</a></span></div></div><div class=check-list><h2>审核关闭提醒</h2><p class=p20>一旦发现违规，第一时间发送短信提醒，避免造成不必要的经济损失。</p><div class="text-center mb20" style=height:33px ng-if=!branchid><a ng-if="!messageTime && user.type !=21" ng-click=messageAction() class="btn btn-primary">消息提醒</a> <span ng-if=messageTime>已开通，到期日：{{dataTime | date:\'yyyy-MM-dd\'}}</span></div></div><div class=check-list><h2>驳回加急审核</h2><p class=p20>一旦发现违规被关闭，可申请加急审核，系统会优先处理加急审核内容。每天最多可申请3次。</p><div class="text-center mb20" style=height:33px ng-if=!branchid><a ng-if=checkBo class="btn btn-primary" ng-click="checkScene(\'2\')">驳回加急审核</a> <span ng-if=!checkBo>该功能仅企业收费版、服务商账号使用。<a class=text-primary ng-show="user.type != 21" href=/#/privilege target=_blank>立即升级</a></span></div></div></div><div class="check-guize mt20 p20"><h1>易企秀场景审核规则</h1><p>1.有奖集赞和关注转发（包括提示分享朋友圈、分享、扫码有礼有惊喜）<br>2.医药、整形、虚假广告（医疗整形类：凡涉及医疗整形的场景，包括产品、技术、整形项目、仪器、医师均属违规场景，请谨记）<br>3.色情、赌博、毒品<br>4.邪教、非法集合、传销<br>5.谣言、社会负面、诈骗<br>6.违反国家政策和法律内容</p><p class="text-center pt20 pb20"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890&extra=page%3D1" target=_blank style=font-size:14px;color:#08a1ef>查看更多审核规则</a></p></div></div>')
	}]), angular.module("spread/tab/subtab/domain-bind.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/domain-bind.tpl.html", '<div class="server-contain clearfix"><div class="server-dns server-same"><h3>绑定域名</h3><div class=mt20 ng-show=!isShowBindPanel><div ng-show="status==1"><div class=pass-check><div class=check-icon><span class=eqf-yes></span></div><div class=check-desc><span>您申请的绑定域名{{domainInfo.url}}已经通过审核</span><div class=line></div><h3>已通过审核，可放心使用，剩余有效期{{domainInfo.restTime}}天</h3></div></div></div><div ng-show="status==2"><div class=is-in-check><div class=check-icon><span class=eqf-clock-o></span></div><div class=check-desc><span>您申请的绑定域名{{domainInfo.url}}已经提交审核</span><div class=line></div><h3>审核中，请确保申请的域名解析指向指定IP地址：{{domainInfo.ipAddress}}</h3><div class=check-tip>申请的域名需要解析至指定的IP地址：{{domainInfo.ipAddress}}，才能通过审核并正常使用。 <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604" target=_blank><ins>如何操作？</ins></a></div></div></div></div><div ng-show="status==3"><div class=is-in-fail><div class=check-icon><span class=eqf-glyphicon-ban></span></div><div class=check-desc><span>您申请的绑定域名{{domainInfo.url}}未通过易企秀审核，请重新申请</span><div class=line></div><h3>{{domainInfo.remark}}</h3></div></div><div class=btn-dns><a class="btn btn-primary background-color-width-change" ng-click=reApply()>重新申请</a></div></div><div ng-show="status==5 ||status == 4"><div class=is-in-fail><div class=check-icon><span class=eqf-fobden2></span></div><div class=check-desc><span>您申请的绑定域名{{domainInfo.url}}已到期</span><div class=line></div><h3>域名已到期，需要重新申请</h3></div></div><div class=btn-dns><a class="btn btn-primary background-color-width-change" style="margin-top: 360px" ng-click=reApply()>重新申请</a></div></div></div><div ng-show=isShowBindPanel><div class="step-bar mt20" ng-init="showController.step=1;"><span class="circle fl" ng-class="{\'fill-color\': showController.step == 1}" ng-click=goStep(1);>1</span> <span class=line></span> <span class="circle circle-center" ng-class="{\'fill-color\': showController.step == 2}" ng-click=goStep(2);>2</span> <span class=line></span> <span class="circle fr" ng-class="{\'fill-color\': showController.step == 3}" ng-click=goStep(3);>3</span></div><div class=step1-container ng-show="showController.step==1;"><span class=mt20>域名绑定通过审核后，绑定后的场景即可以使用新域名进行分享</span> <span>场景网址显示为：申请得绑定域名＋场景编码</span><div class=scene-exp><img src={{CLIENT_CDN}}assets/images/usercenter/beforebind.png></div><div class="scene-exp new-dom"><img src={{CLIENT_CDN}}assets/images/usercenter/afterbind.png></div><div class=btn-dns><a class="btn btn-primary btn-small background-color-width-change" ng-click=goStep(showController.step+1)>绑定域名</a></div></div><div class=step2-container ng-show="showController.step==2;"><p class=line-height36><span>声明：</span><br><span>1.申请绑定得域名需要经过工信部网站备案。</span><br><span>2.若域名所属放在使用中违反相关法律法规，易企秀有权随时取消域名绑定。</span><br><span>3.您提供的信息仅会在域名绑定环节中使用。</span><br><span>4.达到一定申请条件的用户，方可免费获得域名绑定授权。</span> <span class=tip><a class=enable href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604&page=1&extra=#pid64503" target=_blank>查看申请条件</a></span></p><div class=btn-dns><a class=modal-cancle ng-click=goStep(showController.step-1);>不同意</a> <a class="btn btn-primary background-color-width-change" ng-click=goStep(showController.step+1);>同意</a></div></div><div class=step3-container ng-show="showController.step==3;"><form class="form-horizontal mt20" role=form><div class=form-group><label class="col-sm-2 control-label">域名网址</label><div class=col-sm-7><input type=text class=form-control ng-model=model.url placeholder=请输入要绑定的域名 autofocus ng-class="{error: domainFormatErr}" ng-blur=checkDomainFormat(model)><p class=error ng-show=domainFormatErr>{{domainFormatErr}}</p></div><div class="col-sm-2 tip"><a ng-click="isOpenDomain = true;isOpenTip = false;"><span class=enable>什么是域名?</span></a></div></div><div class=form-group ng-init="someVariable = null"><label class="col-sm-2 text-right">选择有效期</label><div class=col-sm-7><div ng-show="userType !=5" class=square style=display:inline-block ng-repeat="type in domainInfo.typeList track by $index" ng-class="{ml20: $index!=0}"><div class=radio-square ng-class="{checked: typeIndex == $index}"><em></em> <input type=radio ng-model=model.day id="\'{{type.value}}\'" ng-value=type ng-change=switchDomainType($index)></div><label for="\'{{type.value}}\'">{{type.label}}<span>秀点</span>{{type.value}}<span>天</span></label></div><div ng-show="userType == 5">有效期内免费使用</div></div></div><div class=form-group><label class="control-label col-sm-2">应用ID</label><div class=col-sm-7><input type=text class=form-control ng-model=model.appId placeholder=微信公众号APPID></div><div class="col-sm-2 tip"><a ng-click="isOpenTip = true;isOpenDomain = false;"><span class=enable>什么是应用ID和应用密钥</span></a></div></div><div class=form-group><label class="control-label col-sm-2">应用密钥</label><div class=col-sm-7><input type=password class=form-control ng-model=model.secretId placeholder=微信公众号APPSECRECT></div><div class="col-sm-3 tip"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread\n                            &tid=8604" target=_blank><span class=enable>为什么填写应用ID和应用密钥</span></a></div></div></form><div class=clearfix><div class="operation col-sm-offset-2 text-right"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604" target=_blank><ins>不会操作？</ins></a></div><div class=btn-dns><a class=modal-cancle ng-click=goStep(showController.step-1)>上一步</a> <button class="btn btn-primary background-color-width-change" ng-click=submit()>提交申请</button></div></div><div ng-show=isOpenTip class=tip-modal><div style="margin: 30px 45px"><span style="font-size: 24px;color:#66666">应用ID和应用密钥是微信公众号得开发者信息</span></div><div><div style="margin:0 45px"><img src={{CLIENT_CDN}}assets/images/usercenter/OR3.png> <span style="margin-left: 10px">绑定域名后，场景可以使用得地址</span></div><div style="margin:45px 45px 20px 45px"><img style=position:absolute src={{CLIENT_CDN}}assets/images/usercenter/OR4.png><p><span>您只需要做以下操作即可实现这样得效果：</span><br><span>1.申请微信公众号</span><br><span>2.将申请得域名网址提交到公众号--js安全域名接口</span><br><span>3.在公众号开发者信息中获取应用ID和应用密钥，并在申请绑定域名时添加它们</span><br><span>4.提交至易企秀审核，并由易企秀提交至工信部备案</span></p></div><div class=btn-dns1 style=text-align:center><a class="btn btn-primary background-color-width-change" ng-click="isOpenTip = false;"><span>确定</span></a></div></div></div><div ng-show=isOpenDomain class=tip-modal style="height: 400px"><div style="margin: 30px 45px"><span style="font-size: 24px;color:#66666">什么是域名</span></div><div><div style="margin:45px 45px 20px 45px"><p style="margin-left: 0">域名级数是指一个域名由多少级组成，域名的各个级别被“.”分开，简而言之，有多少个点就是几级域名。如：eqxiu.com为一级域名，而bbs.eqxiu.com为二级域名。</p></div><div class=btn-dns1 style=text-align:center><a class="btn btn-primary background-color-width-change" ng-click="isOpenDomain = false;"><span>确定</span></a></div></div></div></div></div></div></div>')
	}]), angular.module("spread/tab/subtab/expand-web.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/expand-web.tpl.html", '<div class=expandweb-title><span>可以用于不同渠道推广和查看效果</span><div class=fr><a class="btn btn-border background-color-width-change" ng-click=addExpandWeb(expandWebs) ng-show=expandWebs.length><span class=eqf-plus2></span> 添加扩展网址</a> <a class="btn btn-border background-color-width-change" ng-href=/#/spread/statistics/{{scene.id}} ng-show=expandWebs.length><span class=eqf-date></span> 查看推广效果</a></div></div><div class=expandweb-area auto-focus-selected><div class="expand-web-option add-web text-center" ng-show="!expandWebs.length && !branchid"><a ng-click=addExpandWeb(expandWebs)><span class=eqf-plus2></span> 添加扩展网址</a></div><div class="expand-web-option expand-web mt20 p20" ng-repeat="expandWeb in expandWebs" switch-input obj=expandWeb><div class="qr-size fl" qr-code-size=80 qr-url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}"></div><div class="expand-name expand-col fl"><div class=title>扩展名称</div><div class=content ng-show=!expandWeb.showinput>{{expandWeb.name}}</div><div ng-show=expandWeb.showinput><input type=text ng-model=expandWeb.name ng-focus=recordName(expandWeb.name) ng-blur=updateName(expandWeb)></div></div><div class="expand-url expand-col fl"><div class=title>扩展网址</div><div class=clearfix><div class="content fl" id=copy-expand-url>{{selectedUrl + \'?qrc=\' + expandWeb.id}}</div><a ng-if=isSafari class="btn btn-border ml20 copy-btn" ng-click="copyUrl(\'copy-expand-url\')"><span class=copy-span><span class=eqf-scene-copy></span> &nbsp;复制链接</span></a> <a ng-if=!isSafari class="btn btn-border ml20 copy-btn" copy-button url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}"><span class=copy-span><span class=eqf-scene-copy url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}" copy-button></span> &nbsp;复制链接</span></a></div></div><div class="expand-pv expand-col fl"><div class=title>展示</div><div class=content>{{expandWeb.showCount}}</div></div><div class="expand-ope expand-col fr pr20" ng-show=expandWeb.showinput><eqx-select class="select-sm select-contain mr20" model=qrcode.type change=downloadQrcode(qrcode.type)><eqx-select-option value=null>下载二维码</eqx-select-option><eqx-select-option value=qrcodeObj ng-repeat="qrcodeObj in qrcodeList">{{qrcodeObj.name}}</eqx-select-option></eqx-select><a class=fr ng-click="deleteWeb($index, expandWeb)">删除</a></div><div class=download-area download-canvas><div class=qr-size qr-code-size=256 qr-url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}"></div><div class=qr-size qr-code-size=512 qr-url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}"></div><div class=qr-size qr-code-size=1024 qr-url="{{selectedUrl + \'?qrc=\' + expandWeb.id}}"></div></div></div></div>')
	}]), angular.module("spread/tab/subtab/message-customer.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/message-customer.tpl.html", '<div class=customer-list><div class=customer-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>客户列表</h4></div><div class=same-content style=box-sizing:border-box;width:760px;min-height:170px><div class="cus-bar clearfix" ng-show="dataShow == \'message\'" style="width:800px;margin-left: -66px;margin-top:20px"><div class=fr><eqx-select class="select-sm select-contain border-width" model=customer.group change=getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)><eqx-select-option value=null>全部群组</eqx-select-option><eqx-select-option value=mygroup ng-repeat="mygroup in groups">{{mygroup.name}}</eqx-select-option></eqx-select></div></div><div class=cus-table style=padding-bottom:20px><table class="table table-hover customer-data-table"><thead><tr><th ng-if=!hideOpea class="col-sm-2 check-line"><div class="checkbox-square customer-check" ng-class="{checked: allImages.selected}"><em class=eqf-clickmore></em> <input class=check-box type=checkbox ng-change=selectAll() ng-model=allImages.selected name=iCheck></div></th><th class=col-sm-3>姓名</th><th class=col-sm-3>手机</th><th class=col-sm-4>客户群组</th></tr></thead><tbody ng-show="dataShow == \'message\' && customerDatas.length"><tr ng-repeat="customerData in customerDatas"><td ng-if=!hideOpea class="check-line col-sm-2"><div class=checkbox-square ng-class="{checked: customerData.selected}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=customerData.selected name=iCheck ng-change=selectCustomer(customerData)></div></td><td class=col-sm-3>{{customerData.name}}</td><td class=col-sm-3>{{customerData.mobile}}</td><td class=col-sm-3>{{customerData.groupName}}</td></tr></tbody></table></div><div ng-show="totalItems > 10" class=clearfix><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=totalItems ng-model=model.currentPage ng-change=pageChanged(model.currentPage,branchid,customer.group.id,customer.origin.ID) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=model.toPage ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) : null"><span class=fl>页</span> <a ng-click=pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) class=go>确定</a></div></div><a class="btn btn-primary" ng-click=confirm(); style="position: absolute;left:714px;bottom:20px">确定</a></div></div>')
	}]), angular.module("spread/tab/subtab/message-detail.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/message-detail.tpl.html", '<div class="cus-table message-detail"><div class=message-detail-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>已发送短信详情</h4></div><table class="table table-hover customer-data-table"><thead><tr><th class=col-sm-4>姓名</th><th class=col-sm-4>手机号</th><th class=col-sm-3>发送状态</th></tr></thead><tbody><tr ng-repeat="sendDetail in sendDetails"><td class=col-sm-4>{{sendDetail.name}}</td><td class=col-sm-4>{{sendDetail.phone}}</td><td ng-show="sendDetail.status==1" class=col-sm-3>已送达</td><td ng-show="sendDetail.status==0" class=col-sm-3>未送达</td></tr></tbody></table></div><div ng-show="detailTotal > 10" class=clearfix style="margin-bottom:10px;margin-left: 20px"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=detailTotal ng-model=model.DetailPage ng-change=DetailChangePage(msgid,model.DetailPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=model.detailPage ng-keyup="$event.keyCode == 13 ? DetailChangePage(msgid,model.detailPage) : null"><span class=fl>页</span> <a ng-click=DetailChangePage(msgid,model.detailPage) class=go>确定</a></div></div>')
	}]), angular.module("spread/tab/subtab/message-post.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/message-post.tpl.html", '<div class=message-post><div class=message-nav><ul><li ng-class="{active: model.bFlag==\'messageWrite\'}"><a ng-click="tabwirte(\'messageWrite\')">写短信</a></li><li ng-class="{active: model.bFlag==\'messageList\'}"><a ng-click="tabwirte(\'messageList\')">已发送列表</a></li></ul></div><div class=warn-count><p ng-show="useMessNum <= messageNumber">将消耗{{useMessNum}}条短信,目前账号可发短信数量为{{messageNumber}}条</p><p ng-show="useMessNum > messageNumber" style=color:red>将消耗{{useMessNum}}条短信,目前账号可发短信数量为{{messageNumber}}条</p><a class="btn btn-primary" ng-click=buyMess()>充值</a></div><div ng-show="model.bFlag==\'messageWrite\'" class=message-select><form name=formName class=form-horizontal role=form><div class=form-group><label for=userName class="col-sm-3 control-label"><a ng-click=getDataBySceneId() style=text-decoration:underline>收件人</a></label><div class=col-sm-7 style="position: relative;margin-bottom:18px"><div><ui-select multiple tagging=tagTransform ng-model=obj.selectedPeople theme=bootstrap title=请选择收件人><ui-select-match placeholder=请选择收件人 style=line-height:18px>{{$item.name}}</ui-select-match><ui-select-choices repeat="person in people | propsFilter: {name: $select.search}"><div ng-if=person.isTag ng-bind-html="person.name +\'\'| highlight: $select.search"></div></ui-select-choices></ui-select></div><button class="btn btn-primary add-customer-button"><a ng-click=getDataBySceneId()>+</a></button></div></div><div class=form-group><label for=sex class="col-sm-3 control-label">短信内容</label><div class="col-sm-7 message-content-overflow"><eqx-select class="customer-edit border-width select-contain select-great" model=model.messageContent ng-init="model.messageContent=null"><eqx-select-option value=null>请选择短信内容</eqx-select-option><eqx-select-option value=messageContent ng-repeat="messageContent in messageContents">{{messageContent.content}}</eqx-select-option></eqx-select></div></div></form><div style="margin-left: 845px;margin-bottom:20px"><a class="btn btn-primary" ng-click=sendMess() style=width:100px>发送</a></div></div><div ng-show="model.bFlag==\'messageList\'" class=message-customer-box><div class=message-customer-contain><div class=cus-table><table class="table table-hover customer-data-table"><thead><tr><th class=col-sm-3>发送时间</th><th class=col-sm-3>短信内容</th><th class=col-sm-2>发送数量</th><th class=col-sm-2>发送状态</th><th class=col-sm-2>查看</th></tr></thead><tbody><tr ng-repeat="sendTatolDetail in sendTatolDetails"><td class=col-sm-3>{{sendTatolDetail.createTime |date:"yyyy/MM/dd HH:mm:ss"}}</td><td class=col-sm-3>{{sendTatolDetail.msgContent}}</td><td class=col-sm-2>{{sendTatolDetail.msgCount}}</td><td ng-show="sendTatolDetail.success==1" class=col-sm-2>发送成功</td><td ng-show="sendTatolDetail.success==0" class=col-sm-2>发送失败</td><td ng-click=sendDetail(sendTatolDetail.id,1) class=col-sm-2><button>详情</button></td></tr></tbody></table></div><div ng-show="sendMessTotal > 10" class=clearfix><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=sendMessTotal ng-model=model.sendDetailPage ng-change=sendDetailChangePage(model.sendDetailPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=model.messPage ng-keyup="$event.keyCode == 13 ? sendDetailChangePage(model.messPage) : null"><span class=fl>页</span> <a ng-click=sendDetailChangePage(model.messPage) class=go>确定</a></div></div></div></div></div><show-loading ng-if=loadingShow></show-loading>')
	}]), angular.module("spread/tab/subtab/site-import.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/site-import.tpl.html", '<div><div class=site-import-area ng-repeat="contentText in contentTexts track by $index"><div class="site-import-title pb20">{{contentText.title}}</div><div class="site-import-col code-col"><div class=code-area><div class=code-con><div>&lt;iframe border=0 width=320px height=641px&nbsp;</div><div class=mid-con>src="{{selectedUrl}}"&gt;</div><div>&lt;/iframe&gt;</div></div><div class="copy-link fr"><a ng-if=isSafari class="btn btn-border" ng-click=copyUrl()><span class=eqf-scene-copy></span> 复制代码</a> <a ng-if=!isSafari class="btn btn-border" copy-button url={{contentText.url}}><span class=eqf-scene-copy></span> 复制代码</a></div></div></div><div class="site-import-col des-col"><div class="des-area fr"><div>{{contentText.textOne}}</div><div class=mid-con>{{contentText.textTwo}}</div><div class=mid-con>{{contentText.textThree}}</div></div></div></div></div>')
	}]), angular.module("spread/tab/subtab/social-share.tpl.html", []).run(["$templateCache", function(a) {
		a.put("spread/tab/subtab/social-share.tpl.html", '<div class=share-title>扫一扫分享给更多人</div><div class=qrcode-area><div class="share-qrcode fl"><div class=qr-size qr-code-size=160 qr-url={{url}}></div></div><a class="btn btn-border ml20 copy-btn" style=position:absolute ng-href={{selectedUrl}} target=_blank><span class=copy-span><span class=eqf-eye></span> &nbsp;预览场景</span></a><div class=down-title>下载二维码</div><div class=qrcode-select><a class="btn btn-border background-color-width-change mr20" ng-click=downloadQrcode(qrcodeObj) ng-repeat="qrcodeObj in qrcodeList"><span class=eqf-download2></span> &nbsp;{{qrcodeObj.name}}</a></div><div class=download-area download-canvas><div class=qr-size qr-code-size=256 qr-url={{url}}></div><div class=qr-size qr-code-size=512 qr-url={{url}}></div><div class=qr-size qr-code-size=1024 qr-url={{url}}></div></div></div><div class=url-share><span>使用场景地址分享</span><div class=url-input><input type=text id=copy-social-url class=form-control ng-model=selectedUrl> <a ng-if=isSafari class="btn btn-border ml20 copy-btn" ng-click="copyUrl(\'copy-social-url\')"><span class=copy-span><span class=eqf-scene-copy copy-button></span> &nbsp;复制链接</span></a> <a ng-if=!isSafari class="btn btn-border ml20 copy-btn" copy-button url={{selectedUrl}}><span class=copy-span><span class=eqf-scene-copy copy-button></span> &nbsp;复制链接</span></a></div>')
	}]), angular.module("sysmessage.tpl.html", []).run(["$templateCache", function(a) {
		a.put("sysmessage.tpl.html", '<div class="sys-contain myMove" ng-if="!!sysMsgs.length && openSysMsgDialog"><div class="same-content sys-msg"><div class=sys-msg-container ng-class="{\'is-closed\': !openSysMsg}"><ul class=messages><li class=message ng-repeat-start="sysMsg in sysMsgs"><span>{{($index + 1) + "."}}</span><span ng-bind-html=sysMsg.content></span></li><li class=separator ng-if=!$last ng-repeat-end></li></ul></div><a class="eqf-wrong msg-close" ng-click=closeSysMsgDialog()></a></div></div>')
	}]), angular.module("usercenter/buyXd.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/buyXd.tpl.html", '<div class=modal-body><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><div class=confirm-msg><h4 class=text-left>尊敬的易企秀用户</h4><p class="mt20 text-left ml20 mr20" style="line-height: 1.5em">感谢您对易企秀的支持，您即将购买500个秀点。购买、发票等相关问题，请<a class=text-primary target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324">查看详情</a>。<br>1.暂仅支持一次购买500秀点，费用500元；<br>2.包年购买、优惠购买，请先<a class=text-primary href=/#/privilege target=_blank>升级企业账号</a>；<br>3.购买需要发票的，请联系fapiao@eqxiu.com；</p></div></div><div class="text-right pb20 btn-small"><a class="btn btn-primary mr20" ng-click=confirm()>立即购买</a></div>')
	}]), angular.module("usercenter/console/branch.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/branch.tpl.html", '<div class=modal-header><a class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></a><h4 class=modal-title>添加子账号</h4></div><div class=modal-body><form class=form-horizontal role=form><div class="form-group clearfix"><label class="control-label col-sm-3">分账号</label><div class=col-sm-7><input type=text class=form-control ng-model=branch.loginName placeholder=请设置用户名/邮箱 ng-readonly=originData ng-class="{error: emailFormatError}" ng-blur="checkEmailFormat(branch)"><p class=error ng-show=emailFormatError>{{emailFormatError}}</p></div></div><div class=form-group><label class="control-label col-sm-3">账号密码</label><div class=col-sm-7><div class=form-control>默认密码为eqxiu</div></div><div class="col-sm-2 tip"><a ng-show=resetDefalt ng-click=openResetModal(branch);><span class=enable>重置</span></a> <a ng-show=!resetDefalt><span class=disable>重置</span></a></div></div><div class=form-group><label class="control-label col-sm-3">用户名</label><div class=col-sm-7><input type=text class=form-control ng-model=branch.name placeholder=请填写用户名 ng-class="{error: nameFormatErr}" ng-blur="checkNameFormat(branch)"><p class=error ng-show=nameFormatErr>{{nameFormatErr}}</p></div></div><div class=form-group><label class="control-label col-sm-3">部门</label><div class=col-sm-7><eqx-select class="select-contain border-width select-base" model=branch.dept><eqx-select-option value=null>全部</eqx-select-option><eqx-select-option value=dept ng-repeat="dept in depts">{{dept.name}}</eqx-select-option></eqx-select></div><div class="col-sm-2 tip" ng-show=!showAddSec style="padding-top: 10px"><a ng-click="showAddSec = true;"><span class=enable>添加部门</span></a></div></div><div class=form-group ng-show=showAddSec><div class="col-sm-offset-3 col-sm-7"><input class=form-control type=text ng-model=dept.name placeholder=输入部门名称 ng-class="{error: deptFormatErr}" ng-blur="checkDeptFormat(dept)"><p class=error ng-show=deptFormatError>{{deptFormatError}}</p></div><div class="col-sm-2 tip"><a ng-click=addDept();><span class=enable>添加</span></a> <a ng-click="showAddSec = false;"><span class=fail>取消</span></a></div></div><div class=form-group><div class="col-sm-offset-3 col-sm-7"><p class=error ng-show=serverError>{{serverError}}</p></div></div><div class=form-group><label class="col-sm-3 text-right">账号权限</label><div class=col-sm-7><div class=square><div class=checkbox-square ng-class="{checked: branchPermi.edit}"><em class=eqf-clickmore></em> <input type=checkbox ng-model="branchPermi.edit"></div><label>允许编辑数据内容</label></div><div class="square one-line"><div class=checkbox-square ng-class="{checked: branchPermi.delete}"><em class=eqf-clickmore></em> <input type=checkbox ng-model="branchPermi.delete"></div><label>允许删除数据内容</label></div><div class="square one-line"><div class=checkbox-square ng-class="{checked: branchPermi.export}"><em class=eqf-clickmore></em> <input type=checkbox ng-model="branchPermi.export"></div><label>允许导出数据内容</label></div></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>保存</a></div>')
	}]), angular.module("usercenter/console/checkMobile.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/checkMobile.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title}}</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label for=inputMobile class="control-label col-sm-3">手机号</label><div class=col-sm-7><input id=inputMobile class=form-control type=text ng-model=userinfo.phone ng-blur=checkMobile(); placeholder="请输入手机号"><p class=error ng-show=mobileError>{{mobileError}}</p></div><div class="col-sm-2 tip"><a ng-click=getCode() ng-show=!isCodeAccessiable><span class=enable>获取验证码</span></a> <a ng-show=isCodeAccessiable><span class=disable>{{codeTip}}</span></a></div></div><div class=form-group><label for=inputValidate class="control-label col-sm-3">验证码</label><div class=col-sm-7><input style=text-align:left id=inputValidate type=text class="form-control code" maxlength=12 ng-model=userinfo.code ng-blur=checkCode() placeholder="请输入验证码"><p class=error ng-show=codeError>{{codeError}}</p></div></div><div class="pt20 border-dashed"></div><div class=text-center style=padding-bottom:10px;font-size:12px;color:#a3afb7>为保障用户账号安全,您需要填写当前登录账号密码</div><div class=form-group><label for=inputPass class="control-label col-sm-3">密码</label><div class=col-sm-7><input id=inputPass type=password class=form-control maxlength=16 ng-model=userinfo.password placeholder="请输入当前账号密码"><p class=error ng-show=relErr>{{relErr}}</p></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=relAccount()>确定</button></div>')
	}]), angular.module("usercenter/console/companyinfo.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/companyinfo.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title}}</h4></div><div class=userinfo-contain><form class=form-horizontal><fieldset><div class="form-group cleafix"><label for=username class="col-sm-3 control-label">昵称</label><div class=col-sm-7><input type=text ng-model=companyUserInfo.nick class=form-control id=username placeholder=填写用户昵称 maxlength=12></div></div><div ng-if="type == 2 || type == 5"><div class="form-group cleafix"><label class="col-sm-3 control-label">联系人</label><div class=col-sm-7><input type=text ng-model=companyUserInfo.contacts class=form-control id=inputAddress placeholder=请填写联系人></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">联系电话</label><div class=col-sm-7><input type=text ng-model=companyUserInfo.mobile class=form-control id=inputAddress placeholder=请填写联系电话></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">联系邮箱</label><div class=col-sm-7><input type=text ng-blur=checkEmail(companyUserInfo) class=form-control ng-model=companyUserInfo.email id=inputAddress placeholder=请填写联系邮箱></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">联系地址</label><div class=col-sm-7><input type=text class=form-control ng-model=companyUserInfo.address ng-blur=checkAdress(companyUserInfo) id=inputAddress placeholder=请填写公司地址></div></div></div></fieldset></form><p ng-show=authError style=text-align:center;color:#ff5448>{{authError}}</p></div><div class=modal-footer><a class=modal-cancle ng-click=cancel();>取消</a> <a class="btn btn-primary" ng-if="type ==2 || type == 5" ng-click=saveCompanyInfo(companyUserInfo)>保存提交</a> <a class="btn btn-primary" ng-if="type !=2 && type != 5" ng-click=saveUserInfo(companyUserInfo)>保存提交</a></div>')
	}]), angular.module("usercenter/console/email_fail.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/email_fail.tpl.html", '<!DOCTYPE html><html><head><meta charset=utf-8><style>*{margin:0;padding:0;}\n        body{\n            font-family: "Microsoft YaHei", Tahoma, Helvetica, Arial, sans-serif;\n        }\n        .content{\n            font-size: 18px;\n            height:200px;\n            width:400px;\n            position: absolute;\n            top:50%;\n            left:50%;\n            margin-top: -100px;\n            margin-left: -200px;\n        }\n        p{margin-top:15px;}\n        a{color:#08a1ef;font-size: 14px;}</style></head><body><div class=content><p>无效的请求，原因可能是：</p><p>1.无效的验证信息；</p><p>2.验证信息已经过期，请在获得链接后立即使用；</p><p>3.验证信息已经被使用，请重新申请；</p><p><a href=http://eqxiu.com/#/home style="background-color:#08a1ef;padding:4px 8px;color:#fff;text-decoration:none">进首页看看</a></p></div></body></html>')
	}]), angular.module("usercenter/console/email_succeed.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/email_succeed.tpl.html", '<!DOCTYPE html><html><head><meta charset=utf-8><style>*{margin:0;padding:0;}\n        body{\n            font-family: "Microsoft YaHei", Tahoma, Helvetica, Arial, sans-serif;\n        }\n        .content{\n            font-size: 18px;\n            height:80px;\n            width:400px;\n            position: absolute;\n            top:50%;\n            left:50%;\n            margin-top: -40px;\n            margin-left: -200px;\n        }\n        p{margin-top:15px;}\n        a{color:#08a1ef;}</style><script src=http://code.jquery.com/jquery-1.11.0.min.js></script><script language=javascript>$(document).ready(function() {\n			function jump(count) {\n				window.setTimeout(function(){\n					count--;\n					if(count > 0) {\n						$(\'#num\').attr(\'innerHTML\', count);\n						jump(count);\n					} else {\n						location.href="http://eqxiu.com/#/usercenter/userinfo";\n					}\n				}, 1000);\n			}\n			jump(5);\n		});</script></head><body><div class=content><p>您的邮箱验证成功！</p><p style=margin-top:15p><a href=#>如果您的浏览器没有自动跳转，请点击此链接</a></p><p style=margin-top:25p><a href=# style="background-color:#08a1ef;font-size:14px;padding:4px 8px;color:#fff;text-decoration:none">进首页看看</a></p></div></body></html>')
	}]), angular.module("usercenter/console/invitation.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/invitation.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class="pt20 mb20"><div class="invitation-contain same-content text-center pt20 pb20"><h3>快快邀请小伙伴们一起来秀吧!</h3><div class="link-content clearfix"><div class="method fl"><div class=circle>1</div><div class=line></div><div class=circle>2</div></div><div class="fl ml20"><div class=url-contaion><div class=title>复制分享链接，通过微信、QQ等方式将链接分享给您的小伙伴，邀请他们加入易企秀</div><p class="copy-url mb20"><em>我的精美场景都是用易企秀做的，免费好用，你也来试试吧，官网地址：</em><br>{{showUrl}}</p><a ng-if=isSafari class="text-primary copy-btn text-left" style=display:block ng-click=copyUrl()>复制链接分享</a> <a ng-if=!isSafari class="text-primary copy-btn text-left" style=display:block copy-button url={{showUrl}}>复制链接分享</a></div><div class=share-containt><span class="tip mt20">也可以直接发送邮件给您的小伙伴或者扫一扫下面的二维码邀请他们加入易企秀</span><div class=tab-div><ul class="nav nav-tabs"><li ng-class="{active: tabid == \'email\'}"><a ng-click="tabid = \'email\'"><i>Email</i></a></li><li ng-class="{active: tabid == \'wechat\'}"><a ng-click="tabid = \'wechat\'"><i>微信</i></a></li><li ng-class="{active: tabid == \'qq\'}"><a ng-click="tabid = \'qq\'"><i>QQ</i></a></li></ul><div><div class=tab-pane ng-if="tabid == \'qq\'"><div class=view><div class=info><h2>QQ分享</h2><span>用QQ扫描右侧二维码</span></div><div class=qrcode qr-code qr-url={{showUrl}}></div><img ng-src="{{CLIENT_CDN}}assets/images/usercenter/qq.png"></div></div><div class=tab-pane ng-if="tabid == \'wechat\'"><div class=view><div class=info><h2>微信分享</h2><span>用微信扫描右侧二维码分享到朋友圈</span></div><div class=qrcode qr-code qr-url={{showUrl}}></div><img ng-src="{{CLIENT_CDN}}assets/images/usercenter/pic.png"></div></div><div class=tab-pane ng-if="tabid == \'email\'"><h2 class="ml20 mt20">发送邮件给你的小伙伴</h2><div class="form-group mt20"><div class=col-sm-9><input type=text ng-blur=checkEmailFormat(email) class="form-control input-lg" placeholder=输入小伙伴的邮箱 ng-model="email"><p class=error ng-show=emailFormatErr>{{emailFormatErr}}</p></div><a class="btn-primary btn colsm-2" ng-disabled=emailFormatErr ng-click=sendEmail(email)>发送邀请</a></div></div></div></div></div></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("usercenter/console/invoice-list.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/invoice-list.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>我的订单</h4></div><div class=modal-body><table class="table table-bordered table-hover"><thead><tr><th><div class="checkbox-square customer-check fr" ng-class="{checked: selectAll.selected}"><em class=eqf-clickmore></em> <input class=check-box type=checkbox ng-model=selectAll.selected name=iCheck ng-change=switchSelectAll()></div></th><th>订单号</th><th>所购商品</th><th>价格</th><th>购买时间</th><th>支付方式</th></tr></thead><tbody><tr ng-repeat="invoice in invoiceList"><td><div class="checkbox-square customer-check fr" ng-class="{checked: invoice.selected}"><em class=eqf-clickmore></em> <input class=check-box type=checkbox ng-model=invoice.selected name=iCheck ng-change=switchSelect(invoice)></div></td><td>{{invoice.id}}</td><td>{{invoice.name}}</td><td>{{invoice.totalFee}}</td><td>{{invoice.createTime}}</td><td>{{invoice.payType}}</td></tr></tbody></table><div class=clearfix style=margin-top:10px;margin-bottom:0 ng-show="totalItems > 5"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=pageSize total-items=totalItems ng-model=currentPage ng-change=pageChanged(currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><input type=text ng-model=obj.toPage ng-keyup="$event.keyCode == 13 ? pageChanged(obj.toPage) : null"> <a ng-click=pageChanged(obj.toPage) class=go>确认</a></div></div></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a type=button class="btn btn-primary" ng-click=ok()>开发票</a></div>')
	}]), angular.module("usercenter/console/invoice.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/invoice.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>发票信息</h4></div><div class="modal-body invoice" style="height:415px;overflow: hidden;padding:20px 20px 0 20px"><div eqd-scroll style=height:100%><form class=form-horizontal ng-class={disabled:!editInfo.isEditable}><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">收件人</label><div class=col-sm-7><span class=noEdit ng-model=invoice.receiver>{{invoice.receiver}}</span> <input type=text class=form-control ng-model=invoice.receiver placeholder=请填写收件人 maxlength=24></div></div><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">联系电话</label><div class=col-sm-7><span class=noEdit ng-model=invoice.phone>{{invoice.phone}}</span> <input type=text class=form-control ng-model=invoice.phone placeholder=请填写联系电话 maxlength=24></div></div><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">收货地址</label><div class=col-sm-7><span class=noEdit ng-model=invoice.address>{{invoice.address}}</span> <input type=text class=form-control ng-model=invoice.address placeholder=请填写收货地址 maxlength=40></div></div><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">发票类型</label><div class=col-sm-7><div class=btn-group><a class="btn btn-default background-color-width-change" ng-class="{active:invoiceStatus == 1}" ng-click=changeType(1)>增值税普票</a> <a class="btn btn-default background-color-width-change" ng-class="{active:invoiceStatus == 2}" ng-click=changeType(2)>增值税专票</a> <a class="btn btn-default background-color-width-change" ng-class="{active:invoiceStatus == 3}" ng-click=changeType(3)>个人普票</a></div></div></div><div ng-show="invoiceStatus == 1"><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">发票抬头</label><div class=col-sm-7><span class=noEdit ng-model=invoiceListPu.title>{{invoiceListPu.title}}</span> <input type=text class=form-control ng-model=invoiceListPu.title placeholder=请填写发票抬头 maxlength=24></div><div class="col-sm-2 tips"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target=_blank style=text-decoration:underline>了解详情</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">发票内容</label><div class=col-sm-7><span class="">技术服务费</span></div></div><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">税务登记号</label><div class=col-sm-7><span class=noEdit ng-model=invoiceListPu.taxId>{{invoiceListPu.taxId}}</span> <input type=text class=form-control ng-model=invoiceListPu.taxId placeholder=请填写税务登记号 maxlength=24></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">税务登记证</label><div class=col-sm-7 style=position:relative><div class="see-image zoomIn-change" ng-model=puPicture.tax ng-show=tax ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + puPicture.tax) + \')\',\'background-size\':\'contain\',\'background-repeat\': \'no-repeat\',\'background-position\':\'center\'}"><a class=eqf-wrong2 ng-click="tax=false;" style=position:absolute;top:-5px;right:-5px;font-size:14px></a></div><a class="btn blue mr20 upload" ng-click="addPictures(\'puTax\')">上传</a> <a ng-if=puPicture.tax class="btn blue" ng-init="$parent.tax=false;" ng-click="$parent.tax=!$parent.tax">查看</a></div></div></div><div ng-show="invoiceStatus == 2"><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">发票抬头</label><div class=col-sm-7><span class=noEdit ng-model=invoiceListzhuan.title>{{invoiceListzhuan.title}}</span> <input type=text class=form-control ng-model=invoiceListzhuan.title placeholder=请填写发票抬头 maxlength=24></div><div class="col-sm-2 tips"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target=_blank style=text-decoration:underline>了解详情</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">发票内容</label><div class=col-sm-7><span class="">技术服务费</span></div></div><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">税务登记号</label><div class=col-sm-7><span class=noEdit ng-model=invoiceListzhuan.taxId>{{invoiceListzhuan.taxId}}</span> <input type=text class=form-control ng-model=invoiceListzhuan.taxId placeholder=请填写税务登记号 maxlength=24></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">税务登记证</label><div class=col-sm-7 style=position:relative><div class="see-image zoomIn-change" ng-model=picture.tax ng-show=tax ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + picture.tax) + \')\',\'background-size\':\'contain\',\'background-repeat\': \'no-repeat\',\'background-position\':\'center\'}"><a class=eqf-wrong2 ng-click="tax=false;" style=position:absolute;top:-5px;right:-5px;font-size:14px></a></div><a class="btn blue mr20 upload" ng-click="addPictures(\'tax\')">上传</a> <a ng-if=picture.tax class="btn blue" ng-init="$parent.tax=false;" ng-click="$parent.tax=!$parent.tax">查看</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">银行许可证</label><div class=col-sm-7 style=position:relative><div class="see-image zoomIn-change" ng-model=picture.bank ng-show=bank ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + picture.bank) + \')\',\'background-size\':\'contain\',\'background-repeat\': \'no-repeat\',\'background-position\':\'center\'}"><a class=eqf-wrong2 ng-click="bank=false;" style=position:absolute;top:-5px;right:-5px;font-size:14px></a></div><a class="btn blue mr20 upload" ng-click="addPictures(\'bank\')">上传</a> <a ng-if=picture.bank class="btn blue" ng-init="$parent.bank=false;" ng-click="$parent.bank=!$parent.bank">查看</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">一般纳税人资质证明</label><div class=col-sm-7 style=position:relative><div class="see-image zoomIn-change" ng-show=people ng-model=picture.people ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + picture.people) + \')\',\'background-size\':\'contain\',\'background-repeat\': \'no-repeat\',\'background-position\':\'center\'}"><a class=eqf-wrong2 ng-click="people=false;" style=position:absolute;top:-5px;right:-5px;font-size:14px></a></div><a class="btn blue mr20 upload" ng-click="addPictures(\'people\')">上传</a> <a ng-if=picture.people class="btn blue mr20" ng-init="$parent.people=false;" ng-click="$parent.people=!$parent.people">查看</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">开票信息加盖公章</label><div class=col-sm-7 style=position:relative><div class="see-image zoomIn-change" ng-show=mes ng-model=picture.mes ng-style="{\'background-image\':\'url(\' + (PREFIX_FILE_HOST + picture.mes) + \')\',\'background-size\':\'contain\',\'background-repeat\': \'no-repeat\',\'background-position\':\'center\'}"><a class=eqf-wrong2 ng-click="mes=false;" style=position:absolute;top:-5px;right:-5px;font-size:14px></a></div><a class="btn blue mr20 upload" ng-click="addPictures(\'mes\')">上传</a> <a ng-if=picture.mes class="btn blue" ng-init="$parent.mes=false;" ng-click="$parent.mes=!$parent.mes">查看</a></div></div></div><div ng-show="invoiceStatus == 3"><div class="form-group clearfix"><label for=inputPassword3 class="col-sm-3 control-label">发票抬头</label><div class=col-sm-7><span class="">个人</span></div><div class=col-sm-2><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target=_blank style=text-decoration:underline>了解详情</a></div></div><div class="form-group cleafix"><label class="col-sm-3 control-label">发票内容</label><div class=col-sm-7><span>技术服务费</span></div></div></div><p class="red-color text-center" ng-show=authError>{{authError}}</p><div class=invoice-action><p>发票须知：</p><p>1.30个工作日内必须提交发票申请，过期将不予开具；发票申请提交后，30个工作日内开具完成并寄出；外国用户仅能提供发票扫描件</p><p>2.易企秀发票项目为：技术服务费。（目前仅开具此项内容，不能开其他项目）</p><p>3.如果一个月内购买多次，建议一次性提交发票申请，多个订单可合并</p><p>4.单次订单低于100元开具发票，需支付10元运费</p><p>5.如发票信息填写错误造成发票无法报销，易企秀不予退换发票，请认真填写，确保无误</p></div></form></div></div><div class="modal-footer mt20"><a class=modal-cancle ng-if=editInfo.isEditable ng-click=cancel();>取消</a> <a class="btn btn-primary" ng-if=editInfo.isEditable ng-click=saveUserInvoice(userinfo)>保存提交</a> <a class=modal-cancle ng-if=!editInfo.isEditable ng-click=reset();>修改发票信息</a> <a class="btn btn-primary" ng-if=!editInfo.isEditable ng-click=submit(userinfo)>提交</a></div>')
	}]), angular.module("usercenter/console/register.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/register.tpl.html", '<div class=modal-header><h4 class=modal-title>创建账号<span class=action ng-show=relErr>{{relErr}}</span></h4></div><div class="modal-body registerForm"><form class=form-contain role=form><div class="form-list clearfix"><label for=inputPassword3 class=form-label>登录账号</label><div class=form-input><input type=text class=third-name ng-model=user.email ng-blur=checkUsername(); placeholder="账号/邮箱"> <span ng-show=usernameError class=error_text>{{usernameError}}</span></div></div><div class="form-list clearfix"><label for=inputPassword3 class=form-label>密码</label><div class=form-input><input type=password class=third-pwd style=float:right maxlength=12 ng-model=user.password ng-blur=checkPassword() placeholder="密码6~16个字符(英文字母或数字 区分大小写)"> <span ng-show=passError class=error_text>{{passError}}</span></div></div><div class="form-list clearfix"><label for=inputPassword3 class=form-label>确认密码</label><div class=form-input><input type=password class=third-pwd style=float:right maxlength=12 ng-model=user.repeatPassword ng-blur=checkRepeatPassword() placeholder="确认密码"> <span ng-show=rPassError class=error_text>{{rPassError}}</span></div></div><div class="login-form-action clearfix mt20"><div class="checkbox pull-left"><input type=checkbox ng-model="user.agreement"> <span class=checkbox-text><a href=#/agreement target=_blank>同意《用户注册协议》</a></span></div><div class=pull-right><a ng-click=cancel();relAccount();><ins>已有账户?</ins></a></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=registerAccount()>立即注册</a></div>')
	}]), angular.module("usercenter/console/relAccount.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/relAccount.tpl.html", '<div class=modal-header><h4 class=modal-title>绑定账号 <span class=action ng-show=relErr>{{relErr}}</span> <span class=action ng-show=!relErr>绑定已有账号</span></h4></div><div class=modal-body><form class=form-contain role=form><div class="form-list clearfix"><label for=inputPassword3 class=form-label>登录账号</label><div class=form-input><input type=text class=third-name ng-model=user.email ng-blur=checkUpperCase(); placeholder="输入要绑定的账号"></div></div><div class="pt20 mt20 border-dashed"></div><div class=text-center style=padding-bottom:10px;font-size:12px;color:#a3afb7>&nbsp;为保障用户账号安全，需要填写绑定账号密码</div><div class="form-list clearfix"><label for=inputPassword3 class=form-label>密码</label><div class=form-input><input type=password class=third-pwd style=float:right ng-model=user.password placeholder="输入该账号登录密码"></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=bindAccount()>立即绑定</a> <a class="btn btn-primary" ng-click=cancel();createAccount();>创建账号</a></div>')
	}]), angular.module("usercenter/console/relEmail.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/relEmail.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title || \'绑定邮箱\'}}</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label for=inputMail class="col-sm-3 control-label">邮箱</label><div class=col-sm-7><input id=inputMail type=text class=form-control ng-model=userinfo.email ng-class="{error: emailFormatErr}" ng-blur=checkUpperCase();checkEmailFormat(userinfo) placeholder=输入邮箱><p class=error ng-show=emailFormatErr>{{emailFormatErr}}</p></div></div><div class="pt20 border-dashed"></div><div class=text-center style=padding-bottom:10px;font-size:12px;color:#a3afb7>为保障用户账号安全,您需要填写当前登录账号密码</div><div class=form-group><label for=inputPass class="col-sm-3 control-label">密码</label><div class=col-sm-7><input id=inputPass type=password class=form-control ng-model=userinfo.password placeholder=请输入当前账号密码 ng-class="{error: passFormatErr}" ng-blur=checkPassFormat(userinfo)><p class=error ng-show=passFormatErr>{{passFormatErr}}</p><p class=error ng-show=relErr>{{relErr}}</p></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a type=button class="btn btn-primary" ng-click=relEmail(userinfo)>立即绑定</a></div>')
	}]), angular.module("usercenter/console/relForum.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/relForum.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>修改论坛</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label for=inputBbsName class="control-label col-sm-3">论坛账号</label><div class=col-sm-7><input id=inputBbsName class=form-control type=text ng-model=userinfo.bbsId ng-blur=checkBbsName(); placeholder="请输入论坛账号"><p class=error ng-show=BbsNameError>{{BbsNameError}}</p></div></div><div class=form-group><label for=inputBbsPwd class="control-label col-sm-3">论坛密码</label><div class=col-sm-7><input style=text-align:left id=inputBbsPwd type=password class="form-control code" maxlength=12 ng-model=userinfo.bbsPwd ng-blur=checkBbsPassword() placeholder="请输入论坛密码"><p class=error ng-show=bbsPwdError>{{bbsPwdError}}</p></div></div><div class="pt20 border-dashed"></div><div class=text-center style=padding-bottom:10px;font-size:12px;color:#a3afb7>为保障用户账号安全,您需要填写当前登录账号密码</div><div class=form-group><label for=inputPass class="control-label col-sm-3">密码</label><div class=col-sm-7><input id=inputPass type=password class=form-control maxlength=16 ng-model=userinfo.eqxiuPwd ng-blur=checkEqxiuPassword() placeholder="请输入当前账号密码"><p class=error ng-show=eqxiuPwdError>{{eqxiuPwdError}}</p></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <button type=button class="btn btn-primary" ng-click=relForum()>确定</button></div>')
	}]), angular.module("usercenter/console/resetbranchpass.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/resetbranchpass.tpl.html", '<div class=dialog-contain><div class=dialog-head><h1>修改密码</h1><p ng-show=!authError>在此修改密码，退出再登录后及成功</p><p ng-show=authError>{{authError}}</p></div><div class=dialog-content><form class=form-contain role=form><div class="form-list clearfix"><label for=inputPassword3 class=form-label>分账号：</label><div class=form-input style="top: 6px">{{branch.loginName}}</div></div><div class=tip style="padding-left: 30px;margin: 20px 0"><span>重置密码后，密码将恢复为初始密码:</span> <span style="color: #ff0000">eqxiu</span></div><div class="btn-contain btn-big"><a class="btn-main login" ng-click=reset()>重置为初始密码</a> <a class="btn-grey0 cancel" ng-click=cancel()>取消</a></div></form></div></div>')
	}]), angular.module("usercenter/console/serverinfo.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/serverinfo.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title}}<a href=http://eqxiu.com/show/visitor style=font-size:12px;padding-left:5px target=_blank>什么是秀客？</a></h4></div><div class=modal-body><form class="form-horizontal upgrade"><div class=form-group><label class="control-label col-sm-2">用户昵称</label><div class=col-sm-8><input type=text class=form-control ng-model=applyInfo.nick placeholder="30个字符"></div></div><div class=form-group><label class="control-label col-sm-2">简短介绍</label><div class=col-sm-8><input type=text class=form-control ng-model=applyInfo.shortIntroduction placeholder=30个字符 ng-class="{error: introError}" ng-blur="checkIntroFormat(applyInfo)"><p class=error ng-show=introError>{{introError}}</p></div><div class="col-sm-2 tips ng-scope">必填</div></div><div class=form-group><label class="control-label col-sm-2">详细介绍</label><div class=col-sm-8><textarea class=form-control ng-model=applyInfo.introduction placeholder=400个字符 ng-class="{error: introError1}" ng-blur=checkIntroFormat1(applyInfo)></textarea><p class=error ng-show=introError1>{{introError1}}</p></div><div class="col-sm-2 tips ng-scope">必填</div></div><div class=form-group><label class="text-right col-sm-2">代表作品</label><div ng-show=myShowScene class=clearfix><div class=col-sm-7><p ng-show="sceneSelected.length < 1" style=color:#999>请选择3个代表作品，作品默认会加入秀场</p><p ng-show="sceneSelected.length >0" class=select-icon><span ng-repeat="scene in sceneSelected" class=ellipsis title={{scene.name}}>{{scene.name}}</span></p></div><div class=dropdown style=width:50px;float:left><a ng-show="myShowScene.length > 0" class="more dropdown-toggle" style=color:#08a1ef>选择</a><div class="other-label dropdown-menu" style=width:500px;left:-400px><div class=select-contain><div class="square col-sm-6 ellipsis" ng-repeat="scene in myShowScene" forbidden-close><div class=checkbox-square ng-class="{checked: scene.ischecked}"><em class=eqf-yes2></em> <input type=checkbox id="{{scene.name + $index}}" class=area ng-model=scene.ischecked ng-value="other"></div><label for="{{scene.name + $index}}" title={{scene.name}}>{{scene.name}}</label></div></div><div class="col-sm-12 text-right" forbidden-close><a class=modal-cancle ng-click=scene_cancel($event)>取消</a> <a class="btn btn-primary" ng-click="sceneSelect(scene, $event,true)">确认</a><p class=error style=float:left ng-show=sceneError>{{sceneError}}</p></div></div><div class=otherBg forbidden-close></div></div><div class="col-sm-1 tips" style=padding-top:0;padding-bottom:0>必填</div></div><div class=col-sm-8 style=color:#ff0000 ng-show=!myShowScene>您暂无代表作品，请先创建场景</div><p class="col-sm-8 error" style=padding-left:145px ng-show=sceneNull>{{sceneNull}}</p></div><div class=form-group><label class="col-sm-2 text-right">服务地域</label><div class=col-sm-7><p style=color:#999 ng-show="serverSelected.length < 1">请选择1-3个服务的地域</p><p ng-show="serverSelected.length >0" class=select-icon><span ng-repeat="server in serverSelected" class=ellipsis title={{server.name}}>{{server.name}}</span></p><p class=error style=float:left ng-show=serverNull>{{serverNull}}</p></div><div class=dropdown style=float:left;width:50px><a ng-show=moreArea class="more dropdown-toggle" style=color:#08a1ef>选择</a><div class="other-label dropdown-menu" style=width:500px;left:-400px><div class=select-contain><div class="square col-sm-4" ng-repeat="server in serverLabel" forbidden-close><div class=checkbox-square ng-class="{checked: server.ischecked}"><em class=eqf-yes2></em> <input type=checkbox id="{{server.name + $index}}" class=area ng-model=server.ischecked></div><label for="{{server.name + $index}}">{{server.name}}</label></div></div><div class="col-sm-12 text-right" style=line-height:36px forbidden-close><a class=modal-cancle ng-click=server_cancel($event)>取消</a> <a class="btn btn-primary" ng-click=serverSubmit(applyInfo,$event,true)>确认</a><p class=error style=float:left ng-show=serverError>{{serverError}}</p></div></div><div class=otherBg forbidden-close></div></div><div class="col-sm-1 tips" style=padding-top:0;padding-bottom:0>必填</div></div><div class=form-group><label class="col-sm-2 text-right">擅长领域</label><div class=col-sm-7><p style=color:#999 ng-show="cateSelected.length < 1">请选择1-3类擅长的领域</p><p ng-show="cateSelected.length >0" class=select-icon><span ng-repeat="cate in cateSelected" class=ellipsis title={{cate.name}}>{{cate.name}}</span></p><p class=error ng-show=cateNull>{{cateNull}}</p></div><div class=dropdown style=float:left;width:50px><a ng-show=moreLabel class="more dropdown-toggle" style=color:#08a1ef>选择</a><div class="other-label dropdown-menu" style=width:550px;left:-420px><div class=select-contain><div class="square col-sm-3" ng-repeat="otherCate in cateLabel" forbidden-close><div class=checkbox-square ng-class="{checked: otherCate.ischecked}"><em class=eqf-yes2></em> <input type=checkbox id="{{otherCate.name + $index}}" class=area ng-model=otherCate.ischecked ng-value="other"></div><label for="{{otherCate.name + $index}}">{{otherCate.name}}</label></div></div><div class="col-sm-12 text-right" style=line-height:36px forbidden-close><a class=modal-cancle ng-click=cate_cancel($event)>取消</a> <a class="btn btn-primary" ng-click="queren(applyInfo, $event,true)">确认</a><p class=error style=float:left ng-show=cateError>{{cateError}}</p></div></div><div class=otherBg forbidden-close></div></div><div class="col-sm-1 tips" style=padding-top:0;padding-bottom:0>必填</div></div><div class=form-group style=position:relative><label class="col-sm-2 text-right">支付方式</label><div style=float:left;width:380px><div class=square style=width:90px;float:left;margin-left:15px ng-repeat="pay in payLabel"><div class=checkbox-square ng-class="{checked: pay.ischecked}"><em class=eqf-yes2></em> <input type=checkbox id="{{pay.name + $index}}" ng-model=pay.ischecked class="area"></div><label for="{{pay.name + $index}}">{{pay.name}}</label></div></div><div class="col-sm-1 tips" style=margin-left:12px>必填</div><div class="col-sm-offset-2 col-sm-10" ng-show=payError><p class=error>{{payError}}</p></div></div><div class=form-group><label class="control-label col-sm-2">服务QQ</label><div class=col-sm-8><input type=text class=form-control ng-model=applyInfo.qq value="" ng-class="{error: qqError}" placeholder=服务QQ ng-blur=checkQQFormat(applyInfo) maxlength="20"><p class=error ng-show=qqError>{{qqError}}</p></div><div class="col-sm-2 tips">必填</div></div><div class=form-group><label class="control-label col-sm-2">微信号</label><div class=col-sm-8><input type=text class=form-control ng-class="{error: wechatError}" ng-model=applyInfo.wechat value="" placeholder=微信号 maxlength="20"><p class=error ng-show=wechatError>{{wechatError}}</p></div><div class="col-sm-2 tips">必填</div></div><div class=form-group><label class="control-label col-sm-2">联系邮箱</label><div class=col-sm-8><input type=text class=form-control ng-model=applyInfo.email value="" ng-class="{error: emailError}" ng-blur=checkEmailFormat(applyInfo) placeholder=联系邮箱 maxlength="40"><p class=error ng-show=emailError>{{emailError}}</p></div><div class="col-sm-2 tips">必填</div></div><div class=form-group><label class="control-label col-sm-2">手机号</label><div class=col-sm-6><input type=text class=form-control ng-model=applyInfo.phone value="" ng-class="{error: telError}" placeholder=手机号 ng-change=changePhone(applyInfo.phone) maxlength="20"><p class=error ng-show=telError>{{telError}}</p></div><div class=col-sm-2 style=padding:0 ng-show=showPhone><span class=code ng-show=!isCodeAccessiable ng-click=getCode(applyInfo,1)>验证码</span> <span class="code enble" ng-show=isCodeAccessiable>{{codeTip}}</span></div><div class="col-sm-2 tips ng-scope">必填</div></div><div class="form-group clearfix" ng-show=showPhone><label for=inputPassword3 class="col-sm-2 control-label">验证码</label><div class=col-sm-8><input type=type class=form-control ng-class={error:codeError} placeholder=验证码 ng-model=applyInfo.code ng-blur=checkCode(applyInfo)><p class=error ng-show=codeError>{{codeError}}</p></div><div class="col-sm-2 tips">必填</div></div><div class="form-group cleafix" ng-show=!invoiceStat><label class="col-sm-2 control-label">发票信息</label><div class=col-sm-7><a class="btn blue" ng-click=invoice() style=color:#fff>修改发票信息</a></div></div></form><p ng-show=authError style=text-align:center;color:#ff5448>{{authError}}</p></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=submit(applyInfo) ng-show=applyXiuke>提交申请</a> <a class="btn btn-primary" ng-click=reset(applyInfo) ng-show=!applyXiuke>确定</a></div>');
	}]), angular.module("usercenter/console/upgrade_company.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/console/upgrade_company.tpl.html", '<div class=login-form-section><div class=login-content><form class=form-horizontal><div class=section-title><a class="bbs-help-tip eqf-wrong fr" ng-click=quXiao()></a><h3>申请企业会员</h3></div><div class=company-user-modal><div class=textbox-wrap><label>企业名称</label><input class=form-control type=text ng-model=companyInfo.name placeholder=企业名称 ng-blur=checkName(companyInfo) ng-class="{error:nameError}"> <span class=tips>必填</span> <span class="error_text clearfix"><em ng-show=nameError>{{nameError}}</em></span></div><div class=textbox-wrap><label>企业邮箱</label><input type=text class=form-control ng-model=companyInfo.email placeholder=企业邮箱 ng-blur=checkEmail(companyInfo) ng-class={error:emailError} maxlength=40> <span class=tips>必填</span> <span class=error_text><em ng-show=emailError>{{emailError}}</em></span></div><div class=textbox-wrap><label>联系人</label><input type=text class=form-control ng-model=companyInfo.contacts placeholder=联系人 ng-class={error:contactsError} ng-blur=checkcontacts(companyInfo)> <span class=tips>必填</span> <span class=error_text><em ng-show=contactsError>{{contactsError}}</em></span></div><div class=textbox-wrap><label>联系地址</label><input type=text class=form-control ng-model=companyInfo.address placeholder=联系地址 ng-class={error:addressError} ng-blur=checkAddress(companyInfo)> <span class=tips>必填</span> <span class=error_text><em ng-show=addressError>{{addressError}}</em></span></div><div class=textbox-wrap ng-show="userMobile != 1"><label>手机号</label><input style=width:200px type=type class=form-control ng-model=companyInfo.mobile placeholder=手机号 ng-class={error:telError} maxlength=20> <span class=code ng-show=!isCodeAccessiable ng-click=getCode(companyInfo)>验证码</span> <span class=tips>必填</span> <span class="code enble" ng-show=isCodeAccessiable>{{codeTip}}</span> <span class=error_text><em ng-show=telError>{{telError}}</em></span></div><div class=textbox-wrap ng-show="userMobile != 1"><label>验证码</label><input type=type class=form-control ng-class={error:codeError} placeholder=验证码 ng-model=companyInfo.code ng-blur=checkCode(companyInfo)> <span class=tips>必填</span> <span class=error_text><em ng-show=codeError>{{codeError}}</em></span></div><div class="login-form-action clearfix pb40"><a style=width:300px class="btn btn-success btn-main" ng-click=upgradeCompanyMessage(companyInfo)>提交</a></div></div></form></div></div>')
	}]), angular.module("usercenter/message.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/message.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class="min_contain same-content message-contain"><div class=u-content><div class=m-title><div class="m-icon fl red-bg"><span class=eqf-music></span></div><div class=m-detail><div class="m-type ng-binding">站内消息</div><div class="pt20 clearfix"><span style=float:right class=message><a class=ml20 ng-show="Msgs.length > 0" ng-click=setRead(Msgs)>标记为已读</a> <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890" target=_blank>审核问题</a></span> <span class=mr20><em>消息总数：{{msgCount}}</em></span> <span><em>未读消息：{{newMsgCount}}</em></span></div></div></div><div class=account-contain><table class="table table-hover" ng-show="Msgs.length > 0"><thead><tr><th class=col-sm-3>类型</th><th class=col-sm-6>内容</th><th class=col-sm-3>日期</th></tr></thead><tr ng-repeat="newMsg in Msgs"><td>{{newMsg.type}}<em ng-class="{new_msg: newMsg.status == 1}"></em></td><td ng-bind-html=newMsg.content></td><td>{{newMsg.sendTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</td></tr></table><div class=mt20 ng-show="Msgs.length == 0">您暂时还没有消息！</div><div class="clearfix page-turn" ng-show="msgCount> 10"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=5 items-per-page=pageSize total-items=msgCount ng-model=currentPage.msgCurrentPage boundary-links=true rotate=true num-pages=msgNumPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage, \'msgCurrentPage\') : null"><span class=fl>页</span> <a ng-click="pageChanged(toPage, \'msgCurrentPage\')" class=go>确定</a></div></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("usercenter/payment.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/payment.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>请选择喜欢的支付方式进行支付</h4></div><div><ul class="nav nav-bg"><li ng-class="{active:payWay==\'alipay\'}"><a ng-click="getWeChatUrl(\'alipay\');">支付宝</a></li><li ng-class="{active:payWay==\'wechat\'}"><a ng-click="getWeChatUrl(\'wechat\');" ng-hide="type==3">微信</a></li><li ng-class="{active:payWay==\'remit\'}"><a ng-click="getWeChatUrl(\'remit\');">汇款支付</a></li><li ng-class="{active:payWay==\'unionpay\'}"><a ng-click="getWeChatUrl(\'unionpay\');">银联支付</a></li></ul><div class=tab-content><div class=tab-pane ng-class="{active:payWay==\'alipay\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'wechat\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'remit\'}"><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="remit-contain p20"><p>对公支付请按照下列步骤进行：</p><p style=padding-top:15px>步骤1：打款<br>公司名称：北京中网易企秀科技有限公司<br>开户行全称：中国工商银行股份有限公司北京海淀支行<br>银行账号：0200049609201083655</p><p style=padding-top:15px>步骤2：发邮件到fapiao@eqxiu.com,以便易企秀更快捷给你提供相关服务。邮件内容如下：<br>购买项目：（秀点，企业体验版，企业高级版，企业畅享版，企业专业版等）<br>购买金额，购买数量，易企秀账号，联系电话。</p></div></div><div class=tab-pane ng-class="{active:payWay==\'unionpay\'}" ng-init="paying = true;"><div ng-show=paying><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px;margin-bottom:20px>{{money}}元</h3><div style=text-align:center;margin-bottom:20px ng-show="counts.length>0 && payWay==\'unionpay\'"><div class=btn-group><button class="btn btn-default btn-sm" ng-class="{active:count.value==curentCount}" ng-repeat="count in counts track by $index" ng-click=setCount(count.value,$index)>{{count.name}}</button></div></div><div class=text-center style=padding-bottom:20px><a ng-click="paying = false" ng-href="{{PREFIX_SERVER_HOST + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>立即支付</a></div></div><div ng-show=!paying class="p20 text-center"><p>请在新开启的支付页面中完成支付后，点击完成支付按钮关闭对话框。<br>未完成支付，可点击重新支付按钮再次进行支付</p><p style=margin-top:20px><a class="btn btn-primary" ng-href="{{PREFIX_SERVER_HOST + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>重新支付</a></p></div></div></div><div style=text-align:center;margin-bottom:20px ng-show="counts.length>0 && payWay!=\'unionpay\'"><div class=btn-group><button class="btn btn-default btn-sm" ng-class="{active:count.value==curentCount}" ng-repeat="count in counts track by $index" ng-click=setCount(count.value,$index)>{{count.name}}</button></div></div><div ng-show="payWay==\'alipay\'" style=padding-bottom:10px class=text-center><a ng-href="{{PREFIX_SERVER_HOST +\'m/u/alipay/direct?goodsId=\' + type + \'&amount=\' + curentCount+ \'&goodsType=\' + goodsType}}" target=_blank>支付宝网页支付</a></div></div><div class=modal-footer><a ng-href={{payUrl}} download=易企秀购买说明.pdf class=fl style=margin-top:10px target=_blank><ins>获取购买内容说明</ins></a> <a class="btn btn-primary" ng-click=paymented()>完成支付</a></div>')
	}]), angular.module("usercenter/paymentxd.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/paymentxd.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>请使用微信扫一扫二维码进行</h4></div><div class=modal-body><div class=qrcode style=width:100% qr-code qr-url={{qrCodeUrl}}></div></div><div class=modal-footer><a class="btn btn-primary" ng-click=paymented()>完成支付</a></div>')
	}]), angular.module("usercenter/request_reg.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/request_reg.tpl.html", "<div class=request_reg><div class=close ng-click=cancel()>x</div><div class=erwei qr-code qr-url=\"{{PREFIX_CLIENT_HOST + '/m/#/wxLogin?id=' + currentUser.id}}\"></div></div>")
	}]), angular.module("usercenter/tab/account.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/account.tpl.html", '<div class=account-contain><div class=tab-box-shadow><div class="account-items clearfix" ng-if=userinfo.noRel><div class=item-one><em class="red-color eqf-exclamation-sign"></em> <span>登录账号</span></div><div class=item-two><span>未绑定</span></div><div class=item-three><a ng-click=createAccount() class=text-primary>绑定账号</a></div></div><div class="account-items clearfix"><div class=item-one><em ng-class="{\'eqf-yes green-color\':userinfo.email && userinfo.checkEmail == 1,\'eqf-exclamation-sign red-color\': userinfo.checkEmail != 1}"></em> <span>保密邮箱</span></div><div class=item-two><span ng-if="userinfo.email &&( userinfo.checkEmail == 0 || userinfo.checkEmail==null)"><em style=font-weight:lighter>您的邮箱：{{ userinfo.email}}尚未验证，请尽快登录邮箱进行验证。</em></span> <span ng-if="userinfo.email && userinfo.checkEmail == 1"><span class=action>您的邮箱：{{ userinfo.email}}已验证，请放心使用</span></span> <span ng-if="userinfo.email==null">未绑定</span></div><div class=item-three><a ng-if="userinfo.email &&( userinfo.checkEmail == 0 || userinfo.checkEmail==null)" ng-click=verifyEmail() class="text-primary pr20">再次验证</a> <a ng-click="relEmail(\'绑定邮箱\')" ng-if="userinfo.email==null" class=text-primary>绑定邮箱</a> <a ng-click="relEmail(\'修改邮箱\')" ng-if=userinfo.email class="action text-primary">修改邮箱</a></div></div><div class="account-items clearfix"><div class=item-one><em class="eqf-yes green-color"></em><span>账号类型</span></div><div class=item-two><span ng-show="userinfo.type ==1">普通用户</span> <span ng-show="userinfo.type ==2 || userinfo.type ==5">企业用户</span> <span ng-show="userinfo.type ==21 || userinfo.type ==51">企业子用户</span> <span ng-show="userinfo.type ==3">高级用户</span> <span ng-show="userinfo.type ==4">服务用户</span> <span ng-show="userinfo.type ==99">运营用户</span> <span class=account-action>，升级账号可以尊享更多特权</span></div><div class=item-three><span class=pr20 ng-show="userinfo.type ==1 && !emailAccount && !userinfo.noRel"><a ng-click=upgradeCompany() class=text-primary>升级为企业账号</a></span> <a href=/#/privilege class="action text-primary" target=_blank>我的特权</a></div></div><div class="account-items clearfix"><div class=item-one><em class="eqf-yes green-color"></em><span>登录密码</span></div><div class=item-two><span class=account-action>建议使用6-16个字符，可包括大小写字母和数字</span></div><div class=item-three><a ng-if=!userinfo.noRel class=text-primary ng-click=goReset()>修改密码</a></div></div>')
	}]), angular.module("usercenter/tab/children.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/children.tpl.html", '<div class="children branches" ng-show="userinfo.type==2 || userinfo.type==5"><h2 class="subhead mb20" style=margin-top:0><em>分账号管理</em><div class=fr><span ng-if=branchName.name class=mr20>当前子账号：{{branchName.name}}<em class="eqf-wrong2 pl20" title=返回主账号 ng-click=changeCurrent()></em></span> <a class=text-center ng-click=manageBranch()><em class=eqf-plus2></em><i>添加分账号</i></a></div></h2><div class="branch-list tab-box-shadow"><table class="table table-hover mb20"><tr><th class=col-sm-3>分账号</th><th class=col-sm-2>用户名</th><th class=col-sm-2>部门</th><th class=col-sm-2>创建时间</th><th class=col-sm-2>管理</th></tr><tr ng-repeat="branch in branches"><td>{{branch.loginName}}</td><td>{{branch.name}}</td><td>{{branch.deptName}}</td><td>{{branch.regTime | date:\'yyyy-MM-dd\'}}</td><td><a class=branch-close ng-show="branch.status==1" ng-click="openBranch(branch, false);"><em>关闭</em></a> <a class=branch-close ng-show="branch.status==2" ng-click="openBranch(branch, true);"><em>开放</em></a> <a class=branch-close ng-click=manageBranch(branch)>修改</a> <a ng-click=selectBranch(branch) ng-model=branch>查看</a></td></tr></table></div><div class="clearfix page-turn" ng-show="branchesCount > 10"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=5 items-per-page=XdpageSize total-items=branchesCount ng-model=page.currentPage ng-change=pageChanged(page.currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div></div>')
	}]), angular.module("usercenter/tab/domain.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/domain.tpl.html", '<div class="dialog-contain domain-xiudian"><div class=dialog-head><h1>绑定域名</h1><p ng-show=!actionerror>请您输入正确的域名地址</p><p ng-show=actionerror>{{actionerror}}</p></div><div class=dialog-content><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>绑定域名</label><div class=form-input><input type=text class=dns ng-model=domainMess.url placeholder=请输入要绑定的域名></div></div></form><div class="clearfix xiudian-time" ng-init="someVariable = null"><span class=form-label style=font-size:16px>选择有效期</span> <span ng-repeat="type in domainMess.typeList" style=padding-left:10px><input type=radio ng-model=$parent.someVariable id="\'{{type.value}}\'" ng-value=domainMess.type><label for="\'{{type.value}}\'">{{type.label}}<span>秀点</span>{{type.value}}<span>天</span></label></span></div><div class="btn-contain btn-big"><a class="btn-main login" ng-click=submit(domainMess.url,someVariable.value,someVariable.label)>确认</a> <a class="btn-grey0 cancel" ng-click=quXiao()>取消</a></div></div><div class="xiudian clearfix" ng-show=xiudian><div class=chongzhi><h1>秀点不足</h1><p>我的秀点：{{xdCounts}}，需消耗{{count}}秀点</p><div class=erweima><span>微信扫描二维码，</span><span>关注易企秀微信账号，马上充值</span></div></div><img ng-src={{CLIENT_CDN}}assets/images/111.jpg><div class=know><a class=btn-main ng-click=know()>知道了</a></div></div></div>')
	}]), angular.module("usercenter/tab/member.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/member.tpl.html", '<div class=m-title><div class="m-icon fl" ng-switch=currentUser.type ng-class="{normal: currentUser.type==1, vip: currentUser.type==3, server: currentUser.type==4, \'com-free\': (currentUser.type==2 || currentUser.type==5) && !currentUser.memberType, \'com-base\': (currentUser.type==2) && currentUser.memberType == 1, \'com-pri\': (currentUser.type==2) && currentUser.memberType == 2, \'com-pro\': (currentUser.type==2) && currentUser.memberType == 3, \'com-tour\': (currentUser.type==2) && currentUser.memberType == 4, \'com-base-child\': (currentUser.type==21 || currentUser.type==51)}"><span class=eqf-nomarluser ng-switch-when=1></span> <span class=eqf-vipuser ng-switch-when=3></span> <span class=eqf-companyuser ng-switch-when=5></span> <span class="eqf-companyuser free-companyuser" ng-show=!currentUser.memberType ng-switch-when=2></span> <span class="eqf-companyuser base-companyuser" ng-show="currentUser.memberType==\'1\'" ng-switch-when=2></span> <span class="eqf-companyuser pri-companyuser" ng-show="currentUser.memberType==\'2\'" ng-switch-when=2></span> <span class="eqf-companyuser pro-companyuser" ng-show="currentUser.memberType==\'3\'" ng-switch-when=2></span> <span class="eqf-companyuser pro-companyuser" ng-show="currentUser.memberType==\'4\'" ng-switch-when=2></span> <span class="eqf-companyuser free-companyuser" ng-switch-when=21></span> <span class="eqf-companyuser free-companyuser" ng-switch-when=51></span> <span class=eqf-serviceuser ng-switch-when=4></span></div><div class=m-detail><div class=m-type><a class="btn btn-primary btn-upgrade fr" ng-show="currentUser.type ==1 || currentUser.type ==2" ng-href=/#/privilege target=_blank>立即升级</a> {{userType}}&nbsp;&nbsp;{{userPay}} <span ng-show="currentUser.type == 1" style=float:none;font-size:12px>可免费升级至企业账号，获得更多功能，自由设置场景上的易企秀品牌标记</span></div><div class=pt20><span class=mr20>开通时间：{{currentUser.joinTime || currentUser.regTime | date:\'yyyy年MM月dd日 HH:mm\'}}</span> <span ng-show="currentUser.expiryTime && currentUser.memberType">到期时间：{{ currentUser.expiryTime | date:\'yyyy年MM月dd日 HH:mm\'}}</span></div></div></div><div class=m-cont><div class="m-title xd-cont"><div class="m-icon fl xd-icon"><span class=eqf-XD></span></div><div class=m-detail><div class="fr xd-act"><a ng-click=buyXd()><span class=eqf-XD></span> <span>购买秀点</span></a> <a ng-click=transferXd()><span class=eqf-scene-gift></span> <span>转送秀点</span></a> </div><div class=m-type>{{userXd}}</div><div class=pt20><span class="first-col mr20">我的秀点</span> <span>购买秀点，可完全去掉场景上的易企秀品牌标记</span></div></div><div class=xd-panel><div class="xd-tab p20"><div class=btn-group><a class="btn btn-default button-sm background-color-width-change" ng-class="{active: !xdType }" ng-click="getXdLog(null, 1)">秀点明细</a></div></div><table class="table table-hover"><thead><tr><th class="col-sm-4 text-left">时间</th><th class="col-sm-4 text-left" ng-show=!xdType>支出/收入</th><th class="col-sm-4 text-left" ng-show="xdType==2">支出</th><th class="col-sm-4 text-left" ng-show="xdType==1">收入</th><th class="col-sm-4 text-left">使用详情</th></tr></thead><tbody><tr ng-repeat="xd in xdLogs"><td class=text-left>{{xd.optTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</td><td class=text-left>{{xd.xd}}</td><td class=text-left>{{xd.remark}}</td></tr></tbody></table></div><div ng-show="totalItems>10" class="page-turn clearfix"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=10 total-items=totalItems ng-model=$parent.currentPage ng-change="pageChanged(xdType, currentPage)" boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(xdType, toPage) : null"><span class=fl>页</span> <a ng-click="pageChanged(xdType, toPage)" class=go>确定</a></div></div></div></div>')
	}]), angular.module("usercenter/tab/message.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/message.tpl.html", '<div class=message-contain><div class="mes-header text-right pb20"><a class=reject-issue href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890" target=_blank>审核问题</a> <a ng-show="newMsgs.length > 0" ng-click=setRead(newMsgs)>全部设为已读</a></div><div class="message-panel clearfix" ng-repeat="newMsg in newMsgs"><div class="mes-content mes-type col-sm-2" ng-class="{new_msg: newMsg.status == 1,yidu_msg: newMsg.status == 2}"><span ng-class="{\'eqf-voice\': newMsg.bizType==1,\'eqf-fobden2\': newMsg.bizType==2, \'eqf-star\': newMsg.bizType == 3}"></span> {{newMsg.type}}</div><div class="mes-content col-sm-7" ng-bind-html=newMsg.content></div><div class="mes-content col-sm-3 text-right">{{newMsg.sendTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</div></div><div class=mt20 ng-show="newMsgs.length == 0">您暂时还没有消息！</div><div class="clearfix mt20" ng-show="msgCount > 5"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=5 items-per-page=pageSize total-items=msgCount ng-model=currentPage.msgCurrentPage boundary-links=true rotate=true num-pages=msgNumPages></pagination><div class=current_page><input type=text ng-model=toPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage, \'msgCurrentPage\') : null"> <a ng-click="pageChanged(toPage, \'msgCurrentPage\')" class=go>GO</a> <span>当前</span> : {{currentPage.msgCurrentPage}} / {{msgNumPages}} <span>页</span></div></div></div>')
	}]), angular.module("usercenter/tab/privilege.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/privilege.tpl.html", '<div ng-if=user ng-include="\'header.tpl.html\'"></div><div class=pri-nav ng-if=!user id=home><header style=background-color:#fff;width:100%;height:60px><div class="we_nav content_center"><div class=link_list><ul class=clearfix><li><a class=background-color-width-change target=_blank href=#/show>秀场</a></li><li ng-class="{isActive: isActive == \'privilege\'}"><a class=background-color-width-change href=#/privilege>会员特权</a></li><li><a class=background-color-width-change href="http://bbs.eqxiu.com/" target=_blank>帮助中心</a></li><li class=login ng-hide=isAuthenticated()><a class=background-color-width-change ng-click=openLogin()>登录</a></li><li ng-hide=isAuthenticated() class=register><a class=background-color-width-change ng-click=openRegister() id=registerFormBtn>注册</a></li><li ng-show=isAuthenticated()><a class=background-color-width-change href=#/main>进入</a></li></ul></div><div id=logo><a href=/home><em class=eqf-love></em></a></div></div></header></div><div class=privilege-contain><div class=info><div class=versions><div class=my-head></div><div class=content-v><div class=eqf-top-contact></div><div class=des><h2 class=text-left style=padding-bottom:5px>个人会员</h2><h5>提供丰富的素材和模板</h5><h5>助力快速完成创作</h5></div></div><div class=btn-contain><a class="btn btn-primary" ng-if=!user ng-click="openRegister(\'user\',null)">立即注册</a></div></div><div class="versions ml20"><div class=company-head></div><div class=content-v><div class=eqf-huangguan></div><div class=des><h2 class=text-left style=padding-bottom:5px>企业会员</h2><h5>在丰富的素材和模板的基础上</h5><h5>提供全面便捷的推广渠道</h5><h5>助力企业自我营销和宣传</h5></div></div><div class=btn-contain><a class="btn btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'1\')">立即注册</a> <a class="btn btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>免费升级</a></div></div></div><div class=detail-con><table class="table table-bordered detail tab-box-shadow"><tr class=thead><td colspan=2 style="background-color: #08a1ef;border:none"></td><td colspan=2 style="background-color: #76838f;border:none"></td><td colspan=4 style="background-color: #f2a653;border:none"></td></tr><tr><td colspan=2 class=no-lborder style=width:460px;height:70px>服务内容</td><td colspan=2 style=width:240px>免费版</td><td colspan=4 style=width:480px;font-size:12px class=no-rborder>付费版<a class=pl20 href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target=_blank><ins>购买前必读</ins></a></td></tr><tr class=user><td colspan=2 style=padding-top:0 class=no-lborder></td><td class=normarl><i class=eqf-nomarluser></i>个人会员</td><td class=free-com><i class=eqf-companyuser></i>免费企业会员</td><td class=exp-com><i class=eqf-companyuser></i>企业体验版</td><td class=sen-com><i class=eqf-companyuser></i>企业高级版</td><td class=imag-com><span class=hot>HOT</span> <i class=eqf-companyuser></i>企业畅享版</td><td class="no-rborder pro-com"><i class=eqf-companyuser></i>企业专业版</td></tr><tr><td class=no-lborder>近期活动</td><td class="ltd bg1">购买会员赠送秀点</td><td class=bg2>-</td><td class=bg1>-</td><td class="bg2 title1" style="background-color: #eff2f4">100点</td><td class="bg1 title2" style="background-color: #f5f7f8">500点</td><td class="bg2 title3" style="background-color: #eff2f4">2000点</td><td class="bg1 no-rborder">-</td></tr><tr><td rowspan=4 class=no-lborder>平台标识</td><td class=ltd>使用技术支持底标(15秀点/个)</td><td class=bg1>全价</td><td class="">免费</td><td class=bg1>免费</td><td class="">免费</td><td class=bg1>免费</td><td class=no-rborder>免费</td></tr><tr><td class="ltd bg1">使用联合底标（30秀点/个）</td><td class=bg2>全价</td><td class=bg1>免费</td><td class=bg2>免费</td><td class=bg1>免费</td><td class=bg2>免费</td><td class="bg1 no-rborder">免费</td></tr><tr><td class=ltd>去除平台标识(100秀点/个)</td><td class=bg1>全价</td><td class="">全价</td><td class=bg1>9.5折</td><td class="">9折</td><td class=bg1>7折</td><td class=no-rborder>免费300次<br>价值3万秀点</td></tr><tr><td class="ltd bg1">自定义载入图(100秀点/个)</td><td class="bg2 eqf-wrong"></td><td class=bg1>全价</td><td class=bg2>9.5折</td><td class=bg1>9折</td><td class=bg2>7折</td><td class="bg1 no-rborder">免费300次<br>价值3万秀点</td></tr><tr><td class=no-lborder rowspan=2>高级服务</td><td class=ltd>场景访问域名绑定(100秀点/月)</td><td class="eqf-wrong bg1"></td><td class=eqf-wrong></td><td class="eqf-yes2 bg1"></td><td class=eqf-yes2></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 no-rborder"></td></tr><tr><td class="ltd bg1">访问CDN加速</td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class=bg1>全网加速</td><td class=bg2>全网加速</td><td class="bg1 no-rborder">全网加速</td></tr><tr><td class=no-lborder rowspan=12>产品功能</td><td class=ltd>创建场景个数</td><td class=bg1>不限制</td><td class="">不限制</td><td class=bg1>不限制</td><td class="">不限制</td><td class=bg1>不限制</td><td class=no-rborder>不限制</td></tr><tr><td class="ltd bg1">基础流量统计</td><td class=bg2>全部</td><td class=bg1>全部</td><td class=bg2>全部</td><td class=bg1>全部</td><td class=bg2>全部</td><td class="bg1 no-rborder">全部</td></tr><tr><td class=ltd>基础数据管理</td><td class=bg1>全部</td><td class="">全部</td><td class=bg1>全部</td><td class="">全部</td><td class=bg1>全部</td><td class=no-rborder>全部</td></tr><tr><td class="ltd bg1">基础编辑功能</td><td class=bg2>全部</td><td class=bg1>全部</td><td class=bg2>全部</td><td class=bg1>全部</td><td class=bg2>全部</td><td class="bg1 no-rborder">全部</td></tr><tr><td class=ltd>企业子账号个数</td><td class="eqf-wrong bg1"></td><td>30</td><td class=bg1>50</td><td>50</td><td class=b1>100</td><td class=no-rborder>100</td></tr><tr><td class="ltd bg1">企业样例和模板</td><td class="eqf-wrong bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1 no-rborder"></td></tr><tr><td class=ltd>场景回收站功能</td><td class="eqf-wrong bg1"></td><td class=eqf-yes2></td><td class="eqf-yes2 bg1"></td><td class=eqf-yes2></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 no-rborder"></td></tr><tr><td class="ltd bg1">分享时显示分享次数</td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1 no-rborder"></td></tr><tr><td class=ltd>场景前置审核</td><td class="eqf-wrong bg1"></td><td class=eqf-wrong></td><td class="eqf-wrong bg1"></td><td class=eqf-wrong></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 no-rborder"></td></tr><tr><td class="ltd bg1">驳回加急审核</td><td class="eqf-wrong bg2"></td><td class="eqf-wrong bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1 no-rborder"></td></tr><tr><td class=ltd>审核关闭提醒</td><td class=bg1>10秀点/月</td><td class="">10秀点/月</td><td class=bg1>10秀点/月</td><td class="">10秀点/月</td><td class=bg1>10秀点/月</td><td class=no-rborder>10秀点/月</td></tr><tr><td class="ltd bg1">企业可以申请举办活动</td><td class="eqf-wrong bg2"></td><td class="eqf-wrong bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 bg1"></td><td class="eqf-yes2 bg2"></td><td class="eqf-yes2 no-rborder bg1"></td></tr><tr><td class=no-lborder>付费模式</td><td class=ltd>服务付费方式</td><td class=bg1>立即注册升级</td><td class="">立即注册升级</td><td class=bg1>99元/30天</td><td class="">499元/180天</td><td class=bg1>1999元/365天</td><td class=no-rborder>1.9万/365天</td></tr><tr><td class="no-lborder no-bborder">升级模式</td><td class="bg2 no-bborder"></td><td class="bg1 no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'user\',null)">立即注册</a></td><td class="bg2 no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'1\')">立即注册</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>免费升级</a></td><td class="bg1 no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'2\')">立即注册</a> <a class="btn btn-sm btn-primary" ng-if="user && !(user.type==2 || user.type==1 || user.type==21)" ng-disabled=true>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && !user.memberType" ng-click=upgradeAccount(1)>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType && user.memberType!=1" ng-disabled=true>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType==1" ng-click=upgradeAccount(1,true)>继续购买</a></td><td class="bg2 no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'3\')">立即注册</a> <a class="btn btn-sm btn-primary" ng-disabled=true ng-if="user && !(user.type==2 || user.type==1 || user.type==21)">升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && (!user.memberType || user.memberType==1)" ng-click=upgradeAccount(2)>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && (user.memberType==3 || user.memberType==4)" ng-disabled=true>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType==2" ng-click=upgradeAccount(2,true)>继续购买</a></td><td class="bg1 no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'4\')">立即注册</a> <a class="btn btn-sm btn-primary" ng-disabled=true ng-if="user && !(user.type==2 || user.type==1 || user.type==21)">升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType!=3 && user.memberType!=4" ng-click=upgradeAccount(4)>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType==3" ng-disabled=true>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType==4" ng-click=upgradeAccount(4,true)>继续购买</a></td><td class="bg2 no-rborder no-bborder"><a class="btn btn-sm btn-primary" ng-if=!user ng-click="openRegister(\'company\',\'5\')">立即注册</a> <a class="btn btn-sm btn-primary" ng-disabled=true ng-if="user && !(user.type==2 || user.type==1 || user.type==21)">升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==1" ng-click=upgradeCompany()>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType!=3" ng-click=upgradeAccount(3)>升级</a> <a class="btn btn-sm btn-primary" ng-if="user && user.type==2 && user.memberType==3" ng-click=upgradeAccount(3,true)>继续购买</a></td></tr></table><div class="more-info flash" ng-click="showMoreInfo=true;" ng-hide=showMoreInfo><div class=icon><i class=eqf-right></i></div><span class=word>合作<br>会员</span></div><table class="detail1 table-bordered table" ng-show=showMoreInfo><tr><td colspan=2 style=height:5px;background-color:#ff5448;padding:0;border:none></td></tr><tr><td colspan=2 style=height:70px>需申请</td></tr><tr class=user><td class="no-rborder love-com"><i class=eqf-loveheart></i>公共账号</td><td class=service><i class=eqf-serviceuser></i>服务商账号</td></tr><tr><td class=bg2>-</td><td class=bg1>-</td></tr><tr><td class="bg1 eqf-wrong"></td><td>全价</td></tr><tr><td class=bg2>免费</td><td class=bg1>全价</td></tr><tr><td class="bg1 eqf-wrong"></td><td style=height:67px>全价<br></td></tr><tr><td class=bg2>官方logo免费</td><td class=bg1 style=height:67px>全价<br></td></tr><tr><td class=bg1>免费</td><td class=eqf-yes2></td></tr><tr><td class=bg2>全网加速</td><td class="eqf-yes2 bg1"></td></tr><tr><td class=bg1>不限制</td><td>不限制</td></tr><tr><td class=bg2>全部</td><td class=bg1>全部</td></tr><tr><td class=bg1>全部</td><td>全部</td></tr><tr><td class=bg2>全部</td><td class=bg1>全部</td></tr><tr><td class=bg1>100</td><td class=eqf-wrong></td></tr><tr><td class="eqf-yes2 bg2"></td><td class="eqf-wrong bg1"></td></tr><tr><td class="bg1 eqf-yes2"></td><td class=eqf-yes2></td></tr><tr><td class="bg2 eqf-yes2"></td><td class="bg1 eqf-yes2"></td></tr><tr><td class="bg1 eqf-yes2"></td><td class=eqf-wrong></td></tr><tr><td class="bg2 eqf-yes2"></td><td class="bg1 eqf-yes2"></td></tr><tr><td class=bg1>10秀点/月</td><td>10秀点/月</td></tr><tr><td class="eqf-yes2 bg2"></td><td class="eqf-wrong bg1"></td></tr><tr><td class=bg1>免费申请合作</td><td>免费申请合作</td></tr><tr><td class=bg2><a class="btn btn-sm btn-primary" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=16855&extra=" target=_blank>了解详情</a></td><td class=bg1><a class="btn btn-sm btn-primary" target=_blank ng-href=active>了解详情</a></td></tr></table><div ng-show=showMoreInfo class=right-div>&nbsp;</div></div></div><div ng-include="\'footer.tpl.html\'"></div>');
	}]), angular.module("usercenter/tab/reset.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/reset.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=quXiao()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{title || \'修改密码\'}}</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label for=inputMail class="col-sm-3 text-right">邮箱</label><div class=col-sm-7><span>{{userinfo.noRel || userinfo.loginName}}</span></div></div><div class=form-group><label for=inputPassword3 class="col-sm-3 control-label">原始密码</label><div class=col-sm-7><input type=password class=form-control ng-model=password.old placeholder=原始密码 ng-keyup="$event.keyCode == 13 ? reset() : null" ng-class="{error: oldPassError}" ng-blur=checkOldPassword() class=form-control><p class=error ng-show=oldPassError>{{oldPassError}}</p></div></div><div class=form-group><label for=inputNewPass class="col-sm-3 control-label">新密码</label><div class=col-sm-7><input id=inputNewPass type=password class=form-control ng-model=password.newPw placeholder="密码6~16个字符(英文字母或数字 区分大小写)" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-class="{error: passError}" ng-blur=checkPassword() required><p class=error ng-show=passError>{{passError}}</p></div></div><div class=form-group><label for=inputRepeatPassword class="control-label col-sm-3">确认密码</label><div class=col-sm-7><input id=inputRepeatPassword type=password class=form-control ng-model=password.confirm placeholder=确认密码 ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur=checkRepeatPassword()><p class=error ng-show=rPassError>{{rPassError}}</p></div></div></form></div><div class=modal-footer><a class=modal-cancle ng-click=quXiao()>取消</a> <a class="btn btn-primary" ng-click=reset()>保存</a></div>')
	}]), angular.module("usercenter/tab/trash.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/tab/trash.tpl.html", '<div class=m-title><div class="m-icon fl red-bg"><span class=eqf-recele></span></div><div class=m-detail><div class=m-type>{{historyTab.pages.totalItems}}</div><div class="pt20 clearfix"><span style=float:right><em ng-if="sceneHistory == \'scene\'">企业会员保存3天</em><em ng-if="sceneHistory == \'image\'">个人会员、企业会员保存3天</em><a href=/#/privilege class=green>立即升级</a></span> <span class=mr20><em ng-if="sceneHistory == \'scene\'">已删除场景</em><em ng-if="sceneHistory == \'image\'">已删除素材</em></span></div></div></div><ul class="nav nav-tabs clearfix history-nav"><li role=presentation ng-class="{active:sceneHistory == \'scene\'}"><a ng-click="getMyScenes(1,\'scene\')">场景回收站</a></li><li role=presentation ng-class="{active:sceneHistory == \'image\'}"><a ng-click="getImages(1,\'image\')">素材回收站</a></li></ul><div class=history-scene ng-show="sceneHistory == \'scene\'"><ul class=clearfix ng-show="myScenes && myScenes.length >0"><li ng-repeat="scene in myScenes track by $index"><div class=scene-cover><img ng-src="{{PREFIX_FILE_HOST + scene.cover}}" width=235px height="235px"><div class="scene-operate mask"><div class=operate><span class="hint--top hint--rounded" ng-click="deleteScene(scene.id,\'false\')" data-hint=彻底删除><em class=eqf-scene-delete></em></span> <span class="hint--top hint--rounded" ng-click=revoke(scene.id) data-hint=还原><em class=eqf-bg></em></span></div><div class=scene-time>{{scene.history}}天</div></div></div><div class="scene-name ellipsis">{{scene.name}}</div></li></ul><div style=text-align:center class="mt20 mb20" ng-show="myScenes.length <= 0"><h2 class="mb20 mt20">您的回收站目前为空</h2><img ng-src="{{CLIENT_CDN}}assets/images/kong.svg"></div></div><div class=history-image style=min-height:300px ng-show="sceneHistory == \'image\'"><ul class=clearfix ng-show="images && images.length > 0"><li ng-repeat="img in images track by $index"><img ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image><div class="image-operate mask"><div class=operate><span class="hint--top hint--rounded" ng-click="deleteImg(img.id,\'false\')" data-hint=彻底删除><em class=eqf-scene-delete></em></span> <span class="hint--top hint--rounded" ng-click=imageRevoke(img.id) data-hint=还原><em class=eqf-bg></em></span></div><div class=scene-time>{{img.history}}天</div></div></li></ul><div style=text-align:center class="mt20 mb20" ng-show="images.length <= 0"><h2 class="mb20 mt20">您的回收站目前为空</h2><img ng-src="{{CLIENT_CDN}}assets/images/kong.svg"></div></div><div class="clearfix page-turn" ng-show="historyTab.pages.totalItems > historyTab.pages.pageSize"><pagination style="float: left" first-text=首页 last-text=尾页 previous-text=&lsaquo; next-text=&rsaquo; max-size=10 items-per-page=historyTab.pages.pageSize total-items=historyTab.pages.totalItems ng-model=historyTab.pages.currentPage ng-change=pageChanged(historyTab.pages.currentPage) boundary-links=true rotate=true num-pages=numPages></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=historyTab.pages.currentPage ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null"><span class=fl>页</span> <a ng-click=pageChanged(toPage) class=go>确定</a></div></div>')
	}]), angular.module("usercenter/transfer.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/transfer.tpl.html", '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>转送秀点</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label class="col-sm-3 text-right">我的秀点</label><div class=col-sm-7><span>{{xdCount}}</span><span>个</span></div></div><div class=form-group><label for=inputMail class="col-sm-3 control-label">转送账号</label><div class=col-sm-7><input id=inputMail type=text class=form-control ng-model=userXd.toUser placeholder=请填写要转送的账号 ng-class="{error: mailFormatErr}" ng-blur=checkEmailFormat(userXd)><p class=error ng-show=mailFormatErr>{{mailFormatErr}}</p></div></div><div class=form-group><label for=inputPass class="col-sm-3 control-label">转送数目</label><div class=col-sm-7><input id=inputPass type=text class=form-control maxlength=12 ng-model=userXd.xdCount placeholder=请填写转送秀点数目 ng-class="{error: xdFormatErr}" ng-blur=checkXdFormat(userXd)><p class=error ng-show=xdFormatErr>{{xdFormatErr}}</p><p class=error ng-show=relErr>{{relErr}}</p></div></div><div class=action style=text-align:center>秀点转送是用户个人行为，请注意防范风险！</div></form></div><div class=modal-footer><a class=modal-cancle ng-click=cancel()>取消</a> <a type=button class="btn btn-primary" ng-click=confirm()>确认</a></div>')
	}]), angular.module("usercenter/upgrade.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/upgrade.tpl.html", '<div class=modal-body><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><div class=confirm-msg><h4 class=text-left>尊敬的易企秀用户</h4><p class="mt20 text-left ml20 mr20" style="line-height: 1.5em">感谢您对易企秀的支持，在您继续升级账号前，请事先阅读下<a class=text-primary href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target=_blank>支付说明</a>，以免在升级过程中出现不必要的问题。</p></div></div><div class="text-right pb20 btn-small"><a class="btn btn-primary mr20" ng-click=confirm()>立即购买</a></div>')
	}]), angular.module("usercenter/upgradeTip.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/upgradeTip.tpl.html", '<div class=modal-header><span class="glyphicon glyphicon-exclamation-sign"></span> <span>{{msgObj.title || \'提示\'}}</span></div><div class=modal-body><div class=msg>由于涉及到的会员权益较多、金额较大，为保障会员利益请联系我们进行线下支付并升级!联系电话：010-58813666</div></div><div class="btn-contain btn-small"><a class="btn btn-primary" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324&extra=page%3D1" target=_blank>了解详情</a> <a ng-click=cancel(); class="btn btn-primary">我知道了</a></div>')
	}]), angular.module("usercenter/userCenterGuid.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/userCenterGuid.tpl.html", '<div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0;z-index:10000" ng-click=showGuide() ng-show=isFirstLogin ng-controller=userCenterGuideCtrl id=companyVip><div class=bind-email-guide ng-if=isCompanyVip><h1><em>亲爱的易企秀会员：</em><span ng-click=showNextGuide()>&times;</span></h1><p>恭喜您成为易企秀企业成员，现在您将尊享以下特权：</p><ul class=guide-describe><li><ul><li style=list-style:disc;padding-bottom:15px>创建子账号、管理子账号，做好企业场景安全</li><li style=list-style:disc;padding-bottom:15px>创建企业独享的场景模板、页面模板</li><li style=list-style:disc;padding-bottom:15px>15秀点“易企秀技术支持”底标免费用</li><li style=list-style:disc;padding-bottom:15px>30秀点品牌联合底标免费用</li><li style=list-style:disc;padding-bottom:15px>场景加载LOGO自定义（100秀点付费）</li><li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" target=_blank>了解详情</a></li></ul></li></ul><div class=user-select><p><input type=checkbox style="margin: 4px; font-size:14px" checked ng-click="isShow()"><em>不再提示</em></p><button class="btn btn-primary" style="line-height: 20px" ng-click=showNextGuide()>知道了</button></div></div><div class=bind-email-guide ng-if=!isCompanyVip><h1><em>亲爱的易企秀会员：</em><span ng-click=showNextGuide()>&times;</span></h1><p>感谢您成为易企秀会员，现在您可以免费升级为企业会员，升级后您将尊享以下特权：</p><ul class=guide-describe><li><ul><li style=list-style:disc;padding-bottom:15px>创建子账号、管理子账号，做好企业场景安全</li><li style=list-style:disc;padding-bottom:15px>创建企业独享的场景模板、页面模板</li><li style=list-style:disc;padding-bottom:15px>15秀点“易企秀技术支持”底标免费用</li><li style=list-style:disc;padding-bottom:15px>30秀点品牌联合底标免费用</li><li style=list-style:disc;padding-bottom:15px>场景加载LOGO自定义（100秀点付费）</li><li class=pb20><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" target=_blank>了解详情</a></li></ul></li></ul><div class=user-select><p><input type=checkbox style="margin: 4px; font-size:14px" ng-click="isShow()"><em>不再提示</em></p><button class="btn btn-primary" style="line-height: 20px" ng-click=showNextGuide()>知道了</button></div></div></div>')
	}]), angular.module("usercenter/usercenter.tpl.html", []).run(["$templateCache", function(a) {
		a.put("usercenter/usercenter.tpl.html", '<div ng-include="\'header.tpl.html\'"></div><div id=main class=min_contain><div ng-include="\'sysmessage.tpl.html\'"></div><div class=info-show><div class=same-content><div class=info-area><div class=opera-userinfo><div ng-if="applyInfo != 4" class="scene-oper fr" ng-click=editMessage()><a class="btn btn-border opa-btn background-color-width-change"><span class=eqf-xiuziti></span> &nbsp;编辑信息</a></div><div ng-if="userinfo.type == 4 && (applyInfo == 4 || applyInfo == 2)" class="scene-oper fr" style="font-size:12px;color:rgba(255, 255, 255, 0.6)">服务商账号审核中</div></div><div class="u-photo fl" ng-mouseenter="showMask=true" ng-mouseleave="showMask=false"><div class=p-mask ng-show=showMask><a ng-click=customerUpload()><em class="eqf-top-pic background-color-width-change" style=font-size:18px></em> <span>更换</span></a></div><div ng-class="{\'p-svg\': !userinfo.headImg}"><span class=eqf-top-contact ng-show=!userinfo.headImg></span></div><img ng-src="{{thirdHead ? userinfo.headImg : PREFIX_FILE_HOST + userinfo.headImg}}" ng-show=userinfo.headImg></div><div class=u-detail><div class=u-name><span><em class=pr20>{{userinfo.nick}}</em><em style="font-size:12px;color:rgba(255, 255, 255, 0.6)">{{userinfo.loginName}}</em></span></div><div class="u-col pt20"><div class=first-col style=display:inline-block>账号类型： <span ng-show="userinfo.type == 1">个人用户</span> <span ng-show="userinfo.type == 2">企业用户</span> <span ng-show="userinfo.type == 21">企业子用户</span> <span ng-show="userinfo.type == 5">公共用户</span> <span ng-show="userinfo.type == 51">公共子用户</span> <span ng-show="userinfo.type == 3">高级用户</span> <span ng-show="userinfo.type == 4">服务商用户</span> <span ng-show="userinfo.type == 99">运营用户</span></div><div style=display:inline-block><a ng-href=/#/privilege target=_blank ng-if="userinfo.type==1 || (userinfo.type==2 && userinfo.memberType != 3)" class="hint--right hint--rounded" data-hint=获得适合企业使用的功能><ins>免费升级企业账号</ins></a> <span class=pl20 ng-if="userinfo.type == 1"><a ng-show="applyInfo == 0" ng-click=applyShow() style=padding-left:0 class="hint--right hint--rounded" data-hint=适合提供场景定制服务的用户升级，可在易企秀平台接订单挣钱><ins>免费升级秀客服务商账号</ins></a> <span ng-if="applyInfo == 2">秀客服务商账号审核中</span> <span ng-if="applyInfo == 3"><em>秀客服务商账号升级未通过</em> <a ng-click=applyShow() style=padding-left:10px><ins>再次升级秀客服务商账号</ins></a></span></span></div></div><div class=u-col><div class="first-col fl">我的秀点：{{userXd}}</div><div><a ng-click=buyXd()><ins>购买秀点</ins></a></div></div><div class=u-col><div class="first-col fl">未读消息：<a href=/#/message target=_blank>{{newMsgCount}}&nbsp;&nbsp;</a>条</div></div></div></div><div class=spread-tab><ul class="clearfix tab-line"><li><a ng-class="{active: viewControl.tab == \'member\'}" ng-click="showTab(\'member\');">会员服务</a></li><li><a ng-class="{active: viewControl.tab == \'account\'}" ng-click="showTab(\'account\');">账号安全</a></li><li ng-show="userinfo.type == 2 || userinfo.type == 5"><a ng-class="{active: viewControl.tab == \'children\'}" ng-click="showTab(\'children\');">账号管理</a></li></ul></div></div></div><div class="same-content u-content min_contain"><div ng-if="viewControl.tab == \'member\'" ng-controller=MemberCtrl><div ng-include="\'usercenter/tab/member.tpl.html\'"></div></div><div ng-if="viewControl.tab == \'account\'" ng-controller=UsercenterAccountCtrl><div ng-include="\'usercenter/tab/account.tpl.html\'"></div></div><div ng-if="viewControl.tab == \'children\'" ng-controller=UsercenterAccountCtrl><div ng-include="\'usercenter/tab/children.tpl.html\'"></div></div><div ng-if="viewControl.tab == \'trash\'" ng-controller=TrashCtrl><div ng-include="\'usercenter/tab/trash.tpl.html\'"></div></div></div></div><div ng-include="\'footer.tpl.html\'"></div>')
	}]), angular.module("templates-common", ["directives/inputColor.tpl.html", "directives/lineChart.tpl.html", "directives/mapeditor.tpl.html", "directives/page-tpl-types.tpl.html", "directives/pieChart.tpl.html", "directives/select.tpl.html", "directives/toolbar.tpl.html", "security/login/form.tpl.html", "security/login/reset.tpl.html", "security/login/toolbar.tpl.html", "security/register/otherregister.tpl.html", "security/register/register.tpl.html"]), angular.module("directives/inputColor.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/inputColor.tpl.html", '<div class=eqc-input-color ng-style="{backgroundColor: selectColor}"><div x={{x}} y={{y}} ng-model=selectColor colorpicker={{colorMode}} colorpicker-position=right></div><a class=eqf-bg ng-click="selectColor = defaultColor"></a></div>')
	}]), angular.module("directives/lineChart.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/lineChart.tpl.html", '<canvas id=chart-area width=300 height="300">')
	}]), angular.module("directives/mapeditor.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/mapeditor.tpl.html", '<div class=col-lg-6><div class=input-group><input type=text class=form-control ng-model=address placeholder=请输入地名> <span class=input-group-btn><button ng-click=searchAddress() class="btn btn-default" type=button><span>搜索</span></button></span></div></div><div id=r-result></div>')
	}]), angular.module("directives/page-tpl-types.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/page-tpl-types.tpl.html", '<div class=btn-group style="padding: 0"><div class=dropdown><a class="btn dropdown-toggle first-child" data-toggle=dropdown title=页面模板 style="color: #fff">页面模板 &nbsp; <b class=caret></b></a><ul class="dropdown-menu size-menu"><li ng-repeat="type in pageTplTypes"><a ng-href="#/scene/create/{{type.value}}?pageId=1">{{type.name}}</a></li></ul></div></div>')
	}]), angular.module("directives/pieChart.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/pieChart.tpl.html", '<canvas id=chart-area width=300 height="300">')
	}]), angular.module("directives/select.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/select.tpl.html", '<div class=clearfix><div class=eqc-mask ng-click=showList($event)><div class=eqc-name>{{current.name}}</div><span class="more eqf-clickmore"></span></div><div class="eqc-drop-down-list transform-change"><div class=list><div class=eqc-scroll prevent-exception=true disable-mouse=true eqd-scroll={{scrollType}}><ul class=clearfix ng-click=selectItem($event)><li ng-repeat="item in list" ng-class="{active: item == current}" ng-style="{fontFamily: item.fontFamily}" class=eqc-target>{{item.name}}</li></ul></div></div></div></div>')
	}]), angular.module("directives/toolbar.tpl.html", []).run(["$templateCache", function(a) {
		a.put("directives/toolbar.tpl.html", '<div class=btn-toolbar id=btn-toolbar data-role=editor-toolbar><div id=fontFamily class=btn-group ng-show=showCustomFamilyFont><div class="dropdown font-dropdown"><a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle=dropdown data-hint=秀字体><i class=eqf-xiuziti></i><b class=caret></b></a><ul class="dropdown-menu fontname-menu" style="max-height: 350px;overflow-y:auto"></ul></div></div><div class=btn-group><div class=dropdown><a class="btn dropdown-toggle first-child hint--bottom hint--rounded" data-toggle=dropdown data-hint=大小><i class=eqf-text-word></i> &nbsp; <b class=caret></b></a><ul class="dropdown-menu size-menu"><li><a dropdown-toggle data-edit="fontSize 96px">96px</a></li><li><a dropdown-toggle data-edit="fontSize 64px">64px</a></li><li><a dropdown-toggle data-edit="fontSize 48px">48px</a></li><li><a dropdown-toggle data-edit="fontSize 32px">32px</a></li><li><a dropdown-toggle data-edit="fontSize 24px">24px</a></li><li><a dropdown-toggle data-edit="fontSize 20px">20px</a></li><li><a dropdown-toggle data-edit="fontSize 18px">18px</a></li><li><a dropdown-toggle data-edit="fontSize 16px">16px</a></li><li><a dropdown-toggle data-edit="fontSize 14px">14px</a></li><li><a dropdown-toggle data-edit="fontSize 13px">13px</a></li><li><a dropdown-toggle data-edit="fontSize 12px">12px</a></li></ul></div></div><div class=btn-group><div class=dropdown><a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle=dropdown data-hint=颜色><i class=eqf-a></i> &nbsp; <b class=caret></b></a><ul class="dropdown-menu color-menu"></ul></div></div><div class=btn-group><div class=dropdown><a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle=dropdown data-hint=背景颜色><i class="eqf-a text-bg" style=background-color:#ccc></i> &nbsp; <b class=caret></b></a><ul class="dropdown-menu bgcolor-menu"></ul></div></div><div class=btn-group><a class="btn hint--bottom hint--rounded" data-edit=bold data-hint=加粗><i class=eqf-b></i></a></div><div class=btn-group><a class="btn hint--bottom hint--rounded" data-edit=justifyleft data-hint=居左><i class=eqf-leftword></i></a> <a class="btn hint--bottom hint--rounded" data-edit=justifycenter data-hint=居中><i class=eqf-minddleword></i></a> <a class="btn hint--bottom hint--rounded" data-edit=justifyright data-hint=居右><i class=eqf-rightword></i></a></div><div class=btn-group><a class="btn hint--bottom hint--rounded" ng-click=increaseLineHeight() data-hint=增大行间距><i class=eqf-linebig></i></a> <a class="btn hint--bottom hint--rounded" ng-click=decreaseLineHeight() data-hint=减小行间距><i class=eqf-linesmall></i></a></div><div class=btn-group ng-show=showLinkOption><div class=dropdown><a class="btn dropdown-toggle createLink hint--bottom hint--rounded" data-toggle=dropdown sceneid={{sceneId}} data-hint=添加超链接：先选中要加链接的文字><i class=eqf-link></i></a><div class="dropdown-menu input-append" style="min-width: 335px;padding:4px 4px 14px 19px"><div class=span4 style=margin-top:10px><div class=radio-square ng-class="{checked:link==\'external\'}" style=margin-top:8px><em></em> <input name=external ng-model=link class=span2 type=radio value=external></div><span>网站地址：</span> <input class=span2 placeholder=URL sceneid={{sceneId}} type=text data-edit=createLink value="http://" style="border-radius:0px;width:200px;height:35px"></div><div class=span4 style="margin-top: 10px;text-align: right"><a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;margin-right: 30px" target=_blank><span>生成短链接</span></a></div><div class=span4 style="margin-top: 10px"><div class=radio-square ng-class="{checked:link==\'internal\'}" style=margin-top:8px><em></em> <input name=internal ng-model=link class=span2 type=radio value=internal></div><span>场景页面：</span><select class=span2 style="width: 200px;height:35px" ng-options="page.name for page in internalLinks" sceneid={{sceneId}} data-edit=createLink pageid={{internalLink.id}} ng-model=internalLink></select></div><div style=text-align:center><a class="btn btn-primary" style="color:#FFF; margin-top:20px" dropdown-toggle>确定</a></div></div></div></div><div class=btn-group ng-show=showLinkOption><a class="btn hint--bottom hint--rounded" data-edit=unlink data-hint=清除超链接><i class=eqf-linkout></i></a></div><div class=btn-group><a class="btn last-child hint--bottom hint--rounded" data-edit=RemoveFormat data-hint=清除样式><i class=eqf-clear></i></a></div></div>')
	}]), angular.module("security/login/form.tpl.html", []).run(["$templateCache", function(a) {
		a.put("security/login/form.tpl.html", '<div class=login-form-section><div class=login-content><form class=loginForm novalidate ng-show="showLogin && !sendPassword" autocomplete=off><div class=section-title><a class="bbs-help-tip eqf-wrong fr" ng-click=cancel()></a><h3>登录</h3></div><div class=register-login-content><div class=textbox-wrap><label>登录名：</label><input class=form-control id=username placeholder=请填写手机号或注册邮箱/账号 type=text ng-model=user.username autocomplete=off disableautocomplete add-class> <span class=error_text></span></div><div class=textbox-wrap><label>密码：</label><input class=form-control placeholder=密码 type=password ng-model=user.password autocomplete=off disableautocomplete ng-keyup="$event.keyCode == 13 ? login() : null" required add-class> <span class=error_text></span></div><div class="textbox-wrap validate clearfix mb20" ng-if=isValidateCodeLogin><div><script load-script ng-src={{validateCodeUrl}}></script></div></div><div class="login-form-action clearfix"><a class=fr ng-click=openRegister()><ins>注册</ins></a><div class="custom-checkbox fl pr20"><div class=checkbox-square ng-class="{checked: user.rememberAcc == true}"><em class=eqf-yes2></em> <input type=checkbox ng-click=rememberName(user.rememberAcc) ng-model=user.rememberAcc name=rememberAcc></div><span>记住账号</span></div><div class="custom-checkbox fl"><div class=checkbox-square ng-class="{checked: user.rememberMe == true}"><em class=eqf-yes2></em> <input type=checkbox ng-click=rememberMe(user.rememberMe) ng-model=user.rememberMe name=rememberMe></div><span>一周内免登录</span></div></div><span class=error_text><em ng-show=authError>{{authError}}</em></span><div class="login-form-action clearfix"><a class="btn pull-left btn-main" ng-click=login()><span>登录</span></a></div><div class="login-form-action clearfix third-party mt20" style=line-height:30px><center><a id="qqLoginBtn " ng-click="openThirdPatyWindow(\'qq\')" class="qq_login all-change"><em class=eqf-qq></em><span>QQ登录</span></a></center></div></div><div class="reg-login-footer clearfix"><h6 ng-show="!sendPassword && !unExist" class=fr>为了获得更好的使用，建议使用谷歌浏览器（chrome）</h6><a ng-click=rotate(showLogin)><ins>忘记密码？</ins></a></div></form><form class=retrieveForm ng-show="!showLogin && !sendPassword" novalidate><div class=section-title><a class="bbs-help-tip eqf-wrong fr" ng-click=rotate(showLogin)></a><h3>找回密码</h3></div><div class=register-login-content style=padding-bottom:40px><div class=textbox-wrap ng-show=!phone><input class=form-control id=retrieveUsername name=userEmail placeholder=邮箱 type=text ng-model=retrieve.email ng-keyup="$event.keyCode == 13 ? retrievePassword() : null" required autofocus add-class></div><div class=textbox-wrap ng-show=phone><label>手机号：</label><input class=form-control placeholder=手机号 type=text ng-model="retrieve.phone"> <span class=error_text><em ng-show=userPhone>{{userPhone}}</em></span></div><div class=textbox-wrap ng-show=phone><label>验证码：</label><div class=clearfix><input style=width:200px class="form-control fl" id=password name=code placeholder=验证码 type=text ng-model=retrieve.code required add-class> <a ng-if=!isCodeAccessiable ng-click=getCode(retrieve.phone) class="btn-primary fl code">验证码</a> <span class="code fl" ng-if=isCodeAccessiable>{{codeTip}}</span></div><span class=error_text><em ng-show=codeError>{{codeError}}</em></span></div><div class=mt20 ng-if=!phone><script load-script ng-src={{validateCodeUrl}}></script></div><div class=clearfix><a class=fr style=font-size:12px;padding-top:10px ng-click=rotate(showLogin)><ins>我想起来了</ins></a> <a class=fl ng-show=!phone ng-click=phonePwd() style=font-size:12px;padding-top:10px><ins>使用手机号码找回</ins></a> <a class=fl ng-show=phone ng-click=emailPwd() style=font-size:12px;padding-top:10px><ins>使用邮箱找回</ins></a></div><div class="login-form-action mt20 pb20"><div class=error_text><em ng-show=retrieveError>{{retrieveError}}</em></div><a class="btn btn-main" ng-show=!phone ng-click=retrievePassword()><span>找回密码</span></a> <a class="btn btn-main" ng-show=phone ng-click=retrievePhonePassword()><span>找回密码</span></a></div></div></form><div ng-show="sendPassword && !phone" class="section-title text-center"><h3>恭喜你，找回密码成功。</h3></div><div class="send_email text-center pt20 pb20"><span ng-show="sendPassword && !phone">重置密码的链接已发送到你的 {{retrieve.email}}邮箱，登录邮箱重置密码吧！</span></div></div></div>')
	}]), angular.module("security/login/reset.tpl.html", []).run(["$templateCache", function(a) {
		a.put("security/login/reset.tpl.html", '<div class=login-form-section><div class=login-content><form class=loginForm novalidate><div class=section-title><h3>重设密码</h3></div><div class=register-login-content><div class=textbox-wrap><label>新密码：</label><input class=form-control name=pass placeholder=新密码 type=password ng-model=password.newPw placeholder="密码6~16个字符(英文字母或数字 区分大小写)" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur=checkPassword() required add-class><div class=error_text><span ng-show=passError>{{passError}}</span></div></div><div class=textbox-wrap><label>确认密码：</label><input class=form-control name=confirmPassword placeholder=确认密码 type=password ng-model=password.confirm ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur=checkRepeatPassword() required add-class><div class=error_text><span ng-show=rPassError>{{rPassError}}</span></div></div><div class="login-form-action clearfix reset-btn"><a class="btn btn-main blue-btn" ng-click=reset()>确认</a> <a class="btn btn-gray0 reset-btn" ng-click=cancel()>取消</a></div></div></form><div class=login-form-tip><h6>为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6></div></div></div>')
	}]), angular.module("security/login/toolbar.tpl.html", []).run(["$templateCache", function(a) {
		a.put("security/login/toolbar.tpl.html", '<ul class="nav pull-right clearfix" style=margin-right:0px;position:relative><li class="" style=width:150px;margin-top:-2px;cursor:pointer ng-show=sendXd.state><img ng-click=openReg() ng-src="{{CLIENT_CDN}}assets/images/xiudianyaoqing.png"></li><li class="mes_con dropdown" style=position:static><div style=position:relative;padding-top:5px class="hint--right hint--rounded" data-hint=消息><a class="mes_content eqf-music dropdown-toggle background-color-width-change" style="position: relative" ng-click=openMsgPanel()></a> <span class=mes_count ng-if=newMsgCount>{{newMsgCount}}</span></div><div class="dropdown-menu msg_pannel box-shadow zoomIn-change" role=menu forbidden-close style="transform-origin: 100% 0"><div class="msg-title clearfix"><div class="panel_title pull-left"><em>您有</em><span class=mes_new>{{newMsgCount}}</span><em>新消息</em></div><div class="panel_title text-right" style=margin-left:0px><a ng-click=setRead() ng-if=false>设为已读消息</a></div></div><div ng-if="newMsgs.length>0" class="panel_content head_list_newMsg ellipsis" ng-repeat="newMsg in newMsgs"><em ng-class="{new_msg: newMsg.status == 1}"></em><a href=/#/message ng-bind-html=newMsg.content></a></div><div class="panel_more text-center"><a href=/#/message>查看全部消息 >></a></div></div></li><li ng-show=isAuthenticated() ng-class="{\'border-img\': (user.type == 2 || user.type == 5) && showBranchSelect}" class="custom_img background-color-width-change" ng-mouseover="showCode = true" ng-mouseleave="showCode = false"><div class=head_hover><div class=vip_c><a ng-href=/#/usercenter/account><em ng-if=!currentUser.headImg class=eqf-top-contact></em> <img ng-if=currentUser.headImg ng-src="{{currentUser.headImg.indexOf(\'http\') < 0 ? (PREFIX_FILE_HOST + currentUser.headImg):headImg }}"></a></div><div class="head_click box-shadow" ng-show="showCode == true"><div class=itemList><a href=/#/usercenter/member>用户中心</a></div><div class=itemList ng-if="user.type == 2 || user.type == 5"></div><div class=itemList><a ng-click=logout()>退出</a></div></div></div></li><li class="head-creat transform-change" ng-if="myScene && !branchid"><a href=#/scene class=""><em class=eqf-plus2></em></a></li></ul>')
	}]), angular.module("security/register/otherregister.tpl.html", []).run(["$templateCache", function(a) {
		a.put("security/register/otherregister.tpl.html", '<form name=formName novalidate class=login-form><div class=text-center><div style="position: relative; top: 0px; font-size: 15px">第三方账号已授权</div><div style="margin-top: 15px">欢迎您&nbsp;<code>{{otherUserInfo.nickname}}</code>&nbsp;<img ng-src="{{otherUserInfo.figureUrl}}">，完善以下信息，就可以使用我们的服务!</div></div><div class=login_form><div class="alert alert-danger" role=alert ng-show=regErr>{{regErr}}</div><div class=input-wrap><input name=userEmail placeholder="邮箱 " type=email ng-model=user.email ng-keyup="$event.keyCode == 13 ? fullfil() : null" required autofocus></div><div class=input-wrap><input name=pass placeholder=密码 type=password ng-model=user.password ng-keyup="$event.keyCode == 13 ? fullfil() : null" required></div><div class=input-wrap><input name=repeatPass placeholder=确认密码 type=password ng-model=user.repeatPassword ng-keyup="$event.keyCode == 13 ? fullfil() : null" required></div><div class=checkbox><label><input type=checkbox ng-model=user.agreement> 我已阅读并同意<a href=#/agreement target=_blank>《易企秀用户注册协议》</a></label></div><div class="login-btn btn-main" ng-click=fullfil() ng-disabled=form.$invalid>完&nbsp;&nbsp;善</div></div></form>')
	}]), angular.module("security/register/register.tpl.html", []).run(["$templateCache", function(a) {
		a.put("security/register/register.tpl.html", '<div class="login-form-section"><div class="login-content"><form name="regForm" autocomplete="off"><div class="section-title"><a class="bbs-help-tip eqf-wrong fr" ng-click="cancel()"></a><h3>注册</h3></div><div class="register-login-main"><div class="register-login-left"><div ng-show="regEmail"><div class="textbox-wrap"><label>邮箱</label><input class="form-control" id="registerName" name="userEmail" placeholder="可用做登录名" type="text" ng-model="user.userAccount" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkUsername(user.userAccount)" /><span class="error_text"><em ng-show="usernameError">{{usernameError}}</em></span></div></div><div class="textbox-wrap"><label>密码</label><input class="form-control" id="confirmPassword" name="repeatPass" placeholder="密码6~16个字符(英文字母或数字 区分大小写)" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkPassword()" required="" add-class="" /><span class="error_text"><em ng-show="passError || (!passError&amp;&amp;regErr)">{{passError || regErr}}</em></span></div><div class="login-form-action clearfix"><a ng-class="{\'gray0\':!user.agreement}" id="registerBtn" ng-click="register()" class="btn btn-success pull-left btn-main"><span>立即注册</span></a></div><div class="switch-reg"><a ng-click="openLogin()" class="fr" id="havaAccount"><ins>          已有账户?</ins></a></div></div><div class="register-login-right"><div class="login-form-action clearfix third-party mt20" style="line-height:30px"><a id="qqLoginBtn " ng-click="openThirdPatyWindow(\'qq\')" class="qq_login all-change"><em class="eqf-qq"></em><span>使用QQ注册</span></a></div></div></div><div class="reg-login-footer clearfix"><div class="checkbox"><div class="custom-checkbox fl"><div class="checkbox-square" ng-class="{checked: user.agreement == true, hover: user.agreement == false &amp;&amp; hovered == true}"><em class="eqf-yes2"></em><input type="checkbox" ng-change="agreement(user.agreement)" ng-model="user.agreement" name="iCheck" /></div></div><span class="checkbox-text">&nbsp;同意<a href="#/agreement" target="_blank"</a></span><div class="register-question"></div></div></div></form></div></div>');
	
	var reg_str='<div class="login-form-section"><div class="login-content"><form name="regForm" autocomplete="off"><div class="section-title"><a class="bbs-help-tip eqf-wrong fr" ng-click="cancel()"></a><h3>注册</h3></div><div class="register-login-main"><div class="register-login-left"><div ng-show="regEmail"><div class="textbox-wrap"><label>邮箱</label><input class="form-control" id="registerName" name="userEmail" placeholder="可用做登录名" type="text" ng-model="user.userAccount" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkUsername(user.userAccount)" /><span class="error_text"><em ng-show="usernameError">{{usernameError}}</em></span></div></div><div class="textbox-wrap"><label>密码</label><input class="form-control" id="confirmPassword" name="repeatPass" placeholder="密码6~16个字符(英文字母或数字 区分大小写)" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkPassword()" required="" add-class="" /><span class="error_text"><em ng-show="passError || (!passError&amp;&amp;regErr)">{{passError || regErr}}</em></span></div><div class="login-form-action clearfix"><a ng-class="{\'gray0\':!user.agreement}" id="registerBtn" ng-click="register()" class="btn btn-success pull-left btn-main"><span>立即注册</span></a></div><div class="switch-reg"><a ng-click="openLogin()" class="fr" id="havaAccount"><ins>          已有账户?</ins></a></div></div><div class="register-login-right"><div class="login-form-action clearfix third-party mt20" style="line-height:30px"><a id="qqLoginBtn " ng-click="openThirdPatyWindow(\'qq\')" class="qq_login all-change"><em class="eqf-qq"></em><span>使用QQ注册</span></a></div></div></div><div class="reg-login-footer clearfix"><div class="checkbox"><div class="custom-checkbox fl"><div class="checkbox-square" ng-class="{checked: user.agreement == true, hover: user.agreement == false &amp;&amp; hovered == true}"><em class="eqf-yes2"></em><input type="checkbox" ng-change="agreement(user.agreement)" ng-model="user.agreement" name="iCheck" /></div></div><span class="checkbox-text">&nbsp;同意<a href="#/agreement" target="_blank"</a></span><div class="register-question"></div></div></div></form></div></div>';
	
	if(IS_OPEN_REG==0){reg_str='<div class = "login-form-section"><img src="/assets/close_reg.jpg"></div>';}a.put("security/register/register.tpl.html", reg_str);

	}])
}(window, window.angular);